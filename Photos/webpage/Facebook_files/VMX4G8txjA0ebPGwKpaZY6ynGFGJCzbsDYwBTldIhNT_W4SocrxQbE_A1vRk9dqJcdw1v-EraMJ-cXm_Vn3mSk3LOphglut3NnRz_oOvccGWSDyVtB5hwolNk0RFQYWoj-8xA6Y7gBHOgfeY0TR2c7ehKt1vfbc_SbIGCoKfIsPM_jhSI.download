;/*FB_PKG_DELIM*/

__d("DoubleKeyMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.set=function(a,b,c){var d=this.$1.get(a);d||this.$1.set(a,d=new Map());d.set(b,c)};b.get=function(a,b){return(a=this.$1.get(a))==null?void 0:a.get(b)};b["delete"]=function(a,b){var c=this.$1.get(a);c&&(c["delete"](b),c.size===0&&this.$1["delete"](a))};b.getAll=function(a){return this.$1.get(a)};b.deleteAll=function(a){this.$1["delete"](a)};return a}();f.DoubleKeyMap=a}),66);
__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT","MAW_IN_UI_INIT"]);c=a;f["default"]=c}),66);
__d("FuncChannel",["FBLogger","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var d=this,e;this.$2=[];this.callMessageHandler=function(a){return new(h||(h=b("Promise")))(function(b,c){a.result={resolveFunc:b,rejectFunc:c},d.$2.push(a)})};this.messageToCall=function(a){var b,e,f=d.proxyMethods[a.method];if(typeof f!=="function"){c("FBLogger")("worker").mustfix("proxyMethods[%s] is not a functions",a.method);return}b=(b=a.result)==null?void 0:b.resolveFunc;e=(e=a.result)==null?void 0:e.rejectFunc;if(typeof b==="function"&&typeof e==="function")try{var g=f.apply(a.thisArg,a.argList);b(g)}catch(a){e(a)}else return f.apply(a.thisArg,a.argList)};var f=this,g={},i=(e=a==null?void 0:a(g))!=null?e:{},j=babelHelpers["extends"]({},g);function k(a){j[a]=function(){var b={type:"call",method:a,thisArg:null,argList:Array.from(arguments)};return f.callMessageHandler(b)},g[a]=function(){var b=f.$1[a];if(typeof b!=="function"){c("FBLogger")("worker").mustfix("_backend[%s] is not a functions",a);return}return b.apply(f.$1,arguments)},i[a]==null&&(i[a]=g[a])}this.$1=j;if(a!=null){e=Object.keys(i);e.forEach(k);this.proxyMethods=i}else this.proxyMethods=new Proxy(i,{get:function(a,b){a=b;i[a]==null&&k(a);return i[a]}})}var d=a.prototype;d.flushBuffer=function(){var a=this.$2;this.$2=[];a.forEach(this.messageToCall)};d.setBackend=function(a){this.$1!==a&&(this.$1=a,this.flushBuffer());return this};d.setCallMessageHandler=function(a){this.callMessageHandler=a,this.flushBuffer()};return a}();g["default"]=a}),98);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f=b,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}var j=i;j.apply(void 0,d)}var k=this["on"+a];k!=null&&k.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor((a=a)!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null?void 0:d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null?void 0:d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("IntervalList",["FBLogger","ReQLBounds","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,b){var c=new Map(),e=new Map(),f=new Map();function g(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function* k(a){var f=0;while(f<a.length&&e.size){f++;var i=a.slice(0,f);f<b&&i.push((h||(h=d("ReStoreKeyComparer"))).MAX_KEY);i=e.get(JSON.stringify(i));if(i!=null)for(i of i)yield i}for(i of c.entries()){f=i[0];var j=i[1];c.has(f)&&g(a,j)&&(yield f)}}function l(a){var b=f.get(a);if(b!=null){f["delete"](a);var d=j(e.get(b));d["delete"](a);d.size===0&&e["delete"](b)}else c["delete"](a)}function m(a,g){var h;if(a&&a.gte!=null&&a.lte!=null&&(h=JSON.stringify((i||(i=d("ReQLBounds"))).nextKey(a.gte,b)))===JSON.stringify(a.lte)){var j=e.get(h);j==null&&(j=new Set(),e.set(h,j));j.add(g);f.set(g,h)}else c.set(g,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("LSTransactionLogger",["cr:8879"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{startTracking:function(b,d){var e=c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").startTracking(b,a,d);return{addAnnotations:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").addAnnotations(a,e,b)},end:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").end(a,e)},fail:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").fail(a,e,b)},mark:function(b){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").mark(a,e,b)},recordLogicalWrite:function(){c("LSTransactionLogger")==null?void 0:c("LSTransactionLogger").recordLogicalWrite(e)}}}}}g.createQplLogger=a}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=b.storeTx;b=b.transaction;if(a==null)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var f=new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)();c=(c=(yield f.read(e)))==null?void 0:c.customMigrationVersion;if(a.targetVersion===c)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;yield a.migration((c=c)!=null?c:0,b);f.write(e,{customMigrationVersion:a.targetVersion});return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.runCustomMigration=a}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return{afterAdd:a.reduce(function(a,b){var c=b.onAfterAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),afterEntriesNext:a.reduce(function(a,b){var c=b.onAfterEntriesNext;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterGet:a.reduce(function(a,b){var c=b.onAfterGet;return c?function(b){return c({tableName:b.tableName,value:a(b)})}:a},function(a){a=a.value;return a}),afterPut:a.reduce(function(a,b){var c=b.onAfterPut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeAdd:a.reduce(function(a,b){var c=b.onBeforeAdd;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeDelete:a.reduce(function(a,b){var c=b.onBeforeDelete;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.key;return a}),beforeNotify:a.reduce(function(a,b){var c=b.onBeforeNotify;return c?function(b){var d=a(b),e=d.newValue;d=d.prevValue;return c({newValue:e,prevValue:d,tableName:b.tableName})}:a},function(a){var b=a.newValue;a=a.prevValue;return{newValue:b,prevValue:a}}),beforePut:a.reduce(function(a,b){var c=b.onBeforePut;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a}),beforeUpsert:a.reduce(function(a,b){var c=b.onBeforeUpsert;return c?function(b){return(h||(h=d("PromiseOrValue"))).map(a(b),function(a){return c(babelHelpers.extends({},b,{value:a}))})}:a},function(a){a=a.value;return a})}}g.createHookManager=a}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreIndexeddbPersistenceInitFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.message=b;c.name=g;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreIndexeddbPersistenceInitFailure=a}),66);
__d("ReStorePersistence",["FBLogger","ReStoreCommonUtils","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={},k={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},l=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"]),m=16,n=64,o=64,p=Math.floor(m/2),q=Math.floor(n/2),r=Math.floor(o/2);function s(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=e;return a}function t(a,b){b===void 0&&(b=j);return a===b}function u(a,b,c){var e=0,f=a.length-1;while(e<=f){var g=e+f>>1;(c[0]?(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<0:(i||(i=d("ReStoreKeyComparer"))).compareKey(a[g],b)<=0)?e=g+1:f=g-1}g=[e,f][c[1]];return g===a.length?-1:g}var v=function(){function a(a,b,c,d,e,f){this.$2=b,this.$3=c,this.$1=a,this.$4=d,this.$5=e,this.$6=f}var b=a.prototype;b.$7=function(a){return a==null?"root":"index("+a+")"};b.$8=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!0,keys:[].concat(a.keys),nextId:a.nextId,prevId:a.prevId}})};b.$9=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{children:[].concat(a.children),isLeaf:!1,keys:[].concat(a.keys)}})};b.$10=function(a,b){return d("ReStoreUtils").getOrCreate(this.$1,b,function(){return{headId:a.headId,rootId:a.rootId,tailId:a.tailId}})};b.$11=function(a,b){if(!a.length)return[0,0];var c=u(a,b,k.gte);if(c===-1)return[a.length,0];else if((i||(i=d("ReStoreKeyComparer"))).compareKey(a[c],b)===0)return[c,1];return[c,0]};b.$12=function*(a,b,d,e){var f=(yield* this.$13(a,b));f=f;b=b;var g=-1;while(!f.isLeaf){e==null?void 0:e.push([f,b,g]);if(f.keys==null){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("Encountered not leaf node without keys","messenger_web_product")}g=u(f.keys,d,k.gt);g===-1&&(g=f.keys.length);b=f.children[g];f=(yield* this.$13(a,b))}return[f,b,g]};b.$14=function*(a,b){this.$3();var d=this.$1.get(b);if(t(d))return void 0;if(d!==void 0)return d;d=this.$4.get(a,this.$2,b,this.$5);return(h||(h=c("isPromise")))(d)?yield d:d};b.$13=function*(a,b){a=(yield* this.$14(a,b));if(a===void 0){var d=this.$1.get(b);this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{deletedInThisTxn:t(d)?"true":"false",id:JSON.stringify(b)||""});throw c("unrecoverableViolation")("value not found","messenger_web_product")}return a};b.$15=function*(a,b){a=(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForNextId)))!=null?a:0;this.$1.set("nextId",a+1);this.$1.set(a,b);return a};b.$16=function(a,b){this.$3(),this.$1.set(a,b)};b.incrementSeed=function*(a,b){a=(a=(yield* this.$14(a,"seed")))!=null?a:0;if(b===void 0){this.$1.set("seed",a+1);return a}b>=a&&this.$1.set("seed",b+1);return b};b.readData=function*(a,b){return yield* this.$14(a,b)};b.$17=function*(a,b,c){b=(yield* this.$14(a,this.$7(b)));if(b==null)return;a=(yield* this.$12(a,b.rootId,c));b=a[0];a=u(b.keys,c,k.gte);if(a===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(b.keys[a],c)!==0)return;return b.children[a]};b.tableGet=function*(a,b){b=(yield* this.$17(a,void 0,b));if(b===void 0)return;return yield* this.$18(a,b)};b.$18=function*(a,b){return Array.isArray(b)?b[0]:yield* this.$13(a,b)};b.$19=function*(a,b,d,e){if(Array.isArray(b)){var f=(yield* this.$17(a,void 0,b));if(f==null){c("gkx")("3570")&&this.$6(d,e,this.$2);throw c("FBLogger")("messenger_web_product").mustfixThrow("Encountered value in index %s but not found in table %s",d,this.$2)}return yield* this.$18(a,f)}return yield* this.$13(a,b)};b.indexGet=function*(a,b,c){var d=(yield* this.$17(a,b,c));if(d==null)return;return yield* this.$19(a,d,b,c)};b.getId=function*(a,b){a=(yield* this.$17(a,void 0,b));return Array.isArray(a)?b:a};b.tableSet=function*(a,b,c){var d,e=this.$4.shouldInline(this.$2,c),f=this.$7(),g=(yield* this.$14(a,f));if(g==null){var h;e||(d=(yield* this.$15(a,c)));h={children:[(h=d)!=null?h:[c]],isLeaf:!0,keys:[b]};h=(yield* this.$15(a,h));this.$16(f,{headId:h,rootId:h,tailId:h});return[(h=d)!=null?h:b,!1]}h=[];var i=(yield* this.$12(a,g.rootId,b,h)),k=i[0];i=i[1];var l=this.$11(k.keys,b),m=l[0];l=l[1];var n=!1;if(l===1){var o=k.children[m];if(!Array.isArray(o)){n=!0;if(!e){this.$16(o,c);return[o,!1]}else this.$1.set(o,j)}}o=this.$8(k,i);e||(d=(yield* this.$15(a,c)));l===0&&o.keys.splice(m,0,b);o.children.splice(m,l,(k=d)!=null?k:[c]);yield* this.$20(a,o,i,h,g,f,!0);return[(m=d)!=null?m:b,l===1&&!(e&&!n)]};b.indexSet=function*(a,b,c,d){b=this.$7(b);var e=(yield* this.$14(a,b));if(e==null){var f={children:[d],isLeaf:!0,keys:[c]};f=(yield* this.$15(a,f));this.$16(b,{headId:f,rootId:f,tailId:f});return}f=[];var g=(yield* this.$12(a,e.rootId,c,f)),h=g[0];g=g[1];var i=this.$11(h.keys,c),j=i[0];i=i[1];if(i===1&&h.children[j]===d)return;h=this.$8(h,g);h.keys.splice(j,i,c);h.children.splice(j,i,d);yield* this.$20(a,h,g,f,e,b,!1)};b.$20=function*(a,b,c,d,e,f,g){b=b;var h;c=c;for(;b.keys.length>=(b.isLeaf?g?m:n:o);b=h,c=i){var i;i=(i=d.pop())!=null?i:[];h=i[0];i=i[1];i!=null?h=this.$9(h,i):(h={children:[c],isLeaf:!1,keys:[]},this.$10(e,f).rootId=(yield* this.$15(a,h)));var j=Math.floor(b.keys.length/2),k=void 0;if(b.isLeaf){var l={children:b.children.slice(j),isLeaf:!0,keys:b.keys.slice(j),nextId:b.nextId,prevId:c},p=k=b.nextId=(yield* this.$15(a,l));l=l.nextId;l?this.$8(yield* this.$13(a,l),l).prevId=p:this.$10(e,f).tailId=k}else k=(yield* this.$15(a,{children:b.children.slice(j+1),isLeaf:!1,keys:b.keys.slice(j+1)}));l=this.$11(h.keys,b.keys[j]);p=l[0];l=l[1];h.keys.splice(p,l,b.keys[j]);h.children.splice(p+1,0,k);b.keys.length=j;b.children.length=j+(b.isLeaf?0:1)}};b.tableDelete=function*(a,b){a=(yield* this.$21(a,void 0,b));if(a==null)return!1;Array.isArray(a)||(this.$3(),this.$1.set(a,j));return!0};b.indexDelete=function*(a,b,c){return(yield* this.$21(a,b,c))!=null};b.$21=function*(a,b,e){var f=this.$7(b),g=(yield* this.$14(a,f));if(g==null)return;var h=[],m=(yield* this.$12(a,g.rootId,e,h)),n=m[0],o=m[1];m=m[2];var s=this.$8(n,o),t=u(n.keys,e,k.gte);if(t===-1||(i||(i=d("ReStoreKeyComparer"))).compareKey(n.keys[t],e)!==0)return;n=s.children[t];s.keys.splice(t,1);s.children.splice(t,1);e=s;t=o;s=m;var v;for(;e.keys.length<(e.isLeaf?b==null?p:q:r)&&h.length;x=[m,v,o],e=x[0],t=x[1],s=x[2],x){o=h.pop();m=o[0];v=o[1];o=o[2];m=this.$9(m,v);var w=[[{nodeId:m.children[s-1]},{node:e,nodeId:t},s-1],[{node:e,nodeId:t},{nodeId:m.children[s+1]},s]].filter(function(b){var a=b[0];b=b[1];return a.nodeId!==void 0&&b.nodeId!==void 0});for(var x of w){var y=x[0],z=x[1],A=x[2],B=y.node=y.node||(yield* this.$13(a,y.nodeId)),C=z.node=z.node||(yield* this.$13(a,z.nodeId)),D=e.isLeaf?b==null?p:q:r;if(B.keys.length+z.node.keys.length>=D*2){if(e.isLeaf){var E=this.$8(B,y.nodeId),F=this.$8(C,z.nodeId),G=[].concat(E.children,F.children),H=[].concat(B.keys,C.keys);E.children=(F.children=G).splice(0,D);E.keys=(F.keys=H).splice(0,D);m.keys[A]=H[0]}else{G=this.$9(B,y.nodeId);E=this.$9(C,z.nodeId);F=[].concat(G.children,E.children);H=[].concat(G.keys,[m.keys[A]],E.keys);G.children=(E.children=F).splice(0,D+1);m.keys[A]=H.splice(D,1)[0];G.keys=(E.keys=H).splice(0,D)}return n}}for(B of w){y=B[0];C=B[1];z=B[2];if(e.isLeaf){F=this.$8(y.node,y.nodeId);A=this.$8(C.node,C.nodeId);F.children=[].concat(F.children,A.children);F.keys=[].concat(F.keys,A.keys);A.keys.length=0;G=A.nextId;if(G){E=this.$8(yield* this.$13(a,G),G);E.prevId=y.nodeId}else this.$10(g,f).tailId=y.nodeId;F.nextId=A.nextId}else{H=this.$9(y.node,y.nodeId);D=this.$9(C.node,C.nodeId);H.children=[].concat(H.children,D.children);H.keys=[].concat(H.keys,[m.keys[z]],D.keys)}m.keys.splice(z,1);m.children.splice(z+1,1);this.$1.set(C.nodeId,j);break}}w=(yield* this.$13(a,g.rootId));if(!w.keys.length&&w.children.length){if(w.isLeaf){l.has(this.$2)&&(this.$4.logError==null?void 0:this.$4.logError(this.$2,this.$5,"dbCorruption",{}));throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product")}this.$1.set(g.rootId,j);this.$10(g,f).rootId=w.children[0]}return n};b.btreeIterator=function(a,b,e){e=e===void 0?{}:e;var f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);function j(){if(g==="asc"){if(Object.prototype.hasOwnProperty.call(h,"gt"))return h.gt;else if(Object.prototype.hasOwnProperty.call(h,"gte"))return h.gte}else if(Object.prototype.hasOwnProperty.call(h,"lt"))return h.lt;else if(Object.prototype.hasOwnProperty.call(h,"lte"))return h.lte}function l(a){if(g==="asc")return Object.prototype.hasOwnProperty.call(h,"gt")?u(a.keys,h.gt,k.gt):Object.prototype.hasOwnProperty.call(h,"gte")?u(a.keys,h.gte,k.gte):0;else return Object.prototype.hasOwnProperty.call(h,"lt")?u(a.keys,h.lt,k.lt):Object.prototype.hasOwnProperty.call(h,"lte")?u(a.keys,h.lte,k.lte):a.keys.length-1}if(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");var m,n=this;return{next:function*(e){var f,o;if(m==null){var p=(yield* n.$14(a,n.$7(b)));if(p==null)return{done:!0};var q=j();if(q!==void 0){q=(yield* n.$12(a,p.rootId,q));f=q[0];q=q[1]}else if(g==="asc"){var r=[yield* n.$13(a,p.headId),p.headId];f=r[0];q=r[1]}else{r=[yield* n.$13(a,p.tailId),p.tailId];f=r[0];q=r[1]}p=l(f)}else{r=m;p=r.i;o=r.key;q=r.nodeId;f=(yield* n.$14(a,q));if(e!=null){if((i||(i=d("ReStoreKeyComparer"))).compareKey(e,o)===(g==="asc"?-1:1))throw c("unrecoverableViolation")("key must be ahead of current key","maw_db");if(f==null||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(e,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};r=(yield* n.$12(a,r.rootId,e));f=r[0];q=r[1]}p=u(f.keys,e,k[g==="asc"?"gte":"lte"])}else{if(f==null||p<0||p>=f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(f.keys[p],o)!==0){if(f==null||!f.keys.length||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[0])<0||(i||(i=d("ReStoreKeyComparer"))).compareKey(o,f.keys[f.keys.length-1])>0){r=(yield* n.$14(a,n.$7(b)));if(r==null)return{done:!0};e=(yield* n.$12(a,r.rootId,o));f=e[0];q=e[1]}p=u(f.keys,o,k[g==="asc"?"lte":"gte"])}p+=g==="asc"?1:-1}}if(p<0||p>=f.keys.length)if(g==="asc"){if(f.nextId===void 0)return{done:!0};q=f.nextId;f=(yield* n.$13(a,q));p=0}else{if(f.prevId===void 0)return{done:!0};q=f.prevId;f=(yield* n.$13(a,q));p=f.keys.length-1}o=f.keys[p];m={i:p,key:o,node:f,nodeId:q};if(p<0||p>=f.keys.length)return{done:!0};r=g==="asc"?Object.prototype.hasOwnProperty.call(h,"lt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.lte)>0:Object.prototype.hasOwnProperty.call(h,"gt")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&(i||(i=d("ReStoreKeyComparer"))).compareKey(o,h.gte)<0;return r?{done:!0}:{done:!1,value:[f.keys[p],f.children[p]]}}}};b.tableEntries=function(a,b){b===void 0&&(b={});var c=this.btreeIterator(a,void 0,b),d=this;return{next:function*(b){b=(yield* c.next(b));if(b.done)return b;b=b.value;var e=b[0];b=b[1];b=(yield* d.$18(a,b));return{done:!1,value:[e,b]}}}};b.indexEntries=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c),e=this;return{next:function*(c){c=(yield* d.next(c));if(c.done)return c;c=c.value;var f=c[0];c=c[1];c=(yield* e.$19(a,c,b,f));return{done:!1,value:[f,c]}}}};b.keys=function(a,b,c){c===void 0&&(c={});var d=this.btreeIterator(a,b,c);return{next:function*(a){a=(yield* d.next(a));if(a.done)return a;a=a.value;a=a[0];return{done:!1,value:a}}}};b.clearIds=function*(a,b){this.$3();b=this.$7(b);var c=(yield* this.$14(a,b));this.$3();if(c==null)return;var d=(yield* this.$13(a,c.rootId));c=[{id:c.rootId,node:d}];while(c.length>0){d=c.shift();var e=d.id;d=d.node;if(!d.isLeaf)for(d of d.children){var f=(yield* this.$14(a,d));f!=null&&c.push({id:d,node:f})}this.$1.set(e,j)}this.$1.set(b,j)};b.readSeed=function*(a){return(a=(yield* this.$14(a,d("ReStorePersistenceIds").idForSeed)))!=null?a:0};b.remove=function(a,b){this.$3(),this.$1.set(b,j)};b.writeData=function(a,b,c){this.$16(b,s(c))};b.writeNewData=function*(a,b){return yield* this.$15(a,s(b))};return a}(),w=function(){function a(a,b,e,f,g){var h=this;this.$2=new Map();this.$6=!1;this.$3=function(){if(h.$6){f==null?void 0:f.mark("transaction_closed");throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed")}e()};this.$4=b;this.$1=a;this.$5={get:function(a,c,e){var f=d("ReStoreUtils").getOrCreate(h.$1,c,function(){return new Map()});f=f.get(e);if(t(f))return void 0;return f!==void 0?f:b.get(a,c,e,"readwrite")},logError:b.logError,shouldInline:b.shouldInline};this.$7=g}var b=a.prototype;b.flush=function(){for(var a of this.$2){var b=a[0],c=a[1];b=d("ReStoreUtils").getOrCreate(this.$1,b,function(){return new Map()});for(c of c){var e=c[0],f=c[1];b.set(e,f)}}this.$6=!0};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$2,a,function(){return new Map()}),a,this.$3,this.$5,"readwrite",this.$7)};return a}(),x=function(){function a(a,b,d,e){var f=this;this.$1=new Map();this.$2=!1;this.$7=function(){if(f.$2)throw c("FBLogger")("messenger_web_product").mustfixThrow("Transaction has closed: %s",f.$5)};this.$3=a;this.$4=b;this.types=a.types;this.$5=d;this.$6=e}var b=a.prototype;b.close=function(){this.$2=!0};b.flush=async function(a){a===void 0&&(a={upgrade:!1}),await this.$3.flush(this.$1,a),this.$2=!0};b.tablePermitsSynchronousIO=function(a){return(a=this.$3.permitsSynchronousIO==null?void 0:this.$3.permitsSynchronousIO(a))!=null?a:!1};b.table=function(a){return new v(d("ReStoreUtils").getOrCreate(this.$1,a,function(){return new Map()}),a,this.$7,this.$3,this.$4,this.$6)};b.createNested=function(a){return new w(this.$1,this.$3,this.$7,a,this.$6)};return a}();function a(a){function b(b,e,f){c("promiseDone")(async function(){await a.runExclusively(function(){return Promise.resolve([async function(){var c=new x(a,"readwrite",void 0,function(){});await d("ReStoreCommonUtils").gen(c.table(f).indexDelete(new WeakMap(),b,e));await c.flush()},"readwrite"])},"fixBrokenIndex")}())}return{clearCache:a.clearCache,close:a.close,createTransaction:function(c,d){return new x(a,c,d,b)},isClosed:a.isClosed||function(){return!1},isPersistenceSupported:a.isPersistenceSupported,logError:a.logError,runExclusively:a.runExclusively}}g.sentinelDeleted=j;g.isDeletedValue=t;g.ReStoreDbStoreTransaction=x;g.createDbStore=a}),98);
__d("ReStoreTransactionDelay",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a==="background"?new Promise(function(a){return c("setTimeout")(a,0)}):Promise.resolve();await a}g.default=a}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","Promise","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","asyncToGeneratorRuntime","isPromise","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function a(a,e,f){var g=new Map(),m=new Map();function n(a,b){return(l||(l=d("ReStoreKeyComparer"))).compareValue(a,b)===0}function o(a,b,c,d){a=(a=z.get(a))!=null?a:[];var e=[];for(var f=0;f<b.length;f++){var g=b[f];for(var h=0;h<32&&g!==0;h++){if(g&1){var i=a[(f<<5)+h];if(!n(c[i],d[i])){e[f]=((i=e[f])!=null?i:0)|1<<h%32}}g=g>>>1}}return e}function p(a,b){for(var c=0;c<Math.max(a.length,b.length);c++)if((a[c]&b[c])!==0)return!0;return!1}function q(a,b,d,e){try{a=a(b,d,e);if((j||(j=c("isPromise")))(a))return a["catch"](function(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription async handler")});else return a}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("error in ReStore subscription handlers")}}function r(a,c,e,f,g){var i=Array.from(c(f));if(g.operation==="put"&&g.prevValue!=null){c=function(){var b=g.prevValue,c=[];for(var h of i){h[0];var j=h[1];j!=null&&j.forEach(function(a,b){c[b]=((b=c[b])!=null?b:0)|a})}var l=o(a,c,b,g.value);return{v:(k||(k=d("PromiseOrValue"))).all(i.map(function(a){var b=a[0];a=a[1];if(a==null||p(l,a))return q(b,f,g,e)}))}}();if(typeof c==="object")return c.v}return(h||(h=b("Promise"))).all(i.map(function(a){var b=a[0];a[1];return q(b,f,g,e)}))}function s(b){return c("nullthrows")((g.has(b)?g:g.set(b,[c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function t(b,e){var f=s(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")((l||(l=d("ReStoreKeyComparer"))).compareKey,a.tableNames[b].indexes[e].length))).get(e))}function u(b,e,f,g,h,i){var j=function(a,c){return r(e,b.findIntersecting,i,a,c)},m=f==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],f,h),n=g==null?void 0:d("ReStoreUtils").searchKey(a.tableNames[e],g,h);if(n==null&&m!=null)return j(m,{operation:"delete",prevValue:c("nullthrows")(f)});if(m==null&&n!=null)return j(n,{operation:"add",value:c("nullthrows")(g)});if(m!=null&&n!=null)return(l||(l=d("ReStoreKeyComparer"))).compareKey(m,n)===0?j(m,{operation:"put",prevValue:c("nullthrows")(f),value:c("nullthrows")(g)}):(k||(k=d("PromiseOrValue"))).map(j(m,{operation:"delete",prevValue:c("nullthrows")(f)}),function(){return j(n,{operation:"add",value:c("nullthrows")(g)})})}function v(a,b,c,e){var f=s(a),g=f[0],h=f[1];return(k||(k=d("PromiseOrValue"))).map(u(g,a,b,c,null,e),function(){return(k||(k=d("PromiseOrValue"))).all(Array.from(h.entries()).map(function(d){var f=d[0];d=d[1];return u(d,a,b,c,f,e)}).filter(function(a){return a!=null}))})}function w(){m.forEach(function(a){return a()})}function x(a,b){function d(){var d=new Map();try{for(var f of a){var g=f[0],h=f[1];e(b,g)&&d.set(g,h)}}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Couldnot format changes to broadcast")}return Array.from(d)}if((i||(i=c("ExecutionEnvironment"))).isInBrowser&&f!=null){d=d();if(d.length===0)return;f.postMessage(b,d)}}(i||(i=c("ExecutionEnvironment"))).isInBrowser&&(f!=null&&f.onEventReceive("notifyTableV2",function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=new WeakMap(),c=a.values();yield (k||(k=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];var f=a.values();return(k||(k=d("PromiseOrValue"))).map(k.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var c=a[0];a=a[1];return(k||(k=d("PromiseOrValue"))).map(v(e,c,a,b),function(){return{action:"continue",value:f.next()}})},f.next()),function(){return{action:"continue",value:c.next()}})},c.next());w()})())}));var y=new Map(),z=new Map();function A(a,b){if(b==null)return null;var c=y.get(a);c==null&&(c=new Map(),y.set(a,c));var d=[];for(b of b){var e=c.get(b);if(e==null){e=c.size;c.set(b,e);var f=z.get(a);f==null&&(f=[],z.set(a,f));f.push(b)}f=e>>5;e=e&31;d[f]=((f=d[f])!=null?f:0)|1<<e}return d}return{dispose:function(){g.clear(),m.clear()},notifyCommit:w,notifyTableAndIndexSubscribers:v,notifyTableV2:x,subscribeIndex:function(a,c,d,e,f){var g=t(a,c),i=!1;c=function(a,c,e){return i?(h||(h=b("Promise"))).resolve():q(d,a,c,e)};var j=[c,A(a,f)];g.set(e,j);return function(){i=!0,g["delete"](j)}},subscribeTable:function(a,c,d,e){var f=s(a),g=f[0],i=!1;f=function(a,d,e){return i?(h||(h=b("Promise"))).resolve():q(c,a,d,e)};var j=[f,A(a,e)];g.set(d,j);return function(){i=!0,g["delete"](j)}},subscribeToCommit:function(a){m.set(a,a);return function(){m["delete"](a)}}}}g["default"]=a}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","promiseDone","setImmediate","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,"ReStore transaction timed out")||this}return a}(babelHelpers.wrapNativeSuper(Error)),k={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db"},l=12e4;function a(a){var e=a.persistence,f=a.hooks;f=f===void 0?[]:f;var g=a.customMigration,m=a.loggers,n=m===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:m;m=a.config;var o=m===void 0?k:m,p=a.schema,q=n.logHistory,r=n.transactionQplLogger,s=n.userFlow,t=d("ReStorePersistence").createDbStore(e);m=e.tabTablesNotifier==null?void 0:e.tabTablesNotifier();var u=p.defaults,v=c("createReStoreSubscriptionManager")(p,e.shouldSync,m),w=d("ReStoreHooks").createHookManager(f),x=t.createTransaction("readonly"),y=e.types.includes("indexeddb"),z={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},A;s==null?void 0:s.addPoint("migration_start");q==null?void 0:q.debug("restore migration start");var B=new(d("ReStoreOperationLock").WaitForPromiseLock)(e.types.includes("devtool")?Promise.resolve():t.runExclusively(function(){return Promise.resolve([async function(){s==null?void 0:s.addPoint("migration_execute_start");var a=new Map(),b=t.createTransaction("readwrite"),c=E(b,a);q==null?void 0:q.debug("migration transaction created");c={changedKeys:a,clearCache:D,hooksManager:w,loggers:n,storeTx:b,transaction:c};try{var e=await p.migrate(c);s==null?void 0:s.addPoint("migration_custom_start");c=await d("ReStoreCustomMigration").runCustomMigration(g,c);q==null?void 0:q.debug("migration custom end");s==null?void 0:s.addPoint("migration_custom_end");if(c===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&e===d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){b.close();q==null?void 0:q.debug("restore migration skipped");s==null?void 0:s.addPoint("migration_skipped");return}c=e!==d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&a.size!==0;await b.flush({upgrade:c});s==null?void 0:s.addPoint("migration_execute_end");q==null?void 0:q.debug("restore migration complete")}catch(a){b.close();throw a}s==null?void 0:s.addPoint("migration_end");q==null?void 0:q.debug("restore migration end")},"readwrite"])},"migration").catch(function(a){s==null?void 0:s.addAnnotations({string:{migration_error:a.message}});a instanceof d("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||(s==null?void 0:s.endFail("migration_error"));q==null?void 0:q.debug("restore migration error");c("FBLogger")("restore_init").catching(a).mustfix("migration failed");throw a}));async function C(a,b){var c=new WeakMap();await t.runExclusively(function(){return Promise.resolve([async function(){var e=new Map(),f=t.createTransaction("readwrite"),g=E(f,e),h=b.values();await (i||(i=d("PromiseOrValue"))).loop(function(b){if(b.done)return{action:"break",value:void 0};b=b.value;var e=b[0],f=b[1];return(i||(i=d("PromiseOrValue"))).map(i.map(f==null?g.table(a).delete(d("ReStoreUtils").searchKey(p.tableNames[a],e)):g.table(a).put(f),function(){return v.notifyTableAndIndexSubscribers(a,e,f,c)}),function(){return{action:"continue",value:h.next()}})},h.next());try{await f.flush({upgrade:!0})}catch(a){f.close();throw a}},"readwrite"])},"applyChangesToTable")}function D(){t.clearCache==null?void 0:t.clearCache()}function E(a,b,c){return d("ReStoreUtils").createReStoreTransaction(p,u,w,v,a,b,c)}var F;function G(a,b,c,d){return new Promise(function(e,f){o.enableRejectingTransaction&&(F=f);var g=function(){A=d;return a().then(e,f).finally(function(){return A=void 0})};z[b].last==null?z[b].first=z[b].last={value:{code:g,writemode:c}}:z[b].last=z[b].last.next={value:{code:g,writemode:c}}})}function H(a){return t.runExclusively(function(){var a=z.ui.first!=null?z.ui:z.sync_script.first!=null?z.sync_script:z.background;if(a.first==null){c("FBLogger")(o.fbLoggerProject).mustfix("Expected work is missing");return Promise.resolve([function(){return Promise.resolve({})},"readonly"])}var b=a.first;a.first===a.last&&(a.last=null);a.first=a.first.next;return Promise.resolve([b.value.code,b.value.writemode])},a)}async function I(a,b,d,e){d===void 0&&(d="background");e===void 0&&(e={source:"unknown",type:"user_initiated"});var f,g=arguments[4];try{f=await J(a,b,d,e,g)}catch(a){if(a instanceof j)throw c("FBLogger")(o.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",g);throw a}return f}async function J(a,e,f,g,h){f===void 0&&(f="background");var j,k,m,n,p,q=r==null?void 0:r.startTracking(y,f);b("cr:1088")&&(j=Date.now());q==null?void 0:q.addAnnotations({string:{moduleAndLineNo:h}});async function s(){q==null?void 0:q.mark("execute_start");b("cr:1088")&&(k=Date.now());var e={ref:void 0},f=new Map(),l=t.createTransaction("readwrite",h),r;b("cr:1088")==null?void 0:b("cr:1088").trackingStoredProceduresForNewTransaction(g);b("cr:1088")==null?void 0:b("cr:1088").recordModuleName(h);try{var s=E(l,f,{qplFlow:q});r=await Promise.race([a(s),L(e,q,h)]);e.ref!=null&&c("clearTimeout")(e.ref);q==null?void 0:q.mark("execute_end");q==null?void 0:q.mark("flush_start");await l.flush({qplFlow:q});q==null?void 0:q.mark("flush_end");b("cr:1088")&&(m=Date.now())}catch(a){e.ref!=null&&c("clearTimeout")(e.ref);l.close();q==null?void 0:q.fail(a);c("FBLogger")(o.fbLoggerProject).catching(a).mustfix("Transaction failed: %s",h);b("cr:1088")==null?void 0:b("cr:1088").recordRestoreTransaction({broadcast:n,complete:m,flush:p,queue:j,start:k},{changedKeys:f});throw a}finally{b("cr:1088")==null?void 0:b("cr:1088").stopTrackingStoredProcedures()}b("cr:1088")&&(p=Date.now());q==null?void 0:q.mark("broadcast_start");var u=new WeakMap();s=new Map();for(e of f){l=e[0];var x=e[1];l=JSON.parse(l);var y=l[0];l[1];l=s.get(y);l==null&&(l=[],s.set(y,l));var z=x[0];x=x[1];x=w.beforeNotify({newValue:x,prevValue:z,tableName:y});z=x.newValue;y=x.prevValue;l.push([y,z])}var A=s.entries();await (i||(i=d("PromiseOrValue"))).loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var b=a[0];a=a[1];var c=a.values();return(i||(i=d("PromiseOrValue"))).map(i.loop(function(a){if(a.done)return{action:"break",value:void 0};a=a.value;var e=a[0];a=a[1];return(i||(i=d("PromiseOrValue"))).map(v.notifyTableAndIndexSubscribers(b,e,a,u),function(){return{action:"continue",value:c.next()}})},c.next()),function(){return{action:"continue",value:A.next()}})},A.next());v.notifyTableV2(s,"notifyTableV2");v.notifyTableV2(s,"notifyInMemoryTable");v.notifyCommit();if(b("cr:1088")){n=Date.now();x={broadcast:n,complete:m,flush:p,queue:j,start:k};b("cr:1088").recordRestoreTransaction(x,{changedKeys:f})}q==null?void 0:q.mark("broadcast_end");q==null?void 0:q.mark("post_commit_start");c("setImmediate")(function(){q==null?void 0:q.mark("post_commit_end"),q==null?void 0:q.end()});return r}await c("ReStoreTransactionDelay")(f);s=G(s,f,e,h);q==null?void 0:q.mark("enqueued");c("promiseDone")(H(h),function(){},function(a){F==null?void 0:F(a)});var u=c("setTimeout")(function(){var a;c("FBLogger")("messenger_e2ee_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s",l,h,A,(a=JSON.stringify(b("cr:6665")==null?void 0:b("cr:6665").getCurrentlyExecutingNativeOps()))!=null?a:"<devtools not running>",b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},l);return s.finally(function(){return c("clearTimeout")(u)})}(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(m!=null&&m.onEventReceive("notifyInMemoryTable",function(a){c("promiseDone")(async function(){for(var b of a){var c=b[0],d=b[1];e.shouldApplySync("notifyInMemoryTable",c)&&await C(c,d)}v.notifyCommit()}())}));var K=Object.keys(p.tableNames).reduce(function(a,b){return babelHelpers.extends({},a,(a={},a[b]=new(d("ReStoreTable").ReStoreTable)(p.tableNames[b],w,B,x,v),a))},{});return{clearCacheIfSupported:D,closeDb:function(){var a=t;a instanceof Object&&a.close!==void 0&&a.close()},getCustomMigrationVersion:async function(){var a=await new(d("ReStorePersistedMetadata").ReStorePersistedCustomMigrationVersion)().read(t.createTransaction("readonly"));return a==null?void 0:a.customMigrationVersion},getTableData:function(){return p},isClosed:function(){return t.isClosed()},isPersistenceSupported:function(){var a=t;return a instanceof Object&&a.isPersistenceSupported!==void 0&&a.isPersistenceSupported instanceof Function?a.isPersistenceSupported():Promise.resolve(!0)},persistence:e,persistenceTypes:e.types,runInTransaction:I,subscribeToCommit:function(a){return v.subscribeToCommit(a)},subscriptionManager:v,table:function(a){return K[a]},tables:K,uniqueId:e.uniqueId};function L(a,d,e){return!o.enableTransactionTimeout?new Promise(function(){var d=1e4;a.ref=c("setTimeout")(function(){var a;c("FBLogger")(o.fbLoggerProject).mustfix("ReStore transaction took too long to execute, check it: %s. Executed SP: %s.",e,b("cr:1088")==null?void 0:(a=b("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(a){return a.spName}).join(","))},d)}):new Promise(function(b,e){b=5e3;a.ref=c("setTimeout")(function(){d==null?void 0:d.mark("slow_transaction"),e(new j())},b)})}}g.default=a}),98);
__d("ReStoreInstrumentation",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a){g.set(a.uniqueId,{instance:a,persistence:a.persistence,tableNames:a.getTableData().tableNames});return a}function b(){return Array.from(g.entries()).map(function(a){var b=a[0];a=a[1];return{key:b,value:JSON.parse(JSON.stringify(a.tableNames))}})}f.instrument=a;f.getReStoreTables=b;f.reStoreInstancesMap=g}),66);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){e===void 0&&(e=[]);f=d("ReStoreInstrumentation").instrument(c("ReStore")({config:{enableRejectingTransaction:c("gkx")("8566"),enableTransactionTimeout:c("gkx")("2947"),fbLoggerProject:"maw_db"},customMigration:f,hooks:e,loggers:{logHistory:d("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:d("LSReStoreQplLogger").createQplLogger(c("qpl")._(25306500,"1488")),userFlow:g},persistence:a,schema:b}));return f}g.createLSReStore=a}),98);
__d("MAWAppVersion",["SiteData"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"302.0."+c("SiteData").client_revision}function b(){return{primary:302,secondary:0,tertiary:c("SiteData").client_revision}}g.getVersionNumber=a;g.getAppVersionParts=b}),98);
__d("MAWClientConsistencyRefresh",["ClientConsistencyEventEmitter","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(c("CurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:c("ClientConsistencyEventEmitter").emit("softRefresh",a)}}g["default"]=a}),98);
__d("WAShiftTimer",["err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$2=0;this.$3=0;this.ts=0;this.$4=0;this.$5=0;this.$6=0;this.$7=void 0;this.$8=function(){var a=b.$7,c=b.$1;b.$3=0;b.$2=0;b.ts=0;b.$4=0;b.$5=0;b.$6=0;b.$7=void 0;c(a)};this.onOrBefore=function(a,c){h(a);var d=Date.now();d=d+a;var e=b.$5;if(e!==0&&e<d)return;e=b.$6;if(e!==0&&d<e)return;b.$5=d;!b.$3&&(!b.$2||d<b.ts)&&b.$9(d,a,c)};this.forceRunNow=function(a){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$7=a,b.$8()};this.cancel=function(){b.$2&&clearTimeout(b.$2),b.$3&&cancelAnimationFrame(b.$3),b.$2=0,b.$3=0,b.ts=0,b.$4=0,b.$5=0,b.$6=0,b.$7=void 0};this.$1=a}var b=a.prototype;b.onOrBeforeRepaint=function(a){if(this.$3)return;var b=Date.now(),c=this.$6;if(c!==0&&b<c)return;c=this.$5;(c===0||b<c)&&(this.$5=b);this.$2&&(clearTimeout(this.$2),this.$2=0);(!this.ts||this.ts>b)&&(this.ts=b);this.$7=a;this.$3=requestAnimationFrame(this.$8)};b.onOrAfter=function(a,b){h(a);var c=Date.now();c=c+a;var d=this.$6;if(d!==0&&c<d)return;d=this.$5;if(d!==0&&d<c)return;this.$6=c;(!this.$2||this.ts<c)&&this.$9(c,a,b)};b.debounce=function(a,b){h(a),this.$10(Date.now(),a,b)};b.debounceAndCap=function(a,b,c){h(a);h(b);var d=Date.now();b=d+b;var e=this.$6,f=this.$5;(e===0||e<=b)&&(f===0||b<f)&&(this.$5=b);this.$10(d,a,c)};b.forceRunNowIfScheduled=function(){this.$2?(clearTimeout(this.$2),this.$8()):this.$3&&(cancelAnimationFrame(this.$3),this.$8())};b.isScheduled=function(){return this.$2!==0||this.$3!==0};b.$10=function(a,b,c){var d=a+b,e=this.$6;if(e!==0&&d<e)return;e=this.ts;var f=this.$5;f!==0&&f<d?e<f&&this.$9(f,f-a,c):e<d&&this.$9(d,b,c)};b.$9=function(a,b,c){this.$3&&(cancelAnimationFrame(this.$3),this.$3=0);this.$7=c;this.ts=a;if(this.$2){c=a-this.$4;if(-16<c&&c<16)return;clearTimeout(this.$2)}this.$2=setTimeout(this.$8,b);this.$4=a};return a}();function h(a){if(!(a>=0))throw c("err")("ShiftTimer must be given delayMs >= 0")}g.ShiftTimer=a}),98);
__d("WABridgeBatcher",["WAShiftTimer"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=1e3;a=function(){function a(a,b,c){var e=this;this.$1=null;this.$6=Date.now();this.$7=new(d("WAShiftTimer").ShiftTimer)(function(){var a=e.$1;if(a==null)return;e.$1=null;e.$2(a)});this.$2=b;this.$3=a;this.$5=(b=c)!=null?b:h;this.$4=this.$5}var b=a.prototype;b.addEvent=function(a){var b=this.$1;this.$1=b?this.$3(b,a):[a];if(this.$7.isScheduled())return;b=this.$4;if(b<1){a=Date.now();var c=Math.max(a-this.$6,0)/i;b=Math.min(b+c,this.$5);this.$4=b;this.$6=a}b>=1?(c=0,this.$4=b-1):(c=Math.ceil(i*(1-b)),this.$4=0);this.$7.onOrBefore(c)};b.cancel=function(){this.$1=null,this.$7.cancel()};return a}();g.BridgeBatcher=a}),98);
__d("WALruCache",["WALogger","WAShiftTimer","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Blob size is larger than the limit of the whole store."]);h=function(){return a};return a}var i=function(a,b){this.key=a,this.value=b,this.prev=null,this.next=null};a=function(){function a(a){var b=this,e;this.$2=new Map();this.purgeNow=function(){for(var a=b.$6.prev;b.$4>b.$3&&a!==b.$5;a=a?a.prev:null){if(a==null)throw c("err")("The linked list is not constructed properly.");var d=a,e=d.key;d=d.value;if(!b.$9(e,d))continue;b["delete"](e);b.$10&&b.$10(e,d)}b.$8&&b.$8(b.$2)};this.$3=a.sizeLimit;this.$7=a.getSize;this.$8=a.onPurge;this.$9=(e=a.shouldEvict)!=null?e:function(){return!0};this.$10=a.onEvict;this.$11=a.onAdd;this.$12=a.onDelete;this.$4=0;this.$5=new i("placeholder-head",null);this.$6=new i("placeholder-tail",null);this.$5.next=this.$6;this.$6.prev=this.$5;this.$1=new(d("WAShiftTimer").ShiftTimer)(function(){return b.purgeNow()})}var b=a.prototype;b.get=function(a){if(!this.$2.has(a))return null;a=this.$2.get(a);if(a==null)return null;var b=a.prev,d=a.next;b&&(b.next=d);d&&(d.prev=b);d=this.$5.next;if(d==null)throw c("err")("The linked list is not constructed properly.");this.$5.next=a;d.prev=a;a.prev=this.$5;a.next=d;return a.value};b.has=function(a){return this.$2.has(a)};b.touch=function(a){this.get(a)};b.put=function(a,b){if(this.$3===0)return;if(this.$7(b)>this.$3){d("WALogger").WARN(h());return}this["delete"](a);this.$14(a,b);this.schedulePurge()};b.$14=function(a,b){var d=new i(a,b);this.$2.set(a,d);var e=this.$5.next;if(e==null)throw c("err")("The linked list is not constructed properly.");this.$5.next=d;e.prev=d;d.prev=this.$5;d.next=e;this.$4+=this.$7(b);this.$11&&this.$11(a,b)};b["delete"]=function(a){if(!this.$2.has(a))return;var b=this.$2.get(a);if(b==null)return;this.$4-=this.$7(b.value);var c=b.prev,d=b.next;c&&(c.next=d);d&&(d.prev=c);this.$2["delete"](a);this.$12&&this.$12(a,b.value)};b.clear=function(){this.$2.clear(),this.$4=0,this.$5.next=this.$6,this.$6.prev=this.$5,this.$13&&this.$13()};b.schedulePurge=function(){this.$1.onOrBefore(1e3)};b.getCurrentSize=function(){return this.$4};b.getPlaceholderHead=function(){return this.$5};return a}();g.LruCache=a}),98);
__d("WACrossWorkerPortal",["Promise","WABridgeBatcher","WALogger","WALruCache","WAPromiseManagement","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["absorbPortal: transferring request #",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to execute onAck: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unexpected result to cast: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge unrecognized result ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," response of ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," not intended for client ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge "," request for ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge queuing "," msgs"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge sending "," across (delayed)"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge received msg on old port"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge updating port"]);s=function(){return a};return a}var t=function(){function a(a,b,c,e,f){var g=this;this.port=null;this.$2=1;this.openRequests=new Map();this.listeners=new Set();if((f==null?void 0:f.useLRUCache)===!0){var h,i=new(d("WALruCache").LruCache)({sizeLimit:(h=f.portalCacheSize)!=null?h:100,getSize:function(){return 1}});this.processedRequests={has:function(a){return i.has(a)},add:function(a){i.put(a,!0)}}}else{var j=new Set();this.processedRequests={has:function(a){return j.has(a)},add:function(a){j.add(a)}}}this.$1=a;this.clientId=e;this.config=f;this.sendStream=new(d("WABridgeBatcher").BridgeBatcher)(b,function(a){g.$3(a)},(h=this.config)==null?void 0:h.bridgeBatcherMaxTokens);c.forEach(function(b){a.setNamespaceHandler(b,g.$4(b))})}var e=a.prototype;e.$5=function(){var a=this.clientId!=null?this.clientId+"_":"";return""+a+this.$2++};e.$6=function(a){a=a.split("_");return a.length!==2?null:a[0]};e.addListener=function(a){var b=this;this.listeners.add(a);return function(){return b.listeners["delete"](a)}};e.setPort=function(a){var b=this;d("WALogger").LOG(s());this.port=a;this.sendStream.cancel();a.onmessage=function(c){if(b.port!==a){d("WALogger").WARN(r()).devConsole(c.data);return}c=c.data;if(!c||!Array.isArray(c))return;c.forEach(function(c){b.$7(c,"incoming"),b.$8(a,c)})};this.openRequests.forEach(function(a){a=a.request;d("WALogger").DEV(q(),a.name);b.sendStream.addEvent({type:"request",content:a})})};e.getBridge=function(){return this.$1};e.$4=function(a){var b=this;return function(c,d,e,f,g,h){b.$9(a,c,d,e,f,g,h)}};e.$9=function(a,b,c,d,e,f,g){var h,i=this.$5();h=babelHelpers["extends"]({fromClientId:(h=this.clientId)!=null?h:void 0},g);g={requestId:i,expectsResponse:!!d,namespace:a,name:b,arg:c,silentLog:e,opts:h};this.openRequests.set(i,{request:g,resolver:d,eventCallbacks:f});this.sendStream.addEvent({type:"request",content:g})};e.$10=function(a,b){if(a!==this.port)return;this.sendStream.addEvent({type:"result",content:b})};e.$3=function(a){var b=this,c=this.port;if(!c){d("WALogger").DEV(p(),a.length);return}c.postMessage(a);var e=a.map(function(a){var b;b=(b=(b=a.content.arg)==null?void 0:b.type)!=null?b:"";return""+((a=a.content.name)!=null?a:"")+(b?":"+b:"")}).filter(Boolean);a.forEach(function(c){var d;b.$7(c,"outgoing");c=b.openRequests.get(c.content.requestId);(c==null?void 0:(d=c.eventCallbacks)==null?void 0:d.onSend)!=null&&c.eventCallbacks.onSend({queueSize:a.length,queueMsgs:e})})};e.$7=function(a,b){this.listeners.forEach(function(c){return c(a,b)})};e.$8=function(a,e){var f=this;if(e.type==="request"){var g=e.content,i=g.namespace,p=g.name,q=g.requestId,r=g.arg,s=g.expectsResponse,t=g.silentLog,u=g.opts;t||d("WALogger").LOG(o(),q,p);if((u==null?void 0:u.toClientId)!=null&&u.toClientId!==this.clientId){t||d("WALogger").LOG(n(),q,this.clientId);return}g=this.$1;var v={type:"result",content:{requestId:q,type:"handled",result:{payload:g.getAckPayoad(),timestamp:Date.now()},silentLog:t,opts:u}};this.$7(v,"outgoing");a.postMessage([v]);if(s){v=g.sendAndReceive(i,p,r,t,void 0,u).then(function(b){f.$10(a,{requestId:q,type:"success",result:b,silentLog:t,opts:u})},function(b){f.$10(a,{requestId:q,type:"error",result:String(b),silentLog:t,opts:u})});d("WAPromiseManagement").preventGarbageCollection(v)}else g.fireAndForget(i,p,r,t,void 0,u)}else{e.type;s=e.content;v=s.requestId;g=s.type;i=s.result;p=s.silentLog;p||d("WALogger").DEV(m(),v,g);r=this.$6(v);if(r!==this.clientId||this.processedRequests.has(v))return;e=this.openRequests.get(v);if(!e){d("WALogger").WARN(l(),v);return}switch(g){case"success":case"error":this.openRequests["delete"](v);this.processedRequests.add(v);s=e.resolver;if(s){s(g==="success"?i:(h||(h=b("Promise"))).reject(c("err")((p=i)!=null?p:"")))}else d("WALogger").ERROR(k(),i);break;case"handled":try{(r=e.eventCallbacks)==null?void 0:r.onAck==null?void 0:r.onAck(i)}catch(a){d("WALogger").ERROR(j(),a.message)}e.resolver||(this.openRequests["delete"](v),this.processedRequests.add(v));break}}};return a}();function a(a,b,c,d,e){return new t(a,c,b,d,e)}function e(a){var b;(b=a.port)==null?void 0:b.close();a.port=null;a.sendStream.cancel();b=a.openRequests;a.openRequests=new Map();var c=a.getBridge();b.forEach(function(a){var b=a.request;a=a.resolver;var e=b.namespace,f=b.name,g=b.arg,h=b.silentLog;d("WALogger").LOG(i(),b.requestId);a?a(c.sendAndReceive(e,f,g,h)):c.fireAndForget(e,f,g,h)})}g.CrossWorkerPortal=t;g.attachPortal=a;g.killPortalAndSendPendingToBridge=e}),98);
__d("MAWCrossWorkerPortal",["FBLogger","WACrossWorkerPortal","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){if(h!=null)return h;h=d("WACrossWorkerPortal").attachPortal(a,b,e,c("pageID"),f);return h}function b(){if(h==null){c("FBLogger")("messenger_e2ee_web").warn("Trying to kill portal before its setup");return}d("WACrossWorkerPortal").killPortalAndSendPendingToBridge(h)}g.getOrCreateCrossWorkerPortal=a;g.killPortalWhenWorkerTerminating=b}),98);
__d("MAWLoggerUtils",["Random"],(function(a,b,c,d,e,f,g){"use strict";c={CleanerPurge:"CleanerPurge",CleanerStart:"CleanerStart",CleanerTimestamp:"CleanerTimestamp",CleanerUpdate:"CleanerUpdate",Countdown:"Countdown",Ephemeral:"Ephemeral",Incoming:"Incoming",MsgCleaner:"MsgCleaner",OnLoad:"OnLoad",OnRead:"OnRead",Outgoing:"Outgoing",PeerReceipt:"PeerReceipt",SettingChange:"SettingChange",SettingSync:"SettingSync",DeviceRegistration:"DeviceRegistration",MessageReceive:"MessageReceive",MediaDownload:"MediaDownload",WorkerSetup:"WorkerSetup",MAWWorker:"MAWWorker",MAWInit:"MAWInit",LogoutHandler:"LogoutHandler",MiActMapping:"MiActMapping",ThreadReady:"ThreadReady"};function a(){return Math.floor(Date.now()+d("Random").random()*1e4+1e4)}function b(a){a=a.split("");return a.reduce(function(a,b){b=b.charCodeAt(0);a=(a<<5)-a+b;a&=a;return a},0)}g.Tag=c;g.getInstanceKey=a;g.getInstanceKeyFromId=b}),98);
__d("MAWSetupWorker",["CurrentUser","Deferred","FBLogger","IGDWebUtils","MAWBridgeObserver","MAWClientConsistencyRefresh","MAWCommonSetupWorker","MAWCrossWorkerPortal","MAWInit","MAWLoggerUtils","MAWMIC","MAWUnrecoverableDbErrors","MAWWaitForBackendSetup","MAWWebWorkerSingleton","QPLUserFlow","SharedWorkerBundleResource","WATagsLogger","asyncToGeneratorRuntime","cr:6600","err","gkx","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Shared worker responded to termination request: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up"]);k=function(){return a};return a}var l=function(){return c("gkx")("8512")},m=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWInit]),n=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID())),o=n?"IGDAWMainWorker":"MAWMainWorker",p=null,q=!1;function a(a){q=a}function r(a){switch(a){case"mawInit":return!0;case"mawReinitSetupMutex":case"mawReinitReregDevice":case"bridgeRecovery":case"workerUpgraded":case"rebootRequired":case"workerTerminated":default:return!1}}var s=[];function t(a,b,c,d,e){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,h){if(q)throw c("err")("Worker is permanently killed.");d("MAWWaitForBackendSetup").markBackendSetupStarted();var i=function(b){return t(a,e,f,g,b)};(h==="bridgeRecovery"||h==="backendSetupFailure")&&c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"create_worker_start");d("MAWWebWorkerSingleton").setOnCloseForWorkerInstance(function(a,b){var e,f=(e=a)!=null?e:"unknown",g=F(f)&&d("MAWWaitForBackendSetup").isBackendSetupSettled();s.push(f);if(d("MAWWaitForBackendSetup").getCurrentWorkerID()==null||b!==d("MAWWaitForBackendSetup").getCurrentWorkerID()){d("MAWInit").MAWInit.logPoint(f+"_worker_termination_skipped");d("MAWMIC").addPoint(f+"_worker_termination_skipped");c("FBLogger")("maw_worker").warn("Worker termination skipped %s. Terminate reason: %s",h,a);return}d("MAWWaitForBackendSetup").resetCurrentWorker(b);c("FBLogger")("maw_worker").warn("Worker termination started %s. Terminate reason: %s",h,a);d("MAWInit").MAWInit.logPoint(f+"_worker_terminated");d("MAWMIC").addPoint(f+"_worker_terminated");a==="requested-upgrade"?c("promiseDone")(D(),function(){return i("workerUpgraded")}):(d("MAWInit").MAWInit.addStringArrayAnnotation("workerTerminationReason",s),d("MAWMIC").addStringArrayAnnotation("workerTerminationReason",s),l()&&c("promiseDone")(D(),function(){if(g){q=!0;c("FBLogger")("maw_worker").warn("Tab displays soft refresh. Flow: %s",f);d("MAWInit").MAWInit.logPoint(f+"_soft_refresh");d("MAWMIC").addPoint(f+"_soft_refresh");c("MAWClientConsistencyRefresh")("maw_request_refresh");return}if(f!=="logout")return i(f+"_worker_terminated")["catch"](function(a){d("MAWInit").MAWInit.fail("worker_restart_failed",a),d("MAWWaitForBackendSetup").rejectBackendSetup(a)})}))});var j=(yield d("MAWWebWorkerSingleton").createWorkerIfNone(h)),n=j.worker;j=j.workerID;d("MAWWaitForBackendSetup").setCurrentWorker(j);j=new(c("Deferred"))();p=j.getPromise();(h==="bridgeRecovery"||h==="backendSetupFailure")&&c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"create_worker_end");m.LOG(k());d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&n.addEventListener("message",function(a){var b;typeof a.data==="object"&&((b=a.data)==null?void 0:b.type)==="sw-shutdown"&&typeof a.data.response==="object"&&((b=a.data.response)==null?void 0:b.reason)==="maw-request-refresh"&&c("MAWClientConsistencyRefresh")("maw_request_refresh")});var r=new(d("MAWCommonSetupWorker").BridgeAdapter)(n,o);yield e(r);j.resolve(r);d("MAWMIC").addPoint(h+"_connect_to_backend");yield d("MAWInit").MAWInit.measurePerformance(h+"-init_backend",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=function(){return d("MAWCommonSetupWorker").initWorker(r,a,i,f,h)};b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?yield b():yield r.fullyConnected.then(b);d("MAWWaitForBackendSetup").resolveBackendSetup(b)}));return d("MAWWaitForBackendSetup").waitForBackendSetup("setup-worker")});return u.apply(this,arguments)}function e(a,b,e,f,g){var h=t(a,b,e,f,g);r(g)&&c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup("init bridge recovery observer").then(function(){d("MAWBridgeObserver").initUnackedMessagesObserver({onConnectToExistingWorker:e,onTerminateWorker:f,onWorkerConnect:b,vaultMaterials:a})}));return h}function f(){return p}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){c("FBLogger")("maw_worker").info("Terminating dedicated worker: %s. Bridge Promise: %s",a,!!p);if(!p){m.LOG(j());return!1}m.LOG(i(),a);yield D();return!0});return w.apply(this,arguments)}function x(){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield v("terminateWorkerPermanently"),q=!0});return y.apply(this,arguments)}function z(a,b){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield d("SharedWorkerBundleResource").terminateSharedWorker(b("cr:6600"),null,a?"maw-request-refresh":(a=c)!=null?a:"unknown")});return A.apply(this,arguments)}function B(a){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();if(b){c("FBLogger")("maw_worker").info("Terminating shared worker: %s",a);b=(yield z(!1,a).then(function(){return!0},function(){return!1}));m.LOG(h(),b);l()||(yield D())}else yield v(a)});return C.apply(this,arguments)}function D(){return E.apply(this,arguments)}function E(){E=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;c("FBLogger")("maw_worker").info("Updating worker state on termination");(a=(yield p))==null?void 0:a.close();p=null;c("gkx")("2215")&&d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating();d("MAWWebWorkerSingleton").resetWorkerCreation()});return E.apply(this,arguments)}function F(a){if(a==="MAWEARKeychainDecryptionError"||d("MAWUnrecoverableDbErrors").isUnrecoverableDbErrorByName(a))return!0;return a==="update-required-fbid_change"||a==="update-required-vault_materials_change"?!0:!1}g.setPreventWorkerRestart=a;g.getOrSetupWorker=e;g.waitForWorkerSetup=f;g.terminateDedicatedWorker=v;g.terminateWorkerPermanently=x;g.killSharedWorker=z;g.terminateWorker=B}),98);
__d("MAWWorkerReboot",["FBLogger","MAWBridgeObserver","MAWSetupWorker","MAWWaitForBackendSetup","ODS","Promise","QPLUserFlow","pageID","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_shared_worker_reboot","shared_worker_reboot_"+a)}var k=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker(),l=function(a){switch(a){case"bridge_recovery":return"bridgeRecovery";case"backend_setup_failure":return"backendSetupFailure"}};function a(a,e,f,g,i){c("QPLUserFlow").start(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,{annotations:{bool:{isSharedWorker:k},string:{trigger:i,workerInitPageID:c("pageID")}}});c("FBLogger")("maw_worker").info("Rebooting worker started.");j("start");d("MAWWaitForBackendSetup").resetBackendSetup();var m=l(i);c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"terminate_worker_start");return new(h||(h=b("Promise")))(function(b,h){return d("MAWSetupWorker").terminateWorker(m).then(function(){c("QPLUserFlow").addPoint(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,"terminate_worker_end");c("FBLogger")("maw_worker").info("Reboot process killed existing worker successfully.");return d("MAWSetupWorker").getOrSetupWorker(a,e,f,g,m).then(function(a){c("FBLogger")("maw_worker").info("Rebooting worker success. Reason for reboot: %s",m),j("success"),c("QPLUserFlow").endSuccess(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL),c("promiseDone")(e(a)),b()})})["catch"](function(a){c("FBLogger")("maw_worker").info("Rebooting worker failed. Error message: %s",a.message),j("fail"),c("QPLUserFlow").endFailure(d("MAWBridgeObserver").BAD_STATE_RECOVERY_QPL,a.message),d("MAWWaitForBackendSetup").rejectBackendSetup(a),h(a)})})}g.rebootWorker=a}),98);
__d("MAWBridgeObserver",["FBLogger","MAWWaitForBackendSetup","MAWWorkerReboot","promiseDone","qex","qpl"],(function(a,b,c,d,e,f,g){"use strict";a=c("qpl")._(1056840252,"808");var h=5,i=[],j=!1,k,l=function(){i=[]};b=function(a){if(!o())return;if(d("MAWWaitForBackendSetup").isBackendSetupInProgress()){l();return}if(n().length>=h&&!d("MAWWaitForBackendSetup").isBackendSetupInProgress()){c("FBLogger")("maw_worker").info("Minimum threshold of unacked messages reached: %s. Unacked messages: %s",h,JSON.stringify(n()));var b=c("qex")._("440"),e=c("qex")._("468")||h;b===!0&&n().length>=e?(c("FBLogger")("maw_worker").info("QE threshold of unacked messages reached: %s. Unacked messages: %s",h,JSON.stringify(n())),l(),c("promiseDone")(m())):(c("FBLogger")("maw_worker").info("Bridge recovery attempt skipped. Reason for skipped: maw_bridge_recovery_v2_enabled: %s, maw_bridge_recovery_threshold: %s",b,e),i.push(a))}else i.push(a)};var m=function(){c("FBLogger")("maw_worker").info("Starting bridge recovery attempt.");return d("MAWWorkerReboot").rebootWorker(k.vaultMaterials,k.onWorkerConnect,k.onConnectToExistingWorker,k.onTerminateWorker,"bridge_recovery").then(function(){c("FBLogger")("maw_worker").info("Bridge recovery attempt successful. Worker has restarted.")},function(a){c("FBLogger")("maw_worker").info("Bridge recovery attempt failed. Worker has failed to restart. Error: %s",a.message);throw a})};e=function(a){j=!0,k=a};var n=function(){return i},o=function(){return j};f=function(){return k};g.BAD_STATE_RECOVERY_QPL=a;g.MIN_UNACKED_EVENTS_THRESHOLD=h;g.resetUnackedMessages=l;g.notifyUnackedEvent=b;g.attemptRecovery=m;g.initUnackedMessagesObserver=e;g.getUnackedMessages=n;g.getIsObserverActive=o;g.getProps=f}),98);
__d("MAWGetDBVersionForTest",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("1495"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_version");if(a==null)return;if(a==="current"||a==="latest")return a;a=parseInt(a,10);if(Number.isInteger(a))return Number(a)}g.getDbVersionForTest=a}),98);
__d("WADevToolMessageChannel",[],(function(a,b,c,d,e,f){"use strict";var g=new MessageChannel(),h;a=function(){g=new MessageChannel();h(g);return g};b=function(){return g};c=function(a){h=a,h(g)};f.createNewChannel=a;f.getMostRecentChannel=b;f.onCreateNewChannel=c}),66);
__d("MainPageUrl",["ExecutionEnvironment","FBLogger","SimpleHook"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new URL(function(){var a=(typeof self!=="undefined"?self:typeof window!=="undefined"?window:{location:{href:"http://undefined"}}).location.href;(h||(h=c("ExecutionEnvironment"))).isInWorker&&a&&a.startsWith("blob:")&&(a=a.substring(5,a.length));return a}()),j=new URL(i.href),k=new(d("SimpleHook").SimpleHook)();function l(){var a;return(h||(h=c("ExecutionEnvironment"))).isInBrowser&&(j==null?void 0:(a=j.searchParams)==null?void 0:a.get("workerlog"))==="debug"}function a(a){try{l()&&c("FBLogger")("worker").debug("received url "+a);var b=new URL(a,j.href||i.href);j.href!==b.href?(j.href=b.href,k.call(j)):l()&&c("FBLogger")("worker").debug("ignoring url: path didn't change in "+a)}catch(a){c("FBLogger")("worker").catching(a).warn("invalid url")}}typeof window==="object"&&typeof window.location==="object"&&typeof window.location.href==="string"&&a(window.location.href);g.mainPageUrl=j;g.onMainPageUrlChange=k;g.isWorkerLogEnabled=l;g.updateMainPageUrl=a}),98);
__d("TimedOnceFunc",["ExecutionEnvironment"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(a,b){this.$2=!1,this.$4=a,this.$3=b,(h||(h=c("ExecutionEnvironment"))).isInBrowser&&this.$5()}var b=a.prototype;b.$6=function(){this.$1!=null&&clearTimeout(this.$1),this.$1=null};b.$5=function(){var a=this;this.isDone()||(this.$6(),this.$1=setTimeout(function(){a.$2=!0,a.run()},this.$3))};b.isDone=function(){return this.$4===null};b.isCancelled=function(){return this.$1===null&&this.$4!==null};b.run=function(){this.$6();if(this.$4!=null){var a=this.$4;this.$4=null;a(this.$2)}};b.getDelay=function(){return this.$3};b.delay=function(a){this.$3=(a=a)!=null?a:this.$3;this.$5()};b.cancel=function(){this.$6()};return a}();g.TimedOnceFunc=a}),98);
__d("VirtualMessageChannel",["invariant","Promise","SimpleHook","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=function(){function a(a){a===void 0&&(a=!1),this.$2=new(d("SimpleHook").SimpleHook)(),this.onmessage=null,this.onmessageerror=null,this.$3=a}var e=a.prototype;e.setRemotePort=function(a){this.$1=a};e.addEventListener=function(a,b,c){(a==="message"||a==="error")&&c==null||h(0,55320,a);if(a==="message")if(typeof b==="function")this.$2.add(b);else{c=b.handleEvent.bind(b);this.$2.add(c);b.__handler=c}};e.removeEventListener=function(a,b,c){if(typeof b==="function")this.$2.remove(b);else{a=b.__handler;this.$2.remove(a)}};e.postMessage=function(a,d){var e=this,f=function(){var b=c("nullthrows")(e.$1,"By now remote port must have value!");b.$2.call({data:a,ports:d})};this.$3?f():c("promiseDone")((i||(i=b("Promise"))).resolve(),f)};e.start=function(){};return a}();a=function(a,b){this.port1=new j(a),this.port2=new j(b),this.port1.setRemotePort(this.port2),this.port2.setRemotePort(this.port1)};g.VirtualMessagePort=j;g.VirtualMessageChannel=a}),98);
__d("NestedTimeRange",["SimpleHook","performance","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(d("SimpleHook").SimpleHook)(),k=new(d("SimpleHook").SimpleHook)(),l="/";function m(a,b){return""+a+l+b}b=function(){function a(a,b){b===void 0&&(b=null),this.$3=0,this.$1=a,this.$2=b}var b=a.prototype;b.isRunning=function(){return this.$3>0};b.fullname=function(){return this.$2!==null?m(this.$2.fullname(),this.$1):this.$1};b.start=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());if(this.$3===0){var b;(b=this.$2)==null?void 0:b.start(a);this.__onStart(a)}++this.$3;return a};b.__onStart=function(a){j.call(this,a)};b.stop=function(a){a===void 0&&(a=(h||(h=c("performanceAbsoluteNow")))());--this.$3;if(this.$3===0){var b;this.__onStop(a);(b=this.$2)==null?void 0:b.stop(a)}return a};b.__onStop=function(a){k.call(this,a)};return a}();function a(){(i||(i=c("performance"))).mark&&(i||(i=c("performance"))).measure&&(j.add(function(a,b){(i||(i=c("performance"))).mark(a.fullname()+"_start")}),k.add(function(a,b){(i||(i=c("performance"))).measure(a.fullname(),a.fullname()+"_start")}))}g.OnRangeStart=j;g.OnRangeStop=k;g.TIME_RANGE_LEVEL_SEPARATOR=l;g.rangeFullName=m;g.NestedTimeRange=b;g.enableDevConsoleTimeline=a}),98);
__d("QLogEvent",["DoubleKeyMap","FBLogger","NestedTimeRange","QPLEvent","SimpleHook","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("DoubleKeyMap").DoubleKeyMap)(),j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d){a=b.call(this,a,d)||this;a.$QPLRange$p_1=c;i.set(c,a.fullname(),babelHelpers.assertThisInitialized(a));return a}var e=a.prototype;e.__onStart=function(a){b.prototype.__onStart.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_START",{timestamp:a})};e.__onStop=function(a){b.prototype.__onStop.call(this,a),this.$QPLRange$p_1.point(this.fullname()+"_END",{timestamp:a}),i["delete"](this.$QPLRange$p_1,this.fullname())};e.range=function(b){this.fullname().startsWith(d("NestedTimeRange").TIME_RANGE_LEVEL_SEPARATOR)||c("FBLogger")("qpl").warn("Range %s cannot have subrange since root name does not start with /",this.fullname());var e=d("NestedTimeRange").rangeFullName(this.fullname(),b);return(e=i.get(this.$QPLRange$p_1,e))!=null?e:new a(b,this.$QPLRange$p_1,this)};return a}(d("NestedTimeRange").NestedTimeRange),k=new(d("DoubleKeyMap").DoubleKeyMap)(),l=new((b=d("SimpleHook")).SimpleHook)(),m=new b.SimpleHook(),n=new b.SimpleHook(),o=new b.SimpleHook(),p=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f,g){var i;c===void 0&&(c=0);e===void 0&&(e=2);f===void 0&&(f=!1);var j=(h||(h=d("QPLEvent"))).getMarkerId(a);i=b.call(this,"event_"+j)||this;i.event=a;i.instanceKey=c;i.$QPLEvent$p_1=e;i.isUserFlow=f;i.$QPLEvent$p_2=g;k.set(j,c,babelHelpers.assertThisInitialized(i));return i}var e=a.prototype;e.action=function(a){this.$QPLEvent$p_1=a;return this};e.getAction=function(){return this.$QPLEvent$p_1};e.setIsUserFlow=function(a){this.isUserFlow=a;return this};e.startFromNavStart=function(){this.start(c("performanceNavigationStart")());return this};e.startFromTime=function(a){this.start(a);return this};e.__onStart=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStart(this,a);l.call(this,a)};e.__onStop=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onStop(this,a);m.call(this,a);i.deleteAll(this);k["delete"]((h||(h=d("QPLEvent"))).getMarkerId(this.event),this.instanceKey)};e.range=function(a){var b;return(b=i.get(this,a))!=null?b:new j(a,this)};e.point=function(a,b){var c;b===void 0&&(b={});(c=this.$QPLEvent$p_2)==null?void 0:c.onPoint(this,a,b);n.call(this,a,b);return this};e.annotate=function(a){var b;(b=this.$QPLEvent$p_2)==null?void 0:b.onAnnotate(this,a);o.call(this,a);return this};return a}(d("NestedTimeRange").NestedTimeRange);function a(a,b,c){var e;b===void 0&&(b=0);return(e=k.get((h||(h=d("QPLEvent"))).getMarkerId(a),b))!=null?e:new p(a,b,2,!1,c)}g.OnEventStart=l;g.OnEventStop=m;g.OnEventPoint=n;g.OnEventAnnotate=o;g.QPLEvent=p;g.event=a}),98);
__d("WorkerMessagePortLogging",["MainPageUrl","QLogEvent","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=Math.random()<.1,i=20,j=100,k=50;function a(){return d("MainPageUrl").isWorkerLogEnabled()||d("MainPageUrl").mainPageUrl.searchParams.get("worker_log")===1}var l=0;function m(){return d("QLogEvent").event(c("qpl")._(41497718,"106"),l++)}function b(a,b,c){c===void 0&&(c=!1);if(b==null||!h)return;var d=b.sendDelayHighPrecision,e=b.sendTimestamp,f=b.sendDateTime,g=b.receiveTimestamp,l=b.receiveDateTime,n=m();n.startFromTime();var o=n.range("SEND_DELAY");o.start(e);o.stop(g);o=n.range("SEND_DELAY_LOW_PRECISION");o.start(f);o.stop(l);o=Math.abs(e-f);e=Math.abs(g-l);n.annotate({string:{port_name:a},"int":{send_delay:d,send_drift:o,receive_drift:e},bool:{send_delay_above_max:d!=null&&d>i,send_drift_above_max:o>j,receive_drift_above_max:e>j}});if(c){f=n.range("ROUND_TRIP");f.start(b.sendTimestamp);f.stop(b.receiveTimestamp);g=b.receiveTimestamp-b.sendTimestamp;n.annotate({"int":{round_trip:g},bool:{round_trip_above_max:g>k}})}n.stop()}g.isWorkerLogEnabled=a;g.logMessageTiming=b}),98);
__d("WorkerMessagePort",["Deferred","FBLogger","MainPageUrl","Promise","PromiseAnnotate","SimpleHook","VirtualMessageChannel","WorkerMessagePortLogging","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){return a}var l=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("SimpleHook").SimpleHook);function m(a,b){a=k(a);a.__timing=b}function n(a){return a.__timing}a=function(){var a=e.prototype;a.onMessageHandler=function(a){try{this.onMessage.call(a);var b=this.$1[a.type];!b?this.onUnhandledMessage.call(a):b.call(a)}catch(a){this.onError.call(a)}};function e(a,b){var e=this;this.$1={};this.onUnhandledMessage=new l();this.onMessage=new l();this.onPostMessage=new l();this.onError=new l();this.$2=a;this.name=b;this.$2.addEventListener("message",function(a){return e.onMessageHandler(k(a.data))});this.$2.addEventListener("error",function(a){return e.onError.call(a)});this.onPostMessage.add(function(a){m(a,{receiveDateTime:-1,receiveTimestamp:-1,sendDateTime:Date.now(),sendDelayHighPrecision:0,sendDelayLowPrecision:0,sendTimestamp:(j||(j=c("performanceAbsoluteNow")))()})});this.onMessage.add(function(a){a=n(a);if(a!=null){var b=a.sendDateTime,f=a.sendTimestamp,g=(j||(j=c("performanceAbsoluteNow")))(),h=Date.now();a.receiveTimestamp=g;a.receiveDateTime=h;a.sendDelayHighPrecision=g-f;a.sendDelayLowPrecision=h-b;d("WorkerMessagePortLogging").logMessageTiming(e.name,a)}})}a.postMessage=function(a,b){this.onPostMessage.call(a),b?this.$2.postMessage(a,b):this.$2.postMessage(a)};a.addMessageListener=function(a,b){var c=this.$1[a];c||(c=new l(),this.$1[a]=c);return c.add(b)};a.removeMessageListener=function(a,b){a=this.$1[a];return!!a&&a.remove(b)};a.onMessageOnce=function(a,c){var d=this;return new(i||(i=b("Promise")))(function(b){var e=d.addMessageListener(a,function(f){c(f)&&(d.removeMessageListener(a,e),b(f))})})};a.close=function(){if(this.$2 instanceof MessagePort)this.$2.close();else if(this.$2 instanceof Worker)this.$2.terminate();else if(this.$2 instanceof DedicatedWorkerGlobalScope)this.$2.close();else{var a;(a=(a=this.$2.close)!=null?a:this.$2.terminate)==null?void 0:a.call(this.$2)}};a.isWrappingVirtualMessagePort=function(){return this.$2 instanceof d("VirtualMessageChannel").VirtualMessagePort};return e}();function o(a){return k(a)}e=function(a){babelHelpers.inheritsLoose(e,a);function e(e,f){var g;g=a.call(this,e,f)||this;var j=o(babelHelpers.assertThisInitialized(g)),k=new(c("Deferred"))();e=k.getPromise();j.addMessageListener("endpoint_started",function(a){k.resolve(a);var b=n(a);j.postMessage({endpoint:a.endpoint,startSendTimestamp:b==null?void 0:b.sendTimestamp,targetEndpoint:g.name,type:"endpoint_started_received"})});f=j.onMessageOnce("endpoint_started_received",function(){return!0});void (h||(h=d("PromiseAnnotate"))).setDisplayName(e,"endpoint_started");void h.setDisplayName(f,"endpoint_started_received");j.postMessage({endpoint:g.name,type:"endpoint_started"});c("promiseDone")(e,function(a){a=n(a);d("WorkerMessagePortLogging").logMessageTiming(g.name,a)});c("promiseDone")(f,function(a){a=n(a);a!=null&&d("WorkerMessagePortLogging").logMessageTiming(g.name,a,!0)});g.fullyConnected=(i||(i=b("Promise"))).race([e,f]).then(function(){return babelHelpers.assertThisInitialized(g)});return g}return e}(a);g.getMessageTiming=n;g.WorkerMessagePort=a;g.CastWorkerMessagePort=o;g.WorkerSyncedMessagePort=e}),98);
__d("WorkerFuncChannel",["invariant","DateConsts","ExecutionEnvironment","FBLogger","FuncChannel","MainPageUrl","Promise","TimedOnceFunc","VirtualMessageChannel","WorkerMessagePort","err","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k={serialize:function(a,b){b.push(a);return a},deserialize:function(a){return a}},l=1e4,m=0,n=5,o=n+1,p=function(){function a(a){var b=self.WeakRef;b&&(this.$1=new b(a))}var b=a.prototype;b.isDead=function(){return this.$1!=null&&this.$1.deref()==null};return a}(),q=function(e){babelHelpers.inheritsLoose(a,e);function a(a,b,f,g){var i;f===void 0&&(f=null);g===void 0&&(g={});i=e.call(this,a)||this;i.$WorkerFuncChannel1=new Map();i.$WorkerFuncChannel2=new Map();i.$WorkerFuncChannel5={"function":{serialize:function(a,b){b=o++;i.$WorkerFuncChannel1.set(b,a);a={type:"function",value:b};return a},deserialize:function(a){var b=babelHelpers.assertThisInitialized(i),c=a.value;a=function(){var a={type:"call",id:c,method:"__anonymous",thisArg:null,argList:Array.from(arguments)};return b.callMessageHandler(a)};i.$WorkerFuncChannel2.set(c,new p(a));return a}},custom:{serialize:function(a,b){var c=a.constructor.name,d=i.$WorkerFuncChannel4[c];d!=null||h(0,63779,c);d=d.serialize(a,b);return{type:"custom",custom:c,value:d}},deserialize:function(a){var b=a.custom,c=i.$WorkerFuncChannel4[b];c!=null||h(0,63779,b);return c.deserialize(a.value)}},error:{serialize:function(a,b){b={name:a.name,message:a.message,stack:a.stack};return{type:"error",value:b}},deserialize:function(a){var b=c("err")(a.value.message);b.name=a.value.name;b.stack=a.value.stack;return b}},object:{serialize:function(a,b){b=a.constructor;if(b!==Object)throw new Error("Cannot clone class object");return{type:"object",value:a}},deserialize:function(a){return a.value}},raw:{serialize:function(a,b){return{type:"raw",value:a}},deserialize:function(a){return a.value}}};i.name=b;i.$WorkerFuncChannel3=f;i.$WorkerFuncChannel4=g;a=function(a){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("adsworker").debug("[Channel] removing callback ids: %s",a.join()),a.forEach(function(a){return i.$WorkerFuncChannel1["delete"](a)})};var k=i.__remoteInternalFunc(m,a);typeof jest===typeof void 0&&(j||(j=c("ExecutionEnvironment"))).isInBrowser&&setInterval(function(){var a=[];i.$WorkerFuncChannel2.forEach(function(b,c){b.isDead()&&(a.push(c),i.$WorkerFuncChannel2["delete"](c))});a.length>0?k(a):i.$WorkerFuncChannel2.size>5e3&&c("FBLogger")("adsworker").warn("[%s] has too many remaining refs %s",i.name,i.$WorkerFuncChannel2.size)},l);return i}var f=a.prototype;f.__remoteInternalFunc=function(a,b){(a>n||this.$WorkerFuncChannel1.get(a)!=null)&&c("FBLogger")("adsworker").mustfix("invalid internal func id %s",a);this.$WorkerFuncChannel1.set(a,b);b=this.$WorkerFuncChannel5["function"].deserialize({type:"function",value:a});return b};f.$WorkerFuncChannel6=function(a){return a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Float32Array||a instanceof Float64Array};f.$WorkerFuncChannel7=function(a){if(typeof a==="function")return"function";if(a===null)return"raw";if(typeof a!=="object")return"raw";if(Array.isArray(a))return"raw";if(this.$WorkerFuncChannel6(a))return"raw";var b=a.constructor.name;if(this.$WorkerFuncChannel4[b])return"custom";return a instanceof Error?"error":"object"};f.$WorkerFuncChannel8=function(a,b){var c=this.$WorkerFuncChannel7(a);return this.$WorkerFuncChannel5[c].serialize(a,b)};f.$WorkerFuncChannel9=function(a){var b=a;if(a!==null&&typeof a==="object"&&typeof a.type==="string"){var c=this.$WorkerFuncChannel5[a.type];if(c)return c.deserialize(a)}return b};f.__onPostOutMessage=function(a){return a};f.__callCallback=function(a,b){a.apply(null,b.argList)};f.setOutMessagePort=function(a,d){var e=this,f=[];this.setCallMessageHandler(function(d){d.thisArg=e.name;var g=[];d.argList=d.argList.map(function(a){return e.$WorkerFuncChannel8(a,g)});var h=new(i||(i=b("Promise")))(function(a,b){d.result={resolveFunc:e.$WorkerFuncChannel8(a,g),rejectFunc:e.$WorkerFuncChannel8(b,g)}}),j=e.__onPostOutMessage(d);j!=null&&(f!=null?f.push({message:d,transferList:g}):a.postMessage(d,g));h["catch"](function(a){c("FBLogger")("worker").catching(a).mustfix("Error: channel %s, remote call of %s returned error %s",e.name,d.method,a.message)});return h});c("promiseDone")(d||x.waitForRemote(this.name),function(){var b=f;f=null;b==null?void 0:b.forEach(function(b){a.postMessage(b.message,b.transferList)});e.$WorkerFuncChannel3==null?void 0:e.$WorkerFuncChannel3()})};f.__messageToCall=function(a){var b=this;a.argList=a.argList.map(function(a){return b.$WorkerFuncChannel9(a)});if(a.result){var d=a.result,e=d.resolveFunc;d=d.rejectFunc;e=this.$WorkerFuncChannel9(e);d=this.$WorkerFuncChannel9(d);a.result={resolveFunc:e,rejectFunc:d}}e=a.id;if(e===void 0)this.messageToCall(a);else{d=this.$WorkerFuncChannel1.get(e);d?this.__callCallback(d,a):c("FBLogger")("adsworker").mustfix("Error: callback is called but no longer available")}};f.setInMessagePort=function(a){var b=this;a.addMessageListener("call",function(a){typeof a.thisArg==="string"&&a.thisArg===b.name&&b.__messageToCall(a)});x.notifyReady(this.name)};f.setMessagePort=function(a){this.setInMessagePort(a);this.setOutMessagePort(a);return this};return a}(c("FuncChannel")),r=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(d("WorkerMessagePort").WorkerMessagePort);function s(a,b,d,e){x.exportChannel(a,function(e){var f=e.syncPort;e=e.remoteNativePort;var g=b();a===g.name||h(0,54247,a,g.name);var i;e?(i=new r(e,f.name+"("+g.name+")"),e.start(),i.onError.add(function(a){c("FBLogger")("worker").catching(a).mustfix("error caught in remotePort");throw a})):i=f;g.setMessagePort(i).setBackend(d);c("promiseDone")(f.fullyConnected,function(){f.postMessage({type:"channelReady",channelName:g.name}),x.logState("EXPORTED",a)})})}function a(a,b,c,d){d===void 0&&(d={});return s(c,function(){return new q(function(b){return a},c,null,d)},a,b)}var t=function(b){babelHelpers.inheritsLoose(a,b);function a(a,e){e===void 0&&(e="");var f=d("DateConsts").MS_PER_MIN*1;return b.call(this,function(){c("FBLogger")("worker").warn("Channel %s did not establish eventually. %s",a,e)},f)||this}return a}(d("TimedOnceFunc").TimedOnceFunc);function u(a,b){var e,f=null,g,h;b.isWrappingVirtualMessagePort()?(h=new(d("VirtualMessageChannel").VirtualMessageChannel)(!0,!0),e="on virtual dedicated channel"):(h=new MessageChannel(),e="on native dedicated channel",g=[h.port2]);var i=h.port1;f=h.port2;i.start();var j=new r(i,b.name+"("+a.name+")");c("promiseDone")(b.fullyConnected,function(){x.logState("IMPORTING "+e+" ",a.name);a.setInMessagePort(j);var d=new t(a.name,e);c("promiseDone")(b.onMessageOnce("channelReady",function(b){return b.channelName===a.name}),function(b){a.setOutMessagePort(j),d.cancel(),x.logState("ESTABLISHED",a.name)});b.postMessage({type:"channelImport",channelName:a.name,port:f},g)});return a.proxyMethods}function v(a,b,c,d){c===void 0&&(c=null);d===void 0&&(d={});b=new q(function(b){return a},b,c,d);return b}function e(a,b,c,d,e){d===void 0&&(d=null);e===void 0&&(e={});return u(v(a,c,d,e),b)}var w=function(){function a(){this.name=self.name+"_P"+Math.round(10*Math.random()),this.$1=new Map(),this.$2=new Set()}var e=a.prototype;e.logState=function(a,b){d("MainPageUrl").isWorkerLogEnabled()&&c("FBLogger")("worker").debug("%s-%s %s",this.name,a,b)};e.$3=function(a){var b=this.$1.get(a);b==null&&(b={pendingPorts:null,onImportRequest:null},this.$1.set(a,b));return b};e.exportChannel=function(a,b){var d=this,e=this.$3(a);e.onImportRequest!=null&&c("FBLogger")("worker").debug("Re-exporting channel %s",a);e.onImportRequest=b;this.logState("REGISTERED",a);a=e.pendingPorts;if(a!=null){var f=a.filter(function(a){return d.$2.has(a.syncPort)});f.forEach(b);f.length<a.length?e.pendingPorts=a.filter(function(a){return!d.$2.has(a.syncPort)}):e.pendingPorts=null}return e};e.activate=function(a,b,d){var e=this;if(this.$2.has(a)){c("FBLogger")("worker").debug("Port %sis already duplicated ",a.name);return}this.$2.add(a);a.addMessageListener("channelImport",function(b){var c=b.channelName,d=e.$3(c);b={syncPort:a,remoteNativePort:b.port};d.onImportRequest!=null?d.onImportRequest(b):d.pendingPorts!=null?d.pendingPorts.push(b):d.pendingPorts=[b];e.logState("IMPORT REQUEST",c)})};e.notifyReady=function(a){};e.waitForRemote=function(a){return(i||(i=b("Promise"))).resolve()};return a}(),x=new w();function f(a,b,c){x.activate(a,b,c)}g.TransferableTransformer=k;g.WorkerFuncChannel=q;g.exportChannelOnPort=s;g.exportChannel=a;g.importChannelOnPort=u;g.makeChannel=v;g.importChannel=e;g.activateChannels=f}),98);
__d("WorkerBanzaiLazyQueueChannelClient",["BanzaiLazyQueue","WorkerFuncChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").exportChannel(c("BanzaiLazyQueue"),a,"banzai_lazyqueue_channel")}g.init=a}),98);
__d("WorkerQPLChannel",["WorkerFuncChannel","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new(d("WorkerFuncChannel").WorkerFuncChannel)(function(a){return{markerStartFromNavStart:null,markerStart:function(b,d,e){e===void 0&&(e=(h||(h=c("performanceAbsoluteNow")))());return a.markerStart(b,d,e)},markerAnnotate:function(b,c,d){return a.markerAnnotate(b,c,d)},markerPoint:function(b,d,e){e=(e==null?void 0:e.timestamp)===void 0?babelHelpers["extends"]({},e,{timestamp:(h||(h=c("performanceAbsoluteNow")))()}):e;return a.markerPoint(b,d,e)},markerEnd:function(b,d,e,f){f===void 0&&(f=(h||(h=c("performanceAbsoluteNow")))());return a.markerEnd(b,d,e,f)}}},"qpl");function a(a){i.setMessagePort(a)}function b(a){i.setBackend(a)}g.setMessagePort=a;g.initQPL=b}),98);
__d("WorkerClient",["WorkerBanzaiLazyQueueChannelClient","WorkerFuncChannel","WorkerQPLChannel"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("WorkerFuncChannel").activateChannels(a,"client","worker"),d("WorkerBanzaiLazyQueueChannelClient").init(a),d("WorkerQPLChannel").setMessagePort(a),e(["QuickPerformanceLogger"],function(a){return d("WorkerQPLChannel").initQPL(a)})}g.init=a}),98);
__d("MAWCommonSetupWorker",["Deferred","MAWCurrentUser","MAWGetDBVersionForTest","MAWInit","MAWMIC","MAWSetupWorker","MAWWaitForBackendSetup","MAWWebWorkerSingleton","MessengerWebInitData","Promise","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","pageID","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]);i=function(){return a};return a}var j=c("gkx")("3282");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var e;e=a.call(this,b,c)||this;e.onmessage=null;e.$BridgeAdapter$p_1=b;d("WorkerClient").init(babelHelpers.assertThisInitialized(e));e.onUnhandledMessage.add(function(a){e.onmessage&&e.onmessage({data:a})});e.addMessageListener("worker-setup",function(a){a.status==="worker-ready"&&d("MAWInit").MAWInit.addBoolAnnotation("workerReadyReceived",!0)});return e}var c=b.prototype;c.getBridgePort=function(){return this};return b}(d("WorkerMessagePort").WorkerSyncedMessagePort);function a(a,e,f,g,j){var l=d("MAWWaitForBackendSetup").getCurrentWorkerID(),m=new(c("Deferred"))();a.addMessageListener("worker-setup",function(e){if(e.setupHash!==c("pageID"))return;if(e.status==="success")m.resolve(a.getBridgePort());else if(e.status==="failure"){var k;m.reject(c("err")((k=e.msg)!=null?k:"Error setting up worker"))}else if(e.status==="already-setup")if(e.action==="no-action"){m.resolve(a.getBridgePort());g();d("MAWInit").MAWInit.logPoint(j+"_backend_already_setup");d("MAWMIC").addPoint(j+"_backend_already_setup");return}else if(e.action==="reboot-required"){d("WALogger").DEV(i());d("MAWMIC").addPoint(j+"_worker_rebooting");d("MAWInit").MAWInit.logPoint(j+"_worker_rebooting");d("MAWInit").MAWInit.addStringAnnotation("workerRebootReason",(k=e==null?void 0:e.reason)!=null?k:"none");d("MAWMIC").addStringAnnotation("workerRebootReason",(k=e==null?void 0:e.reason)!=null?k:"none");k=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?(h||(h=b("Promise"))).resolve(d("MAWWaitForBackendSetup").resetCurrentWorker(l)):d("MAWSetupWorker").terminateDedicatedWorker("reboot required");return k.then(function(){return f("rebootRequired").then(function(a){return m.resolve(a)})["catch"](function(a){return m.reject(a)})})}else throw c("err")("Invalid action for worker-setup:already-setup: "+e.action);else{d("MAWInit").MAWInit.addBoolAnnotation("invalidSetupMessageReceived",!0);throw c("err")("Invalid message for worker")}});a.addMessageListener("worker-setup-ack",function(a){if(a.setupHash!==c("pageID"))return;d("MAWInit").MAWInit.logPoint(j+"_backend_setup_ack");d("MAWMIC").addPoint(j+"_backend_setup_ack");a=(a=a.backendState)!=null?a:"none";d("MAWInit").MAWInit.addStringAnnotation("backendAckState",a);d("MAWMIC").addStringAnnotation("backendAckState",a)});k(a,e);c("promiseDone")(d("MAWWebWorkerSingleton").doesWorkerExist(),function(a){return d("MAWInit").MAWInit.addBoolAnnotation("workerExistsOnSetup",a)});return m.getPromise()}function k(a,b){b={content:{createdAt:c("MessengerWebInitData").createdAt,fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),userKeyBase:c("MessengerWebInitData").userKeyBase,vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"};if(j){d("MAWInit").MAWInit.addBoolAnnotation("devToolsEnabled",!0);var e=d("WADevToolMessageChannel").createNewChannel();b.content.devToolMessageChannelPort2=e.port2;a.postMessage(b,[e.port2])}else a.postMessage(b)}g.BridgeAdapter=e;g.initWorker=a}),98);
__d("MAWConsoleLogger",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("2656");function a(a,b,c){if(h){var d=c.map(function(a){return"["+a+"]"}).join("");for(var e=arguments.length,f=new Array(e>3?e-3:0),g=3;g<e;g++)f[g-3]=arguments[g];if(d){var i;(i=console)[a].apply(i,[d,b].concat(f))}else{var j;(j=console)[a].apply(j,[b].concat(f))}}}g.logToConsole=a}),98);
__d("MAWLogIndexedDb",["MAWCurrentUser","MAWErrorObject","MAWIndexedDbMetadata","MAWQplProxy","MAWTransactionMode","Promise","WAExceededStorageQuota","err","justknobx","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=null;function k(){return c("justknobx")._("1399")}function l(){if(i==null)throw c("err")("LogDB IndexDB should've been initialized");return i}function m(){return j==null?o().then(function(){return l()}):j.then(function(){return l()})}function a(){return i!=null}var n=[function(a){a=a.target.transaction;d("WAExceededStorageQuota").listenToQuotaExceededError(a);a=a.db.createObjectStore("logs",{autoIncrement:!0,keyPath:"id"});a.createIndex("date","date",{unique:!1})}];function o(a){if(j!=null)return j;if(i!=null)return(h||(h=b("Promise"))).resolve();var c=d("MAWCurrentUser").getID(),e=d("MAWIndexedDbMetadata").logDbName(c),f=(a=(c=a)!=null?c:k())!=null?a:n.length;j=new(h||(h=b("Promise")))(function(a,b){var c=indexedDB.open(e,f);c.onupgradeneeded=function(a){for(var b=0;b<n.length;b++){var c=n[b];p(a,b+1)&&c(a)}};c.onsuccess=function(b){var c=b.target.result;c.onversionchange=function(){c.close()};i=c;a()};c.onerror=function(){b(c.error)}});return j}function p(a,b){var c=a.newVersion;a=a.oldVersion;return a<b&&c>=b}function q(a){return a===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"}function e(a,b,e){var f=q(b);return function(b){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=e!=null?d("MAWQplProxy").startQplUserFlow(e):null;return m().then(function(c){var e=function(b){b=c.transaction(a,b!=null?q(b):f,{durability:"relaxed"});d("WAExceededStorageQuota").listenToQuotaExceededError(b);return b.objectStore(a)};return b.apply(void 0,[e].concat(h))}).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("LOG - Error performing transaction in log transactor","maw_db",a?{error:a}:{})})}}}g.getLogDbVersion=k;g.getLogDB=l;g.isLogDBInitted=a;g.dbMigrations=n;g.makeLogMsgrTransactor=e}),98);
__d("MAWSaveLogToDisk",["Deferred","MAWLogIndexedDb","MAWTransactionMode","Promise","asyncToGeneratorRuntime","justknobx","pageID","promiseDone","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1403");f=c("justknobx")._("1404");var j=c("justknobx")._("1401");function k(a){if(Number.isInteger(a))return a;if(typeof a==="string")return(a||"").replace(/\n/g,"");try{return JSON.stringify(a)}catch(a){return"Data could not be serialized"}}function l(a,b){b===void 0&&(b="");return a.length>0?"["+a.join("|")+"]":b}function m(a){switch(a){case"logRestricted":return"warn";case"debug":case"log":case"warn":case"error":return a}}function a(a){return{args:a.logString,date:a.date,event:l(a.tags,"[]"),level:m(a.logLevel)}}function e(a,b,c,d,e,f){return{args:a+"; ERROR="+c.message+";",data:{entriesToReport:e,error:c,framesToPop:d,stack:f},date:Date.now(),event:l(b,"[]"),level:"error"}}var n=[],o=[],p=5,q=0,r=!1,s=function(){n.length=0},t=function(a){a=y(a);o.length<p?o.push(a):o[q%p]=a;q=(q+1)%p},u=function(a){var c=[],d=0;while(d<a){var e=((q-d-1)%p+p)%p;e=o[e];c.push(e);d++}return(h||(h=b("Promise"))).resolve(c)},v=function(a,b){n.push({context:a,logEntry:b}),t({context:a,logEntry:b}),n.length>i?c("promiseDone")(w()):x()},w=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1});return function(){return a.apply(this,arguments)}}(),x=c("throttle")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(r)return;r=!0;try{var a=[].concat(n);s();yield z(a)}catch(a){}r=!1}),f),y=function(a){var b=a.context;a=a.logEntry;return Object.entries(a).reduce(function(a,b){var c=b[0];b=b[1];a[c]=k(b);return a},babelHelpers["extends"]({},a,{category:b+"-"+c("pageID")}))},z=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){e.add(y(a))});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});f=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.getAll();a.onsuccess=function(a){a=a.target.result;a=a.slice(Math.max(0,a.length-j));b.resolve(a)};a.onerror=function(a){return b.reject(a)};return b.getPromise()});var A=function(a){if(a<=o.length)return u(a);else return B(a)},B=d("MAWLogIndexedDb").makeLogMsgrTransactor("logs",d("MAWTransactionMode").READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();a=a.index("date");a=a.openCursor(null,"prev");var e=[];a.onsuccess=function(a){a=a.target.result;if(a==null){d.resolve(e);return}e.push(a.value);if(e.length>=b){d.resolve(e);return}a["continue"]()};a.onerror=function(a){return d.reject(a)};return d.getPromise()});g.joinTags=l;g.formatLog=a;g.formatErrorForLogging=e;g.clearLogEntryCache=s;g.saveLogEntry=v;g.forceCachedLogEntryPersist=w;g.getEntries=f;g.getLastNEntries=A}),98);
__d("MAWDeleteOldLogsFromDisk",["Deferred","MAWLogIndexedDb","MAWSaveLogToDisk","MAWTransactionMode","WALogger","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to delete old logs: ",""]);j=function(){return a};return a}var k=c("justknobx")._("1400"),l=c("justknobx")._("1401"),m=c("justknobx")._("1402"),n=(f=d("MAWLogIndexedDb")).makeLogMsgrTransactor("logs",(h=d("MAWTransactionMode")).READONLY)(function(a){var b=new(c("Deferred"))();a=a();a=a.count();a.onsuccess=function(a){a=a.target.result;b.resolve(a)};a.onerror=function(a){b.reject(a)};return b.getPromise()}),o=f.makeLogMsgrTransactor("logs",h.READONLY)(function(a,b){var d=new(c("Deferred"))();a=a();var e=[];a=a.index("date");a=a.openCursor();a.onsuccess=function(a){a=a.target.result;if(a==null||!b(a.value,e)){d.resolve(e);return}e.push(a.value.id);a["continue"]()};a.onerror=function(a){d.reject(a)};return d.getPromise()}),p=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a){var b=new(c("Deferred"))();a=a();a=a.clear();a.onsuccess=function(){return b.resolve()};a.onerror=function(a){return b.reject(a)};d("MAWSaveLogToDisk").clearLogEntryCache();return b.getPromise()}),q=f.makeLogMsgrTransactor("logs",h.READWRITE)(function(a,b){var d=new(c("Deferred"))(),e=a();b.forEach(function(a){return e["delete"](a)});e.transaction.oncomplete=function(){return d.resolve()};e.transaction.onerror=function(a){return d.reject(a)};return d.getPromise()});function r(a,b){b=Date.now()-m;return a!=null&&a.date<=b}function s(a){return function(b,c){return c.length<a}}function a(){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;a=a-l;if(a>0){a=(yield o(s(a)));yield q(a);return}a=(yield o(r));a.length>0&&(yield q(a))}catch(a){d("WALogger").ERROR(j(),a)}});return t.apply(this,arguments)}function e(){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield n());if(a===0)return;if(a>=k){yield p();return}}catch(a){d("WALogger").ERROR(i(),a)}});return u.apply(this,arguments)}g.clearLogs=p;g.deleteOldLogs=a;g.deleteOldLogsOnStartup=e}),98);
__d("MAWEARDebugs",["FBLogger","MAWCryptoConsts","MAWCurrentUser","Promise","WATimeUtils","WebAsyncStorage","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i="MAWDbEncryption_S456130_"+d("MAWCurrentUser").getID();function a(a){var e=a.encryptionKey,f=a.incrementCreationCount,g=a.incrementDeletionCount;return new(h||(h=b("Promise")))(function(a,b){c("WebAsyncStorage").getItem(i,function(h,j){try{if(h!=null)return b(h);var k=(h=j)!=null?h:{};k.metadataCreationTime==null&&(k.metadataCreationTime=d("WATimeUtils").castToUnixTime(Date.now()/1e3));if(g===!0){k.deletionCount=((j=k.deletionCount)!=null?j:0)+1}if(f===!0){k.creationCount=((h=k.creationCount)!=null?h:0)+1}if(e!=null){var l;j="version_"+e.version;h=e.dbEntry.seed;k[j]=(l=k[j])!=null?l:{seeds:[]};k[j].seeds.includes(h)||k[j].seeds.push(h)}c("WebAsyncStorage").setItem(i,k,function(c){if(c!=null)return b(c);a(k)})}catch(a){b(a)}})})["catch"](function(a){throw c("FBLogger")("maw_db_ear").catching(a).mustfix("[S456130] Unable to update AsyncStorage metadata")})}function e(a,e){return new(h||(h=b("Promise")))(function(f,g){c("WebAsyncStorage").getItem(i,function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h){if(b!=null)return g(b);try{var i;if(h==null||e==null)return c("FBLogger")("maw_db_ear").info("[S456130] Failed to access logging metadata: result %s - encryptionKey %s",Boolean(h),Boolean(e));b="version_"+e.version;c("FBLogger")("maw_db_ear").info("[S456130] Encryption key version %s analysis: seeds array length %s - keyFound %s - deletionCount %s - creationCount %s - trusted %s - errName %s",e.version,(i=h[b])==null?void 0:i.seeds.length,(i=h[b])==null?void 0:i.seeds.includes(e.dbEntry.seed),h.deletionCount,h.creationCount,h.metadataCreationTime==null?!1:h.metadataCreationTime<=e.dbEntry.expiration-d("MAWCryptoConsts").ENC_KEY_TTL,a.name);f()}catch(a){g(a)}});return function(a,b){return h.apply(this,arguments)}}())})}g.touchDbEncryptionKeyVersion_S456130=a;g.analyseEncryptionKeyResult_S456130=e}),98);
__d("MAWEARGenNewKeychainCryptoKey",["FBLogger","MAWCryptoConsts","MAWKeychainCrypto","MAWWebInitDataHelpers","MessengerWebInitData","WATimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a,b=d("MAWWebInitDataHelpers").getLastAccountKeyFormatVersion(),e=(yield (a=d("MAWKeychainCrypto")).getAccountKeys(b))[0],f=a.genBrowserEncryptionKeyString(),g=a.genDatabaseEncryptionSeed();e=(yield a.encryptDataToStringBuffer(e,g));g=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);return{accountKeyString:yield a.generateHashString(d("MAWWebInitDataHelpers").getAccountKeysString(b)[0]),appIdOrigin:c("MessengerWebInitData").appId,expiration:g,formatVersion:b,key:f,seed:e,userKeyBaseString:yield a.generateHashString(c("MessengerWebInitData").userKeyBase)}}catch(a){throw c("FBLogger")("messenger_e2ee_web").catching(a).mustfixThrow("Failed to generateNewKey")}});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWEARKeychainDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MAWEARKeychainDecryptionError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWWorkerSetupArgs",[],(function(a,b,c,d,e,f){"use strict";var g=null;function a(a){g=a}function b(){return g}function c(){g=null}f.setWorkerSetupArgs=a;f.getWorkerSetupArgs=b;f.resetWorkerSetupArgs=c}),66);
__d("MAWGenKeychainCryptoKeyWithVersion",["ExecutionEnvironment","FBLogger","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWKeychainCrypto","MAWWebInitDataHelpers","MAWWorkerSetupArgs","MessengerWebInitData","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d,e,f,g){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,j,k,l){g===void 0&&(g=1);try{var m=(yield d("MAWKeychainCrypto").getAccountKeys(g));a=(yield (i||(i=b("Promise"))).all([d("MAWKeychainCrypto").importBrowserEncryptionKey(a),i.all(m.map(function(a){return d("MAWKeychainCrypto").decryptDataToArrayBuffer(a,e)["catch"](function(){return null})}))]));var n=a[0];m=a[1];a=(yield i.all(m.filter(Boolean).map(function(a){return d("MAWKeychainCrypto").genDatabaseEncryptionKey(n,a)["catch"](function(){return null})})));m=a.filter(Boolean);if(m.length===0)throw new(c("MAWEARKeychainDecryptionError"))("Failed to generate keys from seed");return{keys:m,version:f}}catch(b){a=null;m=null;f=d("MAWWorkerSetupArgs").getWorkerSetupArgs();(h||(h=c("ExecutionEnvironment"))).isInWorker&&f!=null&&(a=f.userKeyBase===c("MessengerWebInitData").userKeyBase,m=f.fbId===d("MAWCurrentUser").getID());f=d("MAWWebInitDataHelpers").getAccountKeysString(g);var o=f&&f[0]!=null?yield d("MAWKeychainCrypto").generateHashString(f[0]):null;c("FBLogger")("maw_ear").catching(b).mustfix("Failed to genKeyWithVersion: accountKeyBackfilled = %s; accountKeyExists = %s; acccountKeyMatches = %s; userKeyBaseBackilled = %s; userKeyBaseExists = %s; userKeyBaseMatches = %s; appIdOrigin = %s; appIdInitData = %s; userIdMatches = %s; isInWorker = %s; userKeyBase_match_between_threads = %s; userId_match_between_threads = %s; formatVersion = %s;",j!=null,f!=null,j===o,k!=null,c("MessengerWebInitData").userKeyBase!=null,k===(yield d("MAWKeychainCrypto").generateHashString(c("MessengerWebInitData").userKeyBase)),l,c("MessengerWebInitData").appId,d("MAWCurrentUser").getID()===String(c("MessengerWebInitData").userId),(h||(h=c("ExecutionEnvironment"))).isInWorker,a,m,g);throw b}});return j.apply(this,arguments)}g["default"]=a}),98);
__d("MWEARKeychainV3Errors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="EARKeychainNotFoundError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.EARKeychainNotFoundError=a}),66);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof window!=="undefined"?window:self;function i(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function j(a){var b=new h.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return h.BroadcastChannel!=null?j(a):i(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=this;this.$2=null;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){return this.listenToRequestAsync(function(){return(h||(h=b("Promise"))).resolve(a())})};e.listenToRequestAsync=function(a){var b=this,d=function(d){d.a==="r"&&d.t!==b.tabID()&&c("promiseDone")(a().then(function(a){a={a:"sb",k:a,r:d.t,t:b.tabID()};b.$4.sendMessage(a)}))};return this.$4.onRequestReceived(d)};e.$7=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return(h||(h=b("Promise"))).race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new h(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);
__d("MWBroadcastChannelPolyfill",["FBLogger","LocalStorageWrapper","MessengerLogHistory","Random","recoverableViolation","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init");function a(a){h.debug("[MWBroadcastChannelPolyfill] "+a)}function i(a){c("FBLogger")("messenger_browser_clients").mustfix(a)}var j={},k=d("LocalStorageWrapper").getStorage(a);function b(a){var b="$BroadcastChannel$"+a+"$",e=!1,f=function(a){if(a.storageArea!==k)return;var c=a.newValue;if(c==null||c==="")return;if(((a=a.key)==null?void 0:a.substring(0,b.length))!==b)return;var d=JSON.parse(c);(a=j[b])==null?void 0:a.forEach(function(a){a({data:d})})};window.addEventListener("storage",f);return{addEventListener:function(a,c){j[b]=j[b]||new Set(),j[b].add(c)},close:function(){if(e)return;e=!0;j={};window.removeEventListener("storage",f)},postMessage:function(a){if(e){c("recoverableViolation")("Broadcast channel is closed","ls_web_init");return}a=JSON.stringify(a);var f=b+String(Date.now())+"$"+String(c("Random").uint32());d("LocalStorageWrapper").setItemGuarded(k,f,a,i);c("setTimeout")(function(){d("LocalStorageWrapper").removeItemGuarded(k,f,i)},500)},removeEventListener:function(a,c){(a=j[b])==null?void 0:a["delete"](c)}}}g["default"]=b}),98);
__d("MWBroadcastChannel",["MWBroadcastChannelPolyfill"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return self.BroadcastChannel!=null?new self.BroadcastChannel(a):c("MWBroadcastChannelPolyfill")(a)}g.MWBroadcastChannel=a}),98);
__d("ReStoreTabNotifier",["CurrentMessengerUser","FBLogger","MWBroadcastChannel","MWLSIndexedDBName"],(function(a,b,c,d,e,f,g){"use strict";var h=d("CurrentMessengerUser").getIDorEIMU();function a(a){var b=d("MWBroadcastChannel").MWBroadcastChannel(a==="restore-table-"+h+"-"+d("MWLSIndexedDBName").dbName()?"mwChat-"+h:a);function e(a,d){try{b.postMessage([a,d])}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).warn("Failed to broadcast changes")}}function f(a,c){b.addEventListener("message",function(b){b=b.data;var d=b[0];d===a&&c(b[1])})}return{onEventReceive:f,postMessage:e}}g["default"]=a}),98);
__d("MWEARKeychainV3",["$InternalEnum","Deferred","ExecutionEnvironment","FBLogger","LSPlatformLsInitLog","MAWCryptoConsts","MAWCurrentUser","MAWEARGenNewKeychainCryptoKey","MAWGenKeychainCryptoKeyWithVersion","MAWQplProxy","MAWReliabilityMonitor","MWEARKeychainV3Errors","MWTabCommunication","Promise","QPLUserFlow","Random","ReStoreTabNotifier","WAArrayBufferUtils","WAResultOrError","WATimeUtils","asyncToGeneratorRuntime","err","getErrorSafe","gkx","memoizeOneWithArgs","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(){return{accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION}},k={global_ear:j(),maw_ear:j()},l=null,m=function(){var a=Object.keys(k).reduce(function(a,b){a[b]="none";return a},{});return{get:function(b){return a[b]},is:function(b,c){return a[b]===c},set:function(b,c){a[b]=c;(b=l)==null?void 0:b.updateState()}}}();function a(a){k[a]=j(),m.set(a,"none")}function e(a,b){m.set(a,b)}function n(a){var b=d("Random").uint32();while(a.some(function(a){return a.randomisedVersion===b}))b=d("Random").uint32();return b}var o={global_ear:function(){return null},maw_ear:function(){return null}},p=function(a){return o[a]()},q=function(a,b){o[a]=function(){return b}},r=function(a,b){q(a,b),x(a).dbReady.resolve()},s={global_ear:"browserEncryptionMetaV2",maw_ear:"encryptionMetaV3"},t=c("memoizeOneWithArgs")(function(a,b){return new(d("MWTabCommunication").MWTabCommunication)("ear_keys_"+b+"_"+a)});function f(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=N);c("FBLogger")("maw_ear").info("Initialise EAR keychain: %s",a);l=K(a);if(m.is(a,"success")&&x(a).databaseEncryptionKeys.size!==0)return d("WAResultOrError").makeResult(w(a));var e=d("MAWCurrentUser").getID(),f=c("ReStoreTabNotifier")("channel-ear-keychain-v3-"+e);f.onEventReceive("notifyEarKeychainV2",G);b(a+"_ear_init_start");try{f=(yield L(f,a,void 0,b));b(a+"_ear_import_end");for(f of f)x(a).databaseEncryptionKeys.set(f.result.version,{dbEntry:f.entry,keys:f.result.keys});F(a);t(a,e).listenToRequest(function(){return JSON.stringify(Array.from(x(a).databaseEncryptionKeys.entries()).map(function(a){var b=a[0];a=a[1];var c=a.dbEntry;a=a.keys;return[b,{dbEntry:c,keys:a.map(function(a){return d("WAArrayBufferUtils").arrayBufferToString(a)})}]}))});f=(i||(i=c("ExecutionEnvironment"))).isInWorker?"Worker":"UI";b(a+"_ear_init_end",{string_array:(e={},e[a+"_randomisedVersionKeys"+f]=v(a).map(function(a){a[0];a=a[1].dbEntry;return String(a.randomisedVersion)}),e)});m.set(a,"success");return d("WAResultOrError").makeResult(w(a))}catch(e){m.set(a,"failure");b(a+"_ear_init_error");c("FBLogger")("messenger_e2ee_web").catching(c("getErrorSafe")(e)).mustfix("Failed to setup EAR Keychain V3. Namespace: %s",a);return d("WAResultOrError").makeError("keychain-setup-failure",e)}});return u.apply(this,arguments)}function v(a){return Array.from(x(a).databaseEncryptionKeys.entries())}function w(a){return x(a).latestVersion}function x(a){return k[a]}function y(a,b){var e=(b=b)!=null?b:w(a),f=x(a).databaseEncryptionKeys.get(e);if(f==null){c("promiseDone")(C(a).then(function(a){var b=a.map(function(a){return a.version}).includes(e);c("FBLogger")("messenger_e2ee_web").info("EAR Keychain DB match found: %s. Version = %s. NumberVersions = %s",b,e,a.length)}));b=w(a);var g=Array.from(x(a).databaseEncryptionKeys.keys());c("FBLogger")("messenger_e2ee_web").mustfix("EAR Key v%s was null. Latest version: %s has key: %s, keychain length: %s, currentLatestVersion: %s, init status %s, in worker %s",e,b,x(a).databaseEncryptionKeys.get(b)==null,x(a).databaseEncryptionKeys.size,Math.max.apply(Math,g),m.get(a),(i||(i=c("ExecutionEnvironment"))).isInWorker);throw new(d("MWEARKeychainV3Errors").EARKeychainNotFoundError)("EAR Key "+e+" was null.")}Math.random()<1/1e4&&c("promiseDone")(C(a).then(function(a){a=a.find(function(a){return e===a.version});if(a==null)return"key_not_found";return a.seed===f.dbEntry.seed?"key_match":"key_mismatch"}),function(a){c("FBLogger")("maw_ear").info("EAR Key consistency: %s",a)});return{dbEntry:f.dbEntry,keys:f.keys,randomisedVersion:f.dbEntry.randomisedVersion,version:e}}function z(a){return c("MAWGenKeychainCryptoKeyWithVersion")(a.key,a.seed,a.version,a.formatVersion,a.accountKeyString,a.userKeyBaseString,a.appIdOrigin)}var A=b("$InternalEnum")({UNKNOWN:-1,NO_KEY:0,EBSM_EARV2_UPGRADE:1,RANDOMISED_VERSION_UPGRADE:2,EXPIRED_KEY:3,FORCE_KEY_ROTATION:4});function B(a){var b;if(a.length===0)return{reason:A.NO_KEY,result:!0};a=a[a.length-1];b=(b=a.formatVersion)!=null?b:1;if(c("gkx")("7292")&&b<2)return{reason:A.EBSM_EARV2_UPGRADE,result:!0};b=a.randomisedVersion;if(b==null&&c("gkx")("8051"))return{reason:A.RANDOMISED_VERSION_UPGRADE,result:!0};return!d("WATimeUtils").isInFuture(a.expiration)?{reason:A.EXPIRED_KEY,result:!0}:{result:!1}}function C(a){var c=E(a,"readonly");return new(h||(h=b("Promise")))(function(b,d){c.onabort=function(){return d(c.error)};c.onerror=function(){return d(c.error)};var e=c.objectStore(s[a]).getAll();e.onsuccess=function(){return b(e.result)};e.onerror=function(){return d(e.error)}}).then(D)}function D(a){var b=a.find(function(a){return a.version==null});b!=null&&c("FBLogger")("messenger_e2ee_web").mustfix("EAR Keychain Rotation null version: fields nonnull: %s %s %s %s %s %s",b.id==null,b.key==null,b.seed==null,b.formatVersion==null,b.accountKeyString==null,b.userKeyBaseString==null);b=a.filter(function(a){return a.version!=null});return b.sort(function(a,b){return a.version-b.version})}function E(a,b){var d=p(a);if(d==null)throw c("err")("Encryption IndexDB should've been initialized. Namespace: %s",a);return d.transaction(s[a],b,{durability:"strict"})}var F=function(a){var b=Array.from(x(a).databaseEncryptionKeys.keys());b.length>0?x(a).latestVersion=Math.max.apply(Math,b):c("FBLogger")("messenger_e2ee_web").mustfix("EAR latest version does not exist")},G=function(a){var d=a.namespace,e=a.version;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{c("FBLogger")("maw_ear").info("Received key rotation notification. Namespace: %s",d);c("gkx")("1630")&&(yield x(d).dbReady.getPromise());var a=(yield C(d)).find(function(a){return a.version===e});if(a==null)throw c("err")("Notified new Ear Key but missing in DB");var b=(yield z(a));x(d).databaseEncryptionKeys.set(b.version,{dbEntry:a,keys:b.keys});F(d);c("FBLogger")("maw_ear").info("Rotated key successfully. Namespace: %s",d)}catch(a){return c("FBLogger")("maw_ear").catching(a).mustfix("Failed to handleNewVersion. In worker %s. Namespace: %s.",(i||(i=c("ExecutionEnvironment"))).isInWorker,d)}})())};function H(a){return m.get(a)!=="none"}function I(a){return m.get(a)}function J(a){if(m.is(a,"success")){x(a).databaseEncryptionKeys.size===0&&c("FBLogger")("messenger_e2ee_web").mustfix("Keychain initialised but no keys present");return!0}return!1}function K(a){return d("MAWReliabilityMonitor").MAWReliabilityMonitorSingleton.startMonitoring("EARv3",function(){return{extra:{isKeychainInitialised:J(a).toString(),latestVersion:w(a).toString()},reason:m.get(a),state:function(){switch(m.get(a)){case"none":return d("MAWReliabilityMonitor").HealthReportState.PENDING;case"success":return d("MAWReliabilityMonitor").HealthReportState.OK;case"failure":return d("MAWReliabilityMonitor").HealthReportState.ERROR;default:return d("MAWReliabilityMonitor").HealthReportState.UNKNOWN}}()}})}function L(a,b,c,d){return M.apply(this,arguments)}function M(){M=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f){var g=(yield c("MAWEARGenNewKeychainCryptoKey")());f(d+"_ear_raw_key_generated");var j=(yield new(h||(h=b("Promise")))(function(b,h){var j=E(d,"readwrite");j.onerror=function(){return h(j.error)};j.onabort=function(){return h(j.error)};var k=j.objectStore(s[d]).getAll();k.onerror=function(){return h(k.error)};k.onsuccess=function(){var l;f(d+"_ear_keys_fetched");var m=D(k.result),o=B(m),p=o.reason;o=o.result;if((e==null?void 0:e.forceKeyRotation)!==!0&&!o)return b(m);p=(e==null?void 0:e.forceKeyRotation)===!0?A.FORCE_KEY_ROTATION:(o=p)!=null?o:A.UNKNOWN;o=m.map(function(a){return a.version});l=(l=o[o.length-1])!=null?l:0;c("FBLogger")("messenger_e2ee_web").info("Key rotation. EAR versions: %s. Latest version: %s. Namespace: %s, Worker: %s",o.toString(),l,d,(i||(i=c("ExecutionEnvironment"))).isInWorker);var q=babelHelpers["extends"]({},g,{randomisedVersion:n(m),source:p,version:l+1});f(d+"_ear_adding_new_key");j.oncomplete=function(){m.push(babelHelpers["extends"]({},q,{id:q.version})),a.postMessage("notifyEarKeychainV2",{namespace:d,version:q.version}),f(d+"_ear_gen_key_end"),b(m)};var r=j.objectStore(s[d]).add(q);r.onerror=function(){return h(c("FBLogger")("messenger_e2ee_web").catching(r.error).mustfixThrow("Failed to rotate EAR key"))}}}));f(d+"_ear_import_start");j=(yield h.allSettled(j.map(function(a){return z(a).then(function(b){return{entry:a,result:b}})})));if(c("gkx")("8096")){var k=j[j.length-1];if(k.status==="rejected"){var l;l=(l=e==null?void 0:e.corruptedEARRetryCount)!=null?l:0;if(l>=1)throw k.reason;return L(a,d,{corruptedEARRetryCount:l+1,forceKeyRotation:!0},f)}return j.map(function(a){if(a.status==="fulfilled")return a.value}).filter(Boolean)}else{k=j.find(function(a){return a.status==="rejected"});if(k!=null&&k.status==="rejected")throw k.reason;return j.map(function(a){if(a.status==="fulfilled")return a.value}).filter(Boolean)}});return M.apply(this,arguments)}var N=function(a,b){d("LSPlatformLsInitLog").addPoint(a,b),O(a,b)},O=function(a,b){var e=c("qpl")._(25310776,"6155");(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(e,"backend_"+a,{annotations:b}):(c("QPLUserFlow").addPoint(e,"ui_"+a),b!=null&&c("QPLUserFlow").addAnnotations(e,b))},P=function(a,b){return t(a,b).request(function(b){b=JSON.parse(b);b.forEach(function(b){var c=b[0];b=b[1];var e=b.keys.map(d("WAArrayBufferUtils").stringToArrayBuffer);x(a).databaseEncryptionKeys.set(c,{dbEntry:b.dbEntry,keys:e})});F(a);m.set(a,"success");return!0},function(){return!1})};g.resetKeychain__TEST_ONLY_DO_NOT_USE=a;g.setInitStatus__TEST_ONLY_DO_NOT_USE=e;g.generateNewRandomisedVersionNumber=n;g.setNamespaceSourceDbWithoutMarkingDbReady=q;g.setNamespaceSourceDbAndMarkAsReady=r;g.getEncryptionKeysTabCommunication=t;g.init=f;g.getLatestVersion=w;g.getKeychain=x;g.getDbEncryptionKey=y;g.isKeychainSettled=H;g.getKeychainInitStatus=I;g.isKeychainInitialised=J;g.logMawInitPoint=O;g.importKeysFromOtherTab=P}),98);
__d("WAWorkerGlobalScope",[],(function(a,b,c,d,e,f){"use strict";a=function(){if(typeof window!=="undefined")return window;return typeof globalThis!=="undefined"?globalThis:self}();f.workerGlobalScope=a}),66);
__d("MAWEncryptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWEARDebugs","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MWEARKeychainV3","Promise","QPLUserFlow","WALogger","WAWorkerGlobalScope","err","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"]);j=function(){return a};return a}b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=null,o=null,p=null;function a(){return n}function e(){return n!=null}var q=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(babelHelpers.wrapNativeSuper(Error));function r(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID(),g=c("gkx")("1030");if(e>m){u(a,"ear_idb_retry_failed_max_reached");return(i||(i=b("Promise"))).reject(new q())}if(n!=null){u(a,"ear_db_exists");return(i||(i=b("Promise"))).resolve()}if(indexedDB==null){u(a,"ear_idb_unavailable");return(i||(i=b("Promise"))).reject(c("err")("IndexedDB API not available"))}u(a,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(i||(i=b("Promise")))(function(b,i){var j=function(c){r(a,e+1).then(b)["catch"](function(a){if(a instanceof q)return i(c);i(a)})};try{p=d("MAWIndexedDbMetadata").encryptionDbName(f);var m=indexedDB.open(p),t=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("IndexedDB initialisation timeout in %s flow, isInWorker: %s, openRequest: %s",String(a),(h||(h=c("ExecutionEnvironment"))).isInWorker?"true":"false",m.readyState))},g?6e4:1e4);m.onupgradeneeded=function(b){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);u(a,"ear_db_upgrade_start");b=b.target.result;if(!b.objectStoreNames.contains(k)){b=b.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});b.createIndex(l,l,{unique:!0})}u(a,"ear_db_upgrade_end");void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({incrementCreationCount:!0})};m.onblocked=function(){u(a,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){i(c("err")("EAR Open timed out while blocked"))},2e3)};m.onsuccess=function(e){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);var f=e.target.result;if(!f.objectStoreNames.contains(k)){e=m.result.objectStoreNames.contains(k);c("FBLogger")("maw_ear").warn("Missing encryption meta table. Is store present: %s",e);d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);return s(f,"missing_encryption_meta_table").then(function(){j(c("err")("Malformed encryption DB"))})["catch"](function(b){u(a,"ear_idb_retry_failed_delete_failed");return i(c("err")("Failed to delete malformed encryption DB: "+b.message))})}f.onversionchange=function(){f.close(),c("FBLogger")("messenger_e2ee_web").info("EAR onversionchange triggered"),void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({incrementDeletionCount:!0}),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t),o==null?void 0:o()};u(a,"ear_db_open_end");n=f;d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("global_ear",n);b()};m.onerror=function(){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(t);if(m.error.name==="UnknownError"&&g){u(a,"ear_db_open_error_unknown_error");return j(m.error)}u(a,"ear_db_open_error");i(m.error)}}catch(b){u(a,"ear_db_error"),i(b)}})}function f(a){o=o==null?a:o}function s(a,b){a===void 0&&(a=n);c("FBLogger")("maw_ear").warn("EAR DB deletion triggered: %s",b);a!=null&&a.close();void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({incrementDeletionCount:!0});return d("MAWIndexedDBDeletion").deleteDB(p,"ear")}function t(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(j());return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127");case c("EARInitType").MAW_IN_UI_INIT:return null}}function u(a,b,e){a=t(a);if(a==null)return;(h||(h=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=a;g.isEncryptionDBInited=e;g.makeEncryptionDB=r;g.maybeSetEncryptionDbOnVersionChange=f;g.deleteEncryptionDB_UNSAFE=s}),98);
__d("MAWKeychain",["MWEARKeychainV3"],(function(a,b,c,d,e,f,g){"use strict";a={getDbEncryptionKey:d("MWEARKeychainV3").getDbEncryptionKey,getLatestVersion:d("MWEARKeychainV3").getLatestVersion,init:d("MWEARKeychainV3").init};g["default"]=a}),98);
__d("MAWLeakDetection",[],(function(a,b,c,d,e,f){"use strict";var g="[Vault] Vaulted string detected";function h(a){var b=/\d{10}##\d{10}/gm;return b.test(a)}function a(a){return h(a)?g:a}f.VAULTED_STRING_DETECTED=g;f.detectVaultedString=h;f.maybeReplaceVaultedString=a}),66);
__d("MAWLoggingSwitches",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("503");g.removeLoggingFromBridge=a}),98);
__d("MAWVaultMaterialsStorage",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWVaultMaterials","MAWVaultMaterialsStorageStatus","MWTabCommunication","Promise","asyncToGeneratorRuntime","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="mw_vaulting_materials_lock";f="mw_exchange_vm";var k=new(d("MWTabCommunication").MWTabCommunication)(f);function l(a){return k.request(function(a){return{isRequestSuccessful:!0,vaultMaterials:d("MAWVaultMaterials").fromStringToMaterials(a)}},function(){a&&c("FBLogger")("maw_ear").mustfix("Vaulting materials were not received from another tab");return{isRequestSuccessful:!1,vaultMaterials:null}}).then(function(a){var b=a.isRequestSuccessful;a=a.vaultMaterials;return d("MAWVaultMaterials").hasVaultBeenSetup()?d("MAWVaultMaterials").getVaultMaterials():d("MAWVaultMaterials").initializeVaultMaterials(a,b===!1?"generated after timeout":void 0)})}var m=null;function n(){if(m!=null)return m;c("BrowserLockManager")!=null?m=new(i||(i=b("Promise")))(function(a,e){c("BrowserLockManager").request(j,{ifAvailable:!0},function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e==null){c("promiseDone")(c("BrowserLockManager").request(j,function(){c("FBLogger")("maw_worker").info("[Vaulting] Got the lock from new materials");d("MAWVaultMaterialsStorageStatus").setIsCurrentContextHoldingLock();return new(i||(i=b("Promise")))(c("emptyFunction"))}));e=(yield l(!0));a(e);return}a(d("MAWVaultMaterials").initializeVaultMaterials());d("MAWVaultMaterialsStorageStatus").setIsCurrentContextHoldingLock();return new(i||(i=b("Promise")))(c("emptyFunction"))});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){e(a)})}):(c("FBLogger")("maw_ear").info("navigator.locks is not available, using fallback"),m=l(!1));return m}function a(){if(d("MAWVaultMaterials").hasVaultBeenSetup()){c("FBLogger")("maw_worker").info("[Vaulting] Vaulting already setup");return(i||(i=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials())}var a=n();k.listenToRequestAsync(function(){return a.then(function(){c("FBLogger")("maw_worker").info("[Vaulting] Sending out vaulting materials, in worker: %s, async",(h||(h=c("ExecutionEnvironment"))).isInWorker);return d("MAWVaultMaterials").materialsToString()})});return a}function e(a){if(d("MAWVaultMaterials").hasVaultBeenSetup())return;d("MAWVaultMaterials").initializeVaultMaterials(a);k.listenToRequest(function(){c("FBLogger")("maw_worker").info("[Vaulting] Sending out vaulting materials, in worker: %s",(h||(h=c("ExecutionEnvironment"))).isInWorker);return d("MAWVaultMaterials").materialsToString()});c("BrowserLockManager")!=null&&c("promiseDone")(c("BrowserLockManager").request(j,function(){c("FBLogger")("maw_worker").info("[Vaulting] Got the lock from existing materials");d("MAWVaultMaterialsStorageStatus").setIsCurrentContextHoldingLock();return new(i||(i=b("Promise")))(c("emptyFunction"))}))}g.setupVaultMaterials=a;g.setupExistingVaultMaterials=e}),98);
__d("MAWVaultMaterialsStorageV2",["BrowserLockManager","FBLogger","MAWVaultMaterials","MAWVaultMaterialsStorageStatus","MWTabCommunication","Promise","WebAsyncStorage","asyncToGeneratorRuntime","emptyFunction","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_vaulting_materials_lock",j="mw_exchange_vm",k=new(d("MWTabCommunication").MWTabCommunication)(j);function l(a){return k.request(function(a){return d("MAWVaultMaterials").fromStringToMaterials(a)},function(){a&&c("FBLogger")("maw_ear").mustfix("Vaulting materials were not received from another tab");return null})}function m(){return new(h||(h=b("Promise")))(function(a){c("WebAsyncStorage").getItem(j,function(b,d){b!=null&&(c("FBLogger")("maw_ear").mustfix("Vaulting materials were not received from database"),a(null)),d!=null?a(d):(c("FBLogger")("maw_ear").mustfix("Vaulting materials were not received from database. Vault materials are null"),a(null))})})}function n(a,e){var f,g=(f=a)!=null?f:d("MAWVaultMaterials").generateNewVaultMaterials(),i=(f=e)!=null?f:a==null?"newly-generated":"existing";return new(h||(h=b("Promise")))(function(a){c("WebAsyncStorage").getOrSetItem(j,g,function(b,e){if(b!=null){c("FBLogger")("maw_ear").mustfix("Failed to store Vaulting Materials. %s",b.toString());throw c("unrecoverableViolation")("Failed to store Vaulting Materials","messenger_web_product")}e!==null&&(g=e,i="storage");a(d("MAWVaultMaterials").initializeVaultMaterials(g,i))})})}var o=null;function p(){if(o!=null)return o;c("FBLogger")("maw_ear").info("Setting up new vault materials");c("BrowserLockManager")!=null?o=new(h||(h=b("Promise")))(function(a,e){c("BrowserLockManager").request(i,{ifAvailable:!0},function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e==null){c("promiseDone")(c("BrowserLockManager").request(i,function(){d("MAWVaultMaterialsStorageStatus").setIsCurrentContextHoldingLock();return new(h||(h=b("Promise")))(c("emptyFunction"))}));e=(yield m());var f=e!==null?"storage":null;e==null&&(c("FBLogger")("maw_ear").info("Requesting materials from another tab"),e=(yield l(!0)),f=e!==null?"existing":null);a(n(e,f));return}a(n());d("MAWVaultMaterialsStorageStatus").setIsCurrentContextHoldingLock();return new(h||(h=b("Promise")))(c("emptyFunction"))});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){e(a)})}):(c("FBLogger")("maw_ear").info("navigator.locks is not available, using fallback"),o=l(!1).then(function(a){return n(a)}));return o}function a(){if(d("MAWVaultMaterials").hasVaultBeenSetup())return(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials());var a=p();k.listenToRequestAsync(function(){return a.then(function(){return d("MAWVaultMaterials").materialsToString()})});return a}function e(a){if(d("MAWVaultMaterials").hasVaultBeenSetup())return;d("MAWVaultMaterials").initializeVaultMaterials(a);k.listenToRequest(function(){return d("MAWVaultMaterials").materialsToString()});c("BrowserLockManager")!=null&&c("promiseDone")(c("BrowserLockManager").request(i,function(){d("MAWVaultMaterialsStorageStatus").setIsCurrentContextHoldingLock();return new(h||(h=b("Promise")))(c("emptyFunction"))}))}g.setupVaultMaterials=a;g.setupExistingVaultMaterials=e}),98);
__d("MWSetupDBEncryption",["BrowserLockManager","ExecutionEnvironment","FBLogger","MAWEncryptionIndexedDbV2","MAWKeychain","MWEARKeychainV3","Promise","WAResultOrError","asyncToGeneratorRuntime","getErrorSafe","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b()};function a(a){j=a}var k="mw_ear_db";function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("MAWEncryptionIndexedDbV2").makeEncryptionDB(a);return yield j("init_setup_keychain",function(){return c("MAWKeychain").init("global_ear")})}catch(e){var b=e instanceof Error?e:c("getErrorSafe")(e);c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("[%s] EAR setup error",String(a));return d("WAResultOrError").makeError("keychain-setup-failure",b)}});return m.apply(this,arguments)}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(d("MAWEncryptionIndexedDbV2").getEncryptionDB()!=null&&d("MWEARKeychainV3").isKeychainInitialised("global_ear"))return(i||(i=b("Promise"))).resolve(d("WAResultOrError").makeResult(d("MWEARKeychainV3").getLatestVersion("global_ear")));if(c("BrowserLockManager")!=null)return new(i||(i=b("Promise")))(function(d,e){c("promiseDone")(c("BrowserLockManager").request(k,b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield l(a));d(b)}catch(a){e(a)}})),function(a){},function(a){e(a)})});else return l(a)});return o.apply(this,arguments)}function e(a,c){c===void 0&&(c=function(a){return!0});var d=null;return function(e){d==null&&(d=a(e).then(function(a){d=c(a)?(i||(i=b("Promise"))).resolve(a):null;return a})["catch"](function(a){d=null;throw a}));return d}}f=e(function(a){return n(a)},function(a){return(a==null?void 0:a.success)===!0});e=c("justknobx")._("2804")||(h||(h=c("ExecutionEnvironment"))).isInWorker?f:n;g.setPerformanceMeasurementTool=a;g.init=e}),98);
__d("ReStoreEvent",[],(function(a,b,c,d,e,f){"use strict";a=function(){};f["default"]=a}),66);
__d("ReStoreIndexedDbClosedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.idb=b;d.error=c;return d}var c=b.prototype;c.getError=function(){return this.error};return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbFailToOpenEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreIndexedDbUpgradedEvent",["ReStoreEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ReStoreEvent"));g["default"]=a}),98);
__d("ReStoreUnexpectedlyClosed",[],(function(a,b,c,d,e,f){"use strict";a="ReStoreUnexpectedlyClosed";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=a;f.ReStoreUnexpectedlyClosed=b}),66);
__d("WAArrayZip",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=Math.min(a.length,b.length);return a.slice(0,c).map(function(a,c){return[a,b[c]]})}f.zip=a}),66);
__d("promiseFromRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new self.Promise(function(b,c){a.onsuccess=function(a){b(a.target.result)},a.onerror=function(a){c(a)}})}f["default"]=a}),66);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/yKsQCAUqcFZ/
 */
__d("dexie-4.0.1",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.Dexie=c())})(this,function(){var b=function(a,c){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return b(a,c)};function c(a,c){if(typeof c!=="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");b(a,c);function d(){this.constructor=a}a.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d())}var d=function(){d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return d.apply(this,arguments)};function e(a,b,c){if(c||arguments.length===2)for(var d=0,e=b.length,f;d<e;d++)(f||!(d in b))&&(f||(f=Array.prototype.slice.call(b,0,d)),f[d]=b[d]);return a.concat(f||Array.prototype.slice.call(b))}var f=typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:a,g=Object.keys,h=Array.isArray;typeof Promise!=="undefined"&&!f.Promise&&(f.Promise=Promise);function i(a,b){if(typeof b!=="object")return a;g(b).forEach(function(c){a[c]=b[c]});return a}var j=Object.getPrototypeOf,k={}.hasOwnProperty;function l(a,b){return k.call(a,b)}function m(a,b){typeof b==="function"&&(b=b(j(a))),(typeof Reflect==="undefined"?g:Reflect.ownKeys)(b).forEach(function(c){o(a,c,b[c])})}var n=Object.defineProperty;function o(a,b,c,d){n(a,b,i(c&&l(c,"get")&&typeof c.get==="function"?{get:c.get,set:c.set,configurable:!0}:{value:c,configurable:!0,writable:!0},d))}function p(a){return{from:function(b){a.prototype=Object.create(b.prototype);o(a.prototype,"constructor",a);return{extend:m.bind(null,a.prototype)}}}}var q=Object.getOwnPropertyDescriptor;function r(a,b){var c=q(a,b);return c||(c=j(a))&&r(c,b)}var s=[].slice;function t(a,b,c){return s.call(a,b,c)}function u(a,b){return b(a)}function v(a){if(!a)throw new Error("Assertion Failed")}function aa(a){f.setImmediate?setImmediate(a):setTimeout(a,0)}function ba(a,b){return a.reduce(function(a,c,d){c=b(c,d);c&&(a[c[0]]=c[1]);return a},{})}function w(a,b){if(typeof b==="string"&&l(a,b))return a[b];if(!b)return a;if(typeof b!=="string"){var c=[];for(var d=0,e=b.length;d<e;++d){var f=w(a,b[d]);c.push(f)}return c}f=b.indexOf(".");if(f!==-1){d=a[b.substr(0,f)];return d==null?void 0:w(d,b.substr(f+1))}return void 0}function x(a,b,c){if(!a||b===void 0)return;if("isFrozen"in Object&&Object.isFrozen(a))return;if(typeof b!=="string"&&"length"in b){v(typeof c!=="string"&&"length"in c);for(var d=0,e=b.length;d<e;++d)x(a,b[d],c[d])}else{d=b.indexOf(".");if(d!==-1){e=b.substr(0,d);d=b.substr(d+1);if(d==="")c===void 0?h(a)&&!isNaN(parseInt(e))?a.splice(e,1):delete a[e]:a[e]=c;else{var f=a[e];(!f||!l(a,e))&&(f=a[e]={});x(f,d,c)}}else c===void 0?h(a)&&!isNaN(parseInt(b))?a.splice(b,1):delete a[b]:a[b]=c}}function ca(a,b){typeof b==="string"?x(a,b,void 0):"length"in b&&[].map.call(b,function(b){x(a,b,void 0)})}function da(a){var b={};for(var c in a)l(a,c)&&(b[c]=a[c]);return b}var ea=[].concat;function fa(a){return ea.apply([],a)}var y="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(fa([8,16,32,64].map(function(a){return["Int","Uint","Float"].map(function(b){return b+a+"Array"})}))).filter(function(a){return f[a]}),ga=new Set(y.map(function(a){return f[a]}));function ha(a){var b={};for(var c in a)if(l(a,c)){var d=a[c];b[c]=!d||typeof d!=="object"||ga.has(d.constructor)?d:ha(d)}return b}function ia(a){for(var b in a)if(l(a,b))return!1;return!0}var ja=null;function z(a){ja=new WeakMap();a=ka(a);ja=null;return a}function ka(a){if(!a||typeof a!=="object")return a;var b=ja.get(a);if(b)return b;if(h(a)){b=[];ja.set(a,b);for(var c=0,d=a.length;c<d;++c)b.push(ka(a[c]))}else if(ga.has(a.constructor))b=a;else{c=j(a);b=c===Object.prototype?{}:Object.create(c);ja.set(a,b);for(d in a)l(a,d)&&(b[d]=ka(a[d]))}return b}var la={}.toString;function ma(a){return la.call(a).slice(8,-1)}var na=typeof Symbol!=="undefined"?Symbol.iterator:"@@iterator",oa=typeof na==="symbol"?function(a){var b;return a!=null&&(b=a[na])&&b.apply(a)}:function(){return null};function A(a,b){b=a.indexOf(b);b>=0&&a.splice(b,1);return b>=0}var pa={};function B(a){var b,c,d,e;if(arguments.length===1){if(h(a))return a.slice();if(this===pa&&typeof a==="string")return[a];if(e=oa(a)){c=[];while(d=e.next(),!d.done)c.push(d.value);return c}if(a==null)return[a];b=a.length;if(typeof b==="number"){c=new Array(b);while(b--)c[b]=a[b];return c}return[a]}b=arguments.length;c=new Array(b);while(b--)c[b]=arguments[b];return c}var qa=typeof Symbol!=="undefined"?function(a){return a[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1};y=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var C=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];y=y.concat(C);var ra={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function sa(a,b){this.name=a,this.message=b}p(sa).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ta(a,b){return a+". Errors: "+Object.keys(b).map(function(a){return b[a].toString()}).filter(function(a,b,c){return c.indexOf(a)===b}).join("\n")}function ua(a,b,c,d){this.failures=b,this.failedKeys=d,this.successCount=c,this.message=ta(a,b)}p(ua).from(sa);function va(a,b){this.name="BulkError",this.failures=Object.keys(b).map(function(a){return b[a]}),this.failuresByPos=b,this.message=ta(a,this.failures)}p(va).from(sa);var wa=y.reduce(function(a,b){return a[b]=b+"Error",a},{}),xa=sa,D=y.reduce(function(b,c){var d=c+"Error";function a(a,b){this.name=d,!a?(this.message=ra[c]||d,this.inner=null):typeof a==="string"?(this.message="".concat(a).concat(b?"\n "+b:""),this.inner=b||null):typeof a==="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a)}p(a).from(xa);b[c]=a;return b},{});D.Syntax=SyntaxError;D.Type=TypeError;D.Range=RangeError;var ya=C.reduce(function(a,b){a[b+"Error"]=D[b];return a},{});function za(a,b){if(!a||a instanceof sa||a instanceof TypeError||a instanceof SyntaxError||!a.name||!ya[a.name])return a;b=new ya[a.name](b||a.message,a);"stack"in a&&o(b,"stack",{get:function(){return this.inner.stack}});return b}C=y.reduce(function(a,b){["Syntax","Type","Range"].indexOf(b)===-1&&(a[b+"Error"]=D[b]);return a},{});C.ModifyError=ua;C.DexieError=sa;C.BulkError=va;function E(){}function Aa(a){return a}function Ba(a,b){return a==null||a===Aa?b:function(c){return b(a(c))}}function F(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function Ca(a,b){return a===E?b:function(){var c=a.apply(this,arguments);c!==void 0&&(arguments[0]=c);var d=this.onsuccess,e=this.onerror;this.onsuccess=null;this.onerror=null;var f=b.apply(this,arguments);d&&(this.onsuccess=this.onsuccess?F(d,this.onsuccess):d);e&&(this.onerror=this.onerror?F(e,this.onerror):e);return f!==void 0?f:c}}function Da(a,b){return a===E?b:function(){a.apply(this,arguments);var c=this.onsuccess,d=this.onerror;this.onsuccess=this.onerror=null;b.apply(this,arguments);c&&(this.onsuccess=this.onsuccess?F(c,this.onsuccess):c);d&&(this.onerror=this.onerror?F(d,this.onerror):d)}}function Ea(a,b){return a===E?b:function(c){var d=a.apply(this,arguments);i(c,d);var e=this.onsuccess,f=this.onerror;this.onsuccess=null;this.onerror=null;var g=b.apply(this,arguments);e&&(this.onsuccess=this.onsuccess?F(e,this.onsuccess):e);f&&(this.onerror=this.onerror?F(f,this.onerror):f);return d===void 0?g===void 0?void 0:g:i(d,g)}}function Fa(a,b){return a===E?b:function(){return b.apply(this,arguments)===!1?!1:a.apply(this,arguments)}}function Ga(a,b){return a===E?b:function(){var c=a.apply(this,arguments);if(c&&typeof c.then==="function"){var d=this,e=arguments.length,f=new Array(e);while(e--)f[e]=arguments[e];return c.then(function(){return b.apply(d,f)})}return b.apply(this,arguments)}}var G=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ha(a,b){G=a}var Ia={},Ja=100;y=typeof Promise==="undefined"?[]:function(){var a=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[a,j(a),a];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,j(b),a]}();var Ka=y[0],H=y[1];y=y[2];H=H&&H.then;var La=Ka&&Ka.constructor,Ma=!!y;function Na(){queueMicrotask(db)}var Oa=function(a,b){Ua.push([a,b]),Qa&&(Na(),Qa=!1)},Pa=!0,Qa=!0,Ra=[],Sa=[],Ta=Aa,I={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:E,pgp:!1,env:{},finalize:E},J=I,Ua=[],Va=0,Wa=[];function K(a){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this._lib=!1;var b=this._PSD=J;if(typeof a!=="function"){if(a!==Ia)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];this._state===!1&&$a(this,this._value);return}this._state=null;this._value=null;++b.ref;Za(this,a)}var Xa={get:function(){var a=J,b=ob;function c(c,d){var e=this,f=!a.global&&(a!==J||b!==ob),g=f&&!O(),h=new K(function(b,h){bb(e,new Ya(wb(c,a,f,g),wb(d,a,f,g),b,h,a))});this._consoleTask&&(h._consoleTask=this._consoleTask);return h}c.prototype=Ia;return c},set:function(a){o(this,"then",a&&a.prototype===Ia?Xa:{get:function(){return a},set:Xa.set})}};m(K.prototype,{then:Xa,_then:function(a,b){bb(this,new Ya(null,null,a,b,J))},"catch":function(b){if(arguments.length===1)return this.then(null,b);var a=arguments[0],c=arguments[1];return typeof a==="function"?this.then(null,function(b){return b instanceof a?c(b):kb(b)}):this.then(null,function(b){return b&&b.name===a?c(b):kb(b)})},"finally":function(a){return this.then(function(b){return K.resolve(a()).then(function(){return b})},function(b){return K.resolve(a()).then(function(){return kb(b)})})},timeout:function(a,b){var c=this;return a<Infinity?new K(function(d,e){var f=setTimeout(function(){return e(new D.Timeout(b))},a);c.then(d,e)["finally"](clearTimeout.bind(null,f))}):this}});typeof Symbol!=="undefined"&&Symbol.toStringTag&&o(K.prototype,Symbol.toStringTag,"Dexie.Promise");I.env=ub();function Ya(a,b,c,d,e){this.onFulfilled=typeof a==="function"?a:null,this.onRejected=typeof b==="function"?b:null,this.resolve=c,this.reject=d,this.psd=e}m(K,{all:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&b([]);var d=a.length;a.forEach(function(e,f){return K.resolve(e).then(function(c){a[f]=c,--d||b(a)},c)})})},resolve:function(a){if(a instanceof K)return a;if(a&&typeof a.then==="function")return new K(function(b,c){a.then(b,c)});var b=new K(Ia,!0,a);return b},reject:kb,race:function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.map(function(a){return K.resolve(a).then(b,c)})})},PSD:{get:function(){return J},set:function(a){return J=a}},totalEchoes:{get:function(){return ob}},newPSD:N,usePSD:vb,scheduler:{get:function(){return Oa},set:function(a){Oa=a}},rejectionMapper:{get:function(){return Ta},set:function(a){Ta=a}},follow:function(a,b){return new K(function(c,d){return N(function(b,c){var d=J;d.unhandleds=[];d.onunhandled=c;d.finalize=F(function(){var a=this;hb(function(){a.unhandleds.length===0?b():c(a.unhandleds[0])})},d.finalize);a()},b,c,d)})}});La&&(La.allSettled&&o(K,"allSettled",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b){a.length===0&&b([]);var c=a.length,d=new Array(c);a.forEach(function(a,e){return K.resolve(a).then(function(a){return d[e]={status:"fulfilled",value:a}},function(a){return d[e]={status:"rejected",reason:a}}).then(function(){return--c||b(d)})})})}),La.any&&typeof AggregateError!=="undefined"&&o(K,"any",function(){var a=B.apply(null,arguments).map(rb);return new K(function(b,c){a.length===0&&c(new AggregateError([]));var d=a.length,e=new Array(d);a.forEach(function(a,f){return K.resolve(a).then(function(a){return b(a)},function(a){e[f]=a,--d||c(new AggregateError(e))})})})}));function Za(a,b){try{b(function(b){if(a._state!==null)return;if(b===a)throw new TypeError("A promise cannot be resolved with itself.");var c=a._lib&&eb();b&&typeof b.then==="function"?Za(a,function(a,c){b instanceof K?b._then(a,c):b.then(a,c)}):(a._state=!0,a._value=b,ab(a));c&&fb()},$a.bind(null,a))}catch(b){$a(a,b)}}function $a(a,b){Sa.push(b);if(a._state!==null)return;var c=a._lib&&eb();b=Ta(b);a._state=!1;a._value=b;ib(a);ab(a);c&&fb()}function ab(a){var b=a._listeners;a._listeners=[];for(var c=0,d=b.length;c<d;++c)bb(a,b[c]);c=a._PSD;--c.ref||c.finalize();Va===0&&(++Va,Oa(function(){--Va===0&&gb()},[]))}function bb(a,b){if(a._state===null){a._listeners.push(b);return}var c=a._state?b.onFulfilled:b.onRejected;if(c===null)return(a._state?b.resolve:b.reject)(a._value);++b.psd.ref;++Va;Oa(cb,[c,a,b])}function cb(a,b,c){try{var d,e=b._value;!b._state&&Sa.length&&(Sa=[]);d=G&&b._consoleTask?b._consoleTask.run(function(){return a(e)}):a(e);!b._state&&Sa.indexOf(e)===-1&&jb(b);c.resolve(d)}catch(a){c.reject(a)}finally{--Va===0&&gb(),--c.psd.ref||c.psd.finalize()}}function db(){vb(I,function(){eb()&&fb()})}function eb(){var a=Pa;Pa=!1;Qa=!1;return a}function fb(){var a,b,c;do while(Ua.length>0){a=Ua;Ua=[];c=a.length;for(b=0;b<c;++b){var d=a[b];d[0].apply(null,d[1])}}while(Ua.length>0);Pa=!0;Qa=!0}function gb(){var a=Ra;Ra=[];a.forEach(function(a){a._PSD.onunhandled.call(null,a._value,a)});a=Wa.slice(0);var b=a.length;while(b)a[--b]()}function hb(a){function b(){a(),Wa.splice(Wa.indexOf(b),1)}Wa.push(b);++Va;Oa(function(){--Va===0&&gb()},[])}function ib(a){Ra.some(function(b){return b._value===a._value})||Ra.push(a)}function jb(a){var b=Ra.length;while(b)if(Ra[--b]._value===a._value){Ra.splice(b,1);return}}function kb(a){return new K(Ia,!1,a)}function L(a,b){var c=J;return function(){var d=eb(),e=J;try{P(c,!0);return a.apply(this,arguments)}catch(a){b&&b(a)}finally{P(e,!1),d&&fb()}}}var M={awaits:0,echoes:0,id:0},lb=0,mb=[],nb=0,ob=0,pb=0;function N(b,a,c,d){var e=J,f=Object.create(e);f.parent=e;f.ref=0;f.global=!1;f.id=++pb;I.env;f.env=Ma?{Promise:K,PromiseProp:{value:K,configurable:!0,writable:!0},all:K.all,race:K.race,allSettled:K.allSettled,any:K.any,resolve:K.resolve,reject:K.reject}:{};a&&i(f,a);++e.ref;f.finalize=function(){--this.parent.ref||this.parent.finalize()};a=vb(f,b,c,d);f.ref===0&&f.finalize();return a}function qb(){M.id||(M.id=++lb);++M.awaits;M.echoes+=Ja;return M.id}function O(){if(!M.awaits)return!1;--M.awaits===0&&(M.id=0);M.echoes=M.awaits*Ja;return!0}(""+H).indexOf("[native code]")===-1&&(qb=O=E);function rb(a){if(M.echoes&&a&&a.constructor===La){qb();return a.then(function(a){O();return a},function(a){O();return Q(a)})}return a}function sb(a){++ob,(!M.echoes||--M.echoes===0)&&(M.echoes=M.awaits=M.id=0),mb.push(J),P(a,!0)}function tb(){var a=mb[mb.length-1];mb.pop();P(a,!1)}function P(a,b){var c=J;(b?M.echoes&&(!nb++||a!==J):nb&&(!--nb||a!==J))&&queueMicrotask(b?sb.bind(null,a):tb);if(a===J)return;J=a;c===I&&(I.env=ub());if(Ma){b=I.env.Promise;var d=a.env;(c.global||a.global)&&(Object.defineProperty(f,"Promise",d.PromiseProp),b.all=d.all,b.race=d.race,b.resolve=d.resolve,b.reject=d.reject,d.allSettled&&(b.allSettled=d.allSettled),d.any&&(b.any=d.any))}}function ub(){var a=f.Promise;return Ma?{Promise:a,PromiseProp:Object.getOwnPropertyDescriptor(f,"Promise"),all:a.all,race:a.race,allSettled:a.allSettled,any:a.any,resolve:a.resolve,reject:a.reject}:{}}function vb(a,b,c,d,e){var f=J;try{P(a,!0);return b(c,d,e)}finally{P(f,!1)}}function wb(a,b,c,d){return typeof a!=="function"?a:function(){var e=J;c&&qb();P(b,!0);try{return a.apply(this,arguments)}finally{P(e,!1),d&&queueMicrotask(O)}}}function xb(a){Promise===La&&M.echoes===0?nb===0?a():enqueueNativeMicroTask(a):setTimeout(a,0)}var Q=K.reject;function yb(a,b,c,d){if(!a.idbdb||!a._state.openComplete&&!J.letThrough&&!a._vip){if(a._state.openComplete)return Q(new D.DatabaseClosed(a._state.dbOpenError));if(!a._state.isBeingOpened){if(!a._state.autoOpen)return Q(new D.DatabaseClosed());a.open()["catch"](E)}return a._state.dbReadyPromise.then(function(){return yb(a,b,c,d)})}else{var e=a._createTransaction(b,c,a._dbSchema);try{e.create(),a._state.PR1398_maxLoop=3}catch(e){if(e.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return yb(a,b,c,d)})}return Q(e)}return e._promise(b,function(a,b){return N(function(){J.trans=e;return d(a,b,e)})}).then(function(a){if(b==="readwrite")try{e.idbtrans.commit()}catch(a){}return b==="readonly"?a:e._completion.then(function(){return a})})}}Ka="4.0.1";var zb=String.fromCharCode(65535),Ab=-Infinity,R="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Bb="String expected.",Cb=[],Db="__dbnames",Eb="readonly",Fb="readwrite";function Gb(a,b){return a?b?function(){return a.apply(this,arguments)&&b.apply(this,arguments)}:a:b}var Hb={type:3,lower:-Infinity,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ib(a){return typeof a==="string"&&!/\./.test(a)?function(b){b[a]===void 0&&a in b&&(b=z(b),delete b[a]);return b}:function(a){return a}}function Jb(){throw D.Type()}function S(a,b){try{var c=Mb(a),d=Mb(b);if(c!==d){if(c==="Array")return 1;if(d==="Array")return-1;if(c==="binary")return 1;if(d==="binary")return-1;if(c==="string")return 1;if(d==="string")return-1;if(c==="Date")return 1;return d!=="Date"?NaN:-1}switch(c){case"number":case"Date":case"string":return a>b?1:a<b?-1:0;case"binary":return Lb(Nb(a),Nb(b));case"Array":return Kb(a,b)}}catch(a){}return NaN}function Kb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f){var g=S(a[f],b[f]);if(g!==0)return g}return c===d?0:c<d?-1:1}function Lb(a,b){var c=a.length,d=b.length,e=c<d?c:d;for(var f=0;f<e;++f)if(a[f]!==b[f])return a[f]<b[f]?-1:1;return c===d?0:c<d?-1:1}function Mb(a){var b=typeof a;if(b!=="object")return b;if(ArrayBuffer.isView(a))return"binary";b=ma(a);return b==="ArrayBuffer"?"binary":b}function Nb(a){if(a instanceof Uint8Array)return a;return ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(a)}var Ob=function(){function a(){}a.prototype._trans=function(b,c,d){var e=this._tx||J.trans,f=this.name,a=G&&typeof console!=="undefined"&&console.createTask&&console.createTask("Dexie: ".concat(b==="readonly"?"read":"write"," ").concat(this.name));function g(b,d,a){if(!a.schema[f])throw new D.NotFound("Table "+f+" not part of transaction");return c(a.idbtrans,a)}var h=eb();try{var i=e&&e.db._novip===this.db._novip?e===J.trans?e._promise(b,g,d):N(function(){return e._promise(b,g,d)},{trans:e,transless:J.transless||J}):yb(this.db,b,[this.name],g);a&&(i._consoleTask=a,i=i["catch"](function(a){console.trace(a);return Q(a)}));return i}finally{h&&fb()}};a.prototype.get=function(a,b){var c=this;if(a&&a.constructor===Object)return this.where(a).first(b);return a==null?Q(new D.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return c.core.get({trans:b,key:a}).then(function(a){return c.hook.reading.fire(a)})}).then(b)};a.prototype.where=function(a){if(typeof a==="string")return new this.db.WhereClause(this,a);if(h(a))return new this.db.WhereClause(this,"[".concat(a.join("+"),"]"));var b=g(a);if(b.length===1)return this.where(b[0]).equals(a[b[0]]);var c=this.schema.indexes.concat(this.schema.primKey).filter(function(a){if(a.compound&&b.every(function(b){return a.keyPath.indexOf(b)>=0})){for(var c=0;c<b.length;++c)if(b.indexOf(a.keyPath[c])===-1)return!1;return!0}return!1}).sort(function(a,b){return a.keyPath.length-b.keyPath.length})[0];if(c&&this.db._maxKey!==zb){var d=c.keyPath.slice(0,b.length);return this.where(d).equals(d.map(function(b){return a[b]}))}!c&&G&&!1;var e=this.schema.idxByName,f=this.db._deps.indexedDB;function i(a,b){return f.cmp(a,b)===0}d=b.reduce(function(b,c){var d=b[0];b=b[1];var f=e[c],g=a[c];return[d||f,d||!f?Gb(b,f&&f.multi?function(a){a=w(a,c);return h(a)&&a.some(function(a){return i(g,a)})}:function(a){return i(g,w(a,c))}):b]},[null,null]);var j=d[0];d=d[1];return j?this.where(j.name).equals(a[j.keyPath]).filter(d):c?this.filter(d):this.where(b).equals("")};a.prototype.filter=function(a){return this.toCollection().and(a)};a.prototype.count=function(a){return this.toCollection().count(a)};a.prototype.offset=function(a){return this.toCollection().offset(a)};a.prototype.limit=function(a){return this.toCollection().limit(a)};a.prototype.each=function(a){return this.toCollection().each(a)};a.prototype.toArray=function(a){return this.toCollection().toArray(a)};a.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};a.prototype.orderBy=function(a){return new this.db.Collection(new this.db.WhereClause(this,h(a)?"[".concat(a.join("+"),"]"):a))};a.prototype.reverse=function(){return this.toCollection().reverse()};a.prototype.mapToClass=function(a){var b=this,d=b.db,e=b.name;this.schema.mappedClass=a;a.prototype instanceof Jb&&(a=function(a){c(b,a);function b(){return a!==null&&a.apply(this,arguments)||this}Object.defineProperty(b.prototype,"db",{get:function(){return d},enumerable:!1,configurable:!0});b.prototype.table=function(){return e};return b}(a));var f=new Set();for(b=a.prototype;b;b=j(b))Object.getOwnPropertyNames(b).forEach(function(a){return f.add(a)});b=function(b){if(!b)return b;var c=Object.create(a.prototype);for(var d in b)if(!f.has(d))try{c[d]=b[d]}catch(a){}return c};this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook);this.schema.readHook=b;this.hook("reading",b);return a};a.prototype.defineClass=function(){function a(a){i(this,a)}return this.mapToClass(a)};a.prototype.add=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"add",keys:b!=null?[b]:null,values:[g]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype.update=function(a,b){if(typeof a==="object"&&!h(a)){var c=w(a,this.schema.primKey.keyPath);return c===void 0?Q(new D.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(c).modify(b)}else return this.where(":id").equals(a).modify(b)};a.prototype.put=function(a,b){var c=this,d=this.schema.primKey,e=d.auto,f=d.keyPath,g=a;f&&e&&(g=Ib(f)(a));return this._trans("readwrite",function(a){return c.core.mutate({trans:a,type:"put",values:[g],keys:b!=null?[b]:null})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):a.lastResult}).then(function(b){if(f)try{x(a,f,b)}catch(a){}return b})};a.prototype["delete"]=function(a){var b=this;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:[a]})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.clear=function(){var a=this;return this._trans("readwrite",function(b){return a.core.mutate({trans:b,type:"deleteRange",range:Hb})}).then(function(a){return a.numFailures?K.reject(a.failures[0]):void 0})};a.prototype.bulkGet=function(a){var b=this;return this._trans("readonly",function(c){return b.core.getMany({keys:a,trans:c}).then(function(a){return a.map(function(a){return b.hook.reading.fire(a)})})})};a.prototype.bulkAdd=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"add",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkAdd(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkPut=function(b,c,d){var e=this,a=Array.isArray(c)?c:void 0;d=d||(a?void 0:c);var f=d?d.allKeys:void 0;return this._trans("readwrite",function(c){var d=e.schema.primKey,g=d.auto;d=d.keyPath;if(d&&a)throw new D.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==b.length)throw new D.InvalidArgument("Arguments objects and keys must have the same length");var h=b.length;g=d&&g?b.map(Ib(d)):b;return e.core.mutate({trans:c,type:"put",keys:a,values:g,wantResults:f}).then(function(a){var b=a.numFailures,c=a.results,d=a.lastResult;a=a.failures;c=f?c:d;if(b===0)return c;throw new va("".concat(e.name,".bulkPut(): ").concat(b," of ").concat(h," operations failed"),a)})})};a.prototype.bulkUpdate=function(b){var c=this,d=this.core,a=b.map(function(a){return a.key}),e=b.map(function(a){return a.changes}),f=[];return this._trans("readwrite",function(g){return d.getMany({trans:g,keys:a,cache:"clone"}).then(function(h){var i=[],j=[];b.forEach(function(a,b){var d=a.key;a=a.changes;var e=h[b];if(e){for(var g=0,k=Object.keys(a);g<k.length;g++){var l=k[g],m=a[l];if(l===c.schema.primKey.keyPath){if(S(m,d)!==0)throw new D.Constraint("Cannot update primary key in bulkUpdate()")}else x(e,l,m)}f.push(b);i.push(d);j.push(e)}});var k=i.length;return d.mutate({trans:g,type:"put",keys:i,values:j,updates:{keys:a,changeSpecs:e}}).then(function(a){var b=a.numFailures;a=a.failures;if(b===0)return k;for(var d=0,e=Object.keys(a);d<e.length;d++){var g=e[d],h=f[Number(g)];if(h!=null){var i=a[g];delete a[g];a[h]=i}}throw new va("".concat(c.name,".bulkUpdate(): ").concat(b," of ").concat(k," operations failed"),a)})})})};a.prototype.bulkDelete=function(a){var b=this,c=a.length;return this._trans("readwrite",function(c){return b.core.mutate({trans:c,type:"delete",keys:a})}).then(function(a){var d=a.numFailures,e=a.lastResult;a=a.failures;if(d===0)return e;throw new va("".concat(b.name,".bulkDelete(): ").concat(d," of ").concat(c," operations failed"),a)})};return a}();function Pb(a){var b={},c=function(d,e){if(e){var c=arguments.length,f=new Array(c-1);while(--c)f[c-1]=arguments[c];b[d].subscribe.apply(null,f);return a}else if(typeof d==="string")return b[d]};c.addEventType=f;for(var d=1,e=arguments.length;d<e;++d)f(arguments[d]);return c;function f(a,d,e){if(typeof a==="object")return i(a);d||(d=Fa);e||(e=E);var f={subscribers:[],fire:e,subscribe:function(a){f.subscribers.indexOf(a)===-1&&(f.subscribers.push(a),f.fire=d(f.fire,a))},unsubscribe:function(a){f.subscribers=f.subscribers.filter(function(b){return b!==a}),f.fire=f.subscribers.reduce(d,e)}};b[a]=c[a]=f;return f}function i(a){g(a).forEach(function(b){var c=a[b];if(h(c))f(b,a[b][0],a[b][1]);else if(c==="asap")var d=f(b,Aa,function(){var a=arguments.length,b=new Array(a);while(a--)b[a]=arguments[a];d.subscribers.forEach(function(a){aa(function(){a.apply(null,b)})})});else throw new D.InvalidArgument("Invalid event config")})}}function Qb(a,b){p(b).from({prototype:a});return b}function Rb(a){return Qb(Ob.prototype,function(b,c,d){this.db=a,this._tx=d,this.name=b,this.schema=c,this.hook=a._allTables[b]?a._allTables[b].hook:Pb(null,{creating:[Ca,E],reading:[Ba,Aa],updating:[Ea,E],deleting:[Da,E]})})}function Sb(a,b){return!(a.filter||a.algorithm||a.or)&&(b?a.justLimit:!a.replayFilter)}function Tb(a,b){a.filter=Gb(a.filter,b)}function Ub(a,b,c){var d=a.replayFilter;a.replayFilter=d?function(){return Gb(d(),b())}:b;a.justLimit=c&&!d}function Vb(a,b){a.isMatch=Gb(a.isMatch,b)}function Wb(a,b){if(a.isPrimKey)return b.primaryKey;var c=b.getIndexByKeyPath(a.index);if(!c)throw new D.Schema("KeyPath "+a.index+" on object store "+b.name+" is not indexed");return c}function Xb(a,b,c){var d=Wb(a,b.schema);return b.openCursor({trans:c,values:!a.keysOnly,reverse:a.dir==="prev",unique:!!a.unique,query:{index:d,range:a.range}})}function Yb(a,b,c,d){var e=a.replayFilter?Gb(a.filter,a.replayFilter()):a.filter;if(!a.or)return Zb(Xb(a,d,c),Gb(a.algorithm,e),b,!a.keysOnly&&a.valueMapper);else{var f={},g=function(a,c,d){if(!e||e(c,d,function(a){return c.stop(a)},function(a){return c.fail(a)})){var g=c.primaryKey,h=""+g;h==="[object ArrayBuffer]"&&(h=""+new Uint8Array(g));l(f,h)||(f[h]=!0,b(a,c,d))}};return Promise.all([a.or._iterate(g,c),Zb(Xb(a,d,c),a.algorithm,g,!a.keysOnly&&a.valueMapper)])}}function Zb(a,b,c,d){var e=d?function(a,b,e){return c(d(a),b,e)}:c,f=L(e);return a.then(function(a){if(a)return a.start(function(){var c=function(){return a["continue"]()};(!b||b(a,function(a){return c=a},function(b){a.stop(b),c=E},function(b){a.fail(b),c=E}))&&f(a.value,a,function(a){return c=a});c()})})}y=Symbol();var $b=function(){function a(a){Object.assign(this,a)}a.prototype.execute=function(a){var b;b=(b=this.replacePrefix)===null||b===void 0?void 0:b[0];return b&&typeof a==="string"&&a.startsWith(b)?this.replacePrefix[1]+a.substring(b.length):a};return a}(),ac=function(){function a(){}a.prototype._read=function(a,b){var c=this._ctx;return c.error?c.table._trans(null,Q.bind(null,c.error)):c.table._trans("readonly",a).then(b)};a.prototype._write=function(a){var b=this._ctx;return b.error?b.table._trans(null,Q.bind(null,b.error)):b.table._trans("readwrite",a,"locked")};a.prototype._addAlgorithm=function(a){var b=this._ctx;b.algorithm=Gb(b.algorithm,a)};a.prototype._iterate=function(a,b){return Yb(this._ctx,a,b,this._ctx.table.core)};a.prototype.clone=function(a){var b=Object.create(this.constructor.prototype),c=Object.create(this._ctx);a&&i(c,a);b._ctx=c;return b};a.prototype.raw=function(){this._ctx.valueMapper=null;return this};a.prototype.each=function(a){var b=this._ctx;return this._read(function(c){return Yb(b,a,c,b.table.core)})};a.prototype.count=function(a){var b=this;return this._read(function(a){var c=b._ctx,d=c.table.core;if(Sb(c,!0))return d.count({trans:a,query:{index:Wb(c,d.schema),range:c.range}}).then(function(a){return Math.min(a,c.limit)});else{var e=0;return Yb(c,function(){++e;return!1},a,d).then(function(){return e})}}).then(a)};a.prototype.sortBy=function(a,b){var c=a.split(".").reverse(),d=c[0],e=c.length-1;function f(a,b){return b?f(a[c[b]],b-1):a[d]}var g=this._ctx.dir==="next"?1:-1;function h(a,b){a=f(a,e);b=f(b,e);return a<b?-g:a>b?g:0}return this.toArray(function(a){return a.sort(h)}).then(b)};a.prototype.toArray=function(a){var b=this;return this._read(function(a){var c=b._ctx;if(c.dir==="next"&&Sb(c,!0)&&c.limit>0){var d=c.valueMapper,e=Wb(c,c.table.core.schema);return c.table.core.query({trans:a,limit:c.limit,values:!0,query:{index:e,range:c.range}}).then(function(a){a=a.result;return d?a.map(d):a})}else{var f=[];return Yb(c,function(a){return f.push(a)},a,c.table.core).then(function(){return f})}},a)};a.prototype.offset=function(a){var b=this._ctx;if(a<=0)return this;b.offset+=a;Sb(b)?Ub(b,function(){var b=a;return function(a,c){if(b===0)return!0;if(b===1){--b;return!1}c(function(){a.advance(b),b=0});return!1}}):Ub(b,function(){var b=a;return function(){return--b<0}});return this};a.prototype.limit=function(a){this._ctx.limit=Math.min(this._ctx.limit,a);Ub(this._ctx,function(){var b=a;return function(a,c,d){--b<=0&&c(d);return b>=0}},!0);return this};a.prototype.until=function(a,b){Tb(this._ctx,function(c,d,e){if(a(c.value)){d(e);return b}else return!0});return this};a.prototype.first=function(a){return this.limit(1).toArray(function(a){return a[0]}).then(a)};a.prototype.last=function(a){return this.reverse().first(a)};a.prototype.filter=function(a){Tb(this._ctx,function(b){return a(b.value)});Vb(this._ctx,a);return this};a.prototype.and=function(a){return this.filter(a)};a.prototype.or=function(a){return new this.db.WhereClause(this._ctx.table,a,this)};a.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";this._ondirectionchange&&this._ondirectionchange(this._ctx.dir);return this};a.prototype.desc=function(){return this.reverse()};a.prototype.eachKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.key,c)})};a.prototype.eachUniqueKey=function(a){this._ctx.unique="unique";return this.eachKey(a)};a.prototype.eachPrimaryKey=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;return this.each(function(b,c){a(c.primaryKey,c)})};a.prototype.keys=function(a){var b=this._ctx;b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.key)}).then(function(){return c}).then(a)};a.prototype.primaryKeys=function(a){var b=this._ctx;if(b.dir==="next"&&Sb(b,!0)&&b.limit>0)return this._read(function(a){var c=Wb(b,b.table.core.schema);return b.table.core.query({trans:a,values:!1,limit:b.limit,query:{index:c,range:b.range}})}).then(function(a){a=a.result;return a}).then(a);b.keysOnly=!b.isMatch;var c=[];return this.each(function(a,b){c.push(b.primaryKey)}).then(function(){return c}).then(a)};a.prototype.uniqueKeys=function(a){this._ctx.unique="unique";return this.keys(a)};a.prototype.firstKey=function(a){return this.limit(1).keys(function(a){return a[0]}).then(a)};a.prototype.lastKey=function(a){return this.reverse().firstKey(a)};a.prototype.distinct=function(){var a=this._ctx;a=a.index&&a.table.schema.idxByName[a.index];if(!a||!a.multi)return this;var b={};Tb(this._ctx,function(a){a=a.primaryKey.toString();var c=l(b,a);b[a]=!0;return!c});return this};a.prototype.modify=function(a){var b=this,c=this._ctx;return this._write(function(d){var e;if(typeof a==="function")e=a;else{var f=g(a),h=f.length;e=function(b){var c=!1;for(var d=0;d<h;++d){var e=f[d],g=a[e],i=w(b,e);g instanceof $b?(x(b,e,g.execute(i)),c=!0):i!==g&&(x(b,e,g),c=!0)}return c}}var i=c.table.core,j=i.schema.primaryKey,k=j.outbound,l=j.extractKey,m=b.db._options.modifyChunkSize||200,n=[],o=0,p=[],q=function(a,b){var c=b.failures;b=b.numFailures;o+=a-b;for(a=0,b=g(c);a<b.length;a++){var d=b[a];n.push(c[d])}};return b.clone().primaryKeys().then(function(b){var f=function(g){var h=Math.min(m,b.length-g);return i.getMany({trans:d,keys:b.slice(g,g+h),cache:"immutable"}).then(function(j){var n=[],o=[],p=k?[]:null,r=[];for(var s=0;s<h;++s){var t=j[s],u={value:z(t),primKey:b[g+s]};e.call(u,u.value,u)!==!1&&(u.value==null?r.push(b[g+s]):!k&&S(l(t),l(u.value))!==0?(r.push(b[g+s]),n.push(u.value)):(o.push(u.value),k&&p.push(b[g+s])))}var v=Sb(c)&&c.limit===Infinity&&(typeof a!=="function"||a===bc)&&{index:c.index,range:c.range};return Promise.resolve(n.length>0&&i.mutate({trans:d,type:"add",values:n}).then(function(a){for(var b in a.failures)r.splice(parseInt(b),1);q(n.length,a)})).then(function(){return(o.length>0||v&&typeof a==="object")&&i.mutate({trans:d,type:"put",keys:p,values:o,criteria:v,changeSpec:typeof a!=="function"&&a}).then(function(a){return q(o.length,a)})}).then(function(){return(r.length>0||v&&a===bc)&&i.mutate({trans:d,type:"delete",keys:r,criteria:v}).then(function(a){return q(r.length,a)})}).then(function(){return b.length>g+h&&f(g+m)})})};return f(0).then(function(){if(n.length>0)throw new ua("Error modifying one or more objects",n,o,p);return b.length})})})};a.prototype["delete"]=function(){var a=this._ctx,b=a.range;return Sb(a)&&(a.isPrimKey||b.type===3)?this._write(function(c){var d=a.table.core.schema.primaryKey,e=b;return a.table.core.count({trans:c,query:{index:d,range:e}}).then(function(b){return a.table.core.mutate({trans:c,type:"deleteRange",range:e}).then(function(a){var c=a.failures;a.lastResult;a.results;a=a.numFailures;if(a)throw new ua("Could not delete some values",Object.keys(c).map(function(a){return c[a]}),b-a);return b-a})})}):this.modify(bc)};return a}(),bc=function(a,b){return b.value=null};function cc(a){return Qb(ac.prototype,function(b,c){this.db=a;var d=Hb,e=null;if(c)try{d=c()}catch(a){e=a}c=b._ctx;b=c.table;var f=b.hook.reading.fire;this._ctx={table:b,index:c.index,isPrimKey:!c.index||b.schema.primKey.keyPath&&c.index===b.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:Infinity,error:e,or:c.or,valueMapper:f!==Aa?f:null}})}function dc(a,b){return a<b?-1:a===b?0:1}function ec(a,b){return a>b?-1:a===b?0:1}function T(a,b,c){a=a instanceof lc?new a.Collection(a):a;a._ctx.error=c?new c(b):new TypeError(b);return a}function fc(a){return new a.Collection(a,function(){return kc("")}).limit(0)}function gc(a){return a==="next"?function(a){return a.toUpperCase()}:function(a){return a.toLowerCase()}}function hc(a){return a==="next"?function(a){return a.toLowerCase()}:function(a){return a.toUpperCase()}}function ic(b,c,d,e,a,f){var g=Math.min(b.length,e.length),h=-1;for(var i=0;i<g;++i){var j=c[i];if(j!==e[i]){if(a(b[i],d[i])<0)return b.substr(0,i)+d[i]+d.substr(i+1);if(a(b[i],e[i])<0)return b.substr(0,i)+e[i]+d.substr(i+1);return h>=0?b.substr(0,h)+c[h]+d.substr(h+1):null}a(b[i],j)<0&&(h=i)}if(g<e.length&&f==="next")return b+d.substr(b.length);return g<b.length&&f==="prev"?b.substr(0,d.length):h<0?null:b.substr(0,h)+e[h]+d.substr(h+1)}function jc(a,b,c,d){var e,f,g,h,i,j,k,l=c.length;if(!c.every(function(a){return typeof a==="string"}))return T(a,Bb);function m(a){e=gc(a);f=hc(a);g=a==="next"?dc:ec;var b=c.map(function(a){return{lower:f(a),upper:e(a)}}).sort(function(a,b){return g(a.lower,b.lower)});h=b.map(function(a){return a.upper});i=b.map(function(a){return a.lower});j=a;k=a==="next"?"":d}m("next");a=new a.Collection(a,function(){return U(h[0],i[l-1]+d)});a._ondirectionchange=function(a){m(a)};var n=0;a._addAlgorithm(function(a,c,d){var e=a.key;if(typeof e!=="string")return!1;var m=f(e);if(b(m,i,n))return!0;else{var o=null;for(var p=n;p<l;++p){var q=ic(e,m,h[p],i[p],g,j);q===null&&o===null?n=p+1:(o===null||g(o,q)>0)&&(o=q)}o!==null?c(function(){a["continue"](o+k)}):c(d);return!1}});return a}function U(a,b,c,d){return{type:2,lower:a,upper:b,lowerOpen:c,upperOpen:d}}function kc(a){return{type:1,lower:a,upper:a}}var lc=function(){function a(){}Object.defineProperty(a.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0});a.prototype.between=function(a,b,c,d){c=c!==!1;d=d===!0;try{return this._cmp(a,b)>0||this._cmp(a,b)===0&&(c||d)&&!(c&&d)?fc(this):new this.Collection(this,function(){return U(a,b,!c,!d)})}catch(a){return T(this,R)}};a.prototype.equals=function(a){return a==null?T(this,R):new this.Collection(this,function(){return kc(a)})};a.prototype.above=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!0)})};a.prototype.aboveOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(a,void 0,!1)})};a.prototype.below=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a,!1,!0)})};a.prototype.belowOrEqual=function(a){return a==null?T(this,R):new this.Collection(this,function(){return U(void 0,a)})};a.prototype.startsWith=function(a){return typeof a!=="string"?T(this,Bb):this.between(a,a+zb,!0,!0)};a.prototype.startsWithIgnoreCase=function(a){return a===""?this.startsWith(a):jc(this,function(a,b){return a.indexOf(b[0])===0},[a],zb)};a.prototype.equalsIgnoreCase=function(a){return jc(this,function(a,b){return a===b[0]},[a],"")};a.prototype.anyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.indexOf(a)!==-1},a,"")};a.prototype.startsWithAnyOfIgnoreCase=function(){var a=B.apply(pa,arguments);return a.length===0?fc(this):jc(this,function(a,b){return b.some(function(b){return a.indexOf(b)===0})},a,zb)};a.prototype.anyOf=function(){var a=this,b=B.apply(pa,arguments),c=this._cmp;try{b.sort(c)}catch(a){return T(this,R)}if(b.length===0)return fc(this);var d=new this.Collection(this,function(){return U(b[0],b[b.length-1])});d._ondirectionchange=function(d){c=d==="next"?a._ascending:a._descending,b.sort(c)};var e=0;d._addAlgorithm(function(a,d,f){var g=a.key;while(c(g,b[e])>0){++e;if(e===b.length){d(f);return!1}}if(c(g,b[e])===0)return!0;else{d(function(){a["continue"](b[e])});return!1}});return d};a.prototype.notEqual=function(a){return this.inAnyRange([[Ab,a],[a,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})};a.prototype.noneOf=function(){var a=B.apply(pa,arguments);if(a.length===0)return new this.Collection(this);try{a.sort(this._ascending)}catch(a){return T(this,R)}var b=a.reduce(function(a,b){return a?a.concat([[a[a.length-1][1],b]]):[[Ab,b]]},null);b.push([a[a.length-1],this.db._maxKey]);return this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})};a.prototype.inAnyRange=function(c,d){var e=this,a=this._cmp,f=this._ascending,g=this._descending,h=this._min,i=this._max;if(c.length===0)return fc(this);if(!c.every(function(a){return a[0]!==void 0&&a[1]!==void 0&&f(a[0],a[1])<=0}))return T(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",D.InvalidArgument);var j=!d||d.includeLowers!==!1,k=d&&d.includeUppers===!0;function b(b,c){var d=0,e=b.length;for(;d<e;++d){var f=b[d];if(a(c[0],f[1])<0&&a(c[1],f[0])>0){f[0]=h(f[0],c[0]);f[1]=i(f[1],c[1]);break}}d===e&&b.push(c);return b}var l=f;function m(a,b){return l(a[0],b[0])}var n;try{n=c.reduce(b,[]),n.sort(m)}catch(a){return T(this,R)}var o=0,p=k?function(a){return f(a,n[o][1])>0}:function(a){return f(a,n[o][1])>=0},q=j?function(a){return g(a,n[o][0])>0}:function(a){return g(a,n[o][0])>=0};function r(a){return!p(a)&&!q(a)}var s=p;d=new this.Collection(this,function(){return U(n[0][0],n[n.length-1][1],!j,!k)});d._ondirectionchange=function(a){a==="next"?(s=p,l=f):(s=q,l=g),n.sort(m)};d._addAlgorithm(function(a,b,c){var d=a.key;while(s(d)){++o;if(o===n.length){b(c);return!1}}if(r(d))return!0;else if(e._cmp(d,n[o][1])===0||e._cmp(d,n[o][0])===0)return!1;else{b(function(){l===f?a["continue"](n[o][0]):a["continue"](n[o][1])});return!1}});return d};a.prototype.startsWithAnyOf=function(){var a=B.apply(pa,arguments);if(!a.every(function(a){return typeof a==="string"}))return T(this,"startsWithAnyOf() only works with strings");return a.length===0?fc(this):this.inAnyRange(a.map(function(a){return[a,a+zb]}))};return a}();function mc(a){return Qb(lc.prototype,function(b,c,d){this.db=a;this._ctx={table:b,index:c===":id"?null:c,or:d};this._cmp=this._ascending=S;this._descending=function(a,b){return S(b,a)};this._max=function(a,b){return S(a,b)>0?a:b};this._min=function(a,b){return S(a,b)<0?a:b};this._IDBKeyRange=a._deps.IDBKeyRange;if(!this._IDBKeyRange)throw new D.MissingAPI()})}function V(a){return L(function(b){nc(b);a(b.target.error);return!1})}function nc(a){a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault()}var oc="storagemutated",pc="x-storagemutated-1",W=Pb(null,oc),qc=function(){function a(){}a.prototype._lock=function(){v(!J.global);++this._reculock;this._reculock===1&&!J.global&&(J.lockOwnerFor=this);return this};a.prototype._unlock=function(){v(!J.global);if(--this._reculock===0){J.global||(J.lockOwnerFor=null);while(this._blockedFuncs.length>0&&!this._locked()){var a=this._blockedFuncs.shift();try{vb(a[1],a[0])}catch(a){}}}return this};a.prototype._locked=function(){return this._reculock&&J.lockOwnerFor!==this};a.prototype.create=function(a){var b=this;if(!this.mode)return this;var c=this.db.idbdb,d=this.db._state.dbOpenError;v(!this.idbtrans);if(!a&&!c)switch(d&&d.name){case"DatabaseClosedError":throw new D.DatabaseClosed(d);case"MissingAPIError":throw new D.MissingAPI(d.message,d);default:throw new D.OpenFailed(d)}if(!this.active)throw new D.TransactionInactive();v(this._completion._state===null);a=this.idbtrans=a||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):c.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}));a.onerror=L(function(c){nc(c),b._reject(a.error)});a.onabort=L(function(c){nc(c),b.active&&b._reject(new D.Abort(a.error)),b.active=!1,b.on("abort").fire(c)});a.oncomplete=L(function(){b.active=!1,b._resolve(),"mutatedParts"in a&&W.storagemutated.fire(a.mutatedParts)});return this};a.prototype._promise=function(a,b,c){var d=this;if(a==="readwrite"&&this.mode!=="readwrite")return Q(new D.ReadOnly("Transaction is readonly"));if(!this.active)return Q(new D.TransactionInactive());if(this._locked())return new K(function(e,f){d._blockedFuncs.push([function(){d._promise(a,b,c).then(e,f)},J])});else if(c)return N(function(){var a=new K(function(a,c){d._lock();var e=b(a,c,d);e&&e.then&&e.then(a,c)});a["finally"](function(){return d._unlock()});a._lib=!0;return a});else{var e=new K(function(a,c){var e=b(a,c,d);e&&e.then&&e.then(a,c)});e._lib=!0;return e}};a.prototype._root=function(){return this.parent?this.parent._root():this};a.prototype.waitFor=function(a){var b=this._root(),c=K.resolve(a);if(b._waitingFor)b._waitingFor=b._waitingFor.then(function(){return c});else{b._waitingFor=c;b._waitingQueue=[];var d=b.idbtrans.objectStore(b.storeNames[0]);(function a(){++b._spinCount;while(b._waitingQueue.length)b._waitingQueue.shift()();b._waitingFor&&(d.get(-Infinity).onsuccess=a)})()}var e=b._waitingFor;return new K(function(a,d){c.then(function(c){return b._waitingQueue.push(L(a.bind(null,c)))},function(a){return b._waitingQueue.push(L(d.bind(null,a)))})["finally"](function(){b._waitingFor===e&&(b._waitingFor=null)})})};a.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new D.Abort()))};a.prototype.table=function(a){var b=this._memoizedTables||(this._memoizedTables={});if(l(b,a))return b[a];var c=this.schema[a];if(!c)throw new D.NotFound("Table "+a+" not part of transaction");c=new this.db.Table(a,c,this);c.core=this.db.core.table(a);b[a]=c;return c};return a}();function rc(a){return Qb(qc.prototype,function(b,c,d,e,f){var g=this;this.db=a;this.mode=b;this.storeNames=c;this.schema=d;this.chromeTransactionDurability=e;this.idbtrans=null;this.on=Pb(this,"complete","error","abort");this.parent=f||null;this.active=!0;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new K(function(a,b){g._resolve=a,g._reject=b});this._completion.then(function(){g.active=!1,g.on.complete.fire()},function(a){var b=g.active;g.active=!1;g.on.error.fire(a);g.parent?g.parent._reject(a):b&&g.idbtrans&&g.idbtrans.abort();return Q(a)})})}function sc(a,b,c,d,e,f,g){return{name:a,keyPath:b,unique:c,multi:d,auto:e,compound:f,src:(c&&!g?"&":"")+(d?"*":"")+(e?"++":"")+tc(b)}}function tc(a){return typeof a==="string"?a:a?"["+[].join.call(a,"+")+"]":""}function uc(a,b,c){return{name:a,primKey:b,indexes:c,mappedClass:null,idxByName:ba(c,function(a){return[a.name,a]})}}function vc(a){return a.length===1?a[0]:a}var wc=function(a){try{a.only([[]]);wc=function(){return[[]]};return[[]]}catch(a){wc=function(){return zb};return zb}};function xc(a){if(a==null)return function(){return void 0};else if(typeof a==="string")return yc(a);else return function(b){return w(b,a)}}function yc(a){var b=a.split(".");if(b.length===1)return function(b){return b[a]};else return function(b){return w(b,a)}}function zc(a){return[].slice.call(a)}var Ac=0;function Bc(a){return a==null?":id":typeof a==="string"?a:"[".concat(a.join("+"),"]")}function Cc(a,b,c){function d(a,b){var c=zc(a.objectStoreNames);return{schema:{name:a.name,tables:c.map(function(a){return b.objectStore(a)}).map(function(a){var b=a.keyPath,c=a.autoIncrement,d=h(b),e=b==null,f={};e={name:a.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:e,compound:d,keyPath:b,autoIncrement:c,unique:!0,extractKey:xc(b)},indexes:zc(a.indexNames).map(function(b){return a.index(b)}).map(function(b){var c=b.name,d=b.unique,e=b.multiEntry;b=b.keyPath;var a=h(b);c={name:c,compound:a,keyPath:b,unique:d,multiEntry:e,extractKey:xc(b)};f[Bc(b)]=c;return c}),getIndexByKeyPath:function(a){return f[Bc(a)]}};f[":id"]=e.primaryKey;b!=null&&(f[Bc(b)]=e.primaryKey);return e})},hasGetAll:c.length>0&&"getAll"in b.objectStore(c[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function e(a){if(a.type===3)return null;if(a.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=a.lower,d=a.upper,e=a.lowerOpen;a=a.upperOpen;c=c===void 0?d===void 0?null:b.upperBound(d,!!a):d===void 0?b.lowerBound(c,!!e):b.bound(c,d,!!e,!!a);return c}function f(b){var c=b.name;function d(d){var f=d.trans,b=d.type,a=d.keys,g=d.values,h=d.range;return new Promise(function(d,i){d=L(d);i=f.objectStore(c);var j=i.keyPath==null,k=b==="put"||b==="add";if(!k&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var l=(a||g||{length:1}).length;if(a&&g&&a.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(l===0)return d({numFailures:0,failures:{},results:[],lastResult:void 0});var m,n=[],o=[],p=0,q=function(a){++p,nc(a)};if(b==="deleteRange"){if(h.type===4)return d({numFailures:p,failures:o,results:[],lastResult:void 0});h.type===3?n.push(m=i.clear()):n.push(m=i["delete"](e(h)))}else{j=k?j?[g,a]:[g,null]:[a,null];var r=j[0];j=j[1];if(k)for(k=0;k<l;++k)n.push(m=j&&j[k]!==void 0?i[b](r[k],j[k]):i[b](r[k])),m.onerror=q;else for(k=0;k<l;++k)n.push(m=i[b](r[k])),m.onerror=q}var s=function(c){c=c.target.result;n.forEach(function(a,b){return a.error!=null&&(o[b]=a.error)});d({numFailures:p,failures:o,results:b==="delete"?a:n.map(function(a){return a.result}),lastResult:c})};m.onerror=function(a){q(a),s(a)};m.onsuccess=s})}function a(b){var d=b.trans,f=b.values,a=b.query,g=b.reverse,h=b.unique;return new Promise(function(b,i){b=L(b);var j=a.index,k=a.range,l=d.objectStore(c);l=j.isPrimaryKey?l:l.index(j.name);j=g?h?"prevunique":"prev":h?"nextunique":"next";var m=f||!("openKeyCursor"in l)?l.openCursor(e(k),j):l.openKeyCursor(e(k),j);m.onerror=V(i);m.onsuccess=L(function(a){var c=m.result;if(!c){b(null);return}c.___id=++Ac;c.done=!1;var e=c["continue"].bind(c),f=c.continuePrimaryKey;f&&(f=f.bind(c));var g=c.advance.bind(c);a=function(){throw new Error("Cursor not started")};var h=function(){throw new Error("Cursor not stopped")};c.trans=d;c.stop=c["continue"]=c.continuePrimaryKey=c.advance=a;c.fail=L(i);c.next=function(){var a=this,b=1;return this.start(function(){return b--?a["continue"]():a.stop()}).then(function(){return a})};c.start=function(a){var b=new Promise(function(a,b){a=L(a),m.onerror=V(b),c.fail=b,c.stop=function(b){c.stop=c["continue"]=c.continuePrimaryKey=c.advance=h,a(b)}}),d=function(){if(m.result)try{a()}catch(a){c.fail(a)}else c.done=!0,c.start=function(){throw new Error("Cursor behind last entry")},c.stop()};m.onsuccess=L(function(a){m.onsuccess=d,d()});c["continue"]=e;c.continuePrimaryKey=f;c.advance=g;d();return b};b(c)},i)})}function f(a){return function(b){return new Promise(function(f,g){f=L(f);var h=b.trans,i=b.values,j=b.limit,d=b.query,k=j===Infinity?void 0:j,l=d.index;d=d.range;h=h.objectStore(c);h=l.isPrimaryKey?h:h.index(l.name);l=e(d);if(j===0)return f({result:[]});if(a){d=i?h.getAll(l,k):h.getAllKeys(l,k);d.onsuccess=function(a){return f({result:a.target.result})};d.onerror=V(g)}else{var m=0,n=i||!("openKeyCursor"in h)?h.openCursor(l):h.openKeyCursor(l),o=[];n.onsuccess=function(a){a=n.result;if(!a)return f({result:o});o.push(i?a.value:a.primaryKey);if(++m===j)return f({result:o});a["continue"]()};n.onerror=V(g)}})}}return{name:c,schema:b,mutate:d,getMany:function(b){var d=b.trans,a=b.keys;return new Promise(function(b,e){b=L(b);var f=d.objectStore(c),g=a.length,h=new Array(g),i=0,j=0,k=function(a){a=a.target;(h[a._pos]=a.result)!=null;++j===i&&b(h)};e=V(e);for(var l=0;l<g;++l){var m=a[l];m!=null&&(m=f.get(a[l]),m._pos=l,m.onsuccess=k,m.onerror=e,++i)}i===0&&b(h)})},get:function(a){var b=a.trans,d=a.key;return new Promise(function(a,e){a=L(a);var f=b.objectStore(c);f=f.get(d);f.onsuccess=function(b){return a(b.target.result)};f.onerror=V(e)})},query:f(g),openCursor:a,count:function(b){var a=b.query,d=b.trans,f=a.index,g=a.range;return new Promise(function(a,b){var h=d.objectStore(c);h=f.isPrimaryKey?h:h.index(f.name);var i=e(g);i=i?h.count(i):h.count();i.onsuccess=L(function(b){return a(b.target.result)});i.onerror=V(b)})}}}d=d(a,c);c=d.schema;var g=d.hasGetAll;d=c.tables.map(function(a){return f(a)});var i={};d.forEach(function(a){return i[a.name]=a});return{stack:"dbcore",transaction:a.transaction.bind(a),table:function(a){var b=i[a];if(!b)throw new Error("Table '".concat(a,"' not found"));return i[a]},MIN_KEY:-Infinity,MAX_KEY:wc(b),schema:c}}function Dc(a,b){return b.reduce(function(a,b){b=b.create;return d(d({},a),b(a))},a)}function Ec(a,b,c,d){var e=c.IDBKeyRange;c.indexedDB;c=Dc(Cc(b,e,d),a.dbcore);return{dbcore:c}}function Fc(a,b){var c=b.db;c=Ec(a._middlewares,c,a._deps,b);a.core=c.dbcore;a.tables.forEach(function(b){var c=b.name;a.core.schema.tables.some(function(a){return a.name===c})&&(b.core=a.core.table(c),a[c]instanceof a.Table&&(a[c].core=b.core))})}function Gc(a,b,c,d){c.forEach(function(c){var e=d[c];b.forEach(function(b){var d=r(b,c);(!d||"value"in d&&d.value===void 0)&&(b===a.Transaction.prototype||b instanceof a.Transaction?o(b,c,{get:function(){return this.table(c)},set:function(a){n(this,c,{value:a,writable:!0,configurable:!0,enumerable:!0})}}):b[c]=new a.Table(c,e))})})}function Hc(a,b){b.forEach(function(b){for(var c in b)b[c]instanceof a.Table&&delete b[c]})}function Ic(a,b){return a._cfg.version-b._cfg.version}function Jc(a,b,c,d){var e=a._dbSchema;c.objectStoreNames.contains("$meta")&&!e.$meta&&(e.$meta=uc("$meta",Wc("")[0],[]),a._storeNames.push("$meta"));var f=a._createTransaction("readwrite",a._storeNames,e);f.create(c);f._completion["catch"](d);var h=f._reject.bind(f),i=J.transless||J;N(function(){J.trans=f;J.transless=i;if(b===0)g(e).forEach(function(a){Oc(c,a,e[a].primKey,e[a].indexes)}),Fc(a,c),K.follow(function(){return a.on.populate.fire(f)})["catch"](h);else{Fc(a,c);return Lc(a,f,b).then(function(b){return Mc(a,b,f,c)})["catch"](h)}})}function Kc(a,b){Pc(a._dbSchema,b);b.db.version%10===0&&!b.objectStoreNames.contains("$meta")&&b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var c=Sc(a,a.idbdb,b);Vc(a,a._dbSchema,b);c=Nc(c,a._dbSchema);a=function(a){if(a.change.length||a.recreate)return{value:void 0};var c=b.objectStore(a.name);a.add.forEach(function(a){G&&!1,Rc(c,a)})};for(var d=0,c=c.change;d<c.length;d++){var e=c[d];e=a(e);if(typeof e==="object")return e.value}}function Lc(a,b,c){if(b.storeNames.includes("$meta"))return b.table("$meta").get("version").then(function(a){return a!=null?a:c});else return K.resolve(c)}function Mc(a,b,c,d){var e=[],f=a._versions,h=a._dbSchema=Sc(a,a.idbdb,d);f=f.filter(function(a){return a._cfg.version>=b});if(f.length===0)return K.resolve();f.forEach(function(f){e.push(function(){var e=h,i=f._cfg.dbschema;Vc(a,e,d);Vc(a,i,d);h=a._dbSchema=i;var j=Nc(e,i);j.add.forEach(function(a){Oc(d,a[0],a[1].primKey,a[1].indexes)});j.change.forEach(function(a){if(a.recreate)throw new D.Upgrade("Not yet support for changing primary key");else{var b=d.objectStore(a.name);a.add.forEach(function(a){return Rc(b,a)});a.change.forEach(function(a){b.deleteIndex(a.name),Rc(b,a)});a.del.forEach(function(a){return b.deleteIndex(a)})}});var k=f._cfg.contentUpgrade;if(k&&f._cfg.version>b){Fc(a,d);c._memoizedTables={};var l=da(i);j.del.forEach(function(a){l[a]=e[a]});Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],g(l),l);c.schema=l;var m=qa(k);m&&qb();var n;i=K.follow(function(){n=k(c);if(n&&m){var a=O.bind(null,null);n.then(a,a)}});return n&&typeof n.then==="function"?K.resolve(n):i.then(function(){return n})}}),e.push(function(b){var d=f._cfg.dbschema;Qc(d,b);Hc(a,[a.Transaction.prototype]);Gc(a,[a.Transaction.prototype],a._storeNames,a._dbSchema);c.schema=a._dbSchema}),e.push(function(b){a.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(a.idbdb.version/10)===f._cfg.version?(a.idbdb.deleteObjectStore("$meta"),delete a._dbSchema.$meta,a._storeNames=a._storeNames.filter(function(a){return a!=="$meta"})):b.objectStore("$meta").put(f._cfg.version,"version"))})});function i(){return e.length?K.resolve(e.shift()(c.idbtrans)).then(i):K.resolve()}return i().then(function(){Pc(h,d)})}function Nc(a,b){var c={del:[],add:[],change:[]},d;for(d in a)b[d]||c.del.push(d);for(d in b){var e=a[d],f=b[d];if(!e)c.add.push([d,f]);else{var g={name:d,def:f,recreate:!1,del:[],add:[],change:[]};if(""+(e.primKey.keyPath||"")!==""+(f.primKey.keyPath||"")||e.primKey.auto!==f.primKey.auto)g.recreate=!0,c.change.push(g);else{e=e.idxByName;f=f.idxByName;var h;for(h in e)f[h]||g.del.push(h);for(h in f){var i=e[h],j=f[h];!i?g.add.push(j):i.src!==j.src&&g.change.push(j)}(g.del.length>0||g.add.length>0||g.change.length>0)&&c.change.push(g)}}}return c}function Oc(a,b,c,d){var e=a.db.createObjectStore(b,c.keyPath?{keyPath:c.keyPath,autoIncrement:c.auto}:{autoIncrement:c.auto});d.forEach(function(a){return Rc(e,a)});return e}function Pc(a,b){g(a).forEach(function(c){b.db.objectStoreNames.contains(c)||(G&&!1,Oc(b,c,a[c].primKey,a[c].indexes))})}function Qc(a,b){[].slice.call(b.db.objectStoreNames).forEach(function(c){return a[c]==null&&b.db.deleteObjectStore(c)})}function Rc(a,b){a.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Sc(a,b,c){var d={};a=t(b.objectStoreNames,0);a.forEach(function(a){var b=c.objectStore(a),e=b.keyPath,f=sc(tc(e),e||"",!0,!1,!!b.autoIncrement,e&&typeof e!=="string",!0),g=[];for(var h=0;h<b.indexNames.length;++h){var i=b.index(b.indexNames[h]);e=i.keyPath;i=sc(i.name,e,!!i.unique,!!i.multiEntry,!1,e&&typeof e!=="string",!1);g.push(i)}d[a]=uc(a,f,g)});return d}function Tc(a,b,c){a.verno=b.version/10;c=a._dbSchema=Sc(a,b,c);a._storeNames=t(b.objectStoreNames,0);Gc(a,[a._allTables],g(c),c)}function Uc(a,b){b=Sc(a,a.idbdb,b);b=Nc(b,a._dbSchema);return!(b.add.length||b.change.some(function(a){return a.add.length||a.change.length}))}function Vc(a,b,c){var d=c.db.objectStoreNames;for(var e=0;e<d.length;++e){var g=d[e],h=c.objectStore(g);a._hasGetAll="getAll"in h;for(var i=0;i<h.indexNames.length;++i){var j=h.indexNames[i],k=h.index(j).keyPath;k=typeof k==="string"?k:"["+t(k).join("+")+"]";if(b[g]){var l=b[g].idxByName[k];l&&(l.name=j,delete b[g].idxByName[k],b[g].idxByName[j]=l)}}}typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&f.WorkerGlobalScope&&f instanceof f.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(a._hasGetAll=!1)}function Wc(a){return a.split(",").map(function(a,b){a=a.trim();var c=a.replace(/([&*]|\+\+)/g,""),d=/^\[/.test(c)?c.match(/^\[(.*)\]$/)[1].split("+"):c;return sc(c,d||null,/\&/.test(a),/\*/.test(a),/\+\+/.test(a),h(d),b===0)})}var Xc=function(){function a(){}a.prototype._parseStoresSpec=function(a,b){g(a).forEach(function(c){if(a[c]!==null){var d=Wc(a[c]),e=d.shift();e.unique=!0;if(e.multi)throw new D.Schema("Primary key cannot be multi-valued");d.forEach(function(a){if(a.auto)throw new D.Schema("Only primary key can be marked as autoIncrement (++)");if(!a.keyPath)throw new D.Schema("Index must have a name and cannot be an empty string")});b[c]=uc(c,e,d)}})};a.prototype.stores=function(a){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?i(this._cfg.storesSource,a):a;a=b._versions;var c={},d={};a.forEach(function(a){i(c,a._cfg.storesSource),d=a._cfg.dbschema={},a._parseStoresSpec(c,d)});b._dbSchema=d;Hc(b,[b._allTables,b,b.Transaction.prototype]);Gc(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],g(d),d);b._storeNames=g(d);return this};a.prototype.upgrade=function(a){this._cfg.contentUpgrade=Ga(this._cfg.contentUpgrade||E,a);return this};return a}();function Yc(a){return Qb(Xc.prototype,function(b){this.db=a,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Zc(a,b){var c=a._dbNamesDB;c||(c=a._dbNamesDB=new Y(Db,{addons:[],indexedDB:a,IDBKeyRange:b}),c.version(1).stores({dbnames:"name"}));return c.table("dbnames")}function $c(a){return a&&typeof a.databases==="function"}function ad(a){var b=a.indexedDB;a=a.IDBKeyRange;return $c(b)?Promise.resolve(b.databases()).then(function(a){return a.map(function(a){return a.name}).filter(function(a){return a!==Db})}):Zc(b,a).toCollection().primaryKeys()}function bd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a).put({name:b})["catch"](E)}function cd(a,b){var c=a.indexedDB;a=a.IDBKeyRange;!$c(c)&&b!==Db&&Zc(c,a)["delete"](b)["catch"](E)}function dd(a){return N(function(){J.letThrough=!0;return a()})}function ed(){var a=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!a||!indexedDB.databases)return Promise.resolve();var b;return new Promise(function(a){var c=function(){return indexedDB.databases()["finally"](a)};b=setInterval(c,100);c()})["finally"](function(){return clearInterval(b)})}function fd(a){return!("from"in a)}var X=function(a,b){if(this)i(this,arguments.length?{d:1,from:a,to:arguments.length>1?b:a}:{d:0});else{var c=new X();a&&"d"in a&&i(c,a);return c}};m(X.prototype,(H={add:function(a){hd(this,a);return this},addKey:function(a){gd(this,a,a);return this},addKeys:function(a){var b=this;a.forEach(function(a){return gd(b,a,a)});return this}},H[na]=function(){return jd(this)},H));function gd(a,b,c){var d=S(b,c);if(isNaN(d))return;if(d>0)throw RangeError();if(fd(a))return i(a,{from:b,to:c,d:1});d=a.l;var e=a.r;if(S(c,a.from)<0){d?gd(d,b,c):a.l={from:b,to:c,d:1,l:null,r:null};return kd(a)}if(S(b,a.to)>0){e?gd(e,b,c):a.r={from:b,to:c,d:1,l:null,r:null};return kd(a)}S(b,a.from)<0&&(a.from=b,a.l=null,a.d=e?e.d+1:1);S(c,a.to)>0&&(a.to=c,a.r=null,a.d=a.l?a.l.d+1:1);b=!a.r;d&&!a.l&&hd(a,d);e&&b&&hd(a,e)}function hd(a,b){function c(a,b){var d=b.from,e=b.to,f=b.l;b=b.r;gd(a,d,e);f&&c(a,f);b&&c(a,b)}fd(b)||c(a,b)}function id(a,b){b=jd(b);var c=b.next();if(c.done)return!1;var d=c.value;a=jd(a);var e=a.next(d.from),f=e.value;while(!c.done&&!e.done){if(S(f.from,d.to)<=0&&S(f.to,d.from)>=0)return!0;S(d.from,f.from)<0?d=(c=b.next(f.from)).value:f=(e=a.next(d.from)).value}return!1}function jd(a){var b=fd(a)?null:{s:0,n:a};return{next:function(a){var c=arguments.length>0;while(b)switch(b.s){case 0:b.s=1;if(c)while(b.n.l&&S(a,b.n.from)<0)b={up:b,n:b.n.l,s:1};else while(b.n.l)b={up:b,n:b.n.l,s:1};case 1:b.s=2;if(!c||S(a,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3;b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function kd(a){var b;b=(((b=a.r)===null||b===void 0?void 0:b.d)||0)-(((b=a.l)===null||b===void 0?void 0:b.d)||0);b=b>1?"r":b<-1?"l":"";if(b){var c=b==="r"?"l":"r",e=d({},a),f=a[b];a.from=f.from;a.to=f.to;a[b]=f[b];e[b]=f[c];a[c]=e;e.d=ld(e)}a.d=ld(a)}function ld(a){var b=a.r;a=a.l;return(b?a?Math.max(b.d,a.d):b.d:a?a.d:0)+1}function md(a,b){g(b).forEach(function(c){a[c]?hd(a[c],b[c]):a[c]=ha(b[c])});return a}function nd(a,b){return a.all||b.all||Object.keys(a).some(function(c){return b[c]&&id(b[c],a[c])})}var od={},pd={},qd=!1;function rd(a,b){md(pd,a),qd||(qd=!0,setTimeout(function(){qd=!1;var a=pd;pd={};sd(a,!1)},0))}function sd(a,b){b===void 0&&(b=!1);var c=new Set();if(a.all)for(var d=0,e=Object.values(od);d<e.length;d++){var f=e[d];td(f,a,c,b)}else for(e in a){d=/^idb\:\/\/(.*)\/(.*)\//.exec(e);if(d){var g=d[1];d=d[2];var f=od["idb://".concat(g,"/").concat(d)];f&&td(f,a,c,b)}}c.forEach(function(a){return a()})}function td(a,b,c,d){var e=[];for(var f=0,g=Object.entries(a.queries.query);f<g.length;f++){var h=g[f],i=h[0];h=h[1];var j=[];for(var k=0,h=h;k<h.length;k++){var l=h[k];nd(b,l.obsSet)?l.subscribers.forEach(function(a){return c.add(a)}):d&&j.push(l)}d&&e.push([i,j])}if(d)for(l=0,k=e;l<k.length;l++){h=k[l];var i=h[0],j=h[1];a.queries.query[i]=j}}function ud(a){var b=a._state,c=a._deps.indexedDB;if(b.isBeingOpened||a.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?Q(b.dbOpenError):a});b.isBeingOpened=!0;b.dbOpenError=null;b.openComplete=!1;var d=b.openCanceller,e=Math.round(a.verno*10),f=!1;function g(){if(b.openCanceller!==d)throw new D.DatabaseClosed("db.open() was cancelled")}var h=b.dbReadyResolve,i=null,j=!1,k=function(){return new K(function(d,h){g();if(!c)throw new D.MissingAPI();var l=a.name,m=b.autoSchema||!e?c.open(l):c.open(l,e);if(!m)throw new D.MissingAPI();m.onerror=V(h);m.onblocked=L(a._fireOnBlocked);m.onupgradeneeded=L(function(d){i=m.transaction;if(b.autoSchema&&!a._options.allowEmptyDB){m.onerror=nc;i.abort();m.result.close();var e=c.deleteDatabase(l);e.onsuccess=e.onerror=L(function(){h(new D.NoSuchDatabase("Database ".concat(l," doesnt exist")))})}else{i.onerror=V(h);e=d.oldVersion>Math.pow(2,62)?0:d.oldVersion;j=e<1;a.idbdb=m.result;f&&Kc(a,i);Jc(a,e/10,i,h)}},h);m.onsuccess=L(function(){i=null;var c=a.idbdb=m.result,g=t(c.objectStoreNames);if(g.length>0)try{g=c.transaction(vc(g),"readonly");if(b.autoSchema)Tc(a,c,g);else{Vc(a,a._dbSchema,g);if(!Uc(a,g)&&!f){c.close();e=c.version+1;f=!0;return d(k())}}Fc(a,g)}catch(a){}Cb.push(a);c.onversionchange=L(function(c){b.vcFired=!0,a.on("versionchange").fire(c)});c.onclose=L(function(b){a.on("close").fire(b)});j&&bd(a._deps,l);d()},h)})["catch"](function(a){switch(a===null||a===void 0?void 0:a.name){case"UnknownError":if(b.PR1398_maxLoop>0){b.PR1398_maxLoop--;return k()}break;case"VersionError":if(e>0){e=0;return k()}break}return K.reject(a)})};return K.race([d,(typeof navigator==="undefined"?K.resolve():ed()).then(k)]).then(function(){g();b.onReadyBeingFired=[];return K.resolve(dd(function(){return a.on.ready.fire(a.vip)})).then(function c(){if(b.onReadyBeingFired.length>0){var d=b.onReadyBeingFired.reduce(Ga,E);b.onReadyBeingFired=[];return K.resolve(dd(function(){return d(a.vip)})).then(c)}})})["finally"](function(){b.openCanceller===d&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)})["catch"](function(c){b.dbOpenError=c;try{i&&i.abort()}catch(a){}d===b.openCanceller&&a._close();return Q(c)})["finally"](function(){b.openComplete=!0,h()}).then(function(){if(j){var b={};a.tables.forEach(function(c){c.schema.indexes.forEach(function(d){d.name&&(b["idb://".concat(a.name,"/").concat(c.name,"/").concat(d.name)]=new X(-Infinity,[[[]]]))}),b["idb://".concat(a.name,"/").concat(c.name,"/")]=b["idb://".concat(a.name,"/").concat(c.name,"/:dels")]=new X(-Infinity,[[[]]])});W(oc).fire(b);sd(b,!0)}return a})}function vd(a){var b=function(b){return a.next(b)},c=function(b){return a["throw"](b)},d=f(b),e=f(c);function f(a){return function(b){b=a(b);var c=b.value;return b.done?c:!c||typeof c.then!=="function"?h(c)?Promise.all(c).then(d,e):d(c):c.then(d,e)}}return f(b)()}function wd(a,b,c){var d=arguments.length;if(d<2)throw new D.InvalidArgument("Too few arguments");var e=new Array(d-1);while(--d)e[d-1]=arguments[d];c=e.pop();var f=fa(e);return[a,f,c]}function xd(a,b,c,d,e){return K.resolve().then(function(){var f=J.transless||J,g=a._createTransaction(b,c,a._dbSchema,d);g.explicit=!0;f={trans:g,transless:f};if(d)g.idbtrans=d.idbtrans;else try{g.create(),g.idbtrans._explicit=!0,a._state.PR1398_maxLoop=3}catch(d){if(d.name===wa.InvalidState&&a.isOpen()&&--a._state.PR1398_maxLoop>0){a.close({disableAutoOpen:!1});return a.open().then(function(){return xd(a,b,c,null,e)})}return Q(d)}var h=qa(e);h&&qb();var i;f=K.follow(function(){i=e.call(g,g);if(i)if(h){var a=O.bind(null,null);i.then(a,a)}else typeof i.next==="function"&&typeof i["throw"]==="function"&&(i=vd(i))},f);return(i&&typeof i.then==="function"?K.resolve(i).then(function(a){return g.active?a:Q(new D.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return i})).then(function(a){d&&g._resolve();return g._completion.then(function(){return a})})["catch"](function(a){g._reject(a);return Q(a)})})}function yd(a,b,c){a=h(a)?a.slice():[a];for(var d=0;d<c;++d)a.push(b);return a}function zd(a){return d(d({},a),{table:function(b){var c=a.table(b);b=c.schema;var e={},f=[];function g(a,b,c){var h=Bc(a),i=e[h]=e[h]||[],j=a==null?0:typeof a==="string"?1:a.length,k=b>0;h=d(d({},c),{name:k?"".concat(h,"(virtual-from:").concat(c.name,")"):c.name,lowLevelIndex:c,isVirtual:k,keyTail:b,keyLength:j,extractKey:xc(a),unique:!k&&c.unique});i.push(h);h.isPrimaryKey||f.push(h);if(j>1){k=j===2?a[0]:a.slice(0,j-1);g(k,b+1,c)}i.sort(function(a,b){return a.keyTail-b.keyTail});return h}var h=g(b.primaryKey.keyPath,0,b.primaryKey);e[":id"]=[h];for(var i=0,j=b.indexes;i<j.length;i++){var k=j[i];g(k.keyPath,0,k)}function l(a){a=e[Bc(a)];return a&&a[0]}function m(b,c){return{type:b.type===1?2:b.type,lower:yd(b.lower,b.lowerOpen?a.MAX_KEY:a.MIN_KEY,c),lowerOpen:!0,upper:yd(b.upper,b.upperOpen?a.MIN_KEY:a.MAX_KEY,c),upperOpen:!0}}function n(b){var a=b.query.index;return a.isVirtual?d(d({},b),{query:{index:a.lowLevelIndex,range:m(b.query.range,a.keyTail)}}):b}k=d(d({},c),{schema:d(d({},b),{primaryKey:h,indexes:f,getIndexByKeyPath:l}),count:function(a){return c.count(n(a))},query:function(a){return c.query(n(a))},openCursor:function(d){var b=d.query.index,e=b.keyTail,f=b.isVirtual,g=b.keyLength;if(!f)return c.openCursor(d);function h(b){function c(c){c!=null?b["continue"](yd(c,d.reverse?a.MAX_KEY:a.MIN_KEY,e)):d.unique?b["continue"](b.key.slice(0,g).concat(d.reverse?a.MIN_KEY:a.MAX_KEY,e)):b["continue"]()}c=Object.create(b,{"continue":{value:c},continuePrimaryKey:{value:function(d,c){b.continuePrimaryKey(yd(d,a.MAX_KEY,e),c)}},primaryKey:{get:function(){return b.primaryKey}},key:{get:function(){var a=b.key;return g===1?a[0]:a.slice(0,g)}},value:{get:function(){return b.value}}});return c}return c.openCursor(n(d)).then(function(a){return a&&h(a)})}});return k}})}var Ad={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:zd};function Bd(a,b,c,d){c=c||{};d=d||"";g(a).forEach(function(e){if(!l(b,e))c[d+e]=void 0;else{var f=a[e],g=b[e];if(typeof f==="object"&&typeof g==="object"&&f&&g){var h=ma(f),i=ma(g);h!==i?c[d+e]=b[e]:h==="Object"?Bd(f,g,c,d+e+"."):f!==g&&(c[d+e]=b[e])}else f!==g&&(c[d+e]=b[e])}});g(b).forEach(function(e){l(a,e)||(c[d+e]=b[e])});return c}function Cd(a,b){return b.type==="delete"?b.keys:b.keys||b.values.map(a.extractKey)}var Dd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(a){return d(d({},a),{table:function(b){var c=a.table(b),f=c.schema.primaryKey,g=d(d({},c),{mutate:function(a){var g=J.trans,h=g.table(b).hook,i=h.deleting,j=h.creating,k=h.updating;switch(a.type){case"add":if(j.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"put":if(j.fire===E&&k.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"delete":if(i.fire===E)break;return g._promise("readwrite",function(){return m(a)},!0);case"deleteRange":if(i.fire===E)break;return g._promise("readwrite",function(){return n(a)},!0)}return c.mutate(a);function m(b){var g=J.trans,a=b.keys||Cd(f,b);if(!a)throw new Error("Keys missing");b=b.type==="add"||b.type==="put"?d(d({},b),{keys:a}):d({},b);b.type!=="delete"&&(b.values=e([],b.values,!0));b.keys&&(b.keys=e([],b.keys,!0));return Ed(c,b,a).then(function(d){var e=a.map(function(a,c){var e=d[c],h={onerror:null,onsuccess:null};if(b.type==="delete")i.fire.call(h,a,e,g);else if(b.type==="add"||e===void 0){var m=j.fire.call(h,a,b.values[c],g);a==null&&m!=null&&(a=m,b.keys[c]=a,f.outbound||x(b.values[c],f.keyPath,a))}else{m=Bd(e,b.values[c]);var n=k.fire.call(h,m,a,e,g);if(n){var o=b.values[c];Object.keys(n).forEach(function(a){l(o,a)?o[a]=n[a]:x(o,a,n[a])})}}return h});return c.mutate(b).then(function(c){var f=c.failures,g=c.results,h=c.numFailures;c=c.lastResult;for(var i=0;i<a.length;++i){var j=g?g[i]:a[i],k=e[i];j==null?k.onerror&&k.onerror(f[i]):k.onsuccess&&k.onsuccess(b.type==="put"&&d[i]?b.values[i]:j)}return{failures:f,results:g,numFailures:h,lastResult:c}})["catch"](function(a){e.forEach(function(b){return b.onerror&&b.onerror(a)});return Promise.reject(a)})})}function n(a){return o(a.trans,a.range,1e4)}function o(a,b,e){return c.query({trans:a,values:!1,query:{index:f,range:b},limit:e}).then(function(c){var f=c.result;return m({type:"delete",keys:f,trans:a}).then(function(c){if(c.numFailures>0)return Promise.reject(c.failures[0]);if(f.length<e)return{failures:[],numFailures:0,lastResult:void 0};else return o(a,d(d({},b),{lower:f[f.length-1],lowerOpen:!0}),e)})})}}});return g}})}};function Ed(a,b,c){return b.type==="add"?Promise.resolve([]):a.getMany({trans:b.trans,keys:c,cache:"immutable"})}function Fd(a,b,c){try{if(!b)return null;if(b.keys.length<a.length)return null;var d=[];for(var e=0,f=0;e<b.keys.length&&f<a.length;++e){if(S(b.keys[e],a[f])!==0)continue;d.push(c?z(b.values[e]):b.values[e]);++f}return d.length===a.length?d:null}catch(a){return null}}var Gd={stack:"dbcore",level:-1,create:function(a){return{table:function(b){var c=a.table(b);return d(d({},c),{getMany:function(a){if(!a.cache)return c.getMany(a);var b=Fd(a.keys,a.trans._cache,a.cache==="clone");return b?K.resolve(b):c.getMany(a).then(function(b){a.trans._cache={keys:a.keys,values:a.cache==="clone"?z(b):b};return b})},mutate:function(a){a.type!=="add"&&(a.trans._cache=null);return c.mutate(a)}})}}}};function Hd(a,b){return a.trans.mode==="readonly"&&!!a.subscr&&!a.trans.explicit&&a.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Id(a,b){switch(a){case"query":return b.values&&!b.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Jd={stack:"dbcore",level:0,name:"Observability",create:function(a){var b=a.schema.name,c=new X(a.MIN_KEY,a.MAX_KEY);return d(d({},a),{transaction:function(b,c,d){if(J.subscr&&c!=="readonly")throw new D.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(J.querier));return a.transaction(b,c,d)},table:function(e){var f=a.table(e),i=f.schema,j=i.primaryKey,k=j.extractKey,l=j.outbound,m=d(d({},f),{mutate:function(g){var k=g.trans,l=g.mutatedParts||(g.mutatedParts={}),m=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return l[a]||(l[a]=new X())},n=m(""),o=m(":dels"),d=g.type,p=g.type==="deleteRange"?[g.range]:g.type==="delete"?[g.keys]:g.values.length<50?[Cd(j,g).filter(function(a){return a}),g.values]:[],a=p[0];p=p[1];var q=g.trans._cache;if(h(a)){n.addKeys(a);d=d==="delete"||a.length===p.length?Fd(a,q):null;d||o.addKeys(a);(d||p)&&Kd(m,i,d,p)}else if(a){q={from:a.lower,to:a.upper};o.add(q);n.add(q)}else n.add(c),o.add(c),i.indexes.forEach(function(a){return m(a.name).add(c)});return f.mutate(g).then(function(b){a&&(g.type==="add"||g.type==="put")&&n.addKeys(b.results);k.mutatedParts=md(k.mutatedParts||{},l);return b})}}),n=function(b){b=b.query;var c=b.index;b=b.range;return[c,new X((c=b.lower)!==null&&c!==void 0?c:a.MIN_KEY,(c=b.upper)!==null&&c!==void 0?c:a.MAX_KEY)]},o={get:function(a){return[j,new X(a.key)]},getMany:function(a){return[j,new X().addKeys(a.keys)]},count:n,query:n,openCursor:n};g(o).forEach(function(a){m[a]=function(g){var h=J.subscr,i=!!h,j=Hd(J,f)&&Id(a,g),m=j?g.obsSet={}:h;if(i){var n=function(a){a="idb://".concat(b,"/").concat(e,"/").concat(a);return m[a]||(m[a]=new X())},p=n(""),q=n(":dels"),r=o[a](g),s=r[0],t=r[1];a==="query"&&s.isPrimaryKey&&!g.values?q.add(t):n(s.name||"").add(t);if(!s.isPrimaryKey)if(a==="count")q.add(c);else{var u=a==="query"&&l&&g.values&&f.query(d(d({},g),{values:!1}));return f[a].apply(this,arguments).then(function(b){if(a==="query"){if(l&&g.values)return u.then(function(a){a=a.result;p.addKeys(a);return b});var c=g.values?b.result.map(k):b.result;g.values?p.addKeys(c):q.addKeys(c)}else if(a==="openCursor"){var d=b,e=g.values;return d&&Object.create(d,{key:{get:function(){q.addKey(d.primaryKey);return d.key}},primaryKey:{get:function(){var a=d.primaryKey;q.addKey(a);return a}},value:{get:function(){e&&p.addKey(d.primaryKey);return d.value}}})}return b})}}return f[a].apply(this,arguments)}});return m}})}};function Kd(a,b,c,d){function e(b){var e=a(b.name||"");function f(a){return a!=null?b.extractKey(a):null}var g=function(a){return b.multiEntry&&h(a)?a.forEach(function(a){return e.addKey(a)}):e.addKey(a)};(c||d).forEach(function(a,b){a=c&&f(c[b]);b=d&&f(d[b]);S(a,b)!==0&&(a!=null&&g(a),b!=null&&g(b))})}b.indexes.forEach(e)}function Ld(a,b,c){if(c.numFailures===0)return b;if(b.type==="deleteRange")return null;a=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;if(c.numFailures===a)return null;a=d({},b);h(a.keys)&&(a.keys=a.keys.filter(function(a,b){return!(b in c.failures)}));"values"in a&&h(a.values)&&(a.values=a.values.filter(function(a,b){return!(b in c.failures)}));return a}function Md(a,b){return b.lower===void 0?!0:b.lowerOpen?S(a,b.lower)>0:S(a,b.lower)>=0}function Nd(a,b){return b.upper===void 0?!0:b.upperOpen?S(a,b.upper)<0:S(a,b.upper)<=0}function Od(a,b){return Md(a,b)&&Nd(a,b)}function Pd(a,b,c,d,e,f){if(!c||c.length===0)return a;var g=b.query.index,i=g.multiEntry,j=b.query.range;d=d.schema.primaryKey;var k=d.extractKey,l=g.extractKey,m=(g.lowLevelIndex||g).extractKey;d=c.reduce(function(a,c){var d=a,e=c.type==="add"||c.type==="put"?c.values.filter(function(a){a=l(a);return i&&h(a)?a.some(function(a){return Od(a,j)}):Od(a,j)}).map(function(a){a=z(a);f&&Object.freeze(a);return a}):[];switch(c.type){case"add":d=a.concat(b.values?e:e.map(function(a){return k(a)}));break;case"put":var g=new X().addKeys(c.values.map(function(a){return k(a)}));d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),g)}).concat(b.values?e:e.map(function(a){return k(a)}));break;case"delete":var m=new X().addKeys(c.keys);d=a.filter(function(a){a=b.values?k(a):a;return!id(new X(a),m)});break;case"deleteRange":var n=c.range;d=a.filter(function(a){return!Od(k(a),n)});break}return d},a);if(d===a)return a;d.sort(function(a,b){return S(m(a),m(b))||S(k(a),k(b))});b.limit&&b.limit<Infinity&&(d.length>b.limit?d.length=b.limit:a.length===b.limit&&d.length<b.limit&&(e.dirty=!0));return f?Object.freeze(d):d}function Qd(a,b){return S(a.lower,b.lower)===0&&S(a.upper,b.upper)===0&&!!a.lowerOpen===!!b.lowerOpen&&!!a.upperOpen===!!b.upperOpen}function Rd(a,b,c,d){if(a===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return 1;if(d)return-1}return a}function Sd(a,b,c,d){if(a===void 0)return b!==void 0?1:0;if(b===void 0)return-1;a=S(a,b);if(a===0){if(c&&d)return 0;if(c)return-1;if(d)return 1}return a}function Td(a,b){return Rd(a.lower,b.lower,a.lowerOpen,b.lowerOpen)<=0&&Sd(a.upper,b.upper,a.upperOpen,b.upperOpen)>=0}function Ud(b,c,a,d){b=od["idb://".concat(b,"/").concat(c)];if(!b)return[];c=b.queries[a];if(!c)return[null,!1,b,null];var e=d.query?d.query.index.name:null;c=c[e||""];if(!c)return[null,!1,b,null];switch(a){case"query":e=c.find(function(a){return a.req.limit===d.limit&&a.req.values===d.values&&Qd(a.req.query.range,d.query.range)});if(e)return[e,!0,b,c];a=c.find(function(a){var b="limit"in a.req?a.req.limit:Infinity;return b>=d.limit&&(d.values?a.req.values:!0)&&Td(a.req.query.range,d.query.range)});return[a,!1,b,c];case"count":e=c.find(function(a){return Qd(a.req.query.range,d.query.range)});return[e,!!e,b,c]}}function Vd(a,b,c,d){a.subscribers.add(c),d.addEventListener("abort",function(){a.subscribers["delete"](c),a.subscribers.size===0&&Wd(a,b)})}function Wd(a,b){setTimeout(function(){a.subscribers.size===0&&A(b,a)},3e3)}var Xd={stack:"dbcore",level:0,name:"Cache",create:function(a){var b=a.schema.name,c=d(d({},a),{transaction:function(c,d,e){var f=a.transaction(c,d,e);if(d==="readwrite"){var g=new AbortController();e=g.signal;var h=function(e){return function(){g.abort();if(d==="readwrite"){var h=new Set();for(var i=0,j=c;i<j.length;i++){var k=j[i],l=od["idb://".concat(b,"/").concat(k)];if(l){k=a.table(k);var m=l.optimisticOps.filter(function(a){return a.trans===f});if(f._explicit&&e&&f.mutatedParts)for(var n=0,o=Object.values(l.queries.query);n<o.length;n++){var p=o[n];for(var q=0,r=p.slice();q<r.length;q++){var s=r[q];nd(s.obsSet,f.mutatedParts)&&(A(p,s),s.subscribers.forEach(function(a){return h.add(a)}))}}else if(m.length>0){l.optimisticOps=l.optimisticOps.filter(function(a){return a.trans!==f});for(q=0,r=Object.values(l.queries.query);q<r.length;q++){var p=r[q];for(n=0,o=p.slice();n<o.length;n++){var s=o[n];if(s.res!=null&&f.mutatedParts)if(e&&!s.dirty){l=Object.isFrozen(s.res);l=Pd(s.res,s.req,m,k,s,l);s.dirty?(A(p,s),s.subscribers.forEach(function(a){return h.add(a)})):l!==s.res&&(s.res=l,s.promise=K.resolve({result:l}))}else s.dirty&&A(p,s),s.subscribers.forEach(function(a){return h.add(a)})}}}}}h.forEach(function(a){return a()})}}};f.addEventListener("abort",h(!1),{signal:e});f.addEventListener("error",h(!1),{signal:e});f.addEventListener("complete",h(!0),{signal:e})}return f},table:function(c){var e=a.table(c),f=e.schema.primaryKey,g=d(d({},e),{mutate:function(a){var g=J.trans;if(f.outbound||g.db._options.cache==="disabled"||g.explicit)return e.mutate(a);var h=od["idb://".concat(b,"/").concat(c)];if(!h)return e.mutate(a);g=e.mutate(a);(a.type==="add"||a.type==="put")&&(a.values.length>=50||Cd(f,a).some(function(a){return a==null}))?g.then(function(b){var c=d(d({},a),{values:a.values.map(function(a,c){var e;e=((e=f.keyPath)===null||e===void 0?void 0:e.includes("."))?z(a):d({},a);x(e,f.keyPath,b.results[c]);return e})});c=Ld(h,c,b);h.optimisticOps.push(c);queueMicrotask(function(){return a.mutatedParts&&rd(a.mutatedParts)})}):(h.optimisticOps.push(a),a.mutatedParts&&rd(a.mutatedParts),g.then(function(b){if(b.numFailures>0){A(h.optimisticOps,a);b=Ld(h,a,b);b&&h.optimisticOps.push(b);a.mutatedParts&&rd(a.mutatedParts)}}),g["catch"](function(){A(h.optimisticOps,a),a.mutatedParts&&rd(a.mutatedParts)}));return g},query:function(a){var d;if(!Hd(J,e)||!Id("query",a))return e.query(a);var f=((d=J.trans)===null||d===void 0?void 0:d.db._options.cache)==="immutable";d=J;var g=d.requery;d=d.signal;var h=Ud(b,c,"query",a),i=h[0],j=h[1],k=h[2],l=h[3];if(i&&j)i.obsSet=a.obsSet;else{h=e.query(a).then(function(a){var b=a.result;i&&(i.res=b);if(f){for(var c=0,d=b.length;c<d;++c)Object.freeze(b[c]);Object.freeze(b)}else a.result=z(b);return a})["catch"](function(a){l&&i&&A(l,i);return Promise.reject(a)});i={obsSet:a.obsSet,promise:h,subscribers:new Set(),type:"query",req:a,dirty:!1};l?l.push(i):(l=[i],k||(k=od["idb://".concat(b,"/").concat(c)]={queries:{query:{},count:{}},objs:new Map(),optimisticOps:[],unsignaledParts:{}}),k.queries.query[a.query.index.name||""]=l)}Vd(i,l,g,d);return i.promise.then(function(b){return{result:Pd(b.result,a,k===null||k===void 0?void 0:k.optimisticOps,e,i,f)}})}});return g}});return c}};function Yd(a,b){return new Proxy(a,{get:function(a,c,d){return c==="db"?b:Reflect.get(a,c,d)}})}var Y=function(){function a(b,c){var e=this;this._middlewares={};this.verno=0;var f=a.dependencies;this._options=c=d({addons:a.addons,autoOpen:!0,indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange,cache:"cloned"},c);this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange};f=c.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;this._novip=this;var g={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:E,dbReadyPromise:null,cancelOpen:E,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};g.dbReadyPromise=new K(function(a){g.dbReadyResolve=a});g.openCanceller=new K(function(a,b){g.cancelOpen=b});this._state=g;this.name=b;this.on=Pb(this,"populate","blocked","versionchange","close",{ready:[Ga,E]});this.on.ready.subscribe=u(this.on.ready.subscribe,function(b){return function(c,d){a.vip(function(){var a=e._state;if(a.openComplete)a.dbOpenError||K.resolve().then(c),d&&b(c);else if(a.onReadyBeingFired)a.onReadyBeingFired.push(c),d&&b(c);else{b(c);var f=e;d||b(function a(){f.on.ready.unsubscribe(c),f.on.ready.unsubscribe(a)})}})}});this.Collection=cc(this);this.Table=Rb(this);this.Transaction=rc(this);this.Version=Yc(this);this.WhereClause=mc(this);this.on("versionchange",function(a){a.newVersion>0?!1:!1,e.close({disableAutoOpen:!1})});this.on("blocked",function(a){!a.newVersion||a.newVersion<a.oldVersion?!1:!1});this._maxKey=wc(c.IDBKeyRange);this._createTransaction=function(a,b,c,d){return new e.Transaction(a,b,c,e._options.chromeTransactionDurability,d)};this._fireOnBlocked=function(a){e.on("blocked").fire(a),Cb.filter(function(a){return a.name===e.name&&a!==e&&!a._state.vcFired}).map(function(b){return b.on("versionchange").fire(a)})};this.use(Gd);this.use(Xd);this.use(Jd);this.use(Ad);this.use(Dd);var h=new Proxy(this,{get:function(a,b,c){if(b==="_vip")return!0;if(b==="table")return function(a){return Yd(e.table(a),h)};var d=Reflect.get(a,b,c);if(d instanceof Ob)return Yd(d,h);if(b==="tables")return d.map(function(a){return Yd(a,h)});return b==="_createTransaction"?function(){var a=d.apply(this,arguments);return Yd(a,h)}:d}});this.vip=h;f.forEach(function(a){return a(e)})}a.prototype.version=function(a){if(isNaN(a)||a<.1)throw new D.Type("Given version is not a positive number");a=Math.round(a*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new D.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,a);var b=this._versions,c=b.filter(function(b){return b._cfg.version===a})[0];if(c)return c;c=new this.Version(a);b.push(c);b.sort(Ic);c.stores({});this._state.autoSchema=!1;return c};a.prototype._whenReady=function(a){var b=this;return this.idbdb&&(this._state.openComplete||J.letThrough||this._vip)?a():new K(function(a,c){if(b._state.openComplete)return c(new D.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen){c(new D.DatabaseClosed());return}b.open()["catch"](E)}b._state.dbReadyPromise.then(a,c)}).then(a)};a.prototype.use=function(a){var b=a.stack,c=a.create,d=a.level;a=a.name;a&&this.unuse({stack:b,name:a});var e=this._middlewares[b]||(this._middlewares[b]=[]);e.push({stack:b,create:c,level:d==null?10:d,name:a});e.sort(function(a,b){return a.level-b.level});return this};a.prototype.unuse=function(a){var b=a.stack,c=a.name,d=a.create;b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(a){return d?a.create!==d:c?a.name!==c:!1}));return this};a.prototype.open=function(){var a=this;return vb(I,function(){return ud(a)})};a.prototype._close=function(){var a=this._state,b=Cb.indexOf(this);b>=0&&Cb.splice(b,1);if(this.idbdb){try{this.idbdb.close()}catch(a){}this.idbdb=null}a.isBeingOpened||(a.dbReadyPromise=new K(function(b){a.dbReadyResolve=b}),a.openCanceller=new K(function(b,c){a.cancelOpen=c}))};a.prototype.close=function(a){a=a===void 0?{disableAutoOpen:!0}:a;a=a.disableAutoOpen;var b=this._state;a?(b.isBeingOpened&&b.cancelOpen(new D.DatabaseClosed()),this._close(),b.autoOpen=!1,b.dbOpenError=new D.DatabaseClosed()):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)};a.prototype["delete"]=function(a){var b=this;a===void 0&&(a={disableAutoOpen:!0});var c=arguments.length>0&&typeof arguments[0]!=="object",d=this._state;return new K(function(e,f){var g=function(){b.close(a);var c=b._deps.indexedDB.deleteDatabase(b.name);c.onsuccess=L(function(){cd(b._deps,b.name),e()});c.onerror=V(f);c.onblocked=b._fireOnBlocked};if(c)throw new D.InvalidArgument("Invalid closeOptions argument to db.delete()");d.isBeingOpened?d.dbReadyPromise.then(g):g()})};a.prototype.backendDB=function(){return this.idbdb};a.prototype.isOpen=function(){return this.idbdb!==null};a.prototype.hasBeenClosed=function(){var a=this._state.dbOpenError;return a&&a.name==="DatabaseClosed"};a.prototype.hasFailed=function(){return this._state.dbOpenError!==null};a.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(a.prototype,"tables",{get:function(){var a=this;return g(this._allTables).map(function(b){return a._allTables[b]})},enumerable:!1,configurable:!0});a.prototype.transaction=function(){var a=wd.apply(this,arguments);return this._transaction.apply(this,a)};a.prototype._transaction=function(a,b,c){var d=this,e=J.trans;(!e||e.db!==this||a.indexOf("!")!==-1)&&(e=null);var f=a.indexOf("?")!==-1;a=a.replace("!","").replace("?","");var g,h;try{h=b.map(function(a){a=a instanceof d.Table?a.name:a;if(typeof a!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return a});if(a=="r"||a===Eb)g=Eb;else if(a=="rw"||a==Fb)g=Fb;else throw new D.InvalidArgument("Invalid transaction mode: "+a);if(e){if(e.mode===Eb&&g===Fb)if(f)e=null;else throw new D.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");e&&h.forEach(function(a){if(e&&e.storeNames.indexOf(a)===-1)if(f)e=null;else throw new D.SubTransaction("Table "+a+" not included in parent transaction.")});f&&e&&!e.active&&(e=null)}}catch(a){return e?e._promise(null,function(b,c){c(a)}):Q(a)}var i=xd.bind(null,this,g,h,e,c);return e?e._promise(g,i,"lock"):J.trans?vb(J.transless,function(){return d._whenReady(i)}):this._whenReady(i)};a.prototype.table=function(a){if(!l(this._allTables,a))throw new D.InvalidTable("Table ".concat(a," does not exist"));return this._allTables[a]};return a}(),Zd=typeof Symbol!=="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",$d=function(){function a(a){this._subscribe=a}a.prototype.subscribe=function(a,b,c){return this._subscribe(!a||typeof a==="function"?{next:a,error:b,complete:c}:a)};a.prototype[Zd]=function(){return this};return a}(),ae;try{ae={indexedDB:f.indexedDB||f.mozIndexedDB||f.webkitIndexedDB||f.msIndexedDB,IDBKeyRange:f.IDBKeyRange||f.webkitIDBKeyRange}}catch(a){ae={indexedDB:null,IDBKeyRange:null}}function be(a){var b=!1,c,d=new $d(function(d){var e=qa(a);function f(b){var c=eb();try{e&&qb();b=N(a,b);e&&(b=b["finally"](O));return b}finally{c&&fb()}}var g=!1,h,i={},j={},k={get closed(){return g},unsubscribe:function(){if(g)return;g=!0;h&&h.abort();l&&W.storagemutated.unsubscribe(o)}};d.start&&d.start(k);var l=!1,m=function(){return xb(p)};function n(){return nd(j,i)}var o=function(a){md(i,a),n()&&m()},p=function(){if(g||!ae.indexedDB)return;i={};var e={};h&&h.abort();h=new AbortController();var k={subscr:e,signal:h.signal,requery:m,querier:a,trans:null},n=f(k);Promise.resolve(n).then(function(a){b=!0;c=a;if(g||k.signal.aborted)return;i={};j=e;!ia(j)&&!l&&(W(oc,o),l=!0);xb(function(){return!g&&d.next&&d.next(a)})},function(a){b=!1,["DatabaseClosedError","AbortError"].includes(a===null||a===void 0?void 0:a.name)||(g||xb(function(){if(g)return;d.error&&d.error(a)}))})};setTimeout(m,0);return k});d.hasValue=function(){return b};d.getValue=function(){return c};return d}var ce=Y;m(ce,d(d({},C),{"delete":function(a){a=new ce(a,{addons:[]});return a["delete"]()},exists:function(a){return new ce(a,{addons:[]}).open().then(function(a){a.close();return!0})["catch"]("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(a){try{return ad(ce.dependencies).then(a)}catch(a){return Q(new D.MissingAPI())}},defineClass:function(){function a(a){i(this,a)}return a},ignoreTransaction:function(a){return J.trans?vb(J.transless,a):a()},vip:dd,async:function(a){return function(){try{var b=vd(a.apply(this,arguments));return!b||typeof b.then!=="function"?K.resolve(b):b}catch(a){return Q(a)}}},spawn:function(a,b,c){try{a=vd(a.apply(c,b||[]));return!a||typeof a.then!=="function"?K.resolve(a):a}catch(a){return Q(a)}},currentTransaction:{get:function(){return J.trans||null}},waitFor:function(a,b){a=K.resolve(typeof a==="function"?ce.ignoreTransaction(a):a).timeout(b||6e4);return J.trans?J.trans.waitFor(a):a},Promise:K,debug:{get:function(){return G},set:function(a){Ha(a)}},derive:p,extend:i,props:m,override:u,Events:Pb,on:W,liveQuery:be,extendObservabilitySet:md,getByKeyPath:w,setByKeyPath:x,delByKeyPath:ca,shallowClone:da,deepClone:z,getObjectDiff:Bd,cmp:S,asap:aa,minKey:Ab,addons:[],connections:Cb,errnames:wa,dependencies:ae,cache:od,semVer:Ka,version:Ka.split(".").map(function(a){return parseInt(a)}).reduce(function(a,b,c){return a+b/Math.pow(10,c*2)})}));ce.maxKey=wc(ce.dependencies.IDBKeyRange);typeof dispatchEvent!=="undefined"&&typeof addEventListener!=="undefined"&&(W(oc,function(a){if(!Z){a=new CustomEvent(pc,{detail:a});Z=!0;dispatchEvent(a);Z=!1}}),addEventListener(pc,function(a){a=a.detail;Z||de(a)}));function de(a){var b=Z;try{Z=!0,W.storagemutated.fire(a),sd(a,!0)}finally{Z=b}}var Z=!1,$,ee=function(){};typeof BroadcastChannel!=="undefined"&&(ee=function(){$=new BroadcastChannel(pc),$.onmessage=function(a){return a.data&&de(a.data)}},ee(),typeof $.unref==="function"&&$.unref(),W(oc,function(a){Z||$.postMessage(a)}));typeof addEventListener!=="undefined"&&(addEventListener("pagehide",function(a){if(!Y.disableBfCache&&a.persisted){G&&!1;$===null||$===void 0?void 0:$.close();for(var a=0,b=Cb;a<b.length;a++){var c=b[a];c.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(a){!Y.disableBfCache&&a.persisted&&(G&&!1,ee(),de({all:new X(-Infinity,[[]])}))}));function fe(a,b){return new $b({replacePrefix:[a,b]})}K.rejectionMapper=za;Ha(G);H=Object.freeze({__proto__:null,Dexie:Y,liveQuery:be,Entity:Jb,cmp:S,PropModSymbol:y,PropModification:$b,replacePrefix:fe,"default":Y,RangeSet:X,mergeRanges:hd,rangesOverlap:id});d(Y,H,{"default":Y});return Y})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("dexie_maw-next",["dexie-4.0.1"],(function(a,b,c,d,e,f){e.exports=b("dexie-4.0.1")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);/*FB_PKG_DELIM*/
__d("MAWArmadilloAppDataTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={};a.internalSpec={externalId:[1,(d=d("WAProtoConst")).TYPES.STRING],author:[2,d.TYPES.STRING],chat:[3,d.TYPES.STRING]};b.internalSpec={fromMe:[1,d.TYPES.BOOL],id:[2,d.TYPES.STRING]};c.internalSpec={key:[1,d.TYPES.MESSAGE,b],ts:[2,d.TYPES.INT64]};e.internalSpec={lastMessageTimestamp:[1,d.TYPES.INT64],lastSystemMessageTimestamp:[2,d.TYPES.INT64],messages:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,c]};f.internalSpec={type:[1,d.TYPES.STRING],chatJid:[2,d.TYPES.STRING],archived:[3,d.TYPES.BOOL],ts:[4,d.TYPES.INT64],messageRange:[5,d.TYPES.MESSAGE,e],read:[6,d.TYPES.BOOL]};h.internalSpec={type:[1,d.TYPES.STRING],protocolMsgId:[2,d.TYPES.MESSAGE,a]};i.internalSpec={chatAction:[1,d.TYPES.MESSAGE,f],messageAction:[2,d.TYPES.MESSAGE,h],__oneofs__:{action:["chatAction","messageAction"]}};j.internalSpec={actions:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i]};k.internalSpec={id:[1,d.TYPES.UINT64],anonId:[2,d.TYPES.BYTES],rootKey:[3,d.TYPES.BYTES],status:[4,d.TYPES.INT32]};l.internalSpec={backupId:[1,d.TYPES.UINT64],serverDataId:[2,d.TYPES.UINT64],epoch:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,k],tempOcmfClientState:[4,d.TYPES.BYTES],mailboxRootKey:[5,d.TYPES.BYTES],obliviousValidationToken:[6,d.TYPES.BYTES]};m.internalSpec={currentIndex:[1,d.TYPES.UINT32],deviceIndexes:[2,d.FLAGS.REPEATED|d.TYPES.UINT32],rawId:[3,d.TYPES.UINT32]};n.internalSpec={keyId:[1,d.TYPES.BYTES],keyData:[2,d.TYPES.BYTES],keyEpoch:[3,d.TYPES.UINT32],timestamp:[4,d.TYPES.INT64],fingerprint:[5,d.TYPES.MESSAGE,m]};o.internalSpec={keys:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,n],orphanKeys:[2,d.FLAGS.REPEATED|d.TYPES.BYTES]};p.internalSpec={keyIds:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};q.internalSpec={type:[1,d.TYPES.STRING],actions:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i],encryptedBackupsSecrets:[3,d.TYPES.MESSAGE,l],syncKeyShare:[4,d.TYPES.MESSAGE,o],syncKeyRequest:[5,d.TYPES.MESSAGE,p]};r.internalSpec={deviceJid:[1,d.TYPES.STRING],serializedPubKey:[2,d.TYPES.BYTES],baseKey:[3,d.TYPES.BYTES]};s.internalSpec={externalId:[1,d.TYPES.STRING],ts:[2,d.TYPES.INT64],contents:[3,d.TYPES.MESSAGE,q],permittedIdentitiesPerDevice:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,r],ack:[5,d.TYPES.INT32],appDataId:[6,d.TYPES.INT32],recipientDevices:[7,d.FLAGS.REPEATED|d.TYPES.STRING],sendPartial:[8,d.TYPES.BOOL]};g.ProtocolMsgIdSpec=a;g.MetaSyncMessageKeyProtoSpec=b;g.MetaSyncMessageProtoSpec=c;g.MetaSyncMessageRangeProtoSpec=e;g.MetaSyncChatActionProtoSpec=f;g.MetaSyncMessageActionProtoSpec=h;g.MetaSyncActionProtoSpec=i;g.MetaSyncAppDataProtoSpec=j;g.EncryptedBackupsSecretsEpochProtoSpec=k;g.EncryptedBackupsSecretsProtoSpec=l;g.FingerprintProtoSpec=m;g.SyncKeyDataProtoSpec=n;g.SyncKeyShareProtoSpec=o;g.SyncKeyRequestProtoSpec=p;g.AppDataProtoSpec=q;g.IdentitiesPerDeviceProtoSpec=r;g.AppDataTableSchemaProtoSpec=s}),98);
__d("MAWArmadilloAppMetaTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={msgTypeVersion:[1,(c=d("WAProtoConst")).TYPES.INT32],hmacKey:[2,c.TYPES.BYTES],allowSecurityAlert:[3,c.TYPES.BOOL],hotlikeSticker:[4,c.TYPES.BYTES],isBackfilledForOccamadillo:[5,c.TYPES.BOOL],allowSecurityAlertForSelf:[11,c.TYPES.BOOL],hasMigratedFromDexie:[12,c.TYPES.BOOL],restoreMigrationAttempts:[13,c.TYPES.INT32],deviceJid:[14,c.TYPES.STRING],restoreToDexieMigrationComplete:[15,c.TYPES.BOOL],dbMigrationVersion:[16,c.TYPES.INT32]};b.internalSpec={key:[1,c.TYPES.STRING],value:[2,c.TYPES.MESSAGE,a]};g.DbAppMetaValuesProtoSpec=a;g.AppMetaTableSchemaProtoSpec=b}),98);
__d("MAWArmadilloCollectionVersionsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={collection:[1,(b=d("WAProtoConst")).TYPES.STRING],version:[2,b.TYPES.INT32],state:[3,b.TYPES.STRING],finiteFailureStartTime:[4,b.TYPES.INT64],ltHash:[5,b.TYPES.BYTES],isCollectionInMacMismatchFatal:[6,b.TYPES.BOOL],isCollectionLthashInconsistent:[7,b.TYPES.BOOL]};g.CollectionVersionsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloContactsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};a.internalSpec={ephemeralExpirationInSec:[1,(d=d("WAProtoConst")).TYPES.UINT32],ephemeralLastUpdatedOrSetTimestamp:[2,d.TYPES.INT64]};b.internalSpec={syncResponseRetries:[1,d.TYPES.INT32],syncResponseSentTs:[2,d.TYPES.INT64]};c.internalSpec={sequence:[1,d.TYPES.INT64],timestamp:[2,d.TYPES.INT64],devices:[3,d.FLAGS.REPEATED|d.TYPES.BYTES],signingDeviceIndex:[4,d.TYPES.INT64],dirty:[5,d.TYPES.BOOL]};e.internalSpec={timeBucket:[1,d.TYPES.INT64],alert:[2,d.TYPES.BOOL]};f.internalSpec={contactJid:[1,d.TYPES.STRING],dhash:[3,d.TYPES.STRING],nameForSearch:[4,d.TYPES.STRING],ephemeralSetting:[5,d.TYPES.MESSAGE,a],isBlocked:[6,d.TYPES.BOOL],lastSyncTs:[7,d.TYPES.INT64],icdcInfo:[8,d.TYPES.MESSAGE,c],ephemeralSyncResponseBackoffInfo:[9,d.TYPES.MESSAGE,b],icdcFails:[10,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e],relationship:[11,d.TYPES.INT32],isRestricted:[12,d.TYPES.BOOL]};g.EphemeralSettingProtoSpec=a;g.EphemeralSyncResponseBackoffInfoSpec=b;g.ICDCInfoProtoSpec=c;g.ICDCCheckFailSpec=e;g.ContactsTableSchemaProtoSpec=f}),98);
__d("MAWArmadilloDeletedMessagesTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={author:[1,(b=d("WAProtoConst")).TYPES.STRING],chat:[2,b.TYPES.STRING],externalId:[3,b.TYPES.STRING],reason:[4,b.TYPES.STRING]};g.DeletedMessagesTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloDeviceChangeAlertsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={action:[1,(b=d("WAProtoConst")).TYPES.STRING],isArchived:[2,b.TYPES.BOOL],deviceChangeAlertsId:[3,b.TYPES.INT64],location:[4,b.TYPES.STRING],model:[5,b.TYPES.STRING],ts:[6,b.TYPES.INT64],loggedOut:[7,b.TYPES.BOOL],deviceJid:[8,b.TYPES.STRING],identity:[9,b.TYPES.BYTES],platform:[10,b.TYPES.STRING],latitude:[11,b.TYPES.STRING],longitude:[12,b.TYPES.STRING],isConfirmed:[13,b.TYPES.BOOL],isNotified:[14,b.TYPES.BOOL]};g.DeviceChangeAlertsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloDyiBatchTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={BACKUP_RESTORE:0,E2E_DYI:1};b={};b.internalSpec={batchId:[1,(c=d("WAProtoConst")).TYPES.INT32],numMessages:[2,c.TYPES.INT32],oldestTs:[3,c.TYPES.INT64],threadId:[4,c.TYPES.STRING],isThread:[5,c.TYPES.BOOL],numMessagesRestored:[6,c.TYPES.INT32],qplInstanceKeyForThread:[7,c.TYPES.INT64],qplFlowDescriptor:[8,c.TYPES.ENUM,a],qplInstanceKeyE2E:[9,c.TYPES.INT64],numThreadsRestored:[10,c.TYPES.INT64]};g.DYI_BATCH_TABLE_SCHEMA_PROTO_QPL_FLOW_DESCRIPTOR=a;g.DyiBatchTableSchemaProtoSpec=b}),98);
__d("MAWArmadilloEBMsgRangesTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={rangeId:[1,(b=d("WAProtoConst")).TYPES.UINT32],threadJid:[2,b.TYPES.STRING],minMsgExternalId:[3,b.TYPES.STRING],maxMsgExternalId:[4,b.TYPES.STRING],minMsgSortOrderMs:[5,b.TYPES.UINT64],maxMsgSortOrderMs:[6,b.TYPES.UINT64]};g.EBMsgRangesTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloMessagesTableSchema.pb",["MAWArmadilloContactsTableSchema.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={};b={};c={};e={};f={};var i={},j={},k={},l={},m={};a.internalSpec={content:[1,(h=d("WAProtoConst")).TYPES.STRING],adminMsgContent:[2,h.FLAGS.REPEATED|h.TYPES.STRING],adminType:[3,h.TYPES.STRING],obsoleteExpiration:[4,h.TYPES.INT32],obsoleteTs:[5,h.TYPES.INT64],subtype:[6,h.TYPES.STRING],protobuf:[7,h.TYPES.BYTES],screenshotActionType:[8,h.TYPES.INT32],authorName:[9,h.TYPES.STRING],version:[10,h.TYPES.INT32],mentionedJids:[11,h.FLAGS.REPEATED|h.TYPES.STRING]};b.internalSpec={frankingTag:[1,h.TYPES.BYTES],frankingVersion:[2,h.TYPES.INT32],reportingContent:[3,h.TYPES.BYTES],reportingTag:[4,h.TYPES.BYTES],frankingKey:[5,h.TYPES.BYTES]};c.internalSpec={remoteJid:[1,h.TYPES.STRING],content:[2,h.TYPES.MESSAGE,l]};e.internalSpec={duration:[1,h.TYPES.INT32],width:[2,h.TYPES.INT32],height:[3,h.TYPES.INT32],mimetype:[4,h.TYPES.STRING],jpegThumbnail:[5,h.TYPES.BYTES],jpegThumbnailHeight:[6,h.TYPES.INT32],jpegThumbnailWidth:[7,h.TYPES.INT32]};f.internalSpec={width:[1,h.TYPES.UINT32],height:[2,h.TYPES.UINT32],jpegThumbnail:[3,h.TYPES.BYTES],jpegThumbnailHeight:[4,h.TYPES.INT32],jpegThumbnailWidth:[5,h.TYPES.INT32]};i.internalSpec={duration:[1,h.TYPES.INT32],mimetype:[2,h.TYPES.STRING],played:[3,h.TYPES.BOOL]};j.internalSpec={filename:[1,h.TYPES.STRING],mimetype:[2,h.TYPES.STRING]};k.internalSpec={mediaType:[1,h.TYPES.STRING],plaintextHash:[2,h.TYPES.STRING],size:[3,h.TYPES.INT32],ts:[4,h.TYPES.INT64],mediaEntry:[5,h.TYPES.BYTES],validatedVideoInfo:[6,h.TYPES.MESSAGE,e],validatedImageInfo:[7,h.TYPES.MESSAGE,f],validatedAudioInfo:[8,h.TYPES.MESSAGE,i],validatedDocumentFileInfo:[9,h.TYPES.MESSAGE,j]};l.internalSpec={type:[1,h.TYPES.STRING],ts:[2,h.TYPES.INT64],externalId:[3,h.TYPES.STRING],author:[4,h.TYPES.STRING],msgContent:[5,h.TYPES.MESSAGE,a],obsoleteMedia:[6,h.TYPES.MESSAGE,k],msgId:[7,h.TYPES.STRING],mediaId:[8,h.TYPES.INT32],sourceId:[9,h.TYPES.STRING],xmaMessageType:[10,h.TYPES.INT32],specialTextSize:[11,h.TYPES.INT32],plaintextHash:[12,h.TYPES.STRING],expirationTs:[13,h.TYPES.INT64]};m.internalSpec={type:[1,h.TYPES.STRING],ts:[2,h.TYPES.INT64],externalId:[3,h.TYPES.STRING],msgId:[4,h.TYPES.STRING],author:[5,h.TYPES.STRING],ack:[6,h.TYPES.INT32],resendCount:[7,h.TYPES.INT32],msgContent:[8,h.TYPES.MESSAGE,a],altIndex:[9,h.TYPES.STRING],forwardingScore:[10,h.TYPES.INT32],quote:[11,h.TYPES.MESSAGE,c],messageExpirationTs:[12,h.TYPES.INT64],ephemeralSetting:[13,h.TYPES.MESSAGE,d("MAWArmadilloContactsTableSchema.pb").EphemeralSettingProtoSpec],revokedExternalId:[14,h.TYPES.STRING],isForwarded:[15,h.TYPES.BOOL],originalTs:[17,h.TYPES.INT64],sortOrderMs:[18,h.TYPES.INT64],reportingMeta:[19,h.TYPES.MESSAGE,b],messageDeleteTs:[20,h.TYPES.INT64],ephemeralCounterStarted:[21,h.TYPES.BOOL],quoteExternalId:[22,h.TYPES.STRING],unsendMsgContentDeleteTs:[23,h.TYPES.INT64],rowId:[24,h.TYPES.INT32],thread:[25,h.TYPES.INT32],mediaId:[26,h.TYPES.INT32],ephemeralMsgDisappeared:[27,h.TYPES.BOOL],threadJid:[28,h.TYPES.STRING],xmaId:[29,h.TYPES.INT32],specialTextSize:[30,h.TYPES.INT32],xmaMessageType:[31,h.TYPES.INT32],isExpiredXmaMsg:[32,h.TYPES.BOOL],ravenEphemeralType:[33,h.TYPES.INT32],ravenEphemeralMediaState:[34,h.TYPES.INT32],editCount:[35,h.TYPES.INT32],groupId:[36,h.TYPES.STRING],groupIndex:[37,h.TYPES.INT64],groupSize:[38,h.TYPES.INT64],receiverFetchId:[39,h.TYPES.STRING],source:[40,h.TYPES.STRING],quoteExpirationTs:[41,h.TYPES.INT64],applicationErrorCode:[42,h.TYPES.INT32]};g.MsgContentProtoSpec=a;g.ReportingMetaProtoSpec=b;g.DbQuotedMsgProtoSpec=c;g.VideoMsgContentProtoSpec=e;g.ImageMsgContentProtoSpec=f;g.AudioMsgContentProtoSpec=i;g.DocumentFileMsgContentProtoSpec=j;g.QuotedDbMediaProtoSpec=k;g.DbQuotedMsgContentProtoSpec=l;g.MessagesTableSchemaProtoSpec=m}),98);
__d("MAWArmadilloEditMsgHistoryTableSchema.pb",["MAWArmadilloMessagesTableSchema.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={author:[1,(b=d("WAProtoConst")).TYPES.STRING],editMsgHistoryId:[2,b.TYPES.INT32],editTs:[3,b.TYPES.INT64],msgContent:[4,b.TYPES.MESSAGE,d("MAWArmadilloMessagesTableSchema.pb").MsgContentProtoSpec],originalMsgExternalId:[5,b.TYPES.STRING],specialTextSize:[6,b.TYPES.INT32],threadJid:[7,b.TYPES.STRING],editExternalId:[8,b.TYPES.STRING],sendStatus:[9,b.TYPES.INT32]};g.EditMsgHistoryTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloGroupInfoTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={groupJid:[1,(b=d("WAProtoConst")).TYPES.STRING],threadId:[2,b.TYPES.INT32],creator:[3,b.TYPES.STRING],creationTs:[4,b.TYPES.INT64],name:[5,b.TYPES.STRING],nameOwner:[6,b.TYPES.STRING],nameTs:[7,b.TYPES.INT64],msgExpiration:[8,b.TYPES.INT32],participantVersion:[9,b.TYPES.STRING],inviter:[10,b.TYPES.STRING],memberAddMode:[11,b.TYPES.STRING]};g.GroupInfoSchemaProtoSpec=a}),98);
__d("MAWArmadilloGroupInvitesTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={inviterJid:[1,(b=d("WAProtoConst")).TYPES.STRING],invitedParticipantId:[2,b.TYPES.STRING],inviteCode:[3,b.TYPES.STRING],inviteExpirationTs:[4,b.TYPES.INT64],caption:[5,b.TYPES.STRING]};g.GroupInvitesTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloMediaTablesSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={NONE:0,LQ_4K:1,HQ_4K:2};b={};c={};e={};f={};var h={},i={},j={},k={},l={};b.internalSpec={plaintextHash:[1,(d=d("WAProtoConst")).TYPES.STRING],blobData:[2,d.TYPES.BYTES],mimetype:[3,d.TYPES.STRING],hashedPlaintextHash:[4,d.TYPES.STRING],chunkId:[5,d.TYPES.INT32]};c.internalSpec={mediaBackupId:[1,d.TYPES.INT32],mediaId:[2,d.TYPES.INT32],objectId:[3,d.TYPES.STRING],msgId:[4,d.TYPES.STRING],fbid:[5,d.TYPES.STRING]};e.internalSpec={msgId:[1,d.TYPES.STRING],mediaEntryData:[2,d.TYPES.BYTES]};f.internalSpec={duration:[1,d.TYPES.UINT32],width:[2,d.TYPES.UINT32],height:[3,d.TYPES.UINT32],mimetype:[4,d.TYPES.STRING],jpegThumbnail:[5,d.TYPES.BYTES],jpegThumbnailHeight:[6,d.TYPES.UINT32],jpegThumbnailWidth:[7,d.TYPES.UINT32],thumbnailPlaintextHash:[8,d.TYPES.STRING]};h.internalSpec={width:[1,d.TYPES.UINT32],height:[2,d.TYPES.UINT32],jpegThumbnail:[3,d.TYPES.BYTES],jpegThumbnailHeight:[4,d.TYPES.UINT32],jpegThumbnailWidth:[5,d.TYPES.UINT32],thumbnailPlaintextHash:[6,d.TYPES.STRING],hdType:[7,d.TYPES.ENUM,a]};i.internalSpec={duration:[1,d.TYPES.UINT32],mimetype:[2,d.TYPES.STRING],played:[3,d.TYPES.BOOL]};j.internalSpec={filename:[1,d.TYPES.STRING],mimetype:[2,d.TYPES.STRING]};k.internalSpec={validatedMimeType:[1,d.TYPES.STRING],videoStreamType:[2,d.TYPES.STRING],videoCalculatedFps:[3,d.TYPES.UINT32],videoNominalFps:[4,d.TYPES.UINT32],videoWidth:[5,d.TYPES.UINT32],videoHeight:[6,d.TYPES.UINT32],videoDuration:[7,d.TYPES.UINT32],videoAvgBitsPerSecond:[8,d.TYPES.UINT32],audioStreamType:[9,d.TYPES.STRING],audioSamplingRate:[10,d.TYPES.UINT32],audioNumberOfChannels:[11,d.TYPES.UINT32],audioAvgBitsPerSecond:[12,d.TYPES.UINT32]};l.internalSpec={mediaType:[1,d.TYPES.STRING],plaintextHash:[2,d.TYPES.STRING],size:[3,d.TYPES.UINT64],mediaEntries:[4,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e],ts:[5,d.TYPES.INT64],validatedVideoInfo:[6,d.TYPES.MESSAGE,f],validatedImageInfo:[7,d.TYPES.MESSAGE,h],validatedAudioInfo:[8,d.TYPES.MESSAGE,i],hashedPlaintextHash:[9,d.TYPES.STRING],mediaId:[10,d.TYPES.INT32],msgIds:[11,d.FLAGS.REPEATED|d.TYPES.STRING],objectId:[12,d.TYPES.STRING],fbid:[13,d.TYPES.STRING],validatedDocumentFileInfo:[14,d.TYPES.MESSAGE,j],validatedResult:[15,d.TYPES.MESSAGE,k]};g.HD_TYPE=a;g.ChunkTableSchemaProtoSpec=b;g.MediaBackupSchemaProtoSpec=c;g.MediaEntriesProtoSpec=e;g.VideoMsgContentProtoSpec=f;g.ImageMsgContentProtoSpec=h;g.AudioMsgContentProtoSpec=i;g.DocumentFileMsgContentProtoSpec=j;g.ValidatedResultSpec=k;g.MediaTableSchemaProtoSpec=l}),98);
__d("MAWArmadilloMetaRowTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={};a.internalSpec={encryptedSerializedCat:[1,(d=d("WAProtoConst")).TYPES.STRING],expirationTimeInSeconds:[2,d.TYPES.INT32]};b.internalSpec={publicKey:[1,d.TYPES.BYTES],privateKey:[2,d.TYPES.BYTES]};c.internalSpec={intValue:[1,d.TYPES.INT32],strValue:[2,d.TYPES.STRING],boolValue:[3,d.TYPES.BOOL],__oneofs__:{value:["intValue","strValue","boolValue"]}};e.internalSpec={name:[1,d.TYPES.STRING],value:[2,d.TYPES.MESSAGE,c]};f.internalSpec={expoKey:[1,d.TYPES.INT32],value:[2,d.TYPES.STRING]};h.internalSpec={abKey:[1,d.TYPES.STRING],abHash:[2,d.TYPES.STRING],lastSyncTime:[3,d.TYPES.INT64],expoKeyStr:[4,d.TYPES.STRING],refresh:[5,d.TYPES.INT64],internalExpoKeys:[6,d.FLAGS.REPEATED|d.TYPES.STRING],propExpoKeys:[7,d.FLAGS.REPEATED|d.TYPES.MESSAGE,f],propValues:[8,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};i.internalSpec={key:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],notAfter:[2,d.FLAGS.REQUIRED|d.TYPES.INT32],notBefore:[3,d.FLAGS.REQUIRED|d.TYPES.INT32]};j.internalSpec={leaf:[1,d.TYPES.MESSAGE,i],intermediate:[2,d.TYPES.MESSAGE,i]};k.internalSpec={cat:[1,d.TYPES.MESSAGE,a],deviceUUID:[2,d.TYPES.STRING],regId:[3,d.TYPES.INT32],identityKeyPair:[4,d.TYPES.MESSAGE,b],fbid:[5,d.TYPES.STRING],deviceId:[6,d.TYPES.INT32],lastSignedPrekeyId:[7,d.TYPES.INT32],lastPrekeyId:[8,d.TYPES.INT32],lastPrekeyGenerationId:[9,d.TYPES.INT32],edgeInfo:[10,d.TYPES.BYTES],clockSkew:[11,d.TYPES.INT32],msgrDeviceId:[12,d.TYPES.STRING],abProps:[13,d.TYPES.MESSAGE,h],registrationVersion:[14,d.TYPES.INT32],authKeyPair:[15,d.TYPES.MESSAGE,b],certificateChain:[16,d.TYPES.MESSAGE,j],lastSessionDeviceWasLinkedTo:[17,d.TYPES.STRING],restoreMigrationAttempts:[18,d.TYPES.INT32],__oneofs__:{value:["cat","deviceUUID","regId","identityKeyPair","fbid","deviceId","lastSignedPrekeyId","lastPrekeyId","lastPrekeyGenerationId","edgeInfo","clockSkew","msgrDeviceId","abProps","registrationVersion","authKeyPair","certificateChain","lastSessionDeviceWasLinkedTo","restoreMigrationAttempts"]}};l.internalSpec={key:[1,d.TYPES.STRING],value:[2,d.TYPES.MESSAGE,k]};g.ValidCatProtoSpec=a;g.KeyPairProtoSpec=b;g.AbPropTypeSpec=c;g.AbPropValueSpec=e;g.ExpoKeyMapSpec=f;g.AbPropsConfigSpec=h;g.CertificateDetailsSpec=i;g.CertificateChainSpec=j;g.ValueProtoSpec=k;g.MetaRowTableSchemaProtoSpec=l}),98);
__d("MAWArmadilloMissingKeysTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={deviceId:[1,(c=d("WAProtoConst")).TYPES.INT32],deviceResponse:[2,c.TYPES.BOOL]};b.internalSpec={keyHex:[1,c.TYPES.STRING],keyId:[2,c.TYPES.BYTES],timestamp:[3,c.TYPES.INT64],deviceResponses:[4,c.FLAGS.REPEATED|c.TYPES.MESSAGE,a]};g.DeviceResponseSpec=a;g.MissingKeysTableSchemaProtoSpec=b}),98);
__d("MAWArmadilloParticipantsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={id:[1,(b=d("WAProtoConst")).TYPES.STRING],userJid:[2,b.TYPES.STRING],deliveredWatermarkTs:[3,b.TYPES.INT64],lastReadWatermarkTs:[4,b.TYPES.INT64],type:[5,b.TYPES.STRING],addressable:[6,b.TYPES.BOOL],lastReadActionTs:[7,b.TYPES.INT64],threadId:[9,b.TYPES.INT32],threadJid:[10,b.TYPES.STRING]};g.ParticipantsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloPendingMutationsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={SET:0,REMOVE:1};b={};b.internalSpec={id:[1,(c=d("WAProtoConst")).TYPES.INT32],collection:[2,c.TYPES.STRING],index:[3,c.TYPES.STRING],binarySyncAction:[4,c.TYPES.BYTES],version:[5,c.TYPES.INT32],operation:[6,c.TYPES.ENUM,a],timestamp:[7,c.TYPES.INT64],action:[8,c.TYPES.STRING]};g.SYNCD_MUTATION_SYNCD_OPERATION=a;g.PendingMutationsTableSchemaProtoSpec=b}),98);
__d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={groupJid:[1,(b=d("WAProtoConst")).TYPES.STRING],senderKeyId:[2,b.TYPES.INT32],rotateSenderKey:[4,b.TYPES.BOOL],senderKeyTs:[5,b.TYPES.INT64],hasSenderKey:[6,b.FLAGS.REPEATED|b.TYPES.STRING]};g.PersonalSenderKeyStatusTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloReactionsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={ack:[1,(b=d("WAProtoConst")).TYPES.INT32],author:[2,b.TYPES.STRING],externalId:[3,b.TYPES.STRING],reactionId:[4,b.TYPES.STRING],reactToExternalId:[5,b.TYPES.STRING],reactToAuthor:[6,b.TYPES.STRING],reactToMsgId:[7,b.TYPES.STRING],threadJid:[8,b.TYPES.STRING],reaction:[9,b.TYPES.STRING],groupingKey:[10,b.TYPES.STRING],ts:[11,b.TYPES.INT64],rowId:[12,b.TYPES.INT32],senderTimestampMs:[13,b.TYPES.INT64]};g.ReactionsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloReceiptTablesSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={};a.internalSpec={deliveredTs:[1,(d=d("WAProtoConst")).TYPES.INT64],readTs:[2,d.TYPES.INT64]};b.internalSpec={userJid:[1,d.TYPES.STRING],dbUserStatusTs:[2,d.TYPES.MESSAGE,a]};c.internalSpec={deviceJid:[1,d.TYPES.STRING],serializedPubKey:[2,d.TYPES.BYTES],baseKey:[3,d.TYPES.BYTES]};e.internalSpec={deviceJid:[1,d.TYPES.STRING],count:[2,d.TYPES.INT32]};f.internalSpec={msgId:[1,d.TYPES.STRING],statusTsPerUser:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,b],permittedIdentitiesPerDevice:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,c],recipientDevices:[4,d.FLAGS.REPEATED|d.TYPES.STRING],retryCountsPerDevice:[5,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e],waMsgId:[6,d.TYPES.STRING]};h.internalSpec={device:[1,d.TYPES.STRING],ts:[2,d.TYPES.INT64]};i.internalSpec={pendingReceiptId:[1,d.TYPES.STRING],thread:[2,d.TYPES.STRING],externalId:[3,d.TYPES.STRING],author:[4,d.TYPES.STRING],deliveryReceipts:[5,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h],readReceipts:[6,d.FLAGS.REPEATED|d.TYPES.MESSAGE,h]};g.DbUserStatusTsProtoSpec=a;g.StatusTsPerUserProtoSpec=b;g.IdentitiesPerDeviceProtoSpec=c;g.RetryCountPerDeviceProtoSpec=e;g.ReceiptsTableSchemaProtoSpec=f;g.ReceiptsSpec=h;g.PendingReceiptsTableSchemaProtoSpec=i}),98);
__d("MAWArmadilloReceiverFetchInfoTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={mimetype:[1,(b=d("WAProtoConst")).TYPES.STRING],previewHeight:[2,b.TYPES.UINT32],previewWidth:[3,b.TYPES.UINT32],receiverFetchId:[4,b.TYPES.STRING],type:[5,b.TYPES.STRING],previewUrl:[6,b.TYPES.STRING],previewUrlExpirationTimestampMs:[7,b.TYPES.UINT64],accessibilitySummaryText:[8,b.TYPES.STRING]};g.ReceiverFetchInfoTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloSignalTablesSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={};a.internalSpec={deviceJid:[1,(d=d("WAProtoConst")).TYPES.STRING],identity:[2,d.TYPES.BYTES],firstSeenTs:[3,d.TYPES.INT64],deviceName:[4,d.TYPES.STRING],platform:[5,d.TYPES.STRING],userJid:[6,d.TYPES.STRING]};b.internalSpec={keyId:[1,d.TYPES.INT32],encoded:[2,d.TYPES.BYTES],isDeleted:[3,d.TYPES.BOOL]};c.internalSpec={generationId:[1,d.TYPES.INT32],startingId:[2,d.TYPES.INT32],endingId:[3,d.TYPES.INT32],createdTs:[4,d.TYPES.INT64]};e.internalSpec={id:[1,d.TYPES.STRING],session:[2,d.TYPES.BYTES]};f.internalSpec={keyId:[1,d.TYPES.INT32],encoded:[2,d.TYPES.BYTES]};h.internalSpec={id:[1,d.TYPES.STRING],groupJid:[2,d.TYPES.STRING],userJid:[3,d.TYPES.STRING],deviceId:[4,d.TYPES.INT32],record:[5,d.TYPES.BYTES]};g.IdentityTableSchemaProtoSpec=a;g.PrekeyTableSchemaProtoSpec=b;g.PrekeyGenerationTableSchemaProtoSpec=c;g.SessionTableSchemaProtoSpec=e;g.SignedPrekeyTableSchemaProtoSpec=f;g.SenderKeySessionsTableSchemaProtoSpec=h}),98);
__d("MAWArmadilloSyncActionsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={index:[1,(b=d("WAProtoConst")).TYPES.STRING],binarySyncData:[2,b.TYPES.BYTES],actionState:[3,b.TYPES.STRING],version:[4,b.TYPES.INT32],keyId:[5,b.TYPES.BYTES],modelId:[6,b.TYPES.STRING],modelType:[7,b.TYPES.STRING],indexMac:[8,b.TYPES.BYTES],valueMac:[9,b.TYPES.BYTES],collection:[10,b.TYPES.STRING],timestamp:[11,b.TYPES.INT64],action:[12,b.TYPES.STRING]};g.SyncActionsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloSyncKeysTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={currentIndex:[1,(c=d("WAProtoConst")).TYPES.INT32],deviceIndexes:[2,c.FLAGS.REPEATED|c.TYPES.INT32],rawId:[3,c.TYPES.INT64]};b.internalSpec={id:[1,c.TYPES.BYTES],keyId:[2,c.TYPES.BYTES],keyData:[3,c.TYPES.BYTES],keyEpoch:[4,c.TYPES.INT64],timestamp:[5,c.TYPES.INT64],fingerprint:[6,c.TYPES.MESSAGE,a]};g.SyncKeyFingerprintSpec=a;g.SyncKeysTableSchemaProtoSpec=b}),98);
__d("MAWArmadilloTasksTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={taskName:[1,d("WAProtoConst").TYPES.STRING],scheduledTime:[2,d("WAProtoConst").TYPES.INT64]};g.TasksTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloThreadsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={jid:[1,(b=d("WAProtoConst")).TYPES.STRING],threadOrder:[2,b.TYPES.STRING],folder:[4,b.TYPES.INT32],newestMsg:[5,b.TYPES.STRING],oldestMsg:[6,b.TYPES.STRING],lastReadMsg:[7,b.TYPES.STRING],lastReadMsgReceiptSent:[8,b.TYPES.STRING],lastReadMsgTs:[9,b.TYPES.INT64],newestMsgTs:[10,b.TYPES.INT64],muteExpireTimeMs:[11,b.TYPES.INT64],muteCallsExpireTimeMs:[12,b.TYPES.INT64],archived:[13,b.TYPES.BOOL],cannotReplyReason:[14,b.TYPES.STRING],chatId:[15,b.TYPES.INT32],optimisticThreadKey:[16,b.TYPES.STRING],isMigratedLocally:[17,b.TYPES.BOOL],snippetMsg:[18,b.TYPES.STRING],deduplicationKey:[19,b.TYPES.STRING],authoritativeThreadKey:[20,b.TYPES.STRING],snippetMsgTs:[21,b.TYPES.INT64],didInsertDualThreadCutoverAdminMsg:[22,b.TYPES.BOOL],unbumpFromTs:[23,b.TYPES.INT64],unbumpToTs:[24,b.TYPES.INT64]};g.ThreadsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloUnrenderedMessagesTableSchema.pb",["MAWArmadilloContactsTableSchema.pb","MAWArmadilloMessagesTableSchema.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={type:[1,(b=d("WAProtoConst")).TYPES.STRING],ts:[2,b.TYPES.INT64],externalId:[3,b.TYPES.STRING],msgId:[4,b.TYPES.STRING],author:[5,b.TYPES.STRING],ack:[6,b.TYPES.INT32],resendCount:[7,b.TYPES.INT32],ephemeralSetting:[8,b.TYPES.MESSAGE,d("MAWArmadilloContactsTableSchema.pb").EphemeralSettingProtoSpec],messageDeleteForMeTs:[9,b.TYPES.INT64],rowId:[10,b.TYPES.INT32],thread:[11,b.TYPES.INT32],mediaId:[12,b.TYPES.INT32],msgContent:[13,b.TYPES.STRING],threadJid:[14,b.TYPES.STRING],reportingMeta:[15,b.TYPES.MESSAGE,d("MAWArmadilloMessagesTableSchema.pb").ReportingMetaProtoSpec],invitedParticipantUserJid:[16,b.TYPES.STRING],groupName:[17,b.TYPES.STRING],quote:[18,b.TYPES.MESSAGE,d("MAWArmadilloMessagesTableSchema.pb").DbQuotedMsgProtoSpec],xmaMessageType:[19,b.TYPES.INT32],sortOrderMs:[20,b.TYPES.INT64]};g.UnrenderedMessagesTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloXMATableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={associatedMessageId:[1,(c=d("WAProtoConst")).TYPES.STRING],author:[2,c.TYPES.STRING],ctas:[3,c.FLAGS.REPEATED|c.TYPES.MESSAGE,b],defaultCTA:[4,c.TYPES.MESSAGE,b],defaultPreviewMediaId:[5,c.TYPES.INT32],externalId:[6,c.TYPES.STRING],faviconMediaId:[7,c.TYPES.INT32],headerMediaId:[8,c.TYPES.INT32],headerTitle:[9,c.TYPES.STRING],isTombstoned:[10,c.TYPES.BOOL],maxSubtitleNumOfLines:[11,c.TYPES.INT32],maxTitleNumOfLines:[12,c.TYPES.INT32],msgId:[13,c.TYPES.STRING],overlayDescription:[14,c.TYPES.STRING],overlayIconGlyph:[15,c.TYPES.INT32],overlayTitle:[16,c.TYPES.STRING],previewMediaIds:[17,c.FLAGS.REPEATED|c.TYPES.INT32],subtitleText:[18,c.TYPES.STRING],targetExpiringAtSec:[19,c.TYPES.INT64],targetId:[20,c.TYPES.STRING],targetType:[21,c.TYPES.INT32],targetUsername:[22,c.TYPES.STRING],threadJid:[23,c.TYPES.STRING],titleText:[24,c.TYPES.STRING],xmaId:[25,c.TYPES.INT32],xmaLayoutType:[26,c.TYPES.INT32],defaultPreviewMediaPlaintextHash:[27,c.TYPES.STRING],faviconPlaintextHash:[28,c.TYPES.STRING],headerMediaPlaintextHash:[29,c.TYPES.STRING]};b.internalSpec={buttonType:[1,c.TYPES.INT32],title:[2,c.TYPES.STRING],actionUrl:[3,c.TYPES.STRING],nativeUrl:[4,c.TYPES.STRING],ctaType:[5,c.TYPES.STRING]};g.XMATableSchemaProtoSpec=a;g.CTAProtoSpec=b}),98);
__d("MAWDataSyncQueue",["Promise","WALogger","asyncToGeneratorRuntime","getErrorSafe","qex","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWIndexedDbMiddleware] error handling queue batch: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unhandled exception caught in middleware "," sync: ",""]);j=function(){return a};return a}var k=c("qex")._("853")||1e3;a=c("qex")._("855")||1e3;e=function(){n=!1;return s({isUnloading:!0})};var l=[],m=[],n=!1,o=[],p=function(){var a,b=l.splice(0,l.length);(a=m).push.apply(a,b)},q=function(){return m.splice(0,k)},r=function a(c){var e=q();if(e.length===0)return;return(h||(h=b("Promise"))).all(o.map(function(a,b){return a(e,c)["catch"](function(a){d("WALogger").ERROR(j(),b,a)})})).then(function(){return a(c)})},s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(n)return;n=!0;p();try{yield r(a)}catch(e){var b;a=c("getErrorSafe")(e);d("WALogger").ERROR(i(),(b=a==null?void 0:a.message)!=null?b:a.toString());throw e}finally{n=!1,l.length>0&&t()}});return function(b){return a.apply(this,arguments)}}(),t=c("throttle")(s,a);f=function(a,b){l.push({type:a,value:b}),t()};a=function(a){o.some(function(b){return b===a})||o.push(a)};var u=function(){o=[]},v=function(){l=[],m=[]},w=function(){return l};g.forceFlushDataSyncQueue=e;g.addSyncItem=f;g.registerDataSyncCallback=a;g.clearDataSyncCallbacks=u;g.clearDataSyncQueue_FOR_TESTING_ONLY=v;g.getDataSyncQueue_FOR_TESTING_ONLY=w}),98);
__d("MAWDataSyncMiddleware",["FBLogger","MAWDataSyncQueue"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["contacts","groupInfo","messages","participants","threads","reactions","xma","pendingStanzas"]);function i(a,b){var c=a.table(b);return!h.has(b)?c:babelHelpers["extends"]({},c,{mutate:function(a){return c.mutate(a).then(function(c){if(a.type==="delete"){a.keys.forEach(function(c){d("MAWDataSyncQueue").addSyncItem(a.type,{key:c,tableName:b})});return c}else c.results!=null?c.results.forEach(function(c){d("MAWDataSyncQueue").addSyncItem(a.type,{key:c,tableName:b,values:a.values})}):c.lastResult!=null&&d("MAWDataSyncQueue").addSyncItem(a.type,{key:c.lastResult,tableName:b,values:a.values});return c})}})}function a(){return{create:function(a){try{return babelHelpers["extends"]({},a,{table:function(b){return i(a,b)}})}catch(b){c("FBLogger")("maw_db").catching(b).mustfix("Error applying DataSync Middleware, messages made during this session will not be properly synced to registered consumers");return a}},name:"MAWDataSyncMiddleware",stack:"dbcore"}}g.getDataSyncMiddleware=a}),98);
__d("MAWDbParticipant",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a+"_"+b}f.craftParticipantId=a}),66);
__d("MAWDbThread",["MAWHexUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+b}g.craftThreadOrder=a}),98);
__d("WADbSignal",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a,b,c){return a+"_"+b+"_"+c}c={abProps:"abProps",authKeyPair:"authKeyPair",cat:"cat",certificateChain:"certificateChain",clockSkew:"clockSkew",deviceId:"deviceId",deviceUUID:"deviceUUID",edgeInfo:"edgeInfo",fbid:"fbid",identityKeyPair:"identityKeyPair",lastPrekeyGenerationId:"lastPrekeyGenerationId",lastPrekeyId:"lastPrekeyId",lastSessionDeviceWasLinkedTo:"lastSessionDeviceWasLinkedTo",lastSignedPrekeyId:"lastSignedPrekeyId",regId:"regId",registrationVersion:"registrationVersion"};({msgrDeviceId:"msgrDeviceId"});f.unsafeCoerceToSenderKeySessionId=a;f.buildSenderKeySessionId=b;f.MetaKeysEnum=c}),66);
__d("MAWDbSchema.dexie",["MAWDbMsg","MAWDbParticipant","MAWDbThread","MAWDbVersionList","MAWDexie","MAWDexieTable","MAWFolderTypes","MAWLocalizationType","MAWODSProxy","MAWTimeUtils","MAWWaitForBackendSetup","WADbSignal","WAJids","WALogger","WAMsg","WAMsgType","WAOdsEnums","WAStanzaUtils","WATimeUtils","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicate waMsgId found for receipt, number of duplicates: ",""]);i=function(){return a};return a}a=function(a){var b=function(a){var b;b=(b=a.quote)==null?void 0:b.content;return a.quoteExternalId!=null&&(b==null?void 0:b.media)!=null};return a.messages.where("quoteExternalId").between(d("WAStanzaUtils").toStanzaId("0"),d("WAStanzaUtils").toStanzaId("["),!0,!0).filter(b).toArray()["catch"](function(){return a.messages.filter(b).toArray()}).then(function(b){var c=new Set(b.map(function(a){a=(a=a.quote)==null?void 0:a.content;return a==null?void 0:(a=a.media)==null?void 0:a.plaintextHash}).filter(Boolean)),d=b.map(function(a){a=a.msgId;return a});return a.media.filter(function(a){a=a.plaintextHash;return c.has(a)}).toArray().then(function(b){var c=new Map(b.map(function(a){var b=a.mediaId;a=a.plaintextHash;return[a,b]}));return a.messages.where("msgId").anyOf(d).modify(function(a){var b;b=(b=a.quote)==null?void 0:b.content;a.quote.content.mediaId=c.get(b.media.plaintextHash);delete a.quote.content.media})})})};b=function(a){return a.groupInfo.toCollection().modify(function(a){typeof a.inviter==="number"&&delete a.inviter})};e=function(a){return a.meta.get(d("WADbSignal").MetaKeysEnum.deviceId).then(function(b){var c;if((b==null?void 0:(c=b.value)==null?void 0:c.deviceId)!=null&&typeof b.value.deviceId!=="number")return a.meta.clear()})};f=function(a){return a.threads.filter(function(a){return d("WAJids").switchOnMsgrChatJidType(a.jid,{group:function(){return!1},user:function(){return a.oldestMsg!=null}})}).toArray().then(function(b){var c=[];b.forEach(function(a){c.push(a.oldestMsg),c.push(a.newestMsg)});return a.messages.where("msgId").anyOf(c.filter(Boolean)).toArray().then(function(c){var e=new Map(),f=[],g=[];c.forEach(function(a){e.set(a.msgId,a)});b.forEach(function(b){var c=e.get(b.oldestMsg),h=e.get(b.newestMsg);(c==null?void 0:c.type)==="Admin"&&(h==null?void 0:h.type)==="Admin"&&(c.msgId===h.msgId?g.push(b.chatId):f.push(b));return d("MAWDexieTable").dexieAll(f.map(function(b){return a.messages.where("thread").equals(b.chatId).toArray()})).then(function(b){b.forEach(function(a){if(a.length===0)return;var b=a[0].thread;a=a.filter(function(a){return a.type!=="Admin"});if(a.length>0)return;g.push(b)});return d("MAWDexieTable").dexieAll([a.threads.bulkDelete(g),a.messages.where("thread").anyOf(g)["delete"]()])})})})})};var j=function(a){return a.unrenderedMessages.toCollection().modify(function(a){if(a.type===d("WAMsgType").MSG_TYPE.DELETE_FOR_ME){var b=a.messageDeleteForMeTs;a.messageDeleteForMeTs=b}})},k=function(a){var b=0,e=0,f=c("MAWDexie").currentTransaction;if(f==null)throw c("unrecoverableViolation")("transaction does not exist","maw_db");f.on("complete",function(){c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup("DB upgrade to V31").then(function(){b>0&&d("MAWODSProxy").odsBumpEntityKey({amount:b,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING_THREAD_JID,key:"fail"}),e>0&&d("MAWODSProxy").odsBumpEntityKey({amount:e,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING,key:"fail"})}))});f.on("complete",function(){b>0&&d("MAWODSProxy").odsBumpEntityKey({amount:b,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING_THREAD_JID,key:"fail"}),e>0&&d("MAWODSProxy").odsBumpEntityKey({amount:e,entity:d("WAOdsEnums").Entity.MESSAGE_MISSING,key:"fail"})});return a.threads.toArray().then(function(c){var f=c.reduce(function(a,b){b!=null&&a.set(b.chatId,b);return a},new Map());return d("MAWDexieTable").dexieAll([a.messages.toCollection().modify(function(a){if(a!=null){var c=f.get(a.thread);c!=null?a.threadJid=c.jid:b+=1}else e+=1}),a.unrenderedMessages.toCollection().modify(function(a){if(a!=null){var c=f.get(a.thread);c!=null?a.threadJid=c.jid:b+=1}else e+=1})])})},l=function(a){return a.isDualSend.toCollection().modify(function(a){a.version==null&&(a.version=1)})},m=function(a){return a.messages.toCollection().modify(function(a){a.type===d("WAMsgType").MSG_TYPE.ADMIN&&a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION&&(a.altIndex=d("MAWDbMsg").craftE2eeAdminMsgAltIndex(a.thread))})},n=function(a){return a.messages.toCollection().modify(function(a){a.sortOrderMs=d("MAWDbMsg").getSortOrderWithFallback(a)})},o=function(a){return a.threads.toCollection().modify(function(a){a.folder==null&&(a.folder=d("MAWFolderTypes").FOLDER_ID.INBOX)})},p=function(a){return a.messages.toCollection().modify(function(a){a.sortOrderMs=d("MAWDbMsg").getSortOrderWithFallback(a)})},q=function(a){return a.personalSenderKeyStatuses.toCollection().modify(function(a){a.rotateSenderKey=!0,a.hasSenderKey=new Set()})},r=function(a){return a.messages.toCollection().modify(function(a){a.type===d("WAMsgType").MSG_TYPE.ADMIN&&a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE&&a.sortOrderMs!=null&&a.sortOrderMs>0&&(a.sortOrderMs=0)})},s=function(a){return a.messages.toCollection().modify(function(a){!(a.type===d("WAMsgType").MSG_TYPE.ADMIN&&(a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION))&&a.sortOrderMs!=null&&a.sortOrderMs<1661204086&&(a.sortOrderMs=d("MAWDbMsg").getCanonicalTsFromMsg(a)*1e3)})},t=function(a){return a.threads.filter(function(a){return a.isMigratedLocally===!0&&a.newestMsg!=null}).toArray().then(function(b){var c=b.map(function(a){return a.chatId}),e=new Map();return d("MAWDexieTable").dexieAll(b.map(function(b){return a.messages.where(["thread","sortOrderMs"]).between([b.chatId,0],[b.chatId,Number.MAX_VALUE]).last().then(function(a){a!=null&&e.set(a.thread,a.msgId)})})).then(function(){return a.threads.where("chatId").anyOf(c).modify(function(a){var b=e.get(a.chatId);b!=null&&(a.newestMsg=b)})})})},u=function(a){return a.identity.toCollection().modify(function(a){a.userJid=d("WAJids").extractUserJid(a.deviceJid)})},v=function(a){return a.threads.toCollection().modify(function(a){a.lastReadMsgTs!=null&&a.lastReadMsgTs<d("WATimeUtils").MAX_INT&&(a.lastReadMsgTs=d("MAWTimeUtils").ensureValidMillisTime(a.lastReadMsgTs));if(a.newestMsgTs!=null&&a.newestMsgTs<d("WATimeUtils").MAX_INT){var b=d("MAWTimeUtils").ensureValidMillisTime(a.newestMsgTs);a.newestMsgTs=b;b!=null&&(a.threadOrder=d("MAWDbThread").craftThreadOrder(b,a.jid))}})},w=function(a){return a.messages.toCollection().modify(function(a){a.type===d("WAMsgType").MSG_TYPE.ADMIN&&a.msgContent.adminType===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE&&(a.altIndex=d("MAWDbMsg").craftCutoverAdminMsgAltIndex(a.thread))})},x=function(a){return a.meta.get(d("WADbSignal").MetaKeysEnum.fbid).then(function(b){var c;if((b==null?void 0:(c=b.value)==null?void 0:c.fbid)!=null&&b.value.fbid==="0")return a.meta.clear()})},y=function(a){return a.prekey.filter(function(a){return a.isDeleted===!0})["delete"]()},z=function(a){return c("gkx")("23905")?a.meta.clear():d("MAWDexieTable").dexieResolve()},A=function(a){return a.participants.toCollection().modify(function(a){var b;if(a==null||((b=a.userJid)==null?void 0:b.indexOf("@msgr@msgr"))===!1)return;a.id=a.id.replace("@msgr@msgr","@msgr");a.userJid=a.userJid.replace("@msgr@msgr","@msgr")}).then(c("emptyFunction"))},B=function(a){var b=a.threads.filter(function(a){return a.snippetMsg!=null&&a.snippetMsgTs==null});return b.toArray().then(function(c){var e=c.reduce(function(a,b){b!=null&&b.snippetMsg!=null&&a.set(b.jid,b.snippetMsg);return a},new Map());c=Array.from(e.values());return a.messages.where("msgId").anyOf(c).toArray().then(function(a){var c=a.reduce(function(a,b){b!=null&&b.serverTs!=null&&a.set(b.msgId,b.serverTs);return a},new Map());b.modify(function(a){var b=e.get(a.jid);if(b!=null){b=c.get(b);b!=null&&(a.snippetMsgTs=d("WATimeUtils").castUnixTimeToMillisTime(b))}})})})},C=function(a){return a.threads.toArray().then(function(b){return d("MAWDexieTable").dexieAll(b.map(function(b){return a.participants.where("threadId").equals(b.chatId).modify(function(a){a.threadJid=(a=a.threadJid)!=null?a:b.jid})}))})},D=C,E=function(a){var b=[];return a.groupInvites.toArray().then(function(c){var d=c.map(function(a){return a.invitedParticipantId});return a.participants.bulkGet(d).then(function(d){d.forEach(function(a,d){if(a==null){a=c[d];b.push(a)}});var e=d.filter(Boolean);return a.groupInvites.bulkPut(c.map(function(a){var c=e.find(function(b){return b.id===a.invitedParticipantId});if(c!=null){a.inviteeJid=c.userJid;a.threadJid=c.threadJid;return babelHelpers["extends"]({},a,{inviteeJid:c.userJid,threadJid:c.threadJid})}else{b.push(a);return a}}))})}).then(function(){return a.groupInvites.bulkDelete(b.map(function(a){return[a.invitedParticipantId,a.inviterJid]}))})},F=function(a){var b=new Map();return a.receipts.toArray().then(function(e){return d("MAWDexieTable").dexieAll(e.map(function(e){return a.messages.get({msgId:e.msgId}).then(function(f){if(f==null)return a.receipts["delete"](e.msgId).then(c("emptyFunction"));else{var g=d("WAMsg").craftWAMsgIdString({author:f.author,chat:f.threadJid,externalId:f.externalId});if(b.has(g)){var h;h=(h=b.get(g))!=null?h:1;b.set(g,h);d("WALogger").ERROR(i(),h);return a.receipts["delete"](e.msgId).then(c("emptyFunction"))}else{b.set(g,1);return a.receipts.where("msgId").equals(f.msgId).modify(function(a){a.waMsgId=g}).then(c("emptyFunction"))}}})}))})},G=function(a){var b=[];return a.contacts.toArray().then(function(c){for(var c=c,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b.push({ephemeralSetting:f.ephemeralSetting,ephemeralSyncResponseBackoffInfo:f.ephemeralSyncResponseBackoffInfo,userJid:f.contactJid})}return a.ephemeralSettings.bulkPut(b)})},H=function(a){return a.participants.toArray().then(function(b){var c=b.map(function(a){return babelHelpers["extends"]({},a,{id:d("MAWDbParticipant").craftParticipantId(a.threadJid,a.userJid)})});b=b.map(function(a){return a.id});return a.participants.bulkDelete(b).then(function(){a.participants.bulkPut(c)})})},I=function(a){return a.reactions.toCollection().modify(function(a){a.ts=a.ts})};a=new Map([[(h=d("MAWDbVersionList")).VERSION.V26,a],[h.VERSION.V27,b],[h.VERSION.V28,e],[h.VERSION.V29,f],[h.VERSION.V30,j],[h.VERSION.V31,k],[h.VERSION.V43,l],[h.VERSION.V44,m],[h.VERSION.V45,n],[h.VERSION.V46,o],[h.VERSION.V47,p],[h.VERSION.V53,q],[h.VERSION.V54,r],[h.VERSION.V55,s],[h.VERSION.V56,t],[h.VERSION.V57,u],[h.VERSION.V58,v],[h.VERSION.V60,w],[h.VERSION.V66,x],[h.VERSION.V68,y],[h.VERSION.V71,z],[h.VERSION.V72,A],[h.VERSION.V82,B],[h.VERSION.V85,C],[h.VERSION.V87,D],[h.VERSION.V90,E],[h.VERSION.V91,F],[h.VERSION.V101,G],[h.VERSION.V104,H],[h.VERSION.V116,I]]);g.dbUpgrades=a}),98);
__d("MAWDbSchemaReStoreDexieUtils",["MAWDbSchema","MAWDbSchema.dexie","err","sortBy"],(function(a,b,c,d,e,f,g){"use strict";var h=c("sortBy")(Array.from(new Set([].concat(Array.from(d("MAWDbSchema").dbSchema.keys()),Array.from(d("MAWDbSchema.dexie").dbUpgrades.keys())))).map(function(a){return{schema:d("MAWDbSchema").dbSchema.get(a),upgrade:d("MAWDbSchema.dexie").dbUpgrades.get(a),version:a}}),function(a){a=a.version;return a}),i=function(a,b){return Array.from(a.filter(function(a){return a.version<=b&&a.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){a.set(b.name,b)});return a},new Map()).values())},j=function(a,b){return i(a,b).reduce(function(a,b){var d=b.autoIncrement,e=b.dexieOnly_primaryKeyUnique,f=b.name,g=b.primaryKey,h=b.removed;f=f.replace(/^e2ee_/,"");if(h===!0){a[f]=null;return a}if(d&&e===!0)throw c("err")("Invalid schema, cannot have both autoincremnet and unique constraints "+JSON.stringify(b));h=d?"++":"";d=e===!0?"&":"";e=""+(g.length>1?"[":"")+g.join("+")+(g.length>1?"]":"");g=Object.values(b.indexes).map(function(a){var b=a.columns,c=!(a.unique===!1),d=b.length>1;a=a.multiEntry_DO_NOT_USE===!0;c=c&&!a?"&":"";a=a?"*":"";c=""+c+a;return""+c+(d?"[":"")+b.join("+")+(d?"]":"")}).join(",");a[f]=[""+h+d+e,g].filter(Boolean).join(",");return a},{})};a=function(a){return j(h,a)};g.MAW_DB_VERSION_CHANGES=h;g.getDexieSchemaForVersion=j;g.getCompleteDexieSchemaForVersion=a}),98);
__d("MAWDbVersion",["MAWCurrentUser","MAWDbSchemaReStoreDexieUtils","MAWDbVersionList","MAWGetDbVersion","MAWIndexedDbMetadata","MAWODSProxy","Promise","WAOdsEnums","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Applying "," updates between "," and ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Skipping db upgrade and just applying latest schema"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["current db version is greater than target db version"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["version is not set in QE"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["current db version: ",", target db version: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[getDexieDbVersion] "," blocked, version: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[getDexieDbVersion] "," error ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[getDexieDbVersion] "," version: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[getDexieDbVersion] "," onupgradeneeded - closing db"]);q=function(){return a};return a}var r=d("WATagsLogger").TAGS(["DB","VERSION"]);e=d("MAWGetDbVersion").getArmadilloDbVersion();f=d("MAWDbSchemaReStoreDexieUtils").getCompleteDexieSchemaForVersion(Math.min(d("MAWDbSchemaReStoreDexieUtils").MAW_DB_VERSION_CHANGES[d("MAWDbSchemaReStoreDexieUtils").MAW_DB_VERSION_CHANGES.length-1].version,e>0?e:Infinity));function s(a,b){var c=b.schema,d=b.upgrade;b=b.version;c!=null&&d!=null?a.version(b).stores(c).upgrade(d):c!=null?a.version(b).stores(c):d!=null?a.version(b).upgrade(d):a.version(b);return b}function t(a){return new(h||(h=b("Promise")))(function(b){if(!indexedDB){b();return}var c=indexedDB.open(a);c.onupgradeneeded=function(c){c.target.transaction.abort();c=c.target.result;r.LOG(q(),a);c==null?void 0:c.close();b()};c.onsuccess=function(c){var e;c=c.target.result;var f=c==null?void 0:c.version;r.LOG(p(),a,(e=f)!=null?e:"null");c==null?void 0:c.close();f!=null?(f%10>=1&&d("MAWODSProxy").odsBumpEntityKey({amount:1,entity:d("WAOdsEnums").Entity.MAW_DB_UNEXPECTED_VERSION,key:"fail_"+f%10}),b(d("MAWDbVersionList").toVersion(f/10))):b()};c.onerror=function(c){r.LOG(o(),a,c==null?void 0:(c=c.target)==null?void 0:(c=c.error)==null?void 0:c.message);b()};c.onblocked=function(b){b=b.target.result;var c=b==null?void 0:b.version;r.LOG(n(),a,(c=c)!=null?c:"null");b==null?void 0:b.close()}})}function a(){var a=d("MAWCurrentUser").getID();return t(d("MAWIndexedDbMetadata").dbName(a))}function u(a,b){if(a.upgrade!=null||b.upgrade!=null)return!0;a=Object.keys((a==null?void 0:a.schema)||{});b=Object.keys((b==null?void 0:b.schema)||{});a=[].concat(a,b);b=new Set(a);return b.size!==a.length}function v(a){return a.reduce(function(a,b,c){if(c===0)return[babelHelpers["extends"]({},b,{schema:d("MAWDbSchemaReStoreDexieUtils").getCompleteDexieSchemaForVersion(b.version)})];c=a[a.length-1];b=babelHelpers["extends"]({},b,{schema:b.schema!=null?d("MAWDbSchemaReStoreDexieUtils").getDexieSchemaForVersion([b],b.version):null});if(u(c,b)){a.push(b);return a}a.splice(a.length-1,1,babelHelpers["extends"]({},c,b,{schema:babelHelpers["extends"]({},c==null?void 0:c.schema,b==null?void 0:b.schema)}));return a},[])}function c(a,b,c,e){var f=c!=null?c:d("MAWGetDbVersion").getArmadilloDbVersion==null?void 0:d("MAWGetDbVersion").getArmadilloDbVersion();r.LOG(m(),b,f);f==null&&r.WARN(l());b!=null&&b>f&&(r.WARN(k()),f=b);c=d("MAWDbSchemaReStoreDexieUtils").MAW_DB_VERSION_CHANGES.filter(function(a){a=a.version;return b==null||a>b}).filter(function(a){a=a.version;return f==null||f>=a});var g=d("MAWDbSchemaReStoreDexieUtils").MAW_DB_VERSION_CHANGES.filter(function(a){a=a.version;return f==null||f>=a});if(c.length===0||c.length===g.length){r.LOG(j());g=d("MAWDbSchemaReStoreDexieUtils").MAW_DB_VERSION_CHANGES[d("MAWDbSchemaReStoreDexieUtils").MAW_DB_VERSION_CHANGES.length-1].version;g=Math.min(f!=null&&f>0?f:g,g);a.version(g).stores(d("MAWDbSchemaReStoreDexieUtils").getCompleteDexieSchemaForVersion(g));return g}g=v(c);r.LOG(i(),g.length,c[0].version,c[c.length-1].version);c=g.filter(function(a){return!!a.upgrade}).map(function(a){return a.version.toString()});var h=g.filter(function(a){return!!a.schema}).map(function(a){return a.version.toString()});c.length&&(e==null?void 0:e.addAnnotations({string_array:{dataMigrationVersions:c}}));h.length&&(e==null?void 0:e.addAnnotations({string_array:{schemaUpgradeVersions:h}}));var n=0;g.forEach(function(b){n=Math.max((b=s(a,b))!=null?b:0,(b=n)!=null?b:0)});return n}g.CURRENT_MAW_STORES=f;g.getDexieDbVersion=t;g.getDBVersion=a;g.updateDB=c}),98);
__d("MAWDexieError",[],(function(a,b,c,d,e,f){"use strict";a="ModifyError";b="BulkError";c="OpenFailedError";d="VersionChangeError";e="SchemaError";var g="UpgradeError",h="InvalidTableError",i="MissingAPIError",j="NoSuchDatabaseError",k="InvalidArgumentError",l="SubTransactionError",m="UnsupportedError",n="InternalError",o="DatabaseClosedError",p="PrematureCommitError",q="ForeignAwaitError",r="UnknownError",s="ConstraintError",t="DataError",u="TransactionInactiveError",v="ReadOnlyError",w="VersionError",x="NotFoundError",y="InvalidStateError",z="InvalidAccessError",A="AbortError",B="TimeoutError",C="QuotaExceededError",D="SyntaxError",E="DataCloneError";A={AbortError:A,BulkError:b,ConstraintError:s,DatabaseClosedError:o,DataCloneError:E,DataError:t,ForeignAwaitError:q,InternalError:n,InvalidAccessError:z,InvalidArgumentError:k,InvalidStateError:y,InvalidTableError:h,MissingAPIError:i,ModifyError:a,NoSuchDatabaseError:j,NotFoundError:x,OpenFailedError:c,PrematureCommitError:p,QuotaExceededError:C,ReadOnlyError:v,SchemaError:e,SubTransactionError:l,SyntaxError:D,TimeoutError:B,TransactionInactiveError:u,UnknownError:r,UnsupportedError:m,UpgradeError:g,VersionChangeError:d,VersionError:w};f.DEXIE_ERROR=A}),66);
__d("MAWIDbSetupQplEventListener",["MAWDexieError","MAWQplProxy","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function j(a){var b=new Set(Object.keys(d("MAWDexieError").DEXIE_ERROR));b.has(a.reason)&&h!=null&&(h.endFail(a.reason),d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(25310776,"6155"),"database_setup_failed"),i!=null&&(i(),i=null))}b=function(b,c){h=b;i=c;a.addEventListener("unhandledrejection",j);return function(){return a.removeEventListener("unhandledrejection",j)}};g.trackDbSetupFailure=b}),98);
__d("MAWLowLevelApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a={EXISTING_GROUP_INVITE:"existing_group_invite",MISSING_GROUP:"missing_group"};c={EXPIRED_GROUP_INVITE:"expired_group_invite",MISSING_GROUP:"missing_group",MISSING_GROUP_INVITE:"missing_group_invite"};d=b("$InternalEnum")({Initializing:"initializing",Open:"open",Closed:"closed",Error:"error",Upgrading:"upgrading"});f.WRITE_GROUP_INVITE_ERROR=a;f.GET_GROUP_INVITE_ERROR=c;f.DatabaseState=d}),66);
__d("MAWDbFactory",["ClientConsistencyEventEmitter","Deferred","FBLogger","MAWCurrentUser","MAWDbVersion","MAWDexieTable","MAWGetDbVersion","MAWIDbSetupQplEventListener","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWLowLevelApiTypes","MAWQplProxy","MAWReliabilityMonitor","Promise","asyncToGeneratorRuntime","err","gkx","promiseDone","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Versionchange detected: ("," -> "," (event version: ",", highestUsed: (","), name: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["DB forcibly closed"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["DB is null"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["DB setup complete, marking as ready"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["DB Open blocked"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["latest pushed version: ",", current: ",", requested: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["Waiting for worker to upgrade schema..."]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["Current version: ","."]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Starting DB Setup"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["DB exists: ",""]);r=function(){return a};return a}function a(a,e,f){var g=null,s=new(c("Deferred"))(),t=!1,u=!1,v,w=!1,x=null,y=f!=="worker"?null:d("MAWReliabilityMonitor").MAWReliabilityMonitorSingleton.startMonitoring("DB_"+e+"_"+f,function(){return{extra:{isMakingDB:String(t),willBeSetup:String(u)},reason:String(x),state:function(){if(x==null)return d("MAWReliabilityMonitor").HealthReportState.UNKNOWN;switch(x){case d("MAWLowLevelApiTypes").DatabaseState.Initializing:case d("MAWLowLevelApiTypes").DatabaseState.Upgrading:return d("MAWReliabilityMonitor").HealthReportState.PENDING;case d("MAWLowLevelApiTypes").DatabaseState.Open:return d("MAWReliabilityMonitor").HealthReportState.OK;case d("MAWLowLevelApiTypes").DatabaseState.Closed:case d("MAWLowLevelApiTypes").DatabaseState.Error:return d("MAWReliabilityMonitor").HealthReportState.ERROR}}()}});function z(){s=new(c("Deferred"))(),v==null?void 0:v(),t=!1,u=!1}function A(){return u}function B(){return s.getPromise().then(function(){return w})}function C(a,b,c){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,h,A){var B,C=h.backendInitPromise,D=h.middleware,E=h.onDbPopulate;h=babelHelpers.objectWithoutPropertiesLoose(h,["backendInitPromise","middleware","onDbPopulate"]);var F=d("MAWCurrentUser").getID();F=d("MAWIndexedDbMetadata").dbName(F);var G=c("qpl")._(25310776,"6155");function H(a){x=a,y==null?void 0:y.updateState()}if(g!=null){a.LOG(r(),e);d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_exsists");return}var I=d("MAWQplProxy").startQplUserFlow(c("qpl")._(1056836116,"905"),{string:{db:e,name:F}});u=!0;if(t){d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_make_in_progress");return s.getPromise()}a.LOG(q());t=!0;d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_make_started");v=d("MAWIDbSetupQplEventListener").trackDbSetupFailure(I,function(){H(d("MAWLowLevelApiTypes").DatabaseState.Error),s.reject("DB setup failed"),d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_setup_failed"),z()});H(d("MAWLowLevelApiTypes").DatabaseState.Initializing);var J=(yield d("MAWDbVersion").getDexieDbVersion(F));J==null&&(w=!0);I.addAnnotations({"int":{currentVersion:J}});B=(B=A)!=null?B:d("MAWGetDbVersion").getArmadilloDbVersion();I.addAnnotations({"int":{targetVersion:B}});a.LOG(p(),J);if(C&&(J||0)<B){I.addPoint("separate_read_waiting_on_worker_upgrade");a.LOG(o());try{yield C}catch(a){throw c("FBLogger")("maw_db").catching(a).mustfixThrow("Worker startup promise rejected, schema upgrade failed.")}var K=(yield d("MAWDbVersion").getDexieDbVersion(F));if(K!==B)throw c("err")("Main thread waiting on worker schema upgrade from %s to %s, upgrade failed with version %s",J,B,K);J=K}else if(f==="worker"){d("MAWQplProxy").sendQPLIntAnnotationThroughBridge(c("qpl")._(1056839232,"112"),"dbVersion",(B=J)!=null?B:0);d("MAWQplProxy").sendQPLIntAnnotationThroughBridge(c("qpl")._(1056839232,"112"),"useSentBytesCache",c("gkx")("33008")?1:0)}var L=function(b){var g;b=d("MAWDbVersion").updateDB(b,J,A,I);!C&&f==="worker"&&d("MAWQplProxy").sendQPLBoolAnnotationThroughBridge(c("qpl")._(1056839232,"112"),"dbUpgradeNeeded",J!==b);a.LOG(n(),b,J,(g=A)!=null?g:"<latest>");I.addPoint("database_version_upgraded",{"int":{dbVersion:b}});d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_version_upgraded");return b};g=new(d("MAWDexieTable").DexieTable)(F,function(g){D.forEach(function(a){g.use(a(b))});var h=L(g);g.on("populate",function(a){if(!a){H(d("MAWLowLevelApiTypes").DatabaseState.Error);s.reject("Missing DB for populate event");I.endFail("on_populata-missing_txn");d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_on_populate_missing_txn");return}c("FBLogger")("maw_db").info("MAWDB populated. HasPopulateEvent: %s",Boolean(E));E==null?void 0:E(a)});g.on("blocked",function(){a.ERROR(m()),H(d("MAWLowLevelApiTypes").DatabaseState.Error),s.reject("DB Open blocked"),I.endFail("db_blocked"),d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_blocked"),z()});g.on("ready",function(b){a.LOG(l());t=!1;if(b==null){H(d("MAWLowLevelApiTypes").DatabaseState.Error);a.ERROR(k());s.reject("DB is null");I.endFail("db_null");d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_null");z();return}H(d("MAWLowLevelApiTypes").DatabaseState.Open);v==null?void 0:v();s.resolve();I.endSuccess({"int":{dbVersion:h}});d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_ready")});g.on("close",function(){H(d("MAWLowLevelApiTypes").DatabaseState.Closed),a.WARN(j()),d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_forcibly_closed")});g.on("versionchange",function(b){a.ERROR(i(),b==null?void 0:b.oldVersion,b==null?void 0:b.newVersion,b==null?void 0:b.version,h,b==null?void 0:b.name),H(d("MAWLowLevelApiTypes").DatabaseState.Upgrading),f!=="worker"&&c("ClientConsistencyEventEmitter").emit("softRefresh","mawdb_versionchange"),d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_versionchange")})},void 0,h);d("MAWQplProxy").sendQplPointThroughBridge(G,"database_"+e+"_make_requested");return s.getPromise()});return D.apply(this,arguments)}function E(a){if(g==null){throw c("err")('IndexDB has not been initialized before executing "'+((a=a)!=null?a:"unnamed")+'"')}return g}function F(a){if(g!=null&&!t)return(h||(h=b("Promise"))).resolve(g);s=s||new(c("Deferred"))();return s.getPromise().then(function(){return E(a)})}function G(){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield F());a!=null&&(a.close(),g=null);z()});return H.apply(this,arguments)}function I(){g=null,z()}function J(a){c("promiseDone")(G());a=d("MAWIndexedDbMetadata").dbName((a=a)!=null?a:d("MAWCurrentUser").getID());c("promiseDone")(d("MAWIndexedDBDeletion").deleteDB(a,"maw"));y==null?void 0:y.stopMonitoring()}return{closeDB:G,deleteDb:J,getDB:F,getDBExn:E,isNewDb:B,makeDB:C,reset_singleton_INTERNAL_ONLY:I,setupPromise:function(){return s.getPromise()},willSetupDB:A}}g.makeIDBFactory=a}),98);
__d("MAWDbProtocolMsgIdMiddleware",["FBLogger","MAWJidUtils","MAWODSProxy","Random","WAOdsEnums","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("justknobx")._("3300");function i(a){return babelHelpers["extends"]({},a,{get:function(b){return a.get(b).then(function(a){k(a);return a})},getMany:function(b){return a.getMany(b).then(function(a){return a==null?void 0:a.map(function(a){k(a);return a})})},mutate:function(b){if(b.type==="delete"||b.type==="deleteRange"||b.type==="put")return a.mutate(b);b.values.map(function(a){return j(a)});return a.mutate(b)},query:function(b){return a.query(b).then(function(a){var b;a==null?void 0:(b=a.result)==null?void 0:b.map(function(a){k(a)});return a})}})}function j(a){a.protocolMsgId=d("MAWJidUtils").toProtocolMsgIdStringForMAWStorage(a)}function k(a){(a==null?void 0:a.protocolMsgId)==null&&d("Random").coinflip(h)&&d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_PROTOCOL_MSG_ID_INDEX,key:"null_protocol_msg_id"})}function a(){return{create:function(a){try{return babelHelpers["extends"]({},a,{table:function(b){return b!=="messages"?a.table(b):i(a.table(b))}})}catch(b){c("FBLogger")("maw_db").catching(b).mustfix("Error applying Protocol MsgId Middleware");return a}},name:"MAWDbProtocolMsgIdMiddleware",stack:"dbcore"}}g.appendProtocolMsgId=j;g.MAWDbProtocolMsgIdMiddleware=a}),98);
__d("MAWIndexedDbUI",["MAWDbFactory","MAWDbMutationMiddleware","MAWDbProtocolMsgIdMiddleware","MAWDexieTable","MAWIndexedDb","MAWTransactor","WATagsLogger","cr:3527","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a===void 0&&(a=d("WATagsLogger").TAGS(["DB on UI"]));var e=d("MAWDbFactory").makeIDBFactory(a,"ui_idb","main");return{closeDB:e.closeDB,deleteDb:e.deleteDb,getDB:e.getDB,makeDB:function(a,f,g){var h=[d("MAWDbMutationMiddleware").getMAWDbMutationMiddleware];c("gkx")("1760")&&h.push(d("MAWDbProtocolMsgIdMiddleware").MAWDbProtocolMsgIdMiddleware);b("cr:3527")!=null&&h.push(b("cr:3527"));a=e.makeDB(a,{autoOpen:c("gkx")("6817"),backendInitPromise:f.backendInitPromise,cache:"disabled",middleware:h,onDbPopulate:f.onDbPopulate},g);return a},reset_singleton_INTERNAL_ONLY:e.reset_singleton_INTERNAL_ONLY}}e=a();f=e.makeDB;var i=e.closeDB,j=e.getDB,k=e.deleteDb;e=e.reset_singleton_INTERNAL_ONLY;var l=j("MawDbInUISingleton_INTERNAL_ONLY").then(function(a){return{openReadonlyTransaction:function(b,e,f){return a.stores.transaction("r",e,function(){d("MAWDexieTable").setDexiePSDItem("transactorName",b);d("MAWDexieTable").setDexiePSDItem("transactionRequested",(h||(h=c("performance"))).now()+h.timeOrigin);return f(a.stores)})}}});g.makeMsgrTransactor=d("MAWTransactor").makeMsgrUITransactor_IMPORT_FROM_MAWIndexedDbUI_INSTEAD;g.afterTransaction=d("MAWIndexedDb").afterTransaction;g.makeMAWIndexedDBFactory=a;g.makeDB=f;g.closeDB=i;g.getDB=j;g.deleteDb=k;g.reset_singleton_INTERNAL_ONLY=e;g.MawDbInUISingleton=l}),98);
__d("MAWIndexedDb",["ExecutionEnvironment","FBLogger","I64","MAWBridge","MAWDataSyncMiddleware","MAWDbFactory","MAWDbMutationMiddleware","MAWDbMutationValidator","MAWDbProtocolMsgIdMiddleware","MAWDbSchema","MAWDexie","MAWMiActOnActThreadReadyQueue","MAWTransactor","WATagsLogger","asyncToGeneratorRuntime","cr:10181","cr:10182","cr:11558","cr:3527","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[afterTransaction] afterTransactionForThreadEvent called outside of dexie transaction"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[afterTransaction] called outside of dexie transaction"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[afterTransactionEffect] called outside of dexie transaction"]);l=function(){return a};return a}function a(e,f){e===void 0&&(e=d("WATagsLogger").TAGS(["DB"]));f===void 0&&(f="idb");var g=d("MAWDbFactory").makeIDBFactory(e,f,"worker");function a(a){return g.setupPromise().then(function(){return g.getDBExn(a)})}return babelHelpers["extends"]({},g,{getSignalDB:a,makeDB:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var h=[d("MAWDbMutationMiddleware").getMAWDbMutationMiddleware];c("gkx")("1760")&&h.push(d("MAWDbProtocolMsgIdMiddleware").MAWDbProtocolMsgIdMiddleware);b("cr:11558")!=null&&e.disableThreadSnippetAndTimestampMiddleware!==!0&&h.push(b("cr:11558"));e.enableDataSyncMiddleware&&h.push(d("MAWDataSyncMiddleware").getDataSyncMiddleware);e.enableMutationValidator===!0&&h.push(d("MAWDbMutationValidator").getMutationValidatorMiddleware);b("cr:3527")!=null&&h.push(b("cr:3527"));return g.makeDB(a,{autoOpen:!0,middleware:h,onDbPopulate:e.onDbPopulate},f)});function a(a,b,c){return e.apply(this,arguments)}return a}()})}var m=a(),n="idle",o=m.isNewDb,p=m.willSetupDB,q=function(a,b,c){return m.makeDB(a,b,c).then(function(){n="ready"})},r=m.closeDB,s=m.getDBExn,t=m.getSignalDB,u=m.getDB,v=function(a){return m.reset_singleton_INTERNAL_ONLY()},w=m.deleteDb;function e(){return n}function f(a){var b=n;n="migrating";return a["finally"](function(){n=b})}var x=new WeakMap(),y=new WeakMap(),z=d("WATagsLogger").TAGS(["DB"]);function A(a){var b=c("MAWDexie").currentTransaction;if(b==null){z.ERROR(l());throw c("unrecoverableViolation")("afterTransactionEffect called outside of dexie transaction","maw_db")}if(typeof a!=="function")return;var d=x.get(b)||[];d.push(a);x.set(b,d);d.length===1&&b.on("complete",function(){var a=x.get(b)||[];a.forEach(function(a){a()});x["delete"](b)})}function B(a){var e=c("MAWDexie").currentTransaction;if(e==null){z.ERROR(k());throw c("unrecoverableViolation")("afterTransaction called outside of dexie transaction","maw_db")}var f=y.get(e);if(f!=null)f.push(a);else{var g=[a];y.set(e,g);e.on("complete",function(){y["delete"](e),c("gkx")("5675")&&(i||(i=c("ExecutionEnvironment"))).isInMainThread&&b("cr:10182")!==null&&b("cr:10181")!==null?b("cr:10182").handleEvents(b("cr:10181").LSDatabaseSingleton,g):d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:g})})}}function C(a){if(a.tag==="ThreadUpdated")try{var b=a.value.snippetContactIDs;b!=null&&b.some(function(a){return a==="Facebook User"})&&(c("FBLogger")("messenger_e2ee_web").mustfix('Something is still setting a contact id as "Facebook User"'),a.value=babelHelpers["extends"]({},a.value,{snippetContactIDs:b.map(function(a){return a==="Facebook User"?"0":a})}))}catch(a){}else if(a.tag==="VerifyThreadExists"&&c("gkx")("5014")){b=a.value;if(b.clientThreadKey!=null){var e=(h||(h=d("I64"))).of_string(b==null?void 0:b.clientThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(e,b.jid,"MAWIndexedDb:afterTransaction:withClientThreadKey"))}if(b.authoritativeThreadKey!=null){e=(h||(h=d("I64"))).of_string(b.authoritativeThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(e,b.jid,"MAWIndexedDb:afterTransaction:withAuthoritativeThreadKey"))}}B(a)}function D(a,b){var e=c("MAWDexie").currentTransaction;if(e==null){z.ERROR(j());throw c("unrecoverableViolation")("afterTransactionForThreadEvent called outside of dexie transaction","maw_db")}e.on("complete",function(){d("MAWBridge").getBridge().fireAndForget("threadEvent",b,a)})}g.TABLES_TO_ENCRYPT=d("MAWDbSchema").TABLES_TO_ENCRYPT;g.makeMsgrTransactor=d("MAWTransactor").makeMsgrTransactor;g.makeMAWIndexedDBFactory=a;g.isNewDb=o;g.willSetupDB=p;g.makeDB=q;g.closeDB=r;g.getDBExn=s;g.getSignalDB=t;g.getDB=u;g.setDB_INTERNAL_USE_ONLY=v;g.deleteDb=w;g.getDbStatus=e;g.updateStatusDuringMigration=f;g.afterTransactionEffect=A;g.afterTransaction=C;g.afterTransactionThreadEvent=D}),98);
__d("MAWLLAMigrationUtils",["gkx","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";b=c("justknobx")._("652");var h=1/Math.max(b,10);d=1/(5*b);e=1/(10*b);f=10/b;var i=new Map([["setClockSkew",e],["getRoutingInfo",d],["unknown",e],["FTS",e],["bulkHandleIncomingMsgs",f],["bulkCreateThreadByJid",f]]);function a(a,b){b===void 0&&(b={});var d=i.get(a)||h;return a==="debug"||a==="test"?[]:c("gkx")("23956")&&Math.random()<d?[c("qpl")._(1056839327,"560"),babelHelpers["extends"]({"double":{sampleRate:d},string:{transactor:a}},b)]:[]}g.getTransactorQPLParam=a}),98);
__d("MAWTransactor",["FBLogger","MAWDexie","MAWDexieTable","MAWErrorObject","MAWIndexedDb","MAWIndexedDbUI","MAWLLAMigrationUtils","MAWQplProxy","MAWTransactionMode","WAExceededStorageQuota","WALogger","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["makeMsgrTransactor "," should not be called inside another transaction. The transaction will be forced to execute on top-level"]);i=function(){return a};return a}var j=["MWPTransactor"],k=c("FBLogger")("messenger_e2ee_web");function l(a,b,e,f,g,h){f!=null&&c("MAWDexie").currentTransaction!=null&&f.endFail("invoked_in_nested_transaction",{string:{current_transaction_mode:c("MAWDexie").currentTransaction.mode},string_array:{current_transaction_store_names:c("MAWDexie").currentTransaction.storeNames}});if(c("MAWDexie").currentTransaction!=null)if(c("gkx")("3588"))d("WALogger").WARN(i(),g);else throw k.mustfixThrow("makeMsgrTransactor %s cannot be called within another transaction",g);return a.transact(b,e,h)}function m(a){a=d("MAWLLAMigrationUtils").getTransactorQPLParam(a);a=a.length===2?a:[null,void 0];var b=a[0];a=a[1];return b!=null?d("MAWQplProxy").startQplUserFlow(b,a,void 0):null}function a(a,b,c,e){return p(a,b,function(a){return d("MAWIndexedDb").getDB(a)},c,e)}function b(a,b,c){return p(a,b,d("MAWIndexedDbUI").getDB,c)}function e(a,b,c){return p(a,b,d("MAWIndexedDbUI").getDB,c)}var n=0,o=new Map();function p(a,b,e,f,g){var i=Object.keys(a),k=i.some(function(b){return a[b]===d("MAWTransactionMode").READWRITE})?d("MAWTransactionMode").READWRITE:d("MAWTransactionMode").READONLY;return function(){for(var a=arguments.length,p=new Array(a),r=0;r<a;r++)p[r]=arguments[r];var s=m(b),t=null,u=function(){return self.clearInterval(t)};if(s!=null){s.addAnnotations({string:{mode:k===d("MAWTransactionMode").READWRITE?"readwrite":"readonly"},string_array:{maybeLockedOn:Array.from(o.values()),stores:i}});if(c("gkx")("1006")&&b==="bulkCreateThreadByJid"){var v=1e3,w=Date.now();t=self.setInterval(function(){s.addAnnotations({"int":{heartbeatLatestAliveSinceStartMs:Date.now()-w}})},v);self.setTimeout(u,d("MAWQplProxy").DEFAULT_WORKER_QPL_TIMEOUT_MS)}}g==null?void 0:g.onTxnRequested==null?void 0:g.onTxnRequested.apply(g,p);var x=(h||(h=c("performance"))).now()+h.timeOrigin;return e(b).then(function(a){s==null?void 0:s.addPoint("lock_wait_start");return l(a,k,i,s,b,function(){d("MAWDexieTable").setDexiePSDItem("transactionRequested",x);d("MAWDexieTable").setDexiePSDItem("transactorName",b);s==null?void 0:s.addPoint("dexie_transaction_start");n+=1;var e=n;o.set(e,b);var g=s!=null?a.stores[i[0]].get("").then(function(){s==null?void 0:s.addPoint("lock_wait_end"),s==null?void 0:s.addPoint("transaction_opened"),s==null?void 0:s.addPoint("transactor_execution_start")}):d("MAWDexieTable").dexieResolve();return g.then(function(){return f(a.stores).apply(void 0,p)}).then(function(a){if(c("gkx")("6795")){var b;(b=c("MAWDexie").currentTransaction)==null?void 0:(b=b.idbtrans)==null?void 0:b.commit==null?void 0:b.commit()}o["delete"](e);s==null?void 0:s.addPoint("transactor_execution_end");s==null?void 0:s.endSuccess();u();return a})["catch"](function(a){o["delete"](e);d("WAExceededStorageQuota").checkQuotaExceededError(a);s==null?void 0:s.markError("transaction_error",null,a);if(a instanceof Error){var c=a,f=typeof (c==null?void 0:c.stack)==="string"?c.stack:typeof (c==null?void 0:c.stack);c=typeof (c==null?void 0:c.message)==="string"?c.message:typeof (c==null?void 0:c.message);s==null?void 0:s.addAnnotations({string:{errMessage:c,errStack:f}})}s==null?void 0:s.endFail("transaction_fail");u();c=d("MAWErrorObject").getErrorObject(a);throw q(c).mustfixThrow("[%s] Error performing %s transaction",j.join("|"),(f=b)!=null?f:"")})})})["catch"](function(a){d("WAExceededStorageQuota").checkQuotaExceededError(a);s==null?void 0:s.endFail("transaction_fail");u();a=d("MAWErrorObject").getErrorObject(a);throw q(a).mustfixThrow("[%s] Error performing %s transaction",j.join("|"),(a=b)!=null?a:"")})}}function q(a){if(a)return k.catching(a);else return k}g.makeMsgrTransactor=a;g.makeMsgrUITransactor_IMPORT_FROM_MAWIndexedDbUI_INSTEAD=b;g.makeMsgrUIWritableTransactor=e}),98);
__d("isEncryptionAtRestEnabled",["isInstamadillo","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(c("qex")._("507")===!0)return!0;else return c("isInstamadillo")()}g["default"]=a}),98);
__d("MAWDbMiddlewareMutations",["MAWDbObjEncryption","MAWVaultDb","MAWVaultDefinitions","gkx","isEncryptionAtRestEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23909");function a(a,b,e){if(!h&&!(c("isEncryptionAtRestEnabled")()||c("gkx")("23910")))return a;a=babelHelpers["extends"]({},a);a=d("MAWVaultDb").unvaultDbRow(a,b,d("MAWVaultDefinitions").ARMADILLO_IDB_VAULT_DEFINITIONS);a=d("MAWDbObjEncryption").encryptDbObj(a,b,e);return a}function b(a,b){return!h?a:d("MAWVaultDb").unvaultDbRow(babelHelpers["extends"]({},a),b,d("MAWVaultDefinitions").ARMADILLO_IDB_VAULT_DEFINITIONS)}function e(a,b,c){a=d("MAWDbObjEncryption").decryptDbObj(babelHelpers["extends"]({},a),b,c);return!h?a:d("MAWVaultDb").vaultDbRow(a,b,d("MAWVaultDefinitions").ARMADILLO_IDB_VAULT_DEFINITIONS)}function f(a,b){if(a==null)return void 0;return!h?a:d("MAWVaultDb").vaultDbRow(a,b,d("MAWVaultDefinitions").ARMADILLO_IDB_VAULT_DEFINITIONS)}g.mutateValue=a;g.mutateVaultedValue=b;g.getValue=e;g.getVaultedValue=f}),98);
__d("MAWDbMutationValidator",["FBLogger","MAWIndexedDb","MAWMessageHasNonNullServerTsOnReceivedAckValidator","MAWMessageHasUniqueExternalIdValidator","MAWODSProxy","MAWParticipantMatchOneOnOneThreadValidator","MAWReactionHasUniqueProtocolMsgIdValidator","Promise","Random","WAOdsEnums","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[d("MAWMessageHasUniqueExternalIdValidator").MAWMessageHasUniqueExternalIdValidator,d("MAWParticipantMatchOneOnOneThreadValidator").MAWParticipantMatchOneOnOneThreadValidator,d("MAWReactionHasUniqueProtocolMsgIdValidator").MAWReactionHasUniqueProtocolMsgIdValidator,d("MAWMessageHasNonNullServerTsOnReceivedAckValidator").MAWMessageHasNonNullServerTsOnReceivedAckValidator],j=c("justknobx")._("2610"),k=c("gkx")("5906"),l=function(a){return d("Random").coinflip((a=a)!=null?a:j)||k};function m(a,e){var f=a.table(e),g=i.filter(function(a){return a.table===e});return g.length===0?f:babelHelpers["extends"]({},f,{mutate:function(a){return d("MAWIndexedDb").getDbStatus()!=="ready"?f.mutate(a):f.mutate(a).then(function(e){var f=g.filter(function(b){var c=b.sampleRate;b=b.type;return b.includes(a.type)&&l(c)});d("MAWIndexedDb").afterTransactionEffect(function(){var g=f.flatMap(function(a){var b=a.description,c=a.isValid;return((a=e.results)!=null?a:[]).map(function(a){return c(a).then(function(a){return babelHelpers["extends"]({validatorName:b},a)})})});c("promiseDone")((h||(h=b("Promise"))).all(g).then(function(b){b.forEach(function(b){switch(b.result){case"valid":d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_MUTATION_VALIDATOR,key:b.validatorName+"."+a.type+".valid"});break;case"invalid":d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_MUTATION_VALIDATOR,key:b.validatorName+"."+a.type+".invalid"});c("FBLogger")("maw_mutation_validator").mustfix("Validator %s failed for %s mutation, with description: %s",b.validatorName,a.type,b.description);break;case"skipped":break}})}))});return e})}})}function a(){return{create:function(a){try{return babelHelpers["extends"]({},a,{table:function(b){return m(a,b)}})}catch(b){c("FBLogger")("maw_db").catching(b).mustfix("Error applying Mutation Validator Middleware");return a}},name:"MAWMutationValidatorMiddleware",stack:"dbcore"}}g.getMutationValidatorMiddleware=a}),98);
__d("MAWMessageHasNonNullServerTsOnReceivedAckValidator",["MAWAckLevel","MAWTransactionMode","MAWTransactor"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWTransactor").makeMsgrTransactor({messages:d("MAWTransactionMode").READONLY},"isMessageHasNonNullServerTsOnReceivedAckValidator",function(a){return function(b){return a.messages.get(b).then(function(a){return a==null||a.ack<d("MAWAckLevel").ACK.sent?{key:b,result:"skipped"}:a.serverTs!=null?{key:b,result:"valid"}:{description:"Message with "+a.ack+" ack has empty serverTs.",key:b,result:"invalid"}})}});b={description:"MAWMessageHasNonNullServerTsOnReceivedAckValidator",isValid:a,table:"messages",type:["add","put"]};g.MAWMessageHasNonNullServerTsOnReceivedAckValidator=b}),98);
__d("lruMap",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.limit;a=a.entries;this.size=0;this.limit=b;this.oldest=this.newest=void 0;this.$1=new Map();a!=null&&(this.assign(a),b<1&&(this.limit=this.size))}var b=a.prototype;b.assign=function(a){var b=this,c=null,d=this.limit||Number.MAX_VALUE;this.$1.clear();a.forEach(function(a){a=new g(a.key,a.value);b.$1.set(a.key,a);c==null?b.oldest=a:(c.next=a,a.prev=c);c=a;if(d--==0)throw new Error("Tried to init with more entries than the limit")});this.newest=c;this.size=this.$1.size};b.$2=function(a){if(a===this.newest)return;a.next&&(a===this.oldest&&(this.oldest=a.next),a.next.prev=a.prev);a.prev&&(a.prev.next=a.next);a.next=void 0;a.prev=this.newest;this.newest&&(this.newest.next=a);this.newest=a};b.get=function(a){a=this.$1.get(a);if(!a)return null;this.$2(a);return a.value};b.set=function(a,b){var c=this.$1.get(a);if(c){c.value=b;this.$2(c);return this}this.$1.set(a,c=new g(a,b));this.newest?(this.newest.next=c,c.prev=this.newest):this.oldest=c;this.newest=c;++this.size;this.size>this.limit&&this.$3();return this};b.$3=function(){var a=this.oldest;if(a){this.oldest!=null?(this.oldest=this.oldest.next,this.oldest!=null&&(this.oldest.prev=void 0)):(this.oldest=void 0,this.newest=void 0);a.next=a.prev=void 0;this.$1["delete"](a.key);--this.size;return[a.key,a.value]}};b.clear=function(){this.oldest=this.newest=void 0,this.size=0,this.$1.clear()};b.toJSON=function(){var a=new Array(this.size),b=0,c=this.oldest;while(c)a[b++]={key:c.key,value:c.value},c=c.next;return a};return a}();var g=function(a,b){this.key=a,this.value=b,this.next=void 0,this.prev=void 0};f["default"]=a}),66);
__d("MAWMessageHasUniqueExternalIdValidator",["MAWDexieTable","MAWTransactionMode","MAWTransactor","WAJids","WAStanzaUtils","justknobx","lruMap"],(function(a,b,c,d,e,f,g){"use strict";b=c("justknobx")._("3288");var h=new(c("lruMap"))({limit:50});function a(a,b,c){a.forEach(function(a){h.set(a,{extraData:c,source:b})})}e=d("MAWTransactor").makeMsgrTransactor({messages:d("MAWTransactionMode").READONLY},"isMessageWithUniqueExternalIdValidator",function(a){return function(b){return a.messages.get(b).then(function(c){var e=c==null?void 0:c.externalId;return c==null||e==null?d("MAWDexieTable").dexieResolve({key:b,result:"skipped"}):a.messages.where("externalId").equals(d("WAStanzaUtils").toStanzaId(e)).filter(function(a){return a.author===c.author&&a.threadJid===c.threadJid}).toArray().then(function(a){if(a.length===1)return{key:b,result:"valid"};else{a=i(b,c,e,a);return{description:a,key:b,result:"invalid"}}})})}});function i(a,b,c,e){var f;c=h.get(c);f=(f=c==null?void 0:c.extraData)!=null?f:{};var g=e[0].author;(d("WAJids").isAuthorSystem(g)||d("WAJids").isAuthorMe(g))&&(f=babelHelpers["extends"]({},f,{author:g}));g=e.every(function(a){return a.serverTs===b.serverTs});e=e.filter(function(b){return b.rowId!==a});c="Message has duplicate externalId. Source: "+((c=c==null?void 0:c.source)!=null?c:"unknown")+". "+("New message type: "+((c=b.type)!=null?c:"")+". ")+("Existing message types: "+e.map(function(a){return a.type}).join(", ")+". ")+("Messages have same serverTS: "+g.toString()+". ")+("Extra data "+JSON.stringify(f)+")");return c}f={description:"MAWMessageHasUniqueExternalIdValidator",isValid:e,sampleRate:b,table:"messages",type:["add","put"]};g.logMessageAddSource=a;g.MAWMessageHasUniqueExternalIdValidator=f}),98);
__d("MAWParticipantMatchOneOnOneThreadValidator",["MAWIndexedDb","MAWTransactionMode","MAWUserJidWrapper","WAJids","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=c("justknobx")._("3121");b=d("MAWIndexedDb").makeMsgrTransactor({participants:d("MAWTransactionMode").READONLY},"isParticipantMatchingOneOnOneThreadValidator",function(a){return function(b){return a.participants.get(b).then(function(a){return a==null?{key:b,result:"skipped"}:d("WAJids").switchOnMsgrChatJidType(a.threadJid,{group:function(){return{key:b,result:"skipped"}},user:function(c){return a.userJid!==c&&a.userJid!==d("MAWUserJidWrapper").getMyUserJid()?{description:"Participants added to 1:1 thread is neither self or the other user",key:b,result:"invalid"}:{key:b,result:"valid"}}})})}});e={description:"MAWParticipantMatchOneOnOneThreadValidator",isValid:b,sampleRate:a,table:"participants",type:["add","put"]};g.MAWParticipantMatchOneOnOneThreadValidator=e}),98);
__d("MAWReactionHasUniqueProtocolMsgIdValidator",["MAWDexieTable","MAWTransactionMode","MAWTransactor","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";a=d("MAWTransactor").makeMsgrTransactor({reactions:d("MAWTransactionMode").READONLY},"isReactionWithUniqueProtocolMsgIdValidator",function(a){return function(b){return a.reactions.get(b).then(function(c){var e=c==null?void 0:c.externalId;return e==null?d("MAWDexieTable").dexieResolve({key:b,result:"skipped"}):a.reactions.where("externalId").equals(d("WAStanzaUtils").toStanzaId(e)).filter(function(a){return a.author===(c==null?void 0:c.author)&&a.threadJid===(c==null?void 0:c.threadJid)}).toArray().then(function(a){if(a.length===1)return{key:b,result:"valid"};else return{description:"Reaction has duplicate protocolMsgId",key:b,result:"invalid"}})})}});b={description:"MAWReactionHasUniqueProtocolMsgIdValidator",isValid:a,table:"reactions",type:["add","put"]};g.MAWReactionHasUniqueProtocolMsgIdValidator=b}),98);
__d("MAWDbMutationMiddleware",["FBLogger","MAWDbMiddlewareMutations"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{create:function(b){return babelHelpers["extends"]({},b,{table:function(e){var f=b.table(e);try{return babelHelpers["extends"]({},f,{get:function(b){return f.get(b).then(function(b){return b==null?void 0:d("MAWDbMiddlewareMutations").getValue(b,e,a)})},getMany:function(b){return f.getMany(b).then(function(b){return b.map(function(b){return b==null?void 0:d("MAWDbMiddlewareMutations").getValue(b,e,a)})})},mutate:function(b){var c=null;switch(b.type){case"add":case"put":c=b.values.map(function(b){return d("MAWDbMiddlewareMutations").mutateValue(b,e,a)});break;case"delete":break;case"deleteRange":break}if(b.type==="delete"||b.type==="deleteRange"||c==null)return f.mutate(b);b.values=c;return f.mutate(b).then(function(a){return a})},openCursor:function(b){return f.openCursor(b).then(function(b){return b==null||b.value==null?b:h(b,e,a)})},query:function(b){return f.query(b).then(function(b){if(b.result.length===0||typeof b.result[0]!=="object")return b;var c=b.result.map(function(b){return d("MAWDbMiddlewareMutations").getValue(b,e,a)});b.result=c;return b})}})}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("Error applying MAWDbMiddleware");return f}}})},name:"MAWDbMutationMiddleware",stack:"dbcore"}}function b(){return{create:function(a){return babelHelpers["extends"]({},a,{table:function(b){var e=a.table(b);try{return babelHelpers["extends"]({},e,{get:function(a){return e.get(a).then(function(a){return d("MAWDbMiddlewareMutations").getVaultedValue(a,b)})},getMany:function(a){return e.getMany(a).then(function(a){return a.map(function(a){return d("MAWDbMiddlewareMutations").getVaultedValue(a,b)})})},mutate:function(a){if(a.type==="delete"||a.type==="deleteRange")return e.mutate(a);a.values=a.values.map(function(a){return d("MAWDbMiddlewareMutations").mutateVaultedValue(a,b)});return e.mutate(a)},openCursor:function(a){return e.openCursor(a).then(function(a){return a==null||a.value==null?a:i(a,b)})},query:function(a){return e.query(a).then(function(a){return a.result.length===0||typeof a.result[0]!=="object"?a:babelHelpers["extends"]({},a,{result:a.result.map(function(a){return d("MAWDbMiddlewareMutations").getVaultedValue(a,b)})})})}})}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("Error applying MAWDbMiddleware");return e}}})},name:"getMAWVaultMiddleware",stack:"dbcore"}}function h(a,b,c){var e;return Object.create(a,{"continue":{get:function(){return a["continue"]}},continuePrimaryKey:{get:function(){return a.continuePrimaryKey}},key:{get:function(){return a.key}},primaryKey:{get:function(){return a.primaryKey}},start:{value:function(f){return a.start(function(){e=d("MAWDbMiddlewareMutations").getValue(a.value,b,c);try{a.value=e}catch(a){}f()})}},value:{get:function(){return e}}})}function i(a,b){var c;return Object.create(a,{"continue":{get:function(){return a["continue"]}},continuePrimaryKey:{get:function(){return a.continuePrimaryKey}},key:{get:function(){return a.key}},primaryKey:{get:function(){return a.primaryKey}},start:{value:function(e){return a.start(function(){c=d("MAWDbMiddlewareMutations").getVaultedValue(a.value,b);try{a.value=c}catch(a){}e()})}},value:{get:function(){return c}}})}g.getMAWDbMutationMiddleware=a;g.getMAWVaultMiddleware=b}),98);
__d("MAWXMACTAUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.actionUrl,c=a.buttonType,d=a.ctaType,e=a.nativeUrl;a=a.title;return{actionUrl:b,buttonType:c,ctaType:d,nativeUrl:e,title:a}}function b(a){var b=a.actionUrl,c=a.buttonType,d=a.ctaType,e=a.nativeUrl;a=a.title;return{actionUrl:b,buttonType:c,ctaType:d,nativeUrl:e,title:a}}f.toMAWCTAEncode=a;f.fromMAWCTAEncode=b}),66);
__d("WAServerSync.pb",["$InternalEnum","WAProtoConst"],(function(a,b,c,d,e,f,g){a=b("$InternalEnum")({SET:0,REMOVE:1});c={};e={};f={};b={};var h={},i={},j={},k={},l={},m={},n={};c.internalSpec={version:[1,(d=d("WAProtoConst")).TYPES.UINT64]};e.internalSpec={code:[1,d.TYPES.UINT64],text:[2,d.TYPES.STRING]};f.internalSpec={blob:[1,d.TYPES.BYTES]};b.internalSpec={blob:[1,d.TYPES.BYTES]};h.internalSpec={id:[1,d.TYPES.BYTES]};i.internalSpec={index:[1,d.TYPES.MESSAGE,f],value:[2,d.TYPES.MESSAGE,b],keyId:[3,d.TYPES.MESSAGE,h]};j.internalSpec={mediaKey:[1,d.TYPES.BYTES],directPath:[2,d.TYPES.STRING],handle:[3,d.TYPES.STRING],fileSizeBytes:[4,d.TYPES.UINT64],fileSha256:[5,d.TYPES.BYTES],fileEncSha256:[6,d.TYPES.BYTES]};k.internalSpec={version:[1,d.TYPES.MESSAGE,c],records:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,i],mac:[3,d.TYPES.BYTES],keyId:[4,d.TYPES.MESSAGE,h]};l.internalSpec={mutations:[1,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m]};m.internalSpec={operation:[1,d.TYPES.ENUM,a],record:[2,d.TYPES.MESSAGE,i]};n.internalSpec={version:[1,d.TYPES.MESSAGE,c],mutations:[2,d.FLAGS.REPEATED|d.TYPES.MESSAGE,m],externalMutations:[3,d.TYPES.MESSAGE,j],snapshotMac:[4,d.TYPES.BYTES],patchMac:[5,d.TYPES.BYTES],keyId:[6,d.TYPES.MESSAGE,h],exitCode:[7,d.TYPES.MESSAGE,e],deviceIndex:[8,d.TYPES.UINT32],clientDebugData:[9,d.TYPES.BYTES]};g.SyncdMutation$SyncdOperation=a;g.SyncdVersionSpec=c;g.ExitCodeSpec=e;g.SyncdIndexSpec=f;g.SyncdValueSpec=b;g.KeyIdSpec=h;g.SyncdRecordSpec=i;g.ExternalBlobReferenceSpec=j;g.SyncdSnapshotSpec=k;g.SyncdMutationsSpec=l;g.SyncdMutationSpec=m;g.SyncdPatchSpec=n}),98);
__d("MAWDbObjDecode",["MAWArmadilloAppDataTableSchema.pb","MAWArmadilloAppMetaTableSchema.pb","MAWArmadilloCollectionVersionsTableSchema.pb","MAWArmadilloContactsTableSchema.pb","MAWArmadilloDeletedMessagesTableSchema.pb","MAWArmadilloDeviceChangeAlertsTableSchema.pb","MAWArmadilloDyiBatchTableSchema.pb","MAWArmadilloEBMsgRangesTableSchema.pb","MAWArmadilloEditMsgHistoryTableSchema.pb","MAWArmadilloGroupInfoTableSchema.pb","MAWArmadilloGroupInvitesTableSchema.pb","MAWArmadilloMediaTablesSchema.pb","MAWArmadilloMessagesTableSchema.pb","MAWArmadilloMetaRowTableSchema.pb","MAWArmadilloMissingKeysTableSchema.pb","MAWArmadilloParticipantsTableSchema.pb","MAWArmadilloPendingMutationsTableSchema.pb","MAWArmadilloPersonalSenderKeyStatusTableSchema.pb","MAWArmadilloReactionsTableSchema.pb","MAWArmadilloReceiptTablesSchema.pb","MAWArmadilloReceiverFetchInfoTableSchema.pb","MAWArmadilloSignalTablesSchema.pb","MAWArmadilloSyncActionsTableSchema.pb","MAWArmadilloSyncKeysTableSchema.pb","MAWArmadilloTasksTableSchema.pb","MAWArmadilloThreadsTableSchema.pb","MAWArmadilloUnrenderedMessagesTableSchema.pb","MAWArmadilloXMATableSchema.pb","MAWMsgType","MAWODSProxy","MAWXMACTAUtil","WAOdsEnums","WAServerSync.pb","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){var h={appData:function(a){return J(a)},appMeta:function(a){return K(a)},browserEncryptionMeta:function(a){throw c("err")("unexpected table for decryption")},chunk:function(a){return L(a)},collectionVersions:function(a){return U(a)},contacts:function(a){return E(a)},danglingQueue:function(a){throw c("err")("unexpected table for decryption")},deletedMessages:function(a){return n(a)},deviceChangeAlerts:function(a){return i(a)},dualSendMedia:function(a){throw c("err")("unexpected table for decryption")},dyiBatch:function(a){return P(a)},ebMessageRestoreTasks:function(a){throw c("err")("unexpected table for decryption")},ebMsgRanges:function(a){return Q(a)},ebRestoreQueue:function(a){throw c("err")("unexpected table for decryption")},ebUploadQueue:function(a){throw c("err")("unexpected table for decryption")},editMsgHistory:function(a){return X(a)},encryptionMetaV3:function(a){throw c("err")("unexpected table for decryption")},ephemeralSettings:function(a){throw c("err")("unexpected table for decryption")},existingUsers:function(a){throw c("err")("unexpected table for decryption")},ftsBackloggedMessages:function(a){throw c("err")("unexpected table for decryption")},ftsEncryptionMeta:function(a){throw c("err")("unexpected table for decryption")},ftsIndexV3:function(a){throw c("err")("unexpected table for decryption")},ftsPurgeBacklog:function(a){throw c("err")("unexpected table for decryption")},ftsPurgeThreadBacklog:function(a){throw c("err")("unexpected table for decryption")},groupInfo:function(a){return q(a)},groupInvites:function(a){return G(a)},historySyncQRCodeData:function(a){throw c("err")("unexpected table for decryption")},historySyncQRCodeSecretKey:function(a){throw c("err")("unexpected table for decryption")},identity:function(a){return t(a)},igMessageAuxiliaryInfo:function(a){throw c("err")("unexpected table for decryption")},isDualSend:function(a){throw c("err")("unexpected table for decryption")},jobs:function(a){throw c("err")("unexpected table for decryption")},media:function(a){return N(a)},mediaBackup:function(a){return M(a)},mediaKeys:function(a){throw c("err")("unexpected table for decryption")},messages:function(a){return m(a)},meta:function(a){return s(a)},missingKeys:function(a){return S(a)},participants:function(a){return F(a)},pendingMessageStanzaQueue:function(a){throw c("err")("unexpected table for decryption")},pendingMutations:function(a){return T(a)},pendingReceipts:function(a){return C(a)},pendingStanzas:function(a){throw c("err")("unexpected table for decryption")},personalSenderKeyStatuses:function(a){return I(a)},prekey:function(a){return u(a)},prekeyGeneration:function(a){return v(a)},reactions:function(a){return O(a)},receipts:function(a){return B(a)},receiverFetchInfo:function(a){return Y(a)},senderKeySessions:function(a){return y(a)},sentBytesCache:function(a){throw c("err")("unexpected table for decryption")},session:function(a){return w(a)},signedPrekey:function(a){return x(a)},staleQueue:function(a){throw c("err")("unexpected table for decryption")},stanzaQueue:function(a){throw c("err")("unexpected table for decryption")},syncActions:function(a){return R(a)},syncKeys:function(a){return V(a)},tasks:function(a){return H(a)},threads:function(a){return D(a)},unrenderedMessages:function(a){return o(a)},xma:function(a){return W(a)}};function a(a,b){if(Object.prototype.hasOwnProperty.call(h,b))b=h[b](a);else throw c("err")("not a valid table name");return b}function i(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloDeviceChangeAlertsTableSchema.pb").DeviceChangeAlertsTableSchemaProtoSpec,a);return{action:a.action,deviceJid:a.deviceJid,identity:a.identity,isArchived:a.isArchived,latitude:a.latitude,location:a.location,loggedOut:a.loggedOut,longitude:a.longitude,model:a.model,platform:a.platform,ts:a.ts}}function j(a){a=a.quote;var b;if(a!=null){if(a.content==null)throw c("err")("QuotedMsgContent missing upon decoding");var d=a.content,e=d.author,f=d.expirationTs,g=d.externalId,h=d.mediaId,i=d.msgContent,j=d.msgId,k=d.plaintextHash,l=d.sourceId,m=d.specialTextSize,n=d.ts,o=d.type;d=d.xmaMessageType;b={content:babelHelpers["extends"]({},a.content,{author:e,expirationTs:f,externalId:g,mediaId:h,msgContent:i,msgId:j,plaintextHash:k,sourceId:l,specialTextSize:m,ts:n,type:o,xmaMessageType:d}),remoteJid:a.remoteJid}}return b}function k(a){if(a==null)return a;else return new Uint8Array(a)}function l(a){if(a==null||a.length===0)return new Set();else return new Set(a)}function m(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMessagesTableSchema.pb").MessagesTableSchemaProtoSpec,a);var b=a.msgContent;if(a.type===d("MAWMsgType").MSG_TYPE.FUTUREPROOF){if(b==null)throw c("err")("MsgContent missing upon decoding futureproof message");b.subtype=b.subtype}var e=j(a),f=p(a.reportingMeta);return babelHelpers["extends"]({},a,{msgContent:b,quote:e,reportingMeta:f})}function n(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloDeletedMessagesTableSchema.pb").DeletedMessagesTableSchemaProtoSpec,a);return babelHelpers["extends"]({},a)}function o(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloUnrenderedMessagesTableSchema.pb").UnrenderedMessagesTableSchemaProtoSpec,a);var b=j(a),c=p(a.reportingMeta);return babelHelpers["extends"]({},a,{quote:b,reportingMeta:c})}function p(a){if(a==null)return;return{frankingKey:a.frankingKey!=null?new Uint8Array(a.frankingKey):a.frankingKey,frankingTag:a.frankingTag!=null?new Uint8Array(a.frankingTag):a.frankingTag,frankingVersion:a.frankingVersion,reportingContent:a.reportingContent,reportingTag:a.reportingTag!=null?new Uint8Array(a.reportingTag):a.reportingTag}}function q(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloGroupInfoTableSchema.pb").GroupInfoSchemaProtoSpec,a);return{creationTs:a.creationTs,creator:a.creator,inviter:a.inviter,memberAddMode:a.memberAddMode,msgExpiration:a.msgExpiration,name:a.name,nameOwner:a.nameOwner,nameTs:a.nameTs,participantVersion:a.participantVersion}}function r(a,b){var d;a=a;if(a==null)d=a;else{var e=a.privateKey;a=a.publicKey;if(e==null||a==null)throw c("err")("Decoding "+b+" private or public key missing");d={privateKey:new Uint8Array(e),publicKey:new Uint8Array(a)}}return d}function s(a){var b,c,e,f;a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMetaRowTableSchema.pb").MetaRowTableSchemaProtoSpec,a);b=(b=a.value)==null?void 0:b.cat;if(b==null)b=b;else{var g;b={encrypted_serialized_cat:(g=a.value)==null?void 0:(g=g.cat)==null?void 0:g.encryptedSerializedCat,expiration_time_in_seconds:(g=a.value)==null?void 0:(g=g.cat)==null?void 0:g.expirationTimeInSeconds}}g=(g=a.value)==null?void 0:g.edgeInfo;g=k(g);c=r((c=a.value)==null?void 0:c.identityKeyPair,"identityKeyPair");e=r((e=a.value)==null?void 0:e.authKeyPair,"authKeyPair");return{value:{abProps:(f=a.value)==null?void 0:f.abProps,authKeyPair:e,cat:b,certificateChain:(f=a.value)==null?void 0:f.certificateChain,clockSkew:(e=a.value)==null?void 0:e.clockSkew,deviceId:(b=a.value)==null?void 0:b.deviceId,deviceUUID:(f=a.value)==null?void 0:f.deviceUUID,edgeInfo:g,fbid:(e=a.value)==null?void 0:e.fbid,identityKeyPair:c,lastPrekeyGenerationId:(b=a.value)==null?void 0:b.lastPrekeyGenerationId,lastPrekeyId:(f=a.value)==null?void 0:f.lastPrekeyId,lastSessionDeviceWasLinkedTo:(g=a.value)==null?void 0:g.lastSessionDeviceWasLinkedTo,lastSignedPrekeyId:(e=a.value)==null?void 0:e.lastSignedPrekeyId,regId:(c=a.value)==null?void 0:c.regId,registrationVersion:(b=a.value)==null?void 0:b.registrationVersion,restoreMigrationAttempts:(f=a.value)==null?void 0:f.restoreMigrationAttempts}}}function t(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").IdentityTableSchemaProtoSpec,a);var b=a.identity,c=a.firstSeenTs;b=k(b);return{deviceName:a.deviceName,firstSeenTs:c,identity:b,platform:a.platform}}function u(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyTableSchemaProtoSpec,a);var b=a.encoded;b=k(b);return{encoded:b,isDeleted:a.isDeleted}}function v(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyGenerationTableSchemaProtoSpec,a)}function w(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SessionTableSchemaProtoSpec,a);a=a.session;a=k(a);return{session:a}}function x(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SignedPrekeyTableSchemaProtoSpec,a);a=a.encoded;a=k(a);return{encoded:a}}function y(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SenderKeySessionsTableSchemaProtoSpec,a);var b=a.record;b=k(b);return{deviceId:a.deviceId,record:b}}function z(a){if(a.length===0)return null;else return new Map(a.map(function(a){var b=a.deviceJid;if(b==null||a.serializedPubKey==null)throw c("err")("Expected deviceJid or serializedPubKey are missing ");var d=new Uint8Array(a.serializedPubKey);a=k(a.baseKey);a={baseKey:a,pubKey:d};return[b,a]}))}function A(a){if(a==null)return null;else return new Map(a.map(function(a){if(a.deviceJid==null)throw c("err")("Expected deviceJID is missing ");return[a.deviceJid,(a=a.count)!=null?a:0]}))}function B(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").ReceiptsTableSchemaProtoSpec,a);var b=a.recipientDevices;b=l(b);return{permittedIdentitiesPerDevice:z(a.permittedIdentitiesPerDevice),recipientDevices:b,retryCountsPerDevice:A(a.retryCountsPerDevice)}}function C(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").PendingReceiptsTableSchemaProtoSpec,a)}function D(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloThreadsTableSchema.pb").ThreadsTableSchemaProtoSpec,a);return{archived:a.archived,cannotReplyReason:a.cannotReplyReason,didInsertDualThreadCutoverAdminMsg:a.didInsertDualThreadCutoverAdminMsg,folder:a.folder,isMigratedLocally:a.isMigratedLocally,lastReadMsg:a.lastReadMsg,lastReadMsgReceiptSent:a.lastReadMsgReceiptSent,muteCallsExpireTimeMs:a.muteCallsExpireTimeMs,muteExpireTimeMs:a.muteExpireTimeMs,newestMsg:a.newestMsg,newestMsgTs:a.newestMsgTs,oldestMsg:a.oldestMsg,optimisticThreadKey:a.optimisticThreadKey,snippetMsg:a.snippetMsg,snippetMsgTs:a.snippetMsgTs,unbumpFromTs:a.unbumpFromTs,unbumpToTs:a.unbumpToTs}}function E(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloContactsTableSchema.pb").ContactsTableSchemaProtoSpec,a);var b=a.icdcInfo,c;b!=null&&(c={devices:b.devices.map(function(a){return new Uint8Array(a)}),dirty:b.dirty,sequence:b.sequence,signingDeviceIndex:b.signingDeviceIndex,timestamp:b.timestamp});return{dhash:a.dhash,ephemeralSetting:a.ephemeralSetting,ephemeralSyncResponseBackoffInfo:a.ephemeralSyncResponseBackoffInfo,icdcFails:a.icdcFails,icdcInfo:c,isBlocked:a.isBlocked,isRestricted:a.isRestricted,lastSyncTs:a.lastSyncTs,nameForSearch:a.nameForSearch,relationship:a.relationship}}function F(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloParticipantsTableSchema.pb").ParticipantsTableSchemaProtoSpec,a)}function G(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloGroupInvitesTableSchema.pb").GroupInvitesTableSchemaProtoSpec,a)}function H(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloTasksTableSchema.pb").TasksTableSchemaProtoSpec,a)}function I(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb").PersonalSenderKeyStatusTableSchemaProtoSpec,a);var b=a.hasSenderKey;b=l(b);return{hasSenderKey:b,rotateSenderKey:a.rotateSenderKey,senderKeyId:a.senderKeyId,senderKeyTs:a.senderKeyTs}}function J(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloAppDataTableSchema.pb").AppDataTableSchemaProtoSpec,a);return{ack:a.ack,contents:a.contents,permittedIdentitiesPerDevice:z(a.permittedIdentitiesPerDevice),recipientDevices:new Set(a.recipientDevices),sendPartial:a.sendPartial,ts:a.ts}}function K(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloAppMetaTableSchema.pb").AppMetaTableSchemaProtoSpec,a)}function L(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").ChunkTableSchemaProtoSpec,a)}function M(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaBackupSchemaProtoSpec,a)}function N(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaTableSchemaProtoSpec,a);var b,e=a.mediaEntries;e==null?b=new Map():b=new Map(e.map(function(a){if(a.msgId==null||a.mediaEntryData==null)throw c("err")("Expected msgId or mediaEntryData are missing ");return[a.msgId,new Uint8Array(a.mediaEntryData)]}));return{mediaEntries:b,mediaType:a.mediaType,plaintextHash:a.plaintextHash,size:a.size,ts:a.ts,validatedAudioInfo:a.validatedAudioInfo,validatedDocumentFileInfo:a.validatedDocumentFileInfo,validatedImageInfo:a.validatedImageInfo,validatedResult:a.validatedResult,validatedVideoInfo:a.validatedVideoInfo}}function O(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReactionsTableSchema.pb").ReactionsTableSchemaProtoSpec,a);a.ts!=null&&d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_MIGRATE_REACTION_TS_AS_INDEX,key:"reaction_ts_encrypted"});return babelHelpers["extends"]({ack:a.ack,author:a.author,groupingKey:a.groupingKey,reaction:a.reaction,reactToAuthor:a.reactToAuthor,senderTimestampMs:a.senderTimestampMs},a.ts!=null?{ts:a.ts}:{})}function P(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloDyiBatchTableSchema.pb").DyiBatchTableSchemaProtoSpec,a);return{isThread:a.isThread,numMessages:a.numMessages,numMessagesRestored:a.numMessagesRestored,numThreadsRestored:a.numThreadsRestored,oldestTs:a.oldestTs,qplFlowDescriptor:a.qplFlowDescriptor,qplInstanceKeyE2E:a.qplInstanceKeyE2E,qplInstanceKeyForThread:a.qplInstanceKeyForThread,threadId:a.threadId}}function Q(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloEBMsgRangesTableSchema.pb").EBMsgRangesTableSchemaProtoSpec,a);return{maxMsgExternalId:a.maxMsgExternalId,maxMsgSortOrderMs:a.maxMsgSortOrderMs,minMsgExternalId:a.minMsgExternalId,minMsgSortOrderMs:a.minMsgSortOrderMs}}function R(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSyncActionsTableSchema.pb").SyncActionsTableSchemaProtoSpec,a);return{binarySyncData:a.binarySyncData,keyId:a.keyId,timestamp:a.timestamp,valueMac:a.valueMac,version:a.version}}function S(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMissingKeysTableSchema.pb").MissingKeysTableSchemaProtoSpec,a);var b;a.deviceResponses==null?b=new Map():b=new Map(a.deviceResponses.map(function(a){if(a.deviceId==null)throw c("err")("Expected deviceId is missing");else return[a.deviceId,a.deviceResponse]}));return{deviceResponses:b,keyId:a.keyId,timestamp:a.timestamp}}function T(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloPendingMutationsTableSchema.pb").PendingMutationsTableSchemaProtoSpec,a);var b;switch(a.operation){case d("MAWArmadilloPendingMutationsTableSchema.pb").SYNCD_MUTATION_SYNCD_OPERATION.SET:b=d("WAServerSync.pb").SyncdMutation$SyncdOperation.SET;break;case d("MAWArmadilloPendingMutationsTableSchema.pb").SYNCD_MUTATION_SYNCD_OPERATION.REMOVE:b=d("WAServerSync.pb").SyncdMutation$SyncdOperation.REMOVE;break;default:throw c("err")("operation missing when decoding PendingMutation")}return{binarySyncAction:a.binarySyncAction,operation:b,timestamp:a.timestamp,version:a.version}}function U(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloCollectionVersionsTableSchema.pb").CollectionVersionsTableSchemaProtoSpec,a);return{finiteFailureStartTime:a.finiteFailureStartTime,isCollectionInMacMismatchFatal:a.isCollectionInMacMismatchFatal,isCollectionLthashInconsistent:a.isCollectionLthashInconsistent,ltHash:a.ltHash,state:a.state,version:a.version}}function V(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSyncKeysTableSchema.pb").SyncKeysTableSchemaProtoSpec,a);return{fingerprint:a.fingerprint,keyData:a.keyData,timestamp:a.timestamp}}function W(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloXMATableSchema.pb").XMATableSchemaProtoSpec,a);return{author:a.author,ctas:a.ctas.map(function(a){return d("MAWXMACTAUtil").fromMAWCTAEncode(a)}),defaultCTA:a.defaultCTA==null?a.defaultCTA:d("MAWXMACTAUtil").fromMAWCTAEncode(a.defaultCTA),defaultPreviewMediaPlaintextHash:a.defaultPreviewMediaPlaintextHash,faviconPlaintextHash:a.faviconPlaintextHash,headerMediaPlaintextHash:a.headerMediaPlaintextHash,headerTitle:a.headerTitle,isTombstoned:a.isTombstoned,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines,maxTitleNumOfLines:a.maxTitleNumOfLines,msgId:a.msgId,overlayDescription:a.overlayDescription,overlayIconGlyph:a.overlayIconGlyph,overlayTitle:a.overlayTitle,previewMediaIds:a.previewMediaIds,subtitleText:a.subtitleText,targetId:a.targetId,targetType:a.targetType,targetUsername:a.targetUsername,threadJid:a.threadJid,titleText:a.titleText,xmaLayoutType:a.xmaLayoutType}}function X(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloEditMsgHistoryTableSchema.pb").EditMsgHistoryTableSchemaProtoSpec,a);return{author:a.author,editExternalId:a.editExternalId,editTs:a.editTs,msgContent:a.msgContent,sendStatus:a.sendStatus,specialTextSize:a.specialTextSize}}function Y(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiverFetchInfoTableSchema.pb").ReceiverFetchInfoTableSchemaProtoSpec,a);return{accessibilitySummaryText:a.accessibilitySummaryText,mimetype:a.mimetype,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewWidth:a.previewWidth,type:a.type}}g.decodeDbObj=a;g.decodeDbMetaForEncryption=s}),98);
__d("WASyncdKeyTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}f.toSyncKeyId=a;f.fromSyncKeyId=b;f.toSyncKeyData=c;f.fromSyncKeyData=d}),66);
__d("MAWDbObjEncode",["MAWArmadilloAppDataTableSchema.pb","MAWArmadilloAppMetaTableSchema.pb","MAWArmadilloContactsTableSchema.pb","MAWArmadilloDeletedMessagesTableSchema.pb","MAWArmadilloDeviceChangeAlertsTableSchema.pb","MAWArmadilloDyiBatchTableSchema.pb","MAWArmadilloEBMsgRangesTableSchema.pb","MAWArmadilloEditMsgHistoryTableSchema.pb","MAWArmadilloGroupInfoTableSchema.pb","MAWArmadilloGroupInvitesTableSchema.pb","MAWArmadilloMediaTablesSchema.pb","MAWArmadilloMessagesTableSchema.pb","MAWArmadilloMetaRowTableSchema.pb","MAWArmadilloParticipantsTableSchema.pb","MAWArmadilloPersonalSenderKeyStatusTableSchema.pb","MAWArmadilloReactionsTableSchema.pb","MAWArmadilloReceiptTablesSchema.pb","MAWArmadilloReceiverFetchInfoTableSchema.pb","MAWArmadilloSignalTablesSchema.pb","MAWArmadilloTasksTableSchema.pb","MAWArmadilloThreadsTableSchema.pb","MAWArmadilloUnrenderedMessagesTableSchema.pb","MAWArmadilloXMATableSchema.pb","MAWMsgType","MAWXMACTAUtil","WASyncdKeyTypes","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";var h={appData:C,appMeta:D,browserEncryptionMeta:b,chunk:E,contacts:x,danglingQueue:b,deletedMessages:i,deviceChangeAlerts:a,dualSendMedia:b,dyiBatch:I,ebMessageRestoreTasks:b,ebMsgRanges:J,ebRestoreQueue:b,ebUploadQueue:b,editMsgHistory:L,encryptionMetaV3:b,ephemeralSettings:b,existingUsers:b,ftsBackloggedMessages:b,ftsEncryptionMeta:b,ftsIndexV3:b,ftsPurgeBacklog:b,ftsPurgeThreadBacklog:b,groupInfo:k,groupInvites:z,historySyncQRCodeData:b,historySyncQRCodeSecretKey:b,identity:m,igMessageAuxiliaryInfo:b,isDualSend:b,jobs:b,media:G,mediaBackup:F,mediaKeys:b,messages:f,meta:l,participants:y,pendingMessageStanzaQueue:b,pendingReceipts:v,pendingStanzas:b,personalSenderKeyStatuses:B,prekey:n,prekeyGeneration:o,reactions:H,receipts:u,receiverFetchInfo:M,senderKeySessions:r,sentBytesCache:b,session:p,signedPrekey:q,staleQueue:b,stanzaQueue:b,tasks:A,threads:w,unrenderedMessages:j,xma:K};function a(a){a={action:a.action,deviceJid:a.deviceJid,identity:a.identity,isArchived:a.isArchived,latitude:a.latitude,location:a.location,loggedOut:a.loggedOut,longitude:a.longitude,model:a.model,platform:a.platform,ts:a.ts};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloDeviceChangeAlertsTableSchema.pb").DeviceChangeAlertsTableSchemaProtoSpec,a).readByteArray()}}function b(a){throw c("err")("unexpected table for encryption")}function e(a,b){if(Object.prototype.hasOwnProperty.call(h,b))b=h[b](a);else throw c("err")("not a valid table name");return b}function f(a){a.ack;a.altIndex;a.externalId;a.messageDeleteTs;a.messageExpirationTs;a.msgId;a.protocolMsgId;a.quoteExpirationTs;a.quoteExternalId;a.revokedExternalId;a.rowId;a.serverTs;a.sortOrderMs;a.threadJid;a.unsendMsgContentDeleteTs;a=babelHelpers.objectWithoutPropertiesLoose(a,["ack","altIndex","externalId","messageDeleteTs","messageExpirationTs","msgId","protocolMsgId","quoteExpirationTs","quoteExternalId","revokedExternalId","rowId","serverTs","sortOrderMs","threadJid","unsendMsgContentDeleteTs"]);a=a;var b;if(a.quote==null)b=a.quote;else{var c;c={author:a.quote.content.author,expirationTs:a.quote.content.expirationTs,externalId:(c=a.quote)==null?void 0:c.content.externalId,mediaId:a.quote.content.mediaId,msgContent:a.quote.content.msgContent,msgId:a.quote.content.msgId,plaintextHash:a.quote.content.plaintextHash,sourceId:a.quote.content.sourceId,specialTextSize:a.quote.content.specialTextSize,ts:a.quote.content.ts,type:a.quote.content.type,xmaMessageType:a.quote.content.xmaMessageType};c={content:c,remoteJid:a.quote.remoteJid};b=c}c=a.msgContent;a.type===d("MAWMsgType").MSG_TYPE.FUTUREPROOF&&(c={protobuf:a.msgContent.protobuf,subtype:a.msgContent.subtype});var e=a.ravenEphemeralType,f=a.ravenEphemeralMediaState;e=e!=null?e:null;f=f!=null?f:null;c={applicationErrorCode:a.applicationErrorCode,author:a.author,editCount:a.editCount,ephemeralCounterStarted:a.ephemeralCounterStarted,ephemeralMsgDisappeared:a.ephemeralMsgDisappeared,ephemeralSetting:a.ephemeralSetting,forwardingScore:a.forwardingScore,groupId:a.groupId,groupIndex:a.groupIndex,groupSize:a.groupSize,isExpiredXmaMsg:a.isExpiredXmaMsg,isForwarded:a.isForwarded,mediaId:a.mediaId,msgContent:c,originalTs:a.originalTs,quote:b,ravenEphemeralMediaState:f,ravenEphemeralType:e,receiverFetchId:a.receiverFetchId,reportingMeta:a.reportingMeta,resendCount:a.resendCount,source:a.source,specialTextSize:a.specialTextSize,ts:a.ts,type:a.type,xmaMessageType:a.xmaMessageType};return{encodedFields:c,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMessagesTableSchema.pb").MessagesTableSchemaProtoSpec,c).readByteArray()}}function i(a){a.author;a.chat;a.externalId;a.rowId;a=babelHelpers.objectWithoutPropertiesLoose(a,["author","chat","externalId","rowId"]);a={reason:String(a.reason)};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloDeletedMessagesTableSchema.pb").DeletedMessagesTableSchemaProtoSpec,a).readByteArray()}}function j(a){var b;if(a.quote==null)b=a.quote;else{var c;c={author:a.quote.content.author,expirationTs:a.quote.content.expirationTs,externalId:(c=a.quote)==null?void 0:c.content.externalId,mediaId:a.quote.content.mediaId,msgContent:a.quote.content.msgContent,msgId:a.quote.content.msgId,plaintextHash:a.quote.content.plaintextHash,sourceId:a.quote.content.sourceId,ts:a.quote.content.ts,type:a.quote.content.type,xmaMessageType:a.quote.content.xmaMessageType};c={content:c,remoteJid:a.quote.remoteJid};b=c}c={ack:a.ack,author:a.author,ephemeralSetting:a.ephemeralSetting,groupName:a.groupName,invitedParticipantUserJid:a.invitedParticipantUserJid,mediaId:a.mediaId,msgContent:a.msgContent,quote:b,reportingMeta:a.reportingMeta,resendCount:a.resendCount,ts:a.ts,type:a.type,xmaMessageType:a.xmaMessageType};return{encodedFields:c,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloUnrenderedMessagesTableSchema.pb").UnrenderedMessagesTableSchemaProtoSpec,c).readByteArray()}}function k(a){a={creationTs:a.creationTs,creator:a.creator,inviter:a.inviter,memberAddMode:a.memberAddMode,msgExpiration:a.msgExpiration,name:a.name,nameOwner:a.nameOwner,nameTs:a.nameTs,participantVersion:a.participantVersion};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloGroupInfoTableSchema.pb").GroupInfoSchemaProtoSpec,a).readByteArray()}}function l(a){var b=a.value.cat==null?a.value.cat:{encryptedSerializedCat:a.value.cat.encrypted_serialized_cat,expirationTimeInSeconds:a.value.cat.expiration_time_in_seconds};b={value:{abProps:a.value.abProps,authKeyPair:a.value.authKeyPair,cat:b,certificateChain:a.value.certificateChain,clockSkew:a.value.clockSkew,deviceId:a.value.deviceId,deviceUUID:a.value.deviceUUID,edgeInfo:a.value.edgeInfo,fbid:a.value.fbid,identityKeyPair:a.value.identityKeyPair,lastPrekeyGenerationId:a.value.lastPrekeyGenerationId,lastPrekeyId:a.value.lastPrekeyId,lastSessionDeviceWasLinkedTo:a.value.lastSessionDeviceWasLinkedTo,lastSignedPrekeyId:a.value.lastSignedPrekeyId,regId:a.value.regId,registrationVersion:a.value.registrationVersion}};return{encodedFields:b,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMetaRowTableSchema.pb").MetaRowTableSchemaProtoSpec,b).readByteArray()}}function m(a){a={deviceName:a.deviceName,firstSeenTs:a.firstSeenTs,identity:a.identity,platform:a.platform};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").IdentityTableSchemaProtoSpec,a).readByteArray()}}function n(a){a={encoded:a.encoded,isDeleted:a.isDeleted};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyTableSchemaProtoSpec,a).readByteArray()}}function o(a){a={createdTs:a.createdTs,endingId:a.endingId,startingId:a.startingId};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyGenerationTableSchemaProtoSpec,a).readByteArray()}}function p(a){a={session:a.session};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SessionTableSchemaProtoSpec,a).readByteArray()}}function q(a){a={encoded:a.encoded};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SignedPrekeyTableSchemaProtoSpec,a).readByteArray()}}function r(a){a={deviceId:a.deviceId,record:a.record};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SenderKeySessionsTableSchemaProtoSpec,a).readByteArray()}}function s(a){if(a==null)return a;else return Array.from(a,function(a){var b=a[0];a=a[1];return{baseKey:a.baseKey,deviceJid:b,serializedPubKey:a.pubKey}})}function t(a){if(a==null)return null;else return Array.from(a,function(a){var b=a[0];a=a[1];return{count:a,deviceJid:b}})}function u(a){var b=Array.from(a.recipientDevices);b={permittedIdentitiesPerDevice:s(a.permittedIdentitiesPerDevice),recipientDevices:b,retryCountsPerDevice:t(a.retryCountsPerDevice)};return{encodedFields:b,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").ReceiptsTableSchemaProtoSpec,b).readByteArray()}}function v(a){a={author:a.author,deliveryReceipts:a.deliveryReceipts,externalId:a.externalId,readReceipts:a.readReceipts,thread:a.thread};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").PendingReceiptsTableSchemaProtoSpec,a).readByteArray()}}function w(a){a={archived:a.archived,cannotReplyReason:a.cannotReplyReason,didInsertDualThreadCutoverAdminMsg:a.didInsertDualThreadCutoverAdminMsg,folder:a.folder,isMigratedLocally:a.isMigratedLocally,lastReadMsg:a.lastReadMsg,lastReadMsgReceiptSent:a.lastReadMsgReceiptSent,muteExpireTimeMs:a.muteExpireTimeMs,newestMsg:a.newestMsg,newestMsgTs:a.newestMsgTs,oldestMsg:a.oldestMsg,optimisticThreadKey:a.optimisticThreadKey,snippetMsg:a.snippetMsg,snippetMsgTs:a.snippetMsgTs,unbumpFromTs:a.unbumpFromTs,unbumpToTs:a.unbumpToTs};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloThreadsTableSchema.pb").ThreadsTableSchemaProtoSpec,a).readByteArray()}}function x(a){a={dhash:a.dhash,icdcFails:a.icdcFails,icdcInfo:a.icdcInfo,lastSyncTs:a.lastSyncTs};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloContactsTableSchema.pb").ContactsTableSchemaProtoSpec,a).readByteArray()}}function y(a){a={addressable:a.addressable,deliveredWatermarkTs:a.deliveredWatermarkTs,lastReadActionTs:a.lastReadActionTs,lastReadWatermarkTs:a.lastReadWatermarkTs,type:a.type};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloParticipantsTableSchema.pb").ParticipantsTableSchemaProtoSpec,a).readByteArray()}}function z(a){a={caption:a.caption,inviteCode:a.inviteCode,inviteExpirationTs:a.inviteExpirationTs};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloGroupInvitesTableSchema.pb").GroupInvitesTableSchemaProtoSpec,a).readByteArray()}}function A(a){a={scheduledTime:a.scheduledTime};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloTasksTableSchema.pb").TasksTableSchemaProtoSpec,a).readByteArray()}}function B(a){var b=Array.from(a.hasSenderKey);b={hasSenderKey:b,rotateSenderKey:a.rotateSenderKey,senderKeyId:a.senderKeyId,senderKeyTs:a.senderKeyTs};return{encodedFields:b,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb").PersonalSenderKeyStatusTableSchemaProtoSpec,b).readByteArray()}}function C(a){var b;switch(a.contents.type){case"meta_sync":var e=[];for(var f=a.contents.actions,g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;i.chatAction?e.push({chatAction:i.chatAction}):i.messageAction&&e.push({messageAction:i.messageAction})}b={actions:e,type:"meta_sync"};break;case"backups_secrets":b={encryptedBackupsSecrets:a.contents.encryptedBackupsSecrets,type:"backups_secrets"};break;case"sync_key_share":b={syncKeyShare:{keys:a.contents.syncKeyShare.keys,orphanKeys:(i=a.contents.syncKeyShare)==null?void 0:(h=i.orphanKeys)==null?void 0:h.map(d("WASyncdKeyTypes").fromSyncKeyId)},type:"sync_key_share"};break;case"sync_key_request":b={syncKeyRequest:{keyIds:a.contents.syncKeyRequest.keyIds.map(d("WASyncdKeyTypes").fromSyncKeyId)},type:"sync_key_request"};break;default:a.contents.type;throw c("err")("Unknown appdata type: "+a.contents.type)}g={ack:a.ack,contents:b,permittedIdentitiesPerDevice:s(a.permittedIdentitiesPerDevice),recipientDevices:Array.from(a.recipientDevices),sendPartial:a.sendPartial,ts:a.ts};return{encodedFields:g,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloAppDataTableSchema.pb").AppDataTableSchemaProtoSpec,g).readByteArray()}}function D(a){a={value:a.value};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloAppMetaTableSchema.pb").AppMetaTableSchemaProtoSpec,a).readByteArray()}}function E(a){a={blobData:a.blobData,mimetype:a.mimetype,plaintextHash:a.plaintextHash};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").ChunkTableSchemaProtoSpec,a).readByteArray()}}function F(a){a={fbid:a.fbid};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaBackupSchemaProtoSpec,a).readByteArray()}}function G(a){var b=Array.from(a.mediaEntries,function(a){var b=a[0];a=a[1];return{mediaEntryData:a,msgId:b}});b={mediaEntries:b,mediaType:a.mediaType,plaintextHash:a.plaintextHash,size:a.size,ts:a.ts,validatedAudioInfo:a.validatedAudioInfo,validatedDocumentFileInfo:a.validatedDocumentFileInfo,validatedImageInfo:a.validatedImageInfo,validatedResult:a.validatedResult,validatedVideoInfo:a.validatedVideoInfo};return{encodedFields:b,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaTableSchemaProtoSpec,b).readByteArray()}}function H(a){a={ack:a.ack,author:a.author,groupingKey:a.groupingKey,reaction:a.reaction,reactToAuthor:a.reactToAuthor,senderTimestampMs:a.senderTimestampMs};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReactionsTableSchema.pb").ReactionsTableSchemaProtoSpec,a).readByteArray()}}function I(a){a={isThread:a.isThread,numMessages:a.numMessages,numMessagesRestored:a.numMessagesRestored,numThreadsRestored:a.numThreadsRestored,oldestTs:a.oldestTs,qplFlowDescriptor:a.qplFlowDescriptor,qplInstanceKeyE2E:a.qplInstanceKeyE2E,qplInstanceKeyForThread:a.qplInstanceKeyForThread,threadId:a.threadId};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloDyiBatchTableSchema.pb").DyiBatchTableSchemaProtoSpec,a).readByteArray()}}function J(a){a={maxMsgExternalId:a.maxMsgExternalId,maxMsgSortOrderMs:a.maxMsgSortOrderMs,minMsgExternalId:a.minMsgExternalId,minMsgSortOrderMs:a.minMsgSortOrderMs};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloEBMsgRangesTableSchema.pb").EBMsgRangesTableSchemaProtoSpec,a).readByteArray()}}function K(a){var b=a.ctas==null?[]:a.ctas.map(function(a){return d("MAWXMACTAUtil").toMAWCTAEncode(a)});b={author:a.author,ctas:b,defaultCTA:a.defaultCTA==null?a.defaultCTA:d("MAWXMACTAUtil").toMAWCTAEncode(a.defaultCTA),defaultPreviewMediaPlaintextHash:a.defaultPreviewMediaPlaintextHash,faviconPlaintextHash:a.faviconPlaintextHash,headerMediaPlaintextHash:a.headerMediaPlaintextHash,headerTitle:a.headerTitle,isTombstoned:a.isTombstoned,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines,maxTitleNumOfLines:a.maxTitleNumOfLines,msgId:a.msgId,overlayDescription:a.overlayDescription,overlayIconGlyph:a.overlayIconGlyph,overlayTitle:a.overlayTitle,previewMediaIds:a.previewMediaIds,subtitleText:a.subtitleText,targetId:a.targetId,targetType:a.targetType,targetUsername:a.targetUsername,threadJid:a.threadJid,titleText:a.titleText,xmaLayoutType:a.xmaLayoutType};return{encodedFields:b,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloXMATableSchema.pb").XMATableSchemaProtoSpec,b).readByteArray()}}function L(a){a={author:a.author,editExternalId:a.editExternalId,editTs:a.editTs,msgContent:a.msgContent,sendStatus:a.sendStatus,specialTextSize:a.specialTextSize};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloEditMsgHistoryTableSchema.pb").EditMsgHistoryTableSchemaProtoSpec,a).readByteArray()}}function M(a){a={accessibilitySummaryText:a.accessibilitySummaryText,mimetype:a.mimetype,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewWidth:a.previewWidth,type:a.type};return{encodedFields:a,proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiverFetchInfoTableSchema.pb").ReceiverFetchInfoTableSchemaProtoSpec,a).readByteArray()}}g.encodeDbObj=e}),98);
__d("MAWDbObjEncryption",["ExecutionEnvironment","FBLogger","MAWBridge","MAWCryptoConsts","MAWDbObjDecode","MAWDbObjEncode","MAWEARDebugs","MAWEARDecryptionErrorCheck","MAWIndexedDb","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MAWQplProxy","MAWUnrecoverableDbErrors","MWEARKeychainV3","MWEARKeychainV3Errors","ODS","WABase64","WADexieToWormMigration","WATimeUtils","getErrorSafe","gkx","isEncryptionAtRestEnabled","justknobx","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="_encryptedContent",k=new Set(["threads","identity","contacts","messages","participants"]);function a(a,b,e){if(!(c("isEncryptionAtRestEnabled")()||c("gkx")("23910")===!0)||!d("MAWIndexedDb").TABLES_TO_ENCRYPT.includes(b))return a;var f=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25300256,"115"),{bool:{isWorker:(i||(i=c("ExecutionEnvironment"))).isInWorker,mawEarEnabled:c("gkx")("1630"),useMawEar:d("MWEARKeychainV3").isKeychainSettled("maw_ear")},string:{pageID:c("pageID"),tableName:b}});try{var g=babelHelpers["extends"]({},a);e=e(d("MWEARKeychainV3").isKeychainSettled("maw_ear")?"maw_ear":"global_ear");var h=e.keys;h=h[0];var l=e.version;e=e.randomisedVersion;f.addAnnotations({"int":{keyVersion:l,randomisedVersion:e}});var m=e==null||!c("gkx")("7814")?d("MAWKeychainUtil").makeAAD(l,d("MAWCryptoConsts").CIPHER_ID):d("MAWKeychainUtil").makeAADWithRandomisedVersion(l,d("MAWCryptoConsts").CIPHER_ID,e),n=d("MAWDbObjEncode").encodeDbObj(a,b),o=n.encodedFields;n=n.proto;Object.keys(o).forEach(function(b){Object.prototype.hasOwnProperty.call(a,b)&&delete g[b]});o=c("gkx")("6753")?d("MAWKeychainNaClCrypto").encryptTweetNaClArrayBuffer(h,n,m):d("MAWKeychainNaClCrypto").encrypt(h,n,m);g[j]=o;k.has(b)&&(g.updatedAt_S456130=Date.now(),g.randomisedVersion_S456130=e,g.encryptedWith_S456130=d("MWEARKeychainV3").isKeychainSettled("maw_ear")?"maw_ear":"global_ear",g.keyVersion_S456130=l);f==null?void 0:f.endSuccess();return g}catch(a){f==null?void 0:f.endFail("ear_encrypt_fail");throw c("FBLogger")("maw_db_ear").catching(a).mustfixThrow("[%s] %s - Encrypted dexie was unable to encrypt an entity for table %s",a.name,a.message,b)}}function b(a,b,e){if(!d("MAWIndexedDb").TABLES_TO_ENCRYPT.includes(b)||!Object.prototype.hasOwnProperty.call(a,j))return a;var f=(i||(i=c("ExecutionEnvironment"))).isInMainThread&&c("justknobx")._("3378")?null:d("MAWQplProxy").startQplUserFlow(c("qpl")._(25313004,"118"));f==null?void 0:f.addAnnotations({bool:{isWorker:(i||(i=c("ExecutionEnvironment"))).isInWorker,mawEarEnabled:c("gkx")("1630"),useMawEar:d("MWEARKeychainV3").isKeychainSettled("maw_ear")},string:{pageID:c("pageID"),tableName:b}});var g;try{var n=a[j],o=babelHelpers["extends"]({},a);(h||(h=d("ODS"))).bumpEntityKey(3185,"maw_db_ear_decryption","encrypted_content_type."+b+"."+(n instanceof ArrayBuffer?"ArrayBuffer":"string"));n=n instanceof ArrayBuffer?n:d("WABase64").decodeB64(n);var p=d("MAWKeychainCrypto").getKeyVersionFromCipherDataString(n),q=p.aadLengthInBytes;p=p.keyVersion;e=e(d("MWEARKeychainV3").isKeychainSettled("maw_ear")?"maw_ear":"global_ear",p);g=e;var r=e.dbEntry,s=e.keys;e=e.randomisedVersion;f==null?void 0:f.addAnnotations({"int":{contentVersion:a==null?void 0:a.keyVersion_S456130,keyVersion:p,randomisedVersion:e},string:{encryptedWith:a==null?void 0:a.encryptedWith_S456130,randomisedVersionEncryption:a==null?void 0:a.randomisedVersion_S456130}});var t={},u,v;for(var e=s,s=Array.isArray(e),w=0,e=s?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var x;if(s){if(w>=e.length)break;x=e[w++]}else{w=e.next();if(w.done)break;x=w.value}x=x;try{u=d("MAWKeychainNaClCrypto").decryptArrayBuffer(x,n,p,r.formatVersion,q);break}catch(a){v=a}}if(u==null)throw c("getErrorSafe")(v);var y=d("MAWDbObjDecode").decodeDbObj(u,b);Object.keys(y).forEach(function(a){t[a]=y[a]});delete o[j];x=babelHelpers["extends"]({},o,t);f==null?void 0:f.endSuccess();Math.random()<1/1e4&&void d("MAWEARDebugs").touchDbEncryptionKeyVersion_S456130({encryptionKey:g});return x}catch(h){void d("MAWEARDebugs").analyseEncryptionKeyResult_S456130(h,g);if(k.has(b)){f==null?void 0:f.addAnnotations({"int":{updatedAt:(w=a==null?void 0:a.updatedAt_S456130)!=null?w:-1}})}f==null?void 0:f.markError("ear_decrypt_exception",null,h);f==null?void 0:f.endFail("ear_decrypt_fail");if((h instanceof d("MAWKeychainNaClCrypto").EARDecryptionError||h instanceof d("MWEARKeychainV3Errors").EARKeychainNotFoundError)&&d("WADexieToWormMigration").ignoreEarError()&&d("WADexieToWormMigration").SIGNAL_STORES_TO_MIGRATE.includes(b))return;c("justknobx")._("3208")&&(i||(i=c("ExecutionEnvironment"))).isInWorker&&(h instanceof d("MAWKeychainNaClCrypto").EARDecryptionError||h instanceof d("MWEARKeychainV3Errors").EARKeychainNotFoundError)&&d("MAWBridge").getBridge().fireAndForget("event","unrecoverableDbError",{error:new(d("MAWUnrecoverableDbErrors").EarRuntimeError)()});h instanceof d("MAWKeychainNaClCrypto").EARDecryptionError&&(c("gkx")("7412")&&d("MAWEARDecryptionErrorCheck").hasChecked()===!1&&d("MAWEARDecryptionErrorCheck").checkEARIssues());throw c("FBLogger")("maw_db_ear").catching(h).mustfixThrow("[%s] %s - (v2) Encrypted dexie was unable to decrypt an entity for table %s. UpdatedAt: %s. KeyStatus: %s. Signature matches: %s. Key source: %s, Using MAW EAR: %s, Worker: %s, MAW EAR GK: %s, encrypted With: %s, PageID: %s",h.name,h.message,b,l(a==null?void 0:a.updatedAt_S456130),m(a,g),(a==null?void 0:a.randomisedVersion_S456130)!=null&&((s=g)==null?void 0:s.randomisedVersion)!=null?a.randomisedVersion_S456130===g.randomisedVersion:null,(q=(e=g)==null?void 0:e.dbEntry.source)!=null?q:"-1",d("MWEARKeychainV3").isKeychainSettled("maw_ear"),(i||(i=c("ExecutionEnvironment"))).isInWorker,c("gkx")("1630"),a==null?void 0:a.encryptedWith_S456130,c("pageID"))}}function l(a){if(a==null)return"unknown";a=Date.now()-a;a=Math.floor(a/(1e3*60*60*24));if(a<1)return"0-1 days";else if(a<7)return"1-7 days";else if(a<14)return"7-14 days";else if(a<30)return"14-30 days";else return"30+ days"}function m(a,b){if((a==null?void 0:a.updatedAt_S456130)==null||b==null)return null;a=d("WATimeUtils").castToUnixTime(a.updatedAt_S456130/1e3);b=b.dbEntry.expiration-d("MAWCryptoConsts").ENC_KEY_TTL;if(a===b)return"same";else if(a>b)return"key_older";else return"key_newer"}g.ENCRYPTED_COLUMN_NAME=j;g.encryptDbObj=a;g.decryptDbObj=b}),98);
__d("MAWEARDecryptionErrorCheck",["FBLogger","MAWDexieTable","MAWIndexedDb","MAWKeychainNaClCrypto","MAWTransactionMode","Promise","WADbTransactor","WorkerScheduler","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function a(){return i}function e(){i=!0;var a=d("WorkerScheduler").makeScheduler("ear_checker",{concurrency:1,maxConcurrency:1,maxThrottleMs:2e3,timeToStuckMs:3e4}),e=function(a){if(a.start&&a.middle&&a.end)return"all";if(!a.start&&!a.middle&&!a.end)return"none";a=[a.start?"start":null,a.middle?"middle":null,a.end?"end":null];return a.filter(Boolean).join("_")};c("promiseDone")(a.runTask({fn:function(){return(h||(h=b("Promise"))).all([n(),k(),o(),l(),m()]).then(function(a){var b=a[0],d=a[1],f=a[2],g=a[3];a=a[4];c("FBLogger")("maw_db_ear").mustfix("EAR decruption error check. Identity: %s, Threads: %s, Contacts: %s, PendingReceipts: %s, Messages: %s",e(b),e(d),e(f),e(g),e(a))})},name:"ear_checker",priority:d("WorkerScheduler").BACKGROUND_PRIORITY}))}function j(a){return a.then(function(a){return!1})["catch"](function(a){return a instanceof d("MAWKeychainNaClCrypto").EARDecryptionError?!0:!1})}var k=d("MAWIndexedDb").makeMsgrTransactor({threads:(f=d("MAWTransactionMode")).READONLY},"checkThreadsForEARIssue",function(a){return function(){return d("MAWDexieTable").dexieAll([j(a.threads.toCollection().limit(10).toArray()),j(a.threads.toCollection().reverse().limit(10).toArray()),j(a.threads.count().then(function(b){return a.threads.toCollection().offset(b/2).limit(10).toArray()}))]).then(function(a){var b=a[0],c=a[1];a=a[2];return{end:c,middle:a,start:b}})}}),l=d("MAWIndexedDb").makeMsgrTransactor({pendingReceipts:f.READONLY},"checkPendingReceiptsForEARIssue",function(a){return function(){return d("MAWDexieTable").dexieAll([j(a.pendingReceipts.toCollection().limit(10).toArray()),j(a.pendingReceipts.toCollection().reverse().limit(10).toArray()),j(a.pendingReceipts.count().then(function(b){return a.pendingReceipts.toCollection().offset(b/2).limit(10).toArray()}))]).then(function(a){var b=a[0],c=a[1];a=a[2];return{end:c,middle:a,start:b}})}}),m=d("MAWIndexedDb").makeMsgrTransactor({messages:f.READONLY},"checkMessagesForEARIssue",function(a){return function(){return d("MAWDexieTable").dexieAll([j(a.messages.toCollection().limit(10).toArray()),j(a.messages.toCollection().reverse().limit(10).toArray()),j(a.messages.count().then(function(b){return a.messages.toCollection().offset(b/2).limit(10).toArray()}))]).then(function(a){var b=a[0],c=a[1];a=a[2];return{end:c,middle:a,start:b}})}}),n=d("WADbTransactor").makeSignalTransactor({identity:f.READONLY},"checkIdentityForEARIssue",function(a){return function(){return d("MAWDexieTable").dexieAll([j(a.identity.toCollection().limit(10).toArray()),j(a.identity.toCollection().reverse().limit(10).toArray()),j(a.identity.count().then(function(b){return a.identity.toCollection().offset(b/2).limit(10).toArray()}))]).then(function(a){var b=a[0],c=a[1];a=a[2];return{end:c,middle:a,start:b}})}}),o=d("WADbTransactor").makeSignalTransactor({contacts:f.READONLY},"checkContactsForEARIssue",function(a){return function(){return d("MAWDexieTable").dexieAll([j(a.contacts.toCollection().limit(10).toArray()),j(a.contacts.toCollection().reverse().limit(10).toArray()),j(a.contacts.count().then(function(b){return a.contacts.toCollection().offset(b/2).limit(10).toArray()}))]).then(function(a){var b=a[0],c=a[1];a=a[2];return{end:c,middle:a,start:b}})}});g.hasChecked=a;g.checkEARIssues=e}),98);
__d("WADbTransactor",["MAWDexie","MAWIndexedDb","MAWTransactionMode","WAExceededStorageQuota","WAPREList","WAPREMetrics","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=Object.keys(a),f=e.some(function(b){return a[b]===d("MAWTransactionMode").READWRITE})?d("MAWTransactionMode").READWRITE:d("MAWTransactionMode").READONLY;return function(){for(var a=arguments.length,g=new Array(a),i=0;i<a;i++)g[i]=arguments[i];var j=d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WORM,{string:{operationType:"Signal - "+b},bool:{isDexie:!0}},void 0,1e4);return d("MAWIndexedDb").getSignalDB(b).then(function(a){return h(f,e,function(){return c(a.stores).apply(void 0,g)})}).then(function(a){j.endSuccess();return a})["catch"](function(a){j.endFail("error");throw k(a,b)})}}function h(a,b,e){if(c("MAWDexie").currentTransaction!=null)throw c("err")("protocolDB transactor %s cannot be called within another transaction");return d("MAWIndexedDb").getSignalDB().then(function(c){return c.transact(a,b,e)})}function i(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}function e(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=a+"_"+e,g=a==="danglingQueue"?d("WAPREMetrics").startMetric(d("WAPREList").PRE_METRIC.WORM,{string:{operationType:f},bool:{isDexiePQ:!0}},void 0,1e4):null,h=(yield d("MAWIndexedDb").getDB(f));return h.transact(b,[a],function(){return c(h.stores[a])}).then(function(a){g==null?void 0:g.endSuccess();return a})["catch"](function(a){g==null?void 0:g.endFail("error");throw k(a,f)})});return j.apply(this,arguments)}function k(a,b){d("WAExceededStorageQuota").checkQuotaExceededError(a);a=i(a);if(!a){var e;return c("err")("["+((e=a==null?void 0:a.toString())!=null?e:"unknown error")+"] Error performing %s transaction "+b)}a.message="["+((e=a==null?void 0:a.toString())!=null?e:"unknown error")+"] Error performing %s transaction "+b;return a}g.makeSignalTransactor=a;g.persistedQueueTransactor=e}),98);
__d("WADexieToWormMigration",["$InternalEnum","MAWDexieTable","MAWIndexedDb","MAWTransactionMode","Promise","WADbTransactor","WALogger","asyncToGeneratorRuntime","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["['WORM'] Error performing migration: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["['WORM'] Error performing clearAfterMigration: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["['WORM'] Error fetching migration status: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["['WORM'] Error saving migration status: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["['WORM'] Error reading property isWorm. Worm <-> Dexie migration was not complete. Reason: ",""]);m=function(){return a};return a}var n,o=["identity","contacts","session","senderKeySessions","prekey","prekeyGeneration","signedPrekey","meta"],p=!1;function a(){return p}var q=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c="MigrationTimeoutError";a=b.call(this,c)||this;a.name=c;a.message=c;return a}return a}(babelHelpers.wrapNativeSuper(Error)),r=b("$InternalEnum")({Success:0,Timeout:1,Fail:2,InProcess:3});function e(a){if(n==null){d("WALogger").ERROR(m(),a);return!1}return n}function s(a,b,c){if(a.length<b)return!1;for(var d=0;d<b;d++)if(a[a.length-1-d]!==c)return!1;return!0}function t(a,b){var e=c("justknobx")._("3411");return a.runInTransaction(["migration"],"readwrite",function(a){return a.stores.migration.bulkPut([{key:"stats",value:b.slice(-e)}])},"save-migration-stats").then(function(){return!0})["catch"](function(a){d("WALogger").ERROR(l(),a);return!1})}var u=c("justknobx")._("3412");function f(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!(c("gkx")("2199")||c("gkx")("2278")||c("gkx")("4199"))){n=!1;return}b.addPoint("migration_start");var e=[];try{if((yield d("MAWIndexedDb").isNewDb())===!0){n=!0;yield t(a,[r.Success]);b.addPoint("migration_end",{bool:{isNewSetup:!0}});return}var f=(yield a.runInTransaction(["migration"],"readonly",function(a){return a.stores.migration.get("stats")},"get-migration-stats")["catch"](function(a){d("WALogger").ERROR(k(),a);a=[];return{key:"stats",value:a}}));e=(f=f==null?void 0:f.value)!=null?f:[];f=s(e,1,r.Success);var g=s(e,c("justknobx")._("3413"),r.InProcess);if(!f&&!g){p=!0;e.push(r.InProcess);yield t(a,e);var h=(yield C(a,b));e.push(r.Success);var l=(yield t(a,e));h&&l&&(b.addPoint("migration_clear_dexie"),void E()["catch"](function(a){return d("WALogger").ERROR(j(),a)}))}g?n=!1:n=!0;b.addPoint("migration_end",{bool:{isMigrated:f,isStuckInTimeout:g}})}catch(c){n=!1,c instanceof q?b.addPoint("migration_timeout"):(e.push(r.Fail),b.addPoint("migration_fail"),yield t(a,e)),d("WALogger").ERROR(i(),c)}finally{p=!1}});return v.apply(this,arguments)}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var d=(yield (h||(h=b("Promise"))).all(o.map(function(b){c.addPoint("migration_copy_"+b+"_start");return y(a,b).then(function(a){var d;c.addPoint("migration_copy_"+b+"_end",{"int":(d={},d[b]=a,d)});return a>0})})));return d.some(function(a){return a===!0})});return x.apply(this,arguments)}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("MAWIndexedDb").getSignalDB());e=e.stores[b].schema.primKey.keyPath;var f=c("justknobx")._("3166"),g=Date.now(),h=0,i=null;while((i=(yield A(a,b,e,i,f)))!=null){h++;if(Date.now()-g>u)throw new q()}return h});return z.apply(this,arguments)}function A(a,b,c,d,e){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){var g;g=(yield d("WADbTransactor").makeSignalTransactor((g={},g[b]=d("MAWTransactionMode").READONLY,g),"MigrationReadChunkFromDexie",function(a){return function(){return e!=null?a[b].where(":id").above(e).limit(f).toArray():a[b].limit(f).toArray()}})());var h=g.filter(Boolean);h.length>0&&(yield a.runInTransaction([b],"readwrite",function(a){return a.stores[b].bulkPut(h)}));return h.length>0?h[h.length-1][c]:null});return B.apply(this,arguments)}function C(a,b){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=(yield (h||(h=b("Promise"))).race([w(a,c),new h(function(a,b){self.setTimeout(function(){b(new q())},u)})]));return a});return D.apply(this,arguments)}function E(){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;yield d("WADbTransactor").makeSignalTransactor({identity:(a=d("MAWTransactionMode")).READWRITE,contacts:a.READWRITE,session:a.READWRITE,senderKeySessions:a.READWRITE,prekey:a.READWRITE,prekeyGeneration:a.READWRITE,signedPrekey:a.READWRITE,meta:a.READWRITE},"MigrationClearDexie",function(a){return function(){return d("MAWDexieTable").dexieAll([a.identity.clear(),a.contacts.clear(),a.session.clear(),a.senderKeySessions.clear(),a.prekey.clear(),a.prekeyGeneration.clear(),a.signedPrekey.clear(),a.meta.clear()])}})()});return F.apply(this,arguments)}g.SIGNAL_STORES_TO_MIGRATE=o;g.ignoreEarError=a;g.MigrationStatus=r;g.isWorm=e;g.runMigration=f}),98);/*FB_PKG_DELIM*/
__d("LSGetAttachmentType",["LSIntEnum","MessagingAttachmentType","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","genIsNonAnimatedWebPFile"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return a.type==="image/webp"?(h||(h=d("LSIntEnum"))).ofNumber((yield c("genIsNonAnimatedWebPFile")(a))?c("MessagingAttachmentType").IMAGE:c("MessagingAttachmentType").VIDEO):j(a)});return i.apply(this,arguments)}function j(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a==="audio/wav")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a==="image/gif")return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)}g.LSGetAttachmentType=a;g.LSGetAttachmentTypeSyncButLessAccurate=j}),98);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.filter(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[void 0,void 0,void 0],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMediaSendGetMessageAttributionParamsStoredProcedure";a.__tables__=["messages_optimistic_context"];e.exports=a}),null);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],void 0)?b.sequence([function(d){return c[3]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:c[3],pluginType:a[1]})},function(a){return c[2]=void 0}]):b.resolve(c[2]=b.i64.cast([0,1002]))},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMediaSendInsertPhase2PendingTaskStoredProcedure";a.__tables__=["messages","pending_tasks"];e.exports=a}),null);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[7]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[5],d[7]).then(function(a){return a=a,d[8]=a[0],d[9]=a[1],a})},function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[7])&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[8])})})}])}):c.resolve()},function(b){return c.i64.eq(void 0,c.i64.cast([0,12]))?d[1]=c.i64.cast([0,10]):(a[9]?d[7]=c.i64.cast([0,9]):d[7]=c.i64.cast([0,3]),d[1]=d[7]),c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[2],void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(e){return a[12]!==void 0?c.sequence([function(e){return c.storedProcedure(b("LSPredefineTraceForTask"),a[12],d[4],c.i64.to_string(c.i64.cast([0,46])),a[3])},function(d){return c.storedProcedure(b("LSAppendDataTraceAddon"),a[12],c.i64.cast([0,20]),c.i64.cast([0,1]),void 0,void 0)}]):c.resolve()},function(b){return d[5]=new c.Map(),d[6]=c.createArray(),c.db.table(31).add({taskId:d[4],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueSendAttachmentMessageTaskStoredProcedure";a.__tables__=["attachments","threads","messages_optimistic_context"];e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageV2",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return d[4]=c.i64.to_string(d[1]),d[3]=a[4]==null?a[3]:a[4],c.sequence([function(b){return d[5]=a[5].get("snippet_has_emoji"),c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[6]=c.i64.cast([-1,4294967295]):(b=a.item,d[6]=b.lastActivityTimestampMs)})},function(e){return d[8]=c.i64.add(d[6],c.i64.cast([0,1])),d[10]=c.i64.gt(d[0],d[8])?d[0]:d[8],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.id,a[1])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[16]=!1:(b=a.item,d[19]=b.capabilities2,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,0]),d[16]=c.i64.neq(c.i64.and_(d[18],c.i64.cast([0,4096])),c.i64.cast([0,0])))})},function(a){return d[11]=d[16]}]):c.resolve(d[11]=!1)},function(b){return d[11]?d[12]="e2ee_cutover":d[12]="inbox",d[11]?d[13]=c.i64.cast([-1,4294967279]):d[13]=c.i64.cast([0,0]),c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:d[12],parentThreadKey:d[13],lastActivityTimestampMs:d[10],lastReadWatermarkTimestampMs:d[10],snippet:d[3],snippetHasEmoji:d[5]==null?!1:d[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[17]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[16],d[17],void 0,void 0)}]):c.resolve()}]):(e.item,c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[10],lastReadWatermarkTimestampMs:d[10],snippet:d[3],snippetHasEmoji:d[5]==null?!1:d[5],snippetSenderContactId:a[0],snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,additionalThreadContext:void 0})}))})}])},function(e){return c.sequence([function(b){return c.islc(c.db.table(12).fetchDesc([[[a[1],c.i64.cast([0,80])],[a[1],c.i64.cast([0,60])],[a[1],c.i64.cast([0,40])]],"messageDisplayOrderAuthority"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[56]=c.i64.of_float(Date.now()),d[5]=d[56]):(b=a.item,d[5]=b.primarySortKey)})},function(e){return d[7]=a[5].get("reply_source_id"),d[8]=a[5].get("reply_source_type"),d[9]=a[5].get("reply_source_type_v2"),d[10]=a[5].get("reply_type"),d[7]!==void 0&&(c.i64.eq(d[8],c.i64.cast([0,1]))||c.i64.eq(d[9],c.i64.cast([0,1])))?c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[d[7]==null?"":d[7]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(d[7]==null?"":d[7])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[d[7],void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[56]=g[0],d[57]=g[1],d[58]=g[2],d[59]=g[3],d[60]=g[4],d[61]=g[5],d[62]=g[6],d[63]=g[7],d[64]=g[8],d[65]=g[9],d[66]=g[10],d[67]=g[11],d[68]=g[12],d[69]=g[13],d[70]=g[14],d[71]=g[15],g):(f=e.item,c.sequence([function(e){return d[77]=f.senderId,d[76]=f.stickerId,c.i64.neq(d[76],void 0)?(e=[d[76],c.i64.cast([0,4])],d[78]=e[0],d[79]=e[1],e):(e=[void 0,void 0],d[78]=e[0],d[79]=e[1],e),e=[d[78],d[79]],d[73]=e[0],d[74]=e[1],e,c.sequence([function(e){return c.storedProcedure(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[77],d[10]==null?c.i64.cast([0,0]):d[10]).then(function(a){return a=a,d[78]=a[0],a})},function(a){return d[75]=c.i64.eq(d[9],c.i64.cast([0,1]))?d[78]:""}])},function(a){return a=[d[7],d[8],d[9],c.i64.cast([0,1]),d[75],d[77],f.text,d[73],d[74],void 0,void 0,void 0,void 0,void 0,void 0,d[10]],d[56]=a[0],d[57]=a[1],d[58]=a[2],d[59]=a[3],d[60]=a[4],d[61]=a[5],d[62]=a[6],d[63]=a[7],d[64]=a[8],d[65]=a[9],d[66]=a[10],d[67]=a[11],d[68]=a[12],d[69]=a[13],d[70]=a[14],d[71]=a[15],a}]))})},function(a){return a=[d[56],d[57],d[58],d[59],d[60],d[61],d[62],d[63],d[64],d[65],d[66],d[67],d[68],d[69],d[70],d[71]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((d[7]===void 0||c.i64.eq(d[8],c.i64.cast([0,0]))||c.i64.eq(d[9],c.i64.cast([0,0]))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[56]=e[0],d[57]=e[1],d[58]=e[2],d[59]=e[3],d[60]=e[4],d[61]=e[5],d[62]=e[6],d[63]=e[7],d[64]=e[8],d[65]=e[9],d[66]=e[10],d[67]=e[11],d[68]=e[12],d[69]=e[13],d[70]=e[14],d[71]=e[15],e):(e=[d[7],d[8],d[9],c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[56]=e[0],d[57]=e[1],d[58]=e[2],d[59]=e[3],d[60]=e[4],d[61]=e[5],d[62]=e[6],d[63]=e[7],d[64]=e[8],d[65]=e[9],d[66]=e[10],d[67]=e[11],d[68]=e[12],d[69]=e[13],d[70]=e[14],d[71]=e[15],e),e=[d[56],d[57],d[58],d[59],d[60],d[61],d[62],d[63],d[64],d[65],d[66],d[67],d[68],d[69],d[70],d[71]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return d[27]=a[5].get("mention_data"),d[27]?d[28]=!1:d[28]=!0,d[28]?(b=[void 0,void 0,void 0,void 0],d[29]=b[0],d[30]=b[1],d[31]=b[2],d[32]=b[3],b):(d[56]=d[27].get("mention_offsets"),d[57]=d[27].get("mention_lengths"),d[58]=d[27].get("mention_ids"),d[59]=d[27].get("mention_types"),b=[d[56],d[57],d[58],d[59]],d[29]=b[0],d[30]=b[1],d[31]=b[2],d[32]=b[3],b),d[33]=a[5].get("magic_words_data"),d[33]?d[34]=!1:d[34]=!0,d[34]?(b=[void 0,void 0],d[35]=b[0],d[36]=b[1],b):(d[56]=d[33].get("magic_word_offsets"),d[57]=d[33].get("magic_word_lengths"),b=[d[56],d[57]],d[35]=b[0],d[36]=b[1],b),d[55]=c.i64.eq(d[10],c.i64.cast([0,1]))?d[17]:a[3],d[37]=a[5].get("sticker_id"),d[38]=a[5].get("sticker_alt_text"),d[39]=a[5].get("hot_emoji_size"),d[40]=a[5].get("iout"),d[41]=a[5].get("platform_XMD_encoded"),d[42]=a[5].get("is_forwarded"),d[43]=a[5].get("forward_score"),d[44]=a[5].get("power_up_style"),d[45]=a[5].get("local_data_id"),d[46]=a[5].get("command_type"),d[47]=a[5].get("reply_type"),d[48]=a[5].get("rich_text_format_type"),c.i64.eq(d[48],c.i64.cast([0,1]))?d[49]=c.i64.cast([0,3]):d[49]=c.i64.cast([0,0]),d[50]=a[5].get("ephemeral_duration_in_sec"),d[51]=a[5].get("is_forwarded"),d[51]?d[52]=c.i64.cast([0,3]):d[52]=d[13],d[53]=a[5].get("plugin_type"),c.i64.eq(d[53],c.i64.cast([0,40]))?d[54]="Instamadillo":d[54]="FBBroker",c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[4],timestampMs:d[0],offlineThreadingId:d[4],primarySortKey:d[5],secondarySortKey:d[0],text:d[55],senderId:a[0],stickerId:d[37],hotEmojiSize:d[39],platformXmdEncoded:d[41],isForwarded:d[42],forwardScore:d[43],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[45],replyType:d[26],messageRenderingType:d[49],ephemeralDurationInSec:d[50],metadataDataclass:a[6],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[52],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],mentionOffsets:d[29],mentionLengths:d[30],mentionIds:d[31],mentionTypes:d[32],transportKey:d[54]}):c.sequence([function(a){return c.db.table(12).fetch([[[d[4]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[5],d[0],d[45]],d[56]=c[0],d[57]=c[1],d[58]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[56]=c[0],d[57]=c[1],d[58]=c[2],c)})},function(a){return c.forEach(c.filter(c.db.table(12).fetch([[[d[4]]],"optimistic"]),function(a){return a.offlineThreadingId===d[4]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[4],timestampMs:d[0],offlineThreadingId:d[4],primarySortKey:d[56],secondarySortKey:d[57],text:d[55],senderId:a[0],stickerId:d[37],hotEmojiSize:d[39],platformXmdEncoded:d[41],isForwarded:d[42],forwardScore:d[43],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[58],replyType:d[26],messageRenderingType:d[49],ephemeralDurationInSec:d[50],metadataDataclass:a[6],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[52],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],mentionOffsets:d[29],mentionLengths:d[30],mentionIds:d[31],mentionTypes:d[32],transportKey:d[54]})}])}])},function(e){return d[5]=c.createArray(),d[6]=(d[5].push("LSMailboxLocalApplyOptimisticMessageV2StoredProcedure"),d[5]),d[7]=(d[5].push("localApplyOptimisticMessage"),d[5]),d[8]=(d[5].push(a[1]),d[5]),d[9]=(d[5].push(d[4]),d[5]),d[10]=c.toJSON(d[5]),function(a){c.logger(a).info(a)}(d[10]),d[2]=a[5].get("calculate_denormalizations"),(d[2]==null?!0:d[2])?c.sequence([function(e){return c.storedProcedure(b("LSSetMessageViewFlags"),a[1],d[4],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return d[5]=a[5].get("sticker_id"),c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[4],d[0],a[3],!1,c.i64.neq(d[5],void 0))}]):c.resolve()},function(a){return a=[d[4],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageV2StoredProcedure";a.__tables__=["threads","contacts","participants","user_visible_network_connectivity_error","messages"];e.exports=a}),null);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],c.i64.cast([0,0]))?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[0],c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),c.i64.neq(a[1],void 0)?a[2]!==void 0?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],void 0)?(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],c.i64.cast([-1,4294967293]))?(d[7]=c.i64.cast([-1,4294967295]),d[6]=d[7]):(c.i64.eq(d[5],c.i64.cast([0,1]))?d[7]=c.i64.cast([0,2]):(c.i64.eq(d[5],c.i64.cast([0,3]))?d[8]=c.i64.cast([0,4]):(c.i64.eq(d[5],c.i64.cast([0,5]))?d[9]=c.i64.cast([0,6]):(c.i64.eq(d[5],c.i64.cast([0,13]))?d[10]=c.i64.cast([0,14]):(c.i64.eq(d[5],c.i64.cast([0,7]))?d[11]=c.i64.cast([0,8]):(c.i64.eq(d[5],c.i64.cast([0,9]))?d[12]=c.i64.cast([0,10]):(c.i64.eq(d[5],c.i64.cast([0,11]))?d[13]=c.i64.cast([0,12]):d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.forEach(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMediaSendMarkSubJobCompletedV2StoredProcedure";a.__tables__=["media_send_jobs"];e.exports=a}),null);
__d("LSMarkSubJobCompletedV2StoredProcedure",["LSMarkSubJobCompletedV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMarkSubJobCompletedV2"),e.offlineAttachmentId,e.fbid,e.messageId,e.metadata,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageReplySourceType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,LIGHTWEIGHT_STATUS:6,LIGHTWEIGHT_STATUS_REACTION:7,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21});f["default"]=a}),66);
__d("LSMessageSendToSentQPLInteractionHelper.nop",["Promise","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e,f){f!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),e,{instanceKey:parseInt(f,10)});return(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,b.i64.cast([0,20]))}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:void 0,imageUrlFallback:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlMimeType:void 0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateOptimisticAttachmentPreviewStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[1]=a[3]===""?void 0:a[3],d[1]!==void 0?c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],void 0,void 0,void 0,void 0,c.i64.cast([0,3]),void 0,void 0,void 0,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.filter(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),c.i64.cast([0,2]),void 0,void 0,!0,!1):(f=e.item,c.sequence([function(e){return c.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),f.attachmentType,f.filename,f.attributionAppId,!0,!1)},function(e){return c.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),f.playableUrl,f.playableUrlFallback,f.playableUrlExpirationTimestampMs,f.playableUrlMimeType,f.previewUrl,f.previewUrlFallback,f.previewUrlExpirationTimestampMs,f.previewUrlMimeType,f.previewWidth,f.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.sequence([function(b){return d[2]=c.createArray(),d[6]=(d[2].push(a[7]),d[2]),c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[3]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[3]=d[6])})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),d[3],void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[5]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[5],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:c.i64.cast([0,4]),markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticSendAttachmentForwardStoredProcedure";a.__tables__=["attachments","threads","messages_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticSendAttachmentForwardStoredProcedure",["LSOptimisticSendAttachmentForward","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSendAttachmentForward"),e.senderId,e.threadKey,e.threadType,e.offlineThreadingId,e.text,e.snippet,e.snippetHasEmoji,e.forwardedAttachmentFbid,e.source,e.initiatingSource);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(f){return d.filter(d.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return d.i64.eq(b.threadKey,a[3])&&d.i64.eq(d.i64.cast([0,0]),d.i64.cast([0,0]))&&d.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&d.i64.eq(b.authorityLevel,d.i64.cast([0,80]))}).next().then(function(f,g){var h=f.done;f=f.value;return h?(e[3]=d.createArray(),e[4]=(e[3].push("optimisticSendMessageForward msg not found"),e[3]),e[5]=(e[3].push(a[5]),e[3]),e[6]=d.toJSON(e[3]),function(a){d.logger(a).mustfix(a)}(e[6]),h=["",d.i64.cast([-1,4294967295])],e[0]=h[0],e[1]=h[1],h):(g=f.item,d.sequence([function(f){return e[11]=g.forwardScore,e[3]=g.text,c("gkx")("24141")?(d.i64.neq(e[11],void 0)?e[12]=d.i64.lt(e[11],d.i64.cast([0,127])):e[12]=!0,d.i64.eq(a[0],g.senderId)||!e[12]?e[13]=e[11]:(d.i64.neq(e[11],void 0)?e[14]=d.i64.add(e[11],d.i64.cast([0,1])):e[14]=d.i64.cast([0,1]),e[13]=e[14]),e[4]=e[13]):e[4]=e[11],d.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],e[3],void 0,void 0,g.stickerId,g.hotEmojiSize,void 0,void 0,d.i64.cast([0,3]),void 0,e[4],void 0,!0).then(function(a){return a=a,e[5]=a[0],e[6]=a[1],a})},function(c){return d.forEach(d.db.table(16).fetch([[[g.threadKey,g.messageId]]]),function(c){var f=c.item;return d.sequence([function(c){return e[16]=f.attachmentFbid,e[12]=d.createArray(),e[13]=(e[12].push(e[16]),e[12]),e[14]=(e[12].push(e[5]),e[12]),e[15]=d.toJSON(e[12]),d.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],e[6],e[5],e[16],e[15],f.attachmentType,f.filename,void 0,f.hasMedia,f.hasXma)},function(c){return d.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],e[5],e[15],f.playableUrl,f.playableUrlFallback,f.playableUrlExpirationTimestampMs,f.playableUrlMimeType,f.previewUrl,f.previewUrlFallback,f.previewUrlExpirationTimestampMs,f.previewUrlMimeType,f.previewWidth,f.previewHeight)}])})},function(b){return d.db.table(9).fetch([[[a[1]]]]).next().then(function(b,c){var a=b.done;b=b.value;return a?e[7]=d.i64.cast([0,1]):(c=b.item,e[13]=c.syncGroup,d.i64.neq(e[13],void 0)?e[12]=e[13]:e[12]=d.i64.cast([0,1]),e[7]=e[12])})},function(c){return d.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),d.i64.to_string(a[1]),d.i64.cast([0,46]),"",void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]),e[7],void 0,d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[9]=a[0],a})},function(a){return void 0!==void 0?d.storedProcedure(b("LSPredefineTraceForTask"),void 0,e[9],d.i64.to_string(d.i64.cast([0,46])),e[5]):d.resolve()},function(b){return d.db.table(31).add({taskId:e[9],threadKey:a[1],offlineThreadingId:e[5],messageId:a[5],threadAttributionSource:a[6],sendType:d.i64.cast([0,5]),markThreadRead:!1,initiatingSource:a[7]})},function(b){return e[12]=new d.Map(),e[13]=e[12].set("optimisticSendMessageForward",a[1]),e[14]=e[12].set("fwdMsgID",a[5]),e[15]=d.toJSON(e[12]),e[10]=e[15],function(a){d.logger(a).info(a)}(e[10]),b=[e[5],e[9]],e[0]=b[0],e[1]=b[1],b}]))})},function(a){return f[0]=e[0]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSMailboxOptimisticSendMessageForwardStoredProcedure";a.__tables__=["messages","attachments","threads","messages_optimistic_context"];d=a;g["default"]=d}),98);
__d("LSOptimisticSendMessageForwardStoredProcedure",["LSOptimisticSendMessageForward","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSendMessageForward"),e.senderId,e.threadKey,e.threadType,e.forwardedMsgThreadKey,e.forwardedMsgTimestampMs,e.forwardedMsgId,e.source,e.initiatingSource);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSendMessageV2",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessageV2","LSLogEventAnnotate.nop","LSMessageSendToSentQPLInteractionHelper.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(g){return d.sequence([function(c){return e[0]=a[6].get("qpl_instance_key"),d.storedProcedure(b("LSLocalApplyOptimisticMessageV2"),a[0],a[1],a[2],a[4],a[5],a[6],void 0).then(function(a){return a=a,e[1]=a[0],e[2]=a[1],a})},function(f){return d.sequence([function(c){return e[5]=a[6].get("external_attachment_url"),e[39]=e[5]===""?void 0:e[5],e[39]!==void 0?d.sequence([function(c){return e[40]=a[6].get("attribution_app_id"),e[41]=a[6].get("optimistic_attachment_preview"),d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_insert_optimistic_gif_start",e[0])},function(c){return d.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],e[2],e[1],e[1],e[1],d.i64.cast([0,3]),e[39],e[40],!0,!1)},function(c){return e[41]?e[42]=!1:e[42]=!0,e[42]?d.resolve():(e[43]=e[41].get("playable_url"),e[44]=e[41].get("playable_url_fallback"),e[45]=e[41].get("playable_url_expiration_timestamp_ms"),e[46]=e[41].get("playable_url_mime_type"),e[47]=e[41].get("preview_url"),e[48]=e[41].get("preview_url_fallback"),e[49]=e[41].get("preview_url_expiration_timestamp_ms"),e[50]=e[41].get("preview_url_mime_type"),e[51]=e[41].get("preview_width"),e[52]=e[41].get("preview_height"),e[53]=e[41].get("image_url"),e[54]=e[41].get("image_url_fallback"),e[55]=e[41].get("image_url_expiration_timestamp_ms"),e[56]=e[41].get("image_url_mime_type"),d.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],e[1],e[1],e[43],e[44],e[45],e[46],e[47],e[48],e[49],e[50],e[51],e[52]))},function(a){return d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_insert_optimistic_gif_end",e[0])},function(a){return e[6]=d.i64.cast([0,7])}]):d.sequence([function(c){return e[40]=a[6].get("sticker_id"),d.i64.neq(e[40],void 0)?d.sequence([function(c){return d.i64.neq(e[40],d.i64.cast([53057,267535043]))&&d.i64.neq(e[40],d.i64.cast([85970,924785702]))&&d.i64.neq(e[40],d.i64.cast([85970,1004785694]))&&d.i64.neq(e[40],d.i64.cast([85970,1044785690]))?d.sequence([function(c){return e[44]=d.i64.to_string(e[40]),e[42]=a[6].get("optimistic_attachment_preview"),d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_insert_optimistic_sticker_start",e[0])},function(c){return d.storedProcedure(b("LSInsertOptimisticAttachment"),a[1],e[2],e[1],d.i64.to_string(e[40]),e[44],d.i64.cast([0,1]),void 0,void 0,!0,!1)},function(c){return e[42]?e[43]=!1:e[43]=!0,e[43]?d.resolve():(e[45]=e[42].get("playable_url"),e[46]=e[42].get("playable_url_fallback"),e[47]=e[42].get("playable_url_expiration_timestamp_ms"),e[48]=e[42].get("playable_url_mime_type"),e[49]=e[42].get("preview_url"),e[50]=e[42].get("preview_url_fallback"),e[51]=e[42].get("preview_url_expiration_timestamp_ms"),e[52]=e[42].get("preview_url_mime_type"),e[53]=e[42].get("preview_width"),e[54]=e[42].get("preview_height"),e[55]=e[42].get("image_url"),e[56]=e[42].get("image_url_fallback"),e[57]=e[42].get("image_url_expiration_timestamp_ms"),e[58]=e[42].get("image_url_mime_type"),d.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],e[1],e[44],e[45],e[46],e[47],e[48],e[49],e[50],e[51],e[52],e[53],e[54]))},function(a){return d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_insert_optimistic_sticker_end",e[0])}]):d.resolve()},function(a){return e[41]=d.i64.cast([0,2])}]):d.resolve(e[41]=d.i64.cast([0,1]))},function(a){return e[6]=e[41]}])},function(a){return d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_send_message_v2_task_start",e[0])},function(b){return d.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?e[7]=d.i64.cast([0,1]):(b=a.item,e[41]=b.syncGroup,d.i64.neq(e[41],void 0)?e[40]=e[41]:e[40]=d.i64.cast([0,1]),e[7]=e[40])})},function(c){return e[9]=a[6].get("plugin_type"),d.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),d.i64.to_string(a[1]),d.i64.cast([0,46]),"",void 0,void 0,e[9]==null?d.i64.cast([0,0]):e[9],d.i64.cast([0,0]),e[7],void 0,d.i64.cast([0,0]),void 0,d.i64.cast([0,0])).then(function(a){return a=a,e[10]=a[0],a})},function(a){return d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_send_message_v2_task_end",e[0])},function(c){return e[11]=a[6].get("data_trace_id"),e[11]!==void 0?d.sequence([function(a){return d.storedProcedure(b("LSPredefineTraceForTask"),e[11],e[10],d.i64.to_string(d.i64.cast([0,46])),e[1])},function(c){return e[40]=a[6].get("source"),e[43]=d.i64.to_string(e[40]),e[43]!==void 0?e[41]=e[43]:e[41]=d.i64.to_string(d.i64.cast([0,0])),e[42]=",",d.nativeOperation(b("LSAppendDataTraceAddon.nop"),e[11],d.i64.cast([0,20]),d.i64.cast([0,1]),void 0,[e[41],e[42],d.i64.to_string(e[6]),e[42],d.i64.to_string(a[2])].join(""))}]):d.resolve()},function(b){return e[12]=a[6].get("blocked_by_otids"),e[13]=new d.Map(),e[14]=a[6].get("openEb"),e[15]=a[6].get("source"),e[16]=a[6].get("external_attachment_url"),e[17]=a[6].get("platform_ref"),e[18]=a[6].get("platform_token"),e[19]=a[6].get("reply_source_id"),e[20]=a[6].get("reply_source_attachment_id"),e[21]=a[6].get("reply_source_type"),e[22]=a[6].get("mark_read"),e[23]=a[6].get("initiating_app_id"),e[24]=a[6].get("initiating_source"),e[25]=a[6].get("navigation_chain"),e[26]=a[6].get("dety_params"),e[27]=a[6].get("skip_url_preview_gen"),e[28]=a[6].get("text_has_links"),e[29]=a[6].get("multitab_env"),e[30]=a[6].get("rich_text_format_type"),e[31]=a[6].get("plugin_type"),d.i64.eq(e[31],d.i64.cast([0,40]))?e[32]="Instamadillo":e[32]="FBBroker",d.db.table(31).add({taskId:e[10],threadKey:a[1],openEb:e[14],qplInstanceKey:e[0],offlineThreadingId:e[1],threadAttributionSource:e[15],externalAttachmentUrl:e[16],platformRef:e[17],platformToken:e[18],replySourceId:e[19],replySourceType:e[21],sendType:e[6],markThreadRead:e[22]==null?!1:e[22],initiatingSource:e[24],skipUrlPreviewGen:e[27],textHasLinks:e[28],dataclassParams:a[7],multitabEnv:e[29],richTextFormatType:e[30],transportKey:e[32]})},function(f){return c("gkx")("834")&&d.i64.eq(a[2],d.i64.cast([0,1]))?d.resolve(0):(e[40]=a[6].get("mark_read"),(e[40]==null?!1:e[40])?d.sequence([function(a){return d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_mark_thread_read_start",e[0])},function(c){return d.storedProcedure(b("LSOptimisticMarkThreadReadV2"),a[1],e[2])},function(a){return d.nativeOperation(b("LSMessageSendToSentQPLInteractionHelper.nop"),"sp_mark_thread_read_end",e[0])}]):d.resolve())},function(c){return e[33]=d.createArray(),e[34]=(e[33].push("optimisticSendMessageV2"),e[33]),e[35]=(e[33].push(a[1]),e[33]),e[36]=(e[33].push(e[1]),e[33]),e[37]=d.toJSON(e[33]),function(a){d.logger(a).info(a)}(e[37]),e[38]=new d.Map(),e[38].set("offline_threading_id",e[1]),e[38].set("task_id",e[10]),e[38].set("task_queue_name",d.i64.to_string(a[1])),e[38].set("task_label",d.i64.to_string(d.i64.cast([0,46]))),d.nativeOperation(b("LSLogEventAnnotate.nop"),d.i64.cast([0,16]),d.i64.cast([0,23]),d.i64.cast([0,0]),e[38])},function(a){return a=[e[1],e[10]],e[3]=a[0],e[4]=a[1],a}])},function(a){return f[0]=e[3]}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSMailboxOptimisticSendMessageV2StoredProcedure";a.__tables__=["threads","messages_optimistic_context"];d=a;g["default"]=d}),98);
__d("LSOptimisticSendMessageV2StoredProcedure",["LSOptimisticSendMessageV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSendMessageV2"),e.senderId,e.threadKey,e.threadType,e.mailboxType,e.text,e.snippet,e.extraSendMessageParams,e.dataclassParams);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMediaSendRemoveMediaSendJobsStoredProcedure";a.__tables__=["media_send_jobs"];e.exports=a}),null);
__d("LSRemoveMediaSendJobsStoredProcedure",["LSRemoveMediaSendJobs","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRemoveMediaSendJobs"),e.offlineThreadingId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendPhase1MultiPhotoMessageV2",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=c.createArray(),d[1]=new c.Map(),d[2]=new c.Map(),d[3]=!1,d[4]=c.i64.cast([0,0]),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[7]=a.fbid,d[4]=c.i64.add(d[4],c.i64.cast([0,1])),c.i64.neq(d[7],void 0)?d[8]=(d[0].push(d[7]),d[0]):0})},function(e){return d[5]=c.i64.of_int32(d[0].length),c.i64.neq(d[5],d[4])||c.i64.eq(d[4],c.i64.cast([0,0]))?c.resolve(d[6]=c.i64.cast([0,10002])):c.sequence([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0,void 0,void 0,void 0],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[7]=c[0],d[8]=c[1],d[9]=c[2],d[10]=c[3],d[11]=c[4],c)})},function(e){return c.i64.eq(d[7],void 0)||c.i64.eq(d[8],void 0)?c.resolve((c.i64.eq(d[7],void 0)?d[14]=c.i64.cast([0,10003]):d[14]=c.i64.cast([0,10004]),d[13]=d[14])):c.sequence([function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=void 0:(b=a.item,d[14]=b.threadType)})},function(b){return c.filter(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],d[22]=c[6],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,void 0,void 0,b.dataclassParams,void 0],d[16]=c[0],d[17]=c[1],d[18]=c[2],d[19]=c[3],d[20]=c[4],d[21]=c[5],d[22]=c[6],c)})},function(e){return c.i64.neq(d[14],void 0)?c.sequence([function(e){return d[25]=d[1].keys(),d[26]=c.i64.of_int32(d[25].length),c.i64.gt(d[26],c.i64.cast([0,0]))?c.loopAsync(d[26],function(e){return d[32]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[25],d[32]).then(function(a){return a=a,d[33]=a[0],d[34]=a[1],a})},function(e){return d[35]=d[2].get(d[33]),d[36]=c.i64.to_string(d[35]),d[36]!==void 0?c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[25],d[32]).then(function(a){return a=a,d[37]=a[0],d[38]=a[1],a})},function(b){return d[39]=d[1].get(d[33]),c.forEach(c.filter(c.db.table(16).fetch([[[d[7],a[0],d[37]]]]),function(b){return c.i64.eq(b.threadKey,d[7])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===a[0]&&b.attachmentFbid===d[37]}),function(a){var b=a.update;a.item;return b({attachmentFbid:d[36],originalFileHash:d[39]})})}]):c.resolve()}])}):c.resolve()},function(e){return c.storedProcedure(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[27]=a[0],d[28]=a[1],d[29]=a[2],a})},function(e){return c.i64.neq(d[27],void 0)?d[30]=d[27]:d[30]=c.i64.cast([0,0]),c.storedProcedure(b("LSIssueSendAttachmentMessageTask"),d[8],d[7],d[14],a[0],d[9],d[0],d[30],d[10],d[11],d[3],d[16],d[17],a[1])},function(a){return c.i64.ge(c.i64.cast([0,0]),c.i64.cast([0,0]))?d[31]=void 0:d[31]=c.i64.cast([0,10006]),d[24]=d[31]}]):c.resolve(d[24]=c.i64.cast([0,10005]))},function(a){return d[13]=d[24]}])},function(a){return d[6]=d[13]}])},function(a){return e[0]=d[6]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMediaSendSendPhase1MultiPhotoMessageV2StoredProcedure";a.__tables__=["media_send_jobs","messages","threads","messages_optimistic_context","attachments"];e.exports=a}),null);
__d("LSResumeMediaSendJob",["LSInsertPhase2PendingTask","LSSendPhase1MultiPhotoMessageV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",void 0),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),d[2].set("is_optimistic_upload",!1),c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure),d[2].set("is_optimistic_upload",!1))})},function(b){return d[4]=new c.Map(),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],c.i64.cast([-1,4294967293]))?d[10]=!0:(c.i64.eq(d[11],c.i64.cast([0,1]))?d[14]=!0:(c.i64.eq(d[11],c.i64.cast([0,3]))?d[15]=!0:(c.i64.eq(d[11],c.i64.cast([0,5]))?d[16]=!0:(c.i64.eq(d[11],c.i64.cast([0,13]))?d[17]=!0:(c.i64.eq(d[11],c.i64.cast([0,7]))?d[18]=!0:(c.i64.eq(d[11],c.i64.cast([0,9]))?d[19]=!0:(c.i64.eq(d[11],c.i64.cast([0,11]))?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],c.i64.cast([0,5]))||c.i64.eq(d[11],c.i64.cast([0,11]))?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],void 0)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],c.i64.cast([-1,4294967295]))?d[14]=c.i64.cast([0,5]):(c.i64.eq(d[11],c.i64.cast([-1,4294967294]))?(d[16]=d[2].get("should_transcode"),d[15]=d[16]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(d[11],c.i64.cast([0,2]))?d[16]=c.i64.cast([0,3]):(c.i64.eq(d[11],c.i64.cast([0,4]))?(d[18]=d[2].get("send_by_server"),d[19]=d[2].get("use_double_phase"),d[17]=d[18]?d[19]?c.i64.cast([0,13]):void 0:c.i64.cast([0,5])):(c.i64.eq(d[11],c.i64.cast([0,6]))?(d[19]=d[2].get("use_double_phase"),d[18]=d[19]?c.i64.cast([0,13]):void 0):(c.i64.eq(d[11],c.i64.cast([0,14]))?(d[20]=d[2].get("use_double_phase"),d[21]=d[2].get("should_transcode"),d[19]=d[20]?d[21]?c.i64.cast([0,7]):c.i64.cast([0,9]):void 0):(c.i64.eq(d[11],c.i64.cast([0,8]))?d[20]=c.i64.cast([0,9]):(c.i64.eq(d[11],c.i64.cast([0,10]))?(d[22]=d[2].get("send_by_server"),d[21]=d[22]?void 0:c.i64.cast([0,11])):(c.i64.eq(d[11],c.i64.cast([0,12]))?d[22]=void 0:d[22]=void 0,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],void 0)?c.sequence([function(a){return c.forEach(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],c.i64.cast([0,5]))||c.i64.eq(d[14],c.i64.cast([0,11]))?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=void 0:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],void 0)?(d[10]=d[2].get("send_by_server"),d[11]=d[2].get("use_double_phase"),d[12]=d[2].get("use_double_phase"),(d[10]?d[11]?c.i64.eq(d[5],c.i64.cast([0,10])):c.i64.eq(d[5],c.i64.cast([0,4])):d[12]?c.i64.eq(d[5],c.i64.cast([0,12])):c.i64.eq(d[5],c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],c.i64.cast([0,5]))?c.sequence([function(b){return d[13]=void 0,c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],void 0)?(c.i64.neq(a.fbid,void 0)?d[16]=void 0:d[16]=c.i64.cast([0,9]),d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],void 0)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],void 0)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):(d[14]=d[2].get("is_optimistic_upload"),d[14]?(d[15]=d[2].get("send_by_server"),d[16]=d[2].get("use_double_phase"),d[17]=d[2].get("use_double_phase"),(d[15]?d[16]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4])):d[17]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967295]))?d[18]=c.i64.cast([0,5]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967294]))?(d[20]=d[2].get("should_transcode"),d[19]=d[20]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,2]))?d[20]=c.i64.cast([0,3]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4]))?(d[22]=d[2].get("send_by_server"),d[23]=d[2].get("use_double_phase"),d[21]=d[22]?d[23]?c.i64.cast([0,13]):void 0:c.i64.cast([0,5])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6]))?(d[23]=d[2].get("use_double_phase"),d[22]=d[23]?c.i64.cast([0,13]):void 0):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,14]))?(d[24]=d[2].get("use_double_phase"),d[25]=d[2].get("should_transcode"),d[23]=d[24]?d[25]?c.i64.cast([0,7]):c.i64.cast([0,9]):void 0):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,8]))?d[24]=c.i64.cast([0,9]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10]))?(d[26]=d[2].get("send_by_server"),d[25]=d[26]?void 0:c.i64.cast([0,11])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12]))?d[26]=void 0:d[26]=void 0,d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),c.i64.neq(d[18],void 0)?c.sequence([function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[18]})})},function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.sequence([function(e){return d[15]=d[2].get("is_secure"),d[15]?c.sequence([function(b){return d[17]=c.createArray(),d[18]=new c.Map(),d[19]=new c.Map(),d[20]=!1,d[21]=c.i64.cast([0,0]),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[26]=a.fbid,d[21]=c.i64.add(d[21],c.i64.cast([0,1])),c.i64.neq(d[26],void 0)?d[27]=(d[17].push(d[26]),d[17]):0})},function(b){return d[22]=c.createArray(),c.forEach(c.sortBy(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[26]=a.metadata,d[26]!==void 0?d[27]=(d[22].push(d[26]),d[22]):0})},function(a){return d[23]=c.i64.of_int32(d[17].length),d[24]=c.i64.of_int32(d[22].length),c.i64.neq(d[23],d[21])||c.i64.neq(d[24],d[21])?d[25]=c.i64.cast([0,11]):(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[25]=void 0),d[16]=d[25]}]):c.sequence([function(e){return c.storedProcedure(b("LSSendPhase1MultiPhotoMessageV2"),a[0],a[2]).then(function(a){return a=a,d[17]=a[0],a})},function(b){return c.i64.eq(d[17],void 0)?c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,6])})}):c.resolve()},function(a){return d[16]=d[17]}])},function(b){return c.i64.eq(d[16],void 0)?(d[17]=d[2].get("send_by_server"),d[18]=d[2].get("use_double_phase"),d[19]=d[2].get("use_double_phase"),(d[17]?d[18]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4])):d[19]?c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12])):c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6])))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967295]))?d[20]=c.i64.cast([0,5]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([-1,4294967294]))?(d[22]=d[2].get("should_transcode"),d[21]=d[22]?c.i64.cast([0,1]):c.i64.cast([0,3])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,2]))?d[22]=c.i64.cast([0,3]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,4]))?(d[24]=d[2].get("send_by_server"),d[25]=d[2].get("use_double_phase"),d[23]=d[24]?d[25]?c.i64.cast([0,13]):void 0:c.i64.cast([0,5])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,6]))?(d[25]=d[2].get("use_double_phase"),d[24]=d[25]?c.i64.cast([0,13]):void 0):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,14]))?(d[26]=d[2].get("use_double_phase"),d[27]=d[2].get("should_transcode"),d[25]=d[26]?d[27]?c.i64.cast([0,7]):c.i64.cast([0,9]):void 0):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,8]))?d[26]=c.i64.cast([0,9]):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,10]))?(d[28]=d[2].get("send_by_server"),d[27]=d[28]?void 0:c.i64.cast([0,11])):(c.i64.eq(c.i64.cast([0,6]),c.i64.cast([0,12]))?d[28]=void 0:d[28]=void 0,d[27]=d[28]),d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),c.i64.neq(d[20],void 0)?c.sequence([function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[20]})})},function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[16])))}]))}]):c.i64.eq(d[5],c.i64.cast([0,11]))?c.sequence([function(b){return d[13]=void 0,c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],void 0)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],void 0)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],c.i64.cast([0,13]))?c.sequence([function(e){return c.storedProcedure(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],void 0)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.sequence([function(b){return c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:c.i64.cast([0,14])})})},function(b){return d[1].set("main_job_succeeded",!0),c.forEach(c.filter(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",c.i64.cast([0,11]))))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[8]=d[1].get("resume_failed"),d[9]=d[1].get("error"),a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMediaSendResumeMediaSendJobStoredProcedure";a.__tables__=["media_send_jobs"];e.exports=a}),null);
__d("LSResumeMediaSendJobStoredProcedure",["LSResumeMediaSendJob","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSResumeMediaSendJob"),e.jobId,e.pluginType,e.dataTraceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWDocumentPreProcess",["Promise","WABlobToArrayBuffer","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["start document preprocess"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["start optimistic document preprocess"]);j=function(){return a};return a}var k=d("WATagsLogger").TAGS(["MAWDocumentPreProcess"]);function c(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){k.DEV(i());return(h||(h=b("Promise"))).resolve({file:a,filename:a.name,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(a),type:"document"})});return l.apply(this,arguments)}function e(c){k.DEV(j());var d=a.URL.createObjectURL(c);return(h||(h=b("Promise"))).resolve({file:c,filename:c.name,type:"document",url:d})}g.documentPreprocess=c;g.optimisticDocumentPreprocess=e}),98);
__d("MAWMediaPreProcessQpl",["MAWSendQplToServer","Random","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof self.BigInt==="function",i=c("justknobx")._("3427")*1e3;function a(a,b){var e=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);a=d("MAWSendQplToServer").startQplUserFlow(c("qpl")._(1056840460,"718"),{bool:{has_big_int_support:h},string:{preprocess_type:a}},e,i);b&&a.addAnnotations({"int":{input_file_size:b.size},string:{mimetype:b.type}});return a}g.startMediaPreProcessQpl=a}),98);
__d("WABlobToImage",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){var c;return new(g||(g=b("Promise")))(function(b,d){c=new Image();var e=URL.createObjectURL(a),f=function(){return URL.revokeObjectURL(e)};c.onload=function(){b({image:c,releaseImageMemory:f})};c.onerror=function(){f(),d("loadBlobToImage error")};c.src=e})}f.blobToImage=a}),66);
__d("WADecodeImage",["WABlobToImage","WACalculateBoundOutputSize","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["start decoding image with DOM: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["start decoding image without DOM: ",""]);i=function(){return a};return a}var j=d("WATagsLogger").TAGS(["decodeImage"]);e=typeof self.createImageBitmap==="function"&&typeof self.OffscreenCanvas==="function";f=e?a:c;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j.DEV(i(),a.name);a=(yield self.createImageBitmap(a));var c=a.width,e=a.height;b=d("WACalculateBoundOutputSize").calculateBoundOutputSize({width:c,height:e},b);var f=b.outputWidth;b=b.outputHeight;var g=new self.OffscreenCanvas(f,b);g=m({canvas:g,inputWidth:c,inputHeight:e,outputWidth:f,outputHeight:b,image:a});return g});return k.apply(this,arguments)}function c(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){j.DEV(h(),a.name);a=(yield d("WABlobToImage").blobToImage(a));var c=a.image;a=a.releaseImageMemory;var e=c.width,f=c.height;b=d("WACalculateBoundOutputSize").calculateBoundOutputSize({width:e,height:f},b);var g=b.outputWidth;b=b.outputHeight;var i=document.createElement("canvas");i=m({canvas:i,inputWidth:e,inputHeight:f,outputWidth:g,outputHeight:b,image:c});a();return i});return l.apply(this,arguments)}function m(a){var b=a.canvas,c=a.image,d=a.inputWidth,e=a.inputHeight,f=a.outputWidth;a=a.outputHeight;b.width=f;b.height=a;var g=b.getContext("2d");g.fillStyle="rgb(255,255,255)";g.fillRect(0,0,b.width,b.height);g.drawImage(c,0,0,d,e,0,0,f,a);b=g.getImageData(0,0,f,a);return b}g.canDecodeWithoutDOM=e;g.decodeImage=f;g.decodeImageWithoutDOM=a;g.decodeImageWithDOM=c}),98);
__d("MAWImagePreProcess",["MAWGetImageSpec","MAWImageUtils","MAWMediaPreProcessQpl","Promise","WABlobToArrayBuffer","WACustomError","WADecodeImage","WAMediaWasmWorkerClient","WAPromiseTimeout","WAResultOrError","WATagsLogger","asyncToGeneratorRuntime","cometIsMimeTypeForMedia","err","gkx","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished jpeg transcoding through mozjpeg: "," bytes"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["start process image through wasm, file name: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while transcoding image through browser api: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["start image transcode ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while processing url to thumbnail in worker: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["finished image transcoding through browser api: "," bytes"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["start image transcoding through browser api"]);o=function(){return a};return a}var p=12e4,q=d("WATagsLogger").TAGS(["ImagePreProcess"]),r=85,s=["image/heic"];function e(a,e,f,g){var i;g===!0&&c("qex")._("512")===!0?i={height:c("justknobx")._("187"),width:c("justknobx")._("187")}:c("qex")._("423")===!0&&(i={height:c("justknobx")._("2144"),width:c("justknobx")._("2144")});e?g=a.type==="image/webp"?(h||(h=b("Promise"))).resolve(a):v(a,"image/webp",e,f,i):g=a.type==="image/gif"?(h||(h=b("Promise"))).resolve(a):v(a,"image/jpeg",!1,f,i);f=a.type==="image/gif"&&c("gkx")("8554");return f?g.then(function(a){return(h||(h=b("Promise"))).all([d("MAWGetImageSpec").getImageSpec(a),a])}).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b[0];b=b[1];return{file:b,imageSpec:c,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(b),thumbnailUrlAndSpec:null,type:u(a,e)}});return function(a){return c.apply(this,arguments)}}()):g.then(function(e){return(h||(h=b("Promise"))).all([B(a,c("justknobx")._("2033")),d("MAWGetImageSpec").getImageSpec(e),e])}).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var f=c[0],g=c[1];c=c[2];return(h||(h=b("Promise"))).resolve({file:c,imageSpec:g,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(c),thumbnailUrlAndSpec:f,type:u(a,e)})});return function(a){return c.apply(this,arguments)}}())}function f(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){var f=a.URL.createObjectURL(b),g=e===!0?c("justknobx")._("2545"):c("justknobx")._("2033"),h=u(b,e),i,j;h=h==="animated_image"&&c("gkx")("8554");h||(i=(yield d("MAWImageUtils").urlToThumbnailSpec(f,g)),j={height:i.height,width:i.width});return{file:b,imageSpec:j,thumbnailSpec:i,type:u(b,e),url:f}});return t.apply(this,arguments)}function u(a,b){return b===!0?"sticker":a.type==="image/gif"?"animated_image":"image"}function v(a,b,c,d,e){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,i){q.DEV(l(),a.name);var j=d("MAWMediaPreProcessQpl").startMediaPreProcessQpl("image",a);j.addAnnotations({"int":{total_number_of_files:(g=g)!=null?g:1},string:{targetMimetype:e}});var m=function(){return y(a,e,r,f,i).then(function(a){return a.success?a.value:(h||(h=b("Promise"))).reject("runtime-error")})["catch"](function(a){q.ERROR(k(),a);j.addPoint("native_encode_failure",{string:{native_encode_error:a.toString()}});return null})};g=e==="image/jpeg"?yield d("WAPromiseTimeout").promiseTimeout(z(a,r,j,i).then(function(a){return a.success?a.value:(h||(h=b("Promise"))).reject(a.error)}),p)["catch"](function(a){a instanceof d("WACustomError").TimeoutError?j.addPoint("mozjpeg_encode_timeout"):j.addPoint("mozjpeg_encode_failure",{string:{mozjpeg_encode_error:a.toString()}});return m()}):yield m();if(g==null){j.endFail("unable_to_transcode_image");throw c("err")("unable to transcode image")}j.endSuccess({"int":{compressed_file_size:g.size}});return g});return w.apply(this,arguments)}function x(b,c){b=a.URL.createObjectURL(b);return d("MAWImageUtils").urlToThumbnail(b,c)}function y(b,c,e,f,g){q.DEV(o());var h=a.URL.createObjectURL(b),i=b.name;return d("MAWImageUtils").urlToFile(h,c,e,f,g).then(function(a){a=a.blob;q.DEV(n(),a.size);return d("WAResultOrError").makeResult(new File([a],i,{type:c}))})}function z(a,b,c,d){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){q.LOG(j(),a.name);var g=c("gkx")("4944");d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("progressiveJpegEncode");e.addPoint("prewarm_worker_started");var h;d("WADecodeImage").canDecodeWithoutDOM&&(h=(yield d("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorkerWithFile({eventFlow:e,file:a,maxOutputResolution:f,quality:b,useHdScanConfig:!0})));if(h==null||!h.success&&h.error==="decode-image-error"&&g){g=(yield d("WADecodeImage").decodeImageWithDOM(a,f)["catch"](function(a){e.addPoint("image_decode_failure");throw a}));e.addPoint("image_decode_success");h=(yield d("WAMediaWasmWorkerClient").progressiveJpegEncodeInWorker({eventFlow:e,imageData:g,quality:b,useHdScanConfig:!0}))}if(!h.success)return h;e.addPoint("pjpeg_encode_success");q.LOG(i(),h.value.byteLength);return d("WAResultOrError").makeResult(new File([h.value],a.name,{type:"image/jpeg"}))});return A.apply(this,arguments)}function B(e,f){var g=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a.URL.createObjectURL(e),c=(yield d("MAWImageUtils").urlToThumbnail(b,f));a.URL.revokeObjectURL(b);return c});return function(){return c.apply(this,arguments)}}();if(!d("WADecodeImage").canDecodeWithoutDOM)return g();var h=c("justknobx")._("2338")*1024,i=c("justknobx")._("2340");return d("WAPromiseTimeout").promiseTimeout(d("WAMediaWasmWorkerClient").generateImageThumbnailInWorker({file:e,maxDimension:f,thumbnailBlobByteSizeLimitBytes:h,thumbnailQualityPercentageWhenAboveByteSizeLimit:i}).then(function(a){if(!a.success)throw c("err")("urlToFileInWorker error: "+a.error);return{height:a.value.height,jpegThumbnail:a.value.blob,width:a.value.width}})["catch"](function(a){q.ERROR(m(),a);throw a}),p)["catch"](function(a){return g()})}function C(a){if(a==="image/gif"||a==="image/webp")return!0;return!d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)?!1:!s.includes(a)}g.imagePreprocess=e;g.optimisticImagePreprocess=f;g.getJpegThumbnailInfo=x;g.generateImageThumbnailInWorkerWithFallback=B;g.isSupportedImageFileType=C}),98);
__d("useShouldShowPlaybackErrorFallback",["MAWVideoAudioPlaybackErrorHandlerUtils","cr:5868","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:5868"))!=null?e:c("useEmptyFunction");function a(a,b){var c=d("react-compiler-runtime").c(3);b=(b=h(a,b))!=null?b:{};b=b.validationResult;if(a==null)return!1;var e;c[0]!==a||c[1]!==b?(e=d("MAWVideoAudioPlaybackErrorHandlerUtils").isInvalidVideo(a,b),c[0]=a,c[1]=b,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useShouldShowUnsupportedCodecFallback",["MAWVideoAudioPlaybackErrorHandlerUtils","cr:5868","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h=(e=b("cr:5868"))!=null?e:c("useEmptyFunction");function a(a,b){var c=d("react-compiler-runtime").c(3);b=(b=h(a,b))!=null?b:{};b=b.validationResult;if(a==null)return!1;var e;c[0]!==a||c[1]!==b?(e=d("MAWVideoAudioPlaybackErrorHandlerUtils").isUnsupportedVideo(a,b),c[0]=a,c[1]=b,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useMAWBulkMediaValidationResult",["I64","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWStateContext.react","MessagingAttachmentType","WAHashUtils","gkx","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useContext,l=b.useEffect;b.useMemo;var m=new Set();function n(a){var b=d("react-compiler-runtime").c(4),e=k(d("MAWStateContext.react").MAWDispatchContext),f,g;b[0]!==a||b[1]!==e?(f=function(){a.forEach(function(a){var b=a.attachment;a=a.mediaRenderQpl;var f=(i||(i=d("I64"))).equal(b.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)),g=i.equal(b.attachmentType,j.ofNumber(c("MessagingAttachmentType").AUDIO)),h=b.attachmentFbid;if(!m.has(h)&&(f||g)){m.add(h);var k=isNaN(h);b=k?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaValidationResultByPlainTextHash",{plaintextHash:d("WAHashUtils").stringToPlaintextHash(h),qplInstanceKey:a==null?void 0:a.getInstanceKey()}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaValidationResultByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(parseInt(h,10)),qplInstanceKey:a==null?void 0:a.getInstanceKey()});c("promiseDone")(b.then(function(a){a!=null&&e({tag:"SetMediaValidatedResult",value:{key:k?d("WAHashUtils").stringToPlaintextHash(h):d("MAWDbMedia").convertNumberToMediaId(parseInt(h,10)),validatedResult:a}})}),o)}})},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g)}function o(){}function a(a){var b=d("react-compiler-runtime").c(9),e=d("MAWStateContext.react").useMAWSelector(p);n(a);var f,g;b[0]!==a||b[1]!==e?(f=function(){for(var b=a,f=Array.isArray(b),g=0,b=f?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=b.length)break;h=b[g++]}else{g=b.next();if(g.done)break;h=g.value}h=h;var k=h.attachment;h=h.mediaRenderQpl;var l=(i||(i=d("I64"))).equal(k.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),m=i.equal(k.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO));if(!l&&!m)continue;if(l&&!c("gkx")("8785"))continue;m=Object.prototype.hasOwnProperty.call(e,k.attachmentFbid);if(!m)continue;m=(l=e[k.attachmentFbid])==null?void 0:l.validationResult;if(m==null)continue;h==null?void 0:h.addAnnotations({"int":{audio_avg_bits_per_second:m.audioAvgBitsPerSecond,audio_number_of_channels:m.audioNumberOfChannels,audio_sampling_rate:m.audioSamplingRate,video_avg_bits_per_second:m.videoAvgBitsPerSecond,video_calculated_fps:m.videoCalculatedFps,video_duration:m.videoDuration,video_height:m.videoHeight,video_nominal_fps:m.videoNominalFps,video_width:m.videoWidth},string:{audio_stream_type:m.audioStreamType,validated_mime_type:m.validatedMimeType,video_stream_type:m.videoStreamType}})}},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g);if(b[4]!==a||b[5]!==e){b[7]!==e?(f=function(a){a=a.attachment;var b=(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),f=i.equal(a.attachmentType,j.ofNumber(c("MessagingAttachmentType").VIDEO));if(!b&&!f)return null;if(b&&!c("gkx")("8785"))return null;f=Object.prototype.hasOwnProperty.call(e,a.attachmentFbid);if(!f)return null;f=(b=e[a.attachmentFbid])==null?void 0:b.validationResult;return f==null?null:f},b[7]=e,b[8]=f):f=b[8];g=a.map(f);b[4]=a;b[5]=e;b[6]=g}else g=b[6];f=g;return f}function p(a){return a.mediaDownloadStatus}g["default"]=a}),98);
__d("useMAWMediaValidationResultState",["react","react-compiler-runtime","useMAWBulkMediaValidationResult"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(4);if(f[0]!==a||f[1]!==e||f[2]!==b){var g;g=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(g=e)!=null?g:a.attachmentFbid}]:[];f[0]=a;f[1]=e;f[2]=b;f[3]=g}else g=f[3];a=g;e=a;b=c("useMAWBulkMediaValidationResult")(e);return b.length>0?b[0]:null}g["default"]=a}),98);
__d("useMWV2MediaViewerSecurePlayableUrl",["cr:5970","react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){return i}function i(a,c,d){return(a=b("cr:5970")==null?void 0:b("cr:5970").getAttachmentBlob(a,c,d))!=null?a:""}g["default"]=a}),98);
__d("MAWVideoAudioPlaybackErrorHandlerUtils",["fbt","BaseMiddot.react","I64","LSIntEnum","MWXLink.react","MessagingAttachmentType","MessengerWebUXLoggerImpl","ReQL","ReQLSuspense","UserAgent","gkx","react","react-compiler-runtime","useMAWMediaValidationResultState","useMWV2MediaViewerSecurePlayableUrl","useReStore","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||c("react");function n(a){a=a.silent;return a===!0?c("gkx")("5198"):c("gkx")("5211")}function a(a){a=a.silent;return a===!0?c("gkx")("5235"):c("gkx")("5475")}function b(a,b,e){var f,g,j=d("react-compiler-runtime").c(21);f=(f=c("useShouldShowPlaybackErrorFallback")(a,null))!=null?f:!1;g=(g=c("useShouldShowUnsupportedCodecFallback")(a,null))!=null?g:!1;var l=d("MessengerWebUXLoggerImpl").useInteractionLogger(),n=c("useMWV2MediaViewerSecurePlayableUrl")();if(f){j[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={downloadButton:null,mediaStatusText:h._(/*BTDS*/"__JHASH__xqsOpg5ebEg__JHASH__"),retryButton:null},j[0]=f):f=j[0];return f}if(g){f=(i||(i=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO));g=i.equal(a.attachmentType,k.ofNumber(c("MessagingAttachmentType").AUDIO));if(f){j[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(c("BaseMiddot.react"),{}),j[1]=f):f=j[1];var o;j[2]!==a||j[3]!==n?(o=n(a,"MAWVideoAudioPlaybackErrorHandlerUtils"),j[2]=a,j[3]=n,j[4]=o):o=j[4];j[5]!==l?(a=function(){l==null?void 0:l({eventName:"click_unsupported_video_download_from_mustache"})},j[5]=l,j[6]=a):a=j[6];j[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"__JHASH__3MspJ4rRDaT__JHASH__"),j[7]=n):n=j[7];j[8]!==o||j[9]!==a?(f=m.jsxs(m.Fragment,{children:[f,m.jsx(c("MWXLink.react"),{download:!0,href:o,onClick:a,children:n})]}),j[8]=o,j[9]=a,j[10]=f):f=j[10];n=f;j[11]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH___WcmsG0Qigq__JHASH__"),j[11]=o):o=j[11];j[12]!==n?(a={downloadButton:n,mediaStatusText:o,retryButton:null},j[12]=n,j[13]=a):a=j[13];return a}if(g){j[14]===Symbol["for"]("react.memo_cache_sentinel")?(f={downloadButton:null,mediaStatusText:h._(/*BTDS*/"__JHASH__dlUr-xJMkca__JHASH__"),retryButton:null},j[14]=f):f=j[14];return f}}j[15]!==b||j[16]!==e?(o=b?m.jsxs(m.Fragment,{children:[m.jsx(c("BaseMiddot.react"),{}),m.jsx(c("MWXLink.react"),{onClick:e,children:h._(/*BTDS*/"__JHASH__BGxC_0TtXwE__JHASH__")})]}):null,j[15]=b,j[16]=e,j[17]=o):o=j[17];n=o;j[18]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__jCbL2nmLvOs__JHASH__"),j[18]=a):a=j[18];j[19]!==n?(g={downloadButton:null,mediaStatusText:a,retryButton:n},j[19]=n,j[20]=g):g=j[20];return g}function e(a){var b=d("react-compiler-runtime").c(7),e=(j||(j=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var h;b[4]!==e||b[5]!==a?(h=[e,a],b[4]=e,b[5]=a,b[6]=h):h=b[6];b=d("ReQLSuspense").useFirst(g,h,f.id+":169");g=c("useMAWMediaValidationResultState")(b);if(b==null)return!1;h=(i||(i=d("I64"))).equal(b.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(i||(i=d("I64"))).equal(b.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));if(!h)return!1;h=(b=g)!=null?b:{};g=h.validatedMimeType;return n({silent:!1})&&g==="invalid-mp4"?!0:!1}var o=Object.freeze({Chrome:["H263","Vvc","Av1"],Edge:["H263","Vvc","Av1"],Firefox:["H263","Vvc","Hevc","Av1"],Safari:["H263","Vvc","Vp9","Av1"]});function p(a){if(a==null)return!0;if(c("UserAgent").isBrowser("Chrome"))return o.Chrome.includes(a)===!1;else if(c("UserAgent").isBrowser("Firefox"))return o.Firefox.includes(a)===!1;else if(c("UserAgent").isBrowser("Edge"))return o.Edge.includes(a)===!1;else if(c("UserAgent").isBrowser("Safari"))return o.Safari.includes(a)===!1;return!0}function q(a,b){a=a.attachmentType;a=(i||(i=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(i||(i=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));if(!a)return!1;a=n({silent:!1});if(!a)return!1;b=(a=b)!=null?a:{};a=b.validatedMimeType;b=b.videoStreamType;return p(b)===!1||a==="unsupported-video"}function r(a,b){a=a.attachmentType;a=(i||(i=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(i||(i=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));if(!a)return!1;a=n({silent:!1});if(!a)return!1;b=(a=b)!=null?a:{};a=b.validatedMimeType;return a==="invalid-mp4"}g.isVideoFallbackExperiencesEnabled=n;g.isInvalidVideoSendBlockEnabled=a;g.useGetMetadataForMediaNotRendered=b;g.useIsInvalidVideoMessage=e;g.isUnsupportedVideo=q;g.isInvalidVideo=r}),226);
__d("MAWVideoUtils",["MAWImageUtils","Promise","err","generateVideoThumbnails"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=document.body;if(!e)return new(h||(h=b("Promise")))(function(a,b){return b("Unable to find DOM body, please use this util only in DOM environment.")});var f=document.createElement("video");return new(h||(h=b("Promise")))(function(d,g){f.setAttribute("style","display: none"),f.setAttribute("src",URL.createObjectURL(a)),f.addEventListener("loadedmetadata",function(a){a=a.currentTarget;if(a instanceof HTMLVideoElement){var e=a.duration,i=a.videoHeight;a=a.videoWidth;var j=c("generateVideoThumbnails")(f,a,i,1);d((h||(h=b("Promise"))).all([j,a,i,Math.ceil(e)]))}else g("EventTarget returned for event should be HTMLVideoElement")}),f.addEventListener("error",function(a){g("Unable to load video")}),e.appendChild(f)}).then(function(a){var b=a[0],c=a[1],g=a[2],h=a[3];e.removeChild(f);return d("MAWImageUtils").canvasToBlob(b.thumbnails[0].getCanvas(),d("MAWImageUtils").TYPE_JPEG,!0).then(function(a){return a.arrayBuffer().then(function(a){return{duration:h,height:g,jpegThumbnail:a,width:c}})})})["catch"](function(a){e.removeChild(f);throw c("err")(a)})}function e(a){var d=document.body;if(!d)return new(h||(h=b("Promise")))(function(a,b){return b("Unable to find DOM body, please use this util only in DOM environment.")});var e=document.createElement("video");return new(h||(h=b("Promise")))(function(b,c){e.setAttribute("style","display: none"),e.setAttribute("src",URL.createObjectURL(a)),e.addEventListener("loadedmetadata",function(a){a=a.currentTarget;if(a instanceof HTMLVideoElement){var d=a.duration,e=a.videoHeight;a=a.videoWidth;b({duration:Math.ceil(d),height:e,width:a})}else c("EventTarget returned for event should be HTMLVideoElement")}),e.addEventListener("error",function(a){c("Unable to load video")}),d.appendChild(e)})["catch"](function(a){d.removeChild(e);throw c("err")(a)})}g.getVideoThumbnailUrlAndSpec=a;g.getVideoThumbnailSpec=e}),98);
__d("MWCMIsSubthreadContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext;c.useMemo;var k=e({isSubthread:!1});function a(){return j(k)}function b(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.isSubthread;var e;b[0]!==a?(e={isSubthread:a},b[0]=a,b[1]=e):e=b[1];a=e;e=a;b[2]!==c||b[3]!==e?(a=i.jsx(k.Provider,{value:e,children:c}),b[2]=c,b[3]=e,b[4]=a):a=b[4];return a}g.useIsSubthreadContext=a;g.MWCMIsSubthreadContextProvider=b}),98);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("useGetForwardSource",["LSIntEnum","LSMessagingThreadAttributionType","MWLSThreadDisplayContext","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(b!=null)if(b==="Inbox"){var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_FORWARD),a[0]=e):e=a[0];return e}else if(b==="ChatTab"){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_FORWARD),a[1]=e):e=a[1];return e}else{a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW),a[2]=b):b=a[2];return b}else{a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW),a[3]=e):e=a[3];return e}}g["default"]=a}),98);
__d("MessagePowerUp",[],(function(a,b,c,d,e,f){a=Object.freeze({AVATAR_LOVE:1e3,AVATAR_ANGER:1001,AVATAR_LAUGH:1002,AVATAR_CRY:1003,NONE:0,LOVE:1,GIFT_WRAP:2,CELEBRATION:3,FIRE:4,HALLOWEEN:5,NOM_NOM_DASH:6,NEW_YEARS:7,VALENTINES_DAY:8,ANTI_VALENTINES:9});f["default"]=a}),66);
__d("WorkChatMessageType",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","WorkChatMessageType","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e){var g=d("react-compiler-runtime").c(7),k=(j||(j=c("useReStore")))(),l=d("MWPActor.react").useActor(),m,n;g[0]!==l||g[1]!==b||g[2]!==a||g[3]!==e||g[4]!==k?(m=function(g,j,m){c("promiseDone")(k.runInTransaction(function(e){var f;f=d("LSThreadAttributionTypeUtil").getSource(g,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:b,mark_read:!0,optimistic_attachment_preview:d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:(h||(h=d("I64"))).zero,preview_url:m,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:h.zero}),power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_id:void 0,reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f,sticker_id:h.of_string(j)}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:l,threadKey:g,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":49").then(function(a){e==null?void 0:e(d("WorkChatMessageType").sticker,1,a[0])}))},n=[k,l,b,a,e],g[0]=l,g[1]=b,g[2]=a,g[3]=e,g[4]=k,g[5]=m,g[6]=n):(m=g[5],n=g[6]);return d("Int64Hooks").useCallbackInt64(m,n)}g["default"]=a}),98);
__d("MWLSForwardMessage",["I64","Int64Hooks","LSFactory","LSMediaUrlAttachment","LSOptimisticSendAttachmentForwardStoredProcedure","LSOptimisticSendMessageForwardStoredProcedure","MWChatThreadId","MWPActor.react","ODS","Promise","ReQL","promiseDone","react-compiler-runtime","useGetForwardSource","useLSMessagingInitiatingSource","useLSMessagingSource","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(){var a=d("react-compiler-runtime").c(7),e=(k||(k=c("useReStore")))(),g=d("MWPActor.react").useActor(),o=c("useLSMessagingInitiatingSource")(),p=c("useGetForwardSource")(),q=c("useLSMessagingSource")(),r=c("useMWLSSendStickerMessage")(q,o),s;a[0]!==o||a[1]!==r||a[2]!==g||a[3]!==p||a[4]!==e?(q=function(a,k,q){if(q.type!=="sent")return;q=q.value;var s=q.timestamp,t=q.messageId,u=q.threadId;(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","send");var v=function(){return e.runInTransaction(function(b){return c("LSOptimisticSendMessageForwardStoredProcedure")(c("LSFactory")(b),{forwardedMsgId:t,forwardedMsgThreadKey:u,forwardedMsgTimestampMs:s,initiatingSource:o,senderId:g,source:p,threadKey:a,threadType:k})},"readwrite",void 0,void 0,f.id+":62").then(n)};c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.messages).getKeyRange(u,s,t)).then(function(c){if(c==null)return v();var f=c.stickerId;if(f!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(u,t)).then(function(c){c=c!=null?d("LSMediaUrlAttachment").previewUrl(c):void 0;r(a,(j||(j=d("I64"))).to_string(f),c);return(h||(h=b("Promise"))).resolve()});else return v()}),m,l)},s=[e,g,o,p,r],a[0]=o,a[1]=r,a[2]=g,a[3]=p,a[4]=e,a[5]=q,a[6]=s):(q=a[5],s=a[6]);return d("Int64Hooks").useCallbackInt64(q,s)}function l(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","failure")}function m(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","success")}function n(){}function e(){var a=d("react-compiler-runtime").c(6),b=(k||(k=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("useLSMessagingInitiatingSource")(),h=c("useGetForwardSource")(),l,m;a[0]!==g||a[1]!==e||a[2]!==h||a[3]!==b?(l=function(){return function(a,k,l){(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","send");var m=d("MWChatThreadId").getMessagingThreadType(a),n=d("MWChatThreadId").toThreadKey(a);c("promiseDone")(b.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForwardStoredProcedure")(c("LSFactory")(a),{forwardedAttachmentFbid:(j||(j=d("I64"))).of_string(k),initiatingSource:g,senderId:e,source:h,threadKey:n,threadType:m})},"readwrite",void 0,void 0,f.id+":140"),p,o)}},m=[b,e,g,h],a[0]=g,a[1]=e,a[2]=h,a[3]=b,a[4]=l,a[5]=m):(l=a[4],m=a[5]);return d("Int64Hooks").useMemoInt64(l,m)}function o(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","failure")}function p(){return(i||(i=d("ODS"))).bumpEntityKey(3185,"mw_forward","success")}g.useForwardMessage=a;g.useForwardAttachment=e}),98);
__d("getMessengerPreciseTimestamp",["$InternalEnum","formatDate"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["TODAY","WEEK_AGO","CURRENT_YEAR","OTHER_YEAR"]);d=864e5;var i=6*d;function j(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return h.TODAY;if(b.getTime()-i<a.getTime())return h.WEEK_AGO;return b.getFullYear()===a.getFullYear()?h.CURRENT_YEAR:h.OTHER_YEAR}function k(a){a=j(a);switch(a){case h.TODAY:return"g:ia";case h.WEEK_AGO:return"l g:ia";case h.CURRENT_YEAR:return"F jS, g:ia";case h.OTHER_YEAR:return"F j, Y g:i a"}}function a(a,b){return c("formatDate")(new Date(a),k(a),void 0,b)}g["default"]=a}),98);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function k(a){return a.timestamp>0?h._(/*BTDS*/"__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",c("getMessengerPreciseTimestamp")(a.timestamp))]):h._(/*BTDS*/"__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function l(a,b){if(a.length===0)return"";if(b)return h._(/*BTDS*/"__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._(/*BTDS*/"__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._(/*BTDS*/"__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function m(a){a=c("intlSummarizeNumber")(a);return h._(/*BTDS*/"__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var n={delivered:h._(/*BTDS*/"__JHASH__DGTdcv4yxEO__JHASH__"),error:h._(/*BTDS*/"__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._(/*BTDS*/"__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._(/*BTDS*/"__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._(/*BTDS*/"__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._(/*BTDS*/"__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return n.sending;case"Sent":case"Delivered":return n.sent;case"Error":return n.error;case"SingleSeenHead":return k(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return l(a.heads,a.delivered);case"SeenCount":return m(a.count);case"Loading":return n.loading;case"RetriableError":return n.retriableError;case"ValidationError":return""}}function o(a){switch(a.type){case"Sending":return n.sending;case"Sent":return n.sent;case"Delivered":return n.delivered;case"Error":case"RetriableError":return n.error;case"SingleSeenHead":return k(a.head);case"DeliveredAndRead":return l(a.heads,a.delivered);default:return""}}function p(a){if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(1)))return{type:"Sending"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(6)))return{type:"Sent"};else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function q(a,b,c){var e=p(a.sendStatusV2);if((i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(4))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(5))||(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(1)))return e;else if(!c&&(i||(i=d("I64"))).equal(a.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2)))return{type:"NoneStatus"};else if((i||(i=d("I64"))).ge(b,a.timestampMs))return{type:"Delivered"};else return e}function r(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error","RetriableError"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=k;g.getSeenCount=m;g.Titles=n;g.getBroadcastStatusTitle=f;g.getStatusTitle=o;g.getFromSendStatus=p;g.getDeliveryStatusForMessageSentByYou=q;g.isAlwaysShownStatus=r}),226);
__d("MWPComposerMediaUploadUtil",["FBLogger","I64","LSGetAttachmentType","LSIntEnum","MessagingAttachmentType","Promise","ResumableUploadServiceState.enum","URI","asyncToGeneratorRuntime","cr:6057","cr:7187","emptyFunction","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l="messenger_file",m="messenger_audio",n="messenger_image",o="messenger_video",p="file_type",q="image_type",r="video_type",s="audio_type",t="FILE_ATTACHMENT",u="VOICE_MESSAGE",v="target_id";function w(a,b,c,d,e,f,g,h,i,j,k){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d,e,f,g,h,i,j,k,l,m){d===void 0&&(d=c("emptyFunction"));f===void 0&&(f=c("emptyFunction"));g===void 0&&(g=!1);var n="/ajax/mercury/upload.php";j===!0&&(n="/ajax/mercury/chatsupportuser/upload.php");var o=(yield b("cr:6057").load());o=new o({concurrentLimit:3,onUploadFailure:f,onUploadProgress:d,onUploadStart:function(b,c){a&&a(b,c.upload._file.size,c.upload._file.type)},onUploadSuccess:function(a,b){b=b.response.payload.metadata;var d;if(b==null)c("FBLogger")("messenger_web_media").warn("Empty payload"),d={};else{b=b[0];b!=null?d=b:(c("FBLogger")("messenger_web_media").warn("Empty metadata isChatSupportUser: %s",j),d={})}b=d.fbid;var f=d.video_id,g=d.audio_id,h=d.gif_id;d=d.file_id;g=(b=(f=(b=(b=b)!=null?b:f)!=null?b:g)!=null?f:h)!=null?b:d;typeof g==="number"&&(g=g.toString());z(g);e(a,g);if(g==null)throw c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_web_media")},retryLimit:1,uploadEndpoint:n});f={};f.data={chat_support_user_id:j===!0&&k!=null?k:void 0,nonce:j===!0&&m!=null?m:void 0,voice_clip:g?!0:void 0,voice_clip_waveform_data:g?JSON.stringify(l):void 0};o.getAsyncFileUploadRequest(h,i,f).send()});return x.apply(this,arguments)}function y(a,e,f,g,h,i){f===void 0&&(f=c("emptyFunction"));if(!b("cr:7187"))return;var w=(k||(k=c("URI"))).getRequestURI().getDomain(),x=/workplace.com/i.test(w)?"workplace.com":/messenger.com/i.test(w)?"messenger.com":"facebook.com";g.forEach(function(g,k){var w=g.attachmentType,y=g.file;g=l;var z=p,A=t;switch(w){case(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE):g=n;z=q;break;case(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO):g=m;z=s;A=u;break;case(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO):g=o;z=r;break;default:break}w=b("cr:7187").create({consumer:g,customHttpHeaders:new Map([[v,i],[z,A]]),serviceDomain:x});w.addListener((g=c("ResumableUploadServiceState.enum")).START,function(){a&&a(h[k],y.size,y.type)});w.addListener(g.SUCCESS,function(a){e(h[k],a.media_id)});w.addListener(g.FAIL,function(a){f(h[k],{response:a})});w.addListener(g.TRANSPORT_FAILURE,function(a){f(h[k],{response:a})});void w.resume(y)})}function z(a){if(a!=null){var b=Number(a),d=b.toString();b>Number.MAX_SAFE_INTEGER&&d!==a&&c("FBLogger")("work_web_messaging","messaging-composer-upload-fbid-out-of-range").warn("FBID for attachment is out of JS Number range and it's not correctly handled on client: %d",a)}}function a(a,b,c,d,e,f,g,h,i,j,k,l){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l,m,n,o,p,q,r){e===void 0&&(e=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));k===void 0&&(k=!1);if(b("cr:7187")&&r!=null&&n!==!0){var s=[],t=[],u=[],v=[],x=(yield (h||(h=b("Promise"))).all(l.map(function(a){return d("LSGetAttachmentType").LSGetAttachmentType(a)})));l.forEach(function(a,b){var e=x[b];(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?(s.push({attachmentType:e,file:a}),t.push(m[b])):(u.push(a),v.push(m[b]))});s.length>0&&y(a,f,g,s,t,r);u.length>0&&c("promiseDone")(w(a,e,f,g,k,u,v,n,o,p,q))}else c("promiseDone")(w(a,e,f,g,k,l,m,n,o,p,q))});return A.apply(this,arguments)}function e(a,b,e,f){return{action_url:void 0,attachment_fbid:a,attachment_index:(i||(i=d("I64"))).zero,attachment_type:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:i.of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,sampling_frequency_hz:f==null?void 0:f.sampling_freq,source_text:void 0,subtitle_text:void 0,title_text:void 0,waveform_data:f==null?void 0:(a=f.amplitudes)==null?void 0:a.join(","),xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:(i||(i=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:a.previewHeight,preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:a.previewWidth,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){(i||(i=d("I64"))).equal(a.attachment_type,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:(i||(i=d("I64"))).of_int32(b)})})})}g.startUpload=a;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);
__d("MWPOpenComposerUtils",["I64","LSRemoveMediaSendJobsStoredProcedure","LSResumeMediaSendJobStoredProcedure","MWConsole","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return a.media_staging.get(c).then(function(d){if(d!=null)return a.media_staging["delete"](c);else return(i||(i=b("Promise"))).resolve()})}function e(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield a.media_staging.get(b));b!=null&&(yield a.media_staging.put(c(b)))});return j.apply(this,arguments)}function f(a,c,d,e,f){return a.attachments.get(c,d,e).then(function(g){if(g!=null)return a.attachments.upsert([c,d,e],f(g));else return(i||(i=b("Promise"))).resolve()})}function k(a,e,f){return c("LSResumeMediaSendJobStoredProcedure")(a,{dataTraceId:(f=f)!=null?f:void 0,jobId:e,pluginType:(h||(h=d("I64"))).zero}).then(function(d){var f=d[0],g=d[1];g=d[2];if(f)return c("LSRemoveMediaSendJobsStoredProcedure")(a,{offlineThreadingId:e});else return(i||(i=b("Promise"))).resolve()})}g.deleteMediaStaging=a;g.updateMediaStaging=e;g.updateAttachment=f;g.resumeSendJob=k}),98);
__d("MWPThreadCapabilitiesContext",["I64","Int64Hooks","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSThreadBitOffset","ThreadStatus","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;f=e.createContext;var l=e.useContext,m=f({blurMediaEnabled:!1,canUnsendMessage:!1,communityMessagingChannelDescriptionCustomization:!1,communityMessagingChannelInvite:!1,disableLinks:!1,editMessageEnabled:!1,hasLSThreadBitOffset:function(a){return!1},isPaused:!1,localDeleteMessageEnabled:!1,messageForwardEnabled:!1,messageUnsendEnabled:!1,modifyPinnedMessageV2Enabled:!1,reactEnabled:!1,reactionsV2WriteEnabled:!1,replyEnabled:!1,reportMessageToAdminEnabled:!1,rtcVideoCallEnabled:!1,rtcVoiceCallEnabled:!1,seenCountV2Enabled:!1,subThreadCreationEnabled:!1});function a(a){var b=d("react-compiler-runtime").c(17),e=a.children,f=a.customCapabilityCheck,g=a.thread,h=g.capabilities,l=g.capabilities2,n=g.capabilities3,o=g.capabilities4,p=g.capabilities5,q=g.threadType,r;b[0]!==h||b[1]!==l||b[2]!==n||b[3]!==o||b[4]!==p||b[5]!==q?(a=function(a){var b={capabilities:h,capabilities2:l,capabilities3:n,capabilities4:o,capabilities5:p,threadType:q};return d("LSThreadBitOffset").has(a,b)},r=[h,l,n,o,p,q],b[0]=h,b[1]=l,b[2]=n,b[3]=o,b[4]=p,b[5]=q,b[6]=a,b[7]=r):(a=b[6],r=b[7]);var s=d("Int64Hooks").useCallbackInt64(a,r);b[8]!==f||b[9]!==s||b[10]!==g.cannotUnsendReason||b[11]!==g.threadStatus?(a=function(){var a;return{blurMediaEnabled:s(46),canUnsendMessage:g.cannotUnsendReason!=null?(i||(i=d("I64"))).equal(g.cannotUnsendReason,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0,communityMessagingChannelDescriptionCustomization:s(135),communityMessagingChannelInvite:s(120),disableLinks:s(45),editMessageEnabled:s(194),hasLSThreadBitOffset:(a=s)!=null?a:f,isPaused:g.threadStatus!=null&&((i||(i=d("I64"))).equal(g.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(i||(i=d("I64"))).equal(g.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED_AND_UPGRADED_TO_COMMUNITY))),localDeleteMessageEnabled:s(102),messageForwardEnabled:s(103),messageUnsendEnabled:s(122)&&g.cannotUnsendReason!=null?(i||(i=d("I64"))).equal(g.cannotUnsendReason,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!1,modifyPinnedMessageV2Enabled:s(172),reactEnabled:s(18),reactionsV2WriteEnabled:s(169),replyEnabled:s(42),reportMessageToAdminEnabled:s(93),rtcVideoCallEnabled:s(24),rtcVoiceCallEnabled:s(25),seenCountV2Enabled:s(140),subThreadCreationEnabled:s(167)}},r=[f,s,g.threadStatus,g.cannotUnsendReason],b[8]=f,b[9]=s,b[10]=g.cannotUnsendReason,b[11]=g.threadStatus,b[12]=a,b[13]=r):(a=b[12],r=b[13]);a=d("Int64Hooks").useMemoInt64(a,r);b[14]!==e||b[15]!==a?(r=k.jsx(m.Provider,{value:a,children:e}),b[14]=e,b[15]=a,b[16]=r):r=b[16];return r}function b(){return l(m)}g.Provider=a;g.useMWPThreadCapabilitiesContext=b}),98);
__d("MWV2LogMessageClick",["I64","LSMessagingThreadTypeUtil","Promise","ReQL","UserAgentData","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick");function a(a,e,f,g){var k=e.threadKey;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(k)).then(function(a){a!=null&&!d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&j.onReady(function(a){a.log(function(){var a;return{click:{category:2},click_target:{type:f},extra:JSON.stringify({action:(a=g)!=null?a:void 0,browserName:c("UserAgentData").browserName}),message:{id:e.messageId,sender_id:void 0,sent_time:(i||(i=d("I64"))).to_float(e.timestampMs)},thread:{id:i.to_string(e.threadKey),key:void 0,type:void 0},xma:void 0}})});return(h||(h=b("Promise"))).resolve()}))}g.log=a}),98);
__d("MWV2OneToOneThreadBlockedContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(){return j(k)}function b(a){var b=d("react-compiler-runtime").c(3),c=a.blocked;a=a.children;var e=k.Provider;b[0]!==c||b[1]!==a?(e=i.jsx(e,{value:c,children:a}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.useIsBlocked=a;g.MWV2OneToOneThreadBlockedContext=b}),98);
__d("MWXMAUtils",["I64","LSXmaContentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video","xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function a(a){return i.has(a)}function b(a){var b;return(h||(h=d("I64"))).to_int32((b=a)!=null?b:(h||(h=d("I64"))).zero)===c("LSXmaContentType").MSG_LOCATION_SHARING||(h||(h=d("I64"))).to_int32((b=a)!=null?b:(h||(h=d("I64"))).zero)===c("LSXmaContentType").MSG_LOCATION_SHARING_V2}function e(a){return(h||(h=d("I64"))).to_int32((a=a)!=null?a:(h||(h=d("I64"))).zero)===c("LSXmaContentType").FB_POST_MENTION}g.isRTCXMA=a;g.isLocationShareXMA=b;g.isXMAContentTypeFbPostMention=e}),98);
__d("OfflineThreadingId",["I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("I64"))).of_string("4194303");function a(){return(h||(h=d("I64"))).to_string(j())}function j(){var a=d("XPlatReactCrypto").getRandomValues(new Uint8Array(8));a=new DataView(a.buffer);a=(h||(h=d("I64"))).add(h.lsl_(h.of_int32(a.getUint32(0)),32),h.of_int32(a.getUint32(4)));return k(Date.now(),a)}function k(a,b){return(h||(h=d("I64"))).and_(h.or_(h.lsl_(h.of_float(a),22),h.and_(b,i)),h.max_int)}function b(a){var b=j(),c=[];for(var e=0;e<a.length;e++)c.push([a[e],(h||(h=d("I64"))).to_string(b)]),b=l(b);return c}function l(a,b){b===void 0&&(b=(h||(h=d("I64"))).one);var c=m(a);a=n(a);return k(c,(h||(h=d("I64"))).add(a,b))}function m(a){return(h||(h=d("I64"))).to_float(h.lsr_(a,22))}function n(a){return(h||(h=d("I64"))).and_(a,i)}g.createOfflineThreadingID=a;g.createForItemsInOrder=b;g.extractTimestamp=m}),98);
__d("isDeliveryStatusErrorState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.type==="Error"||a.type==="RetriableError"}f["default"]=a}),66);
__d("isReceiverFetchSticker",["I64","LSIntEnum","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.attachmentType;b=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER));a=a.receiverFetchId;return b&&a!=null}g["default"]=a}),98);
__d("shouldHideMessagingActions",["I64","LSIntEnum","isDeliveryStatusErrorState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(256))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(524288))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4294967296))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1048576))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2097152))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4194304))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8388608))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16777216))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(67108864))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1073741824))}function a(a,b){return c("isDeliveryStatusErrorState")(b)||j(a)?!0:!1}g["default"]=a}),98);
__d("useMAWBulkMediaDownloadStatus",["I64","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MAWDbMedia","MAWMediaDownloadStatus","MAWStateContext.react","MessagingAttachmentType","WAHashUtils","isReceiverFetchSticker","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useContext,l=b.useEffect;b.useMemo;var m=new Set();function a(a){var b=d("react-compiler-runtime").c(9),e=d("MAWStateContext.react").useMAWSelector(p),f=d("MAWStateContext.react").useMAWSelector(o);if(b[0]!==a||b[1]!==f||b[2]!==e){var g;b[4]!==f||b[5]!==e?(g=function(a,b){var g=a.attachment,h=a.mediaRenderQpl;a=a.statusKey;var k=c("isReceiverFetchSticker")(g),l=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)),m=Object.prototype.hasOwnProperty.call(e,a),n=g.transportKey==="FBBroker"||g.transportKey==="FBLegacyBroker",o=!n&&(i||(i=d("I64"))).to_int32(g.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC,p=o?{mainMediaStatus:c("MAWMediaDownloadStatus").SUCCESS,mainMediaStatusDetails:"optimistic_secure_upload",previewMediaStatus:c("MAWMediaDownloadStatus").SUCCESS,previewMediaStatusDetails:"optimistic_secure_upload"}:m?e[a]:null;return{attachmentsData:{attachment:g,hasStatus:m,isOpenThreadAttachment:n,isOptimisticSecureUpload:o,isReceiverFetch:k,isXMA:l,retryCount:(g=f[a])!=null?g:0,status:p,statusKey:a},index:b,mediaRenderQpl:h}},b[4]=f,b[5]=e,b[6]=g):g=b[6];g=a.map(g);b[0]=a;b[1]=f;b[2]=e;b[3]=g}else g=b[3];a=g;g=a;q(g);b[7]!==g?(a=g.map(n),b[7]=g,b[8]=a):a=b[8];g=a;return g}function n(a){a=a.attachmentsData;return a}function o(a){return a.mediaDownloadRetryCount}function p(a){return a.mediaDownloadStatus}function q(a){var b=d("react-compiler-runtime").c(4),e=k(d("MAWStateContext.react").MAWDispatchContext),f,g;b[0]!==a||b[1]!==e?(f=function(){a.forEach(function(a){var b=a.attachmentsData,f=a.index,g=a.mediaRenderQpl;a=b.hasStatus;var h=b.isOpenThreadAttachment,i=b.isOptimisticSecureUpload,j=b.isReceiverFetch,k=b.isXMA,l=b.statusKey;if(k||i||h||j||l==null||a||m.has(l))return;m.add(l);var n=isNaN(l);g==null?void 0:g.addPoint("fetch-initial-download-status-"+f+"-start",{string:{fetch_by:n?"plaintext_hash":"media_id"}});b=n?d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaDownloadStatusByPlaintextHash",{plaintextHash:d("WAHashUtils").stringToPlaintextHash(l),qplInstanceKey:g==null?void 0:g.getInstanceKey()}):d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaDownloadStatusByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(parseInt(l,10)),qplInstanceKey:g==null?void 0:g.getInstanceKey()});c("promiseDone")(b.then(function(a){g==null?void 0:g.addPoint("fetch-initial-download-status-"+f+"-end",{bool:{has_result:a!=null},string:{fetch_by:n?"plaintext_hash":"media_id",main_media_status:r(a==null?void 0:a.mainMediaStatus),preview_media_status:r(a==null?void 0:a.previewMediaStatus)}}),a!=null&&e({tag:"SetMediaDownloadStatusState",value:{key:n?d("WAHashUtils").stringToPlaintextHash(l):d("MAWDbMedia").convertNumberToMediaId(parseInt(l,10)),newMediaDownloadState:a}})}))})},g=[e,a],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g)}function r(a){if(a==null)return"UNKNOWN";switch(a){case c("MAWMediaDownloadStatus").DOWNLOADING:return"DOWNLOADING";case c("MAWMediaDownloadStatus").SUCCESS:return"SUCCESS";case c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE:return"NOT_MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE:return"MANUAL_RETRYABLE_FAILURE";case c("MAWMediaDownloadStatus").MISSING_FILE:return"MISSING_FILE"}}g["default"]=a}),98);
__d("useMAWBulkMediaDownloadStatusUIStateNonDebounced",["I64","LSIntEnum","LSMediaUrlUtils","MAWLoggerUtils","MAWMediaDownloadStatus","MessagingAttachmentType","WATagsLogger","react","react-compiler-runtime","useMAWBulkMediaDownloadStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["useMAWMediaDownloadStatusUIState: unexpected download status"]);k=function(){return a};return a}(h||d("react")).useMemo;var l=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.MediaDownload]),m=5;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useMAWBulkMediaDownloadStatus")(a);if(b[0]!==e||b[1]!==a){var f;b[3]!==a?(f=function(b,e){var f,g=b.retryCount;b=b.status;f=(f=b)!=null?f:{};var h=f.mainMediaStatus;f=f.previewMediaStatus;e=a[e].attachment;if(e.receiverFetchId!=null&&d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(e.previewUrl,e.previewUrlExpirationTimestampMs))return"downloaded";g=g>=m;var i=b==null||h===c("MAWMediaDownloadStatus").DOWNLOADING||h===c("MAWMediaDownloadStatus").MISSING_FILE,j=h===c("MAWMediaDownloadStatus").SUCCESS,o=h===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,p=o&&g;h=h===c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE;b=b==null||f===c("MAWMediaDownloadStatus").DOWNLOADING||f===c("MAWMediaDownloadStatus").MISSING_FILE||f===void 0&&i;var q=f===c("MAWMediaDownloadStatus").SUCCESS,r=f===c("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE||f===void 0&&o;g=r&&g;f=f===c("MAWMediaDownloadStatus").NOT_MANUAL_RETRYABLE_FAILURE||f===void 0&&h;e=n(e);if(e&&!b){if(q||j){if(h||p)return"non_retryable_error_with_preview";else if(o)return"retryable_error_with_preview";return"downloaded"}else if(f||g)return"non_retryable_error";else if(r)return"retryable_error"}else if(j)return"downloaded";else if(h||p)return"non_retryable_error";else if(o)return"retryable_error";else if(i)return"loading";l.WARN(k());return"loading"},b[3]=a,b[4]=f):f=b[4];f=e.map(f);b[0]=e;b[1]=a;b[2]=f}else f=b[2];e=f;return e}function n(a){if(a==null)return!1;a=a.attachmentType;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))}g["default"]=a}),98);
__d("useMAWBulkMediaDownloadStatusUIStateDebounced",["clearTimeout","justknobx","react","react-compiler-runtime","setTimeout","useMAWBulkMediaDownloadStatusUIStateNonDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useMAWBulkMediaDownloadStatusUIStateNonDebounced")(a);a=m(e);var f=a[0],g=a[1],h;b[0]!==e||b[1]!==g?(a=function(){g(e,!e.some(l))},h=[e,g],b[0]=e,b[1]=g,b[2]=a,b[3]=h):(a=b[2],h=b[3]);i(a,h);return f}function l(a){return a==="loading"||a==="downloaded"}function m(a){var b=d("react-compiler-runtime").c(5),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("justknobx")._("3145"),b[0]=e):e=b[0];var f=e;e=k(a);a=e[0];var g=e[1],h=j(null);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){c("clearTimeout")(h.current),h.current=null},b[1]=e):e=b[1];var i=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b){i();if(!b){g(a);return}h.current=c("setTimeout")(function(){g(a)},f)},b[2]=e):e=b[2];e=e;b[3]!==a?(e=[a,e,i],b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("useMAWBulkMediaDownloadStatusUIState",["useMAWBulkMediaDownloadStatusUIStateDebounced"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMAWBulkMediaDownloadStatusUIStateDebounced")(a)}g["default"]=a}),98);
__d("useMAWMediaDownloadStatusUIState",["react","react-compiler-runtime","useMAWBulkMediaDownloadStatusUIState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(4);if(f[0]!==a||f[1]!==e||f[2]!==b){var g;g=a!=null?[{attachment:a,mediaRenderQpl:b,statusKey:(g=e)!=null?g:a.attachmentFbid}]:[];f[0]=a;f[1]=e;f[2]=b;f[3]=g}else g=f[3];a=g;e=a;b=c("useMAWBulkMediaDownloadStatusUIState")(e);return b.length>0?b[0]:null}g["default"]=a}),98);
__d("useMAWMediaStatusUIState",["react-compiler-runtime","useMAWMediaDownloadStatusUIState","useMAWMediaValidationResultState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("react-compiler-runtime").c(3),g=c("useMAWMediaDownloadStatusUIState")(a,b,e);a=c("useMAWMediaValidationResultState")(a,b,e);f[0]!==g||f[1]!==a?(b={downloadStatus:g,validationResult:a},f[0]=g,f[1]=a,f[2]=b):b=f[2];return b}g["default"]=a}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MessengerWebUXLogger","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a){var b=d("react-compiler-runtime").c(11),e=a.dropToggle,f=a.forwardDialogType,g=a.messageID,h=a.onClose,j=a.onSend;a=i(null);var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={},b[0]=k):k=b[0];k=c("useMWXEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),k);var l=k[0],m=c("MessengerWebUXLogger").useInteractionLogger();b[1]!==e||b[2]!==f||b[3]!==m||b[4]!==g||b[5]!==h||b[6]!==j||b[7]!==l?(k=function(){l({dropToggle:e,forwardDialogType:f,messageID:g,onSend:j},h,m==null?void 0:m("forward_message"))},b[1]=e,b[2]=f,b[3]=m,b[4]=g,b[5]=h,b[6]=j,b[7]=l,b[8]=k):k=b[8];k=k;b[9]!==k?(a={onClick:k,triggerRef:a},b[9]=k,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("useMWIsContactRestricted",["LSContactBitOffset","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=a!=null&&d("LSContactBitOffset").has(66,a),b[0]=a,b[1]=c):c=b[1];a=c;return a}g["default"]=a}),98);
__d("useMWHasForwardAction",["I64","LSAuthorityLevel","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWMsg","MWCMIsSubthreadContext.react","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","MWV2OneToOneThreadBlockedContext.react","MWXMAUtils","MessagingAttachmentType","gkx","isFeatureLimitEnabled","isMWBumpMessage","mwCMIsAnyCMThread","react-compiler-runtime","shouldHideMessagingActions","useIsReadOnlyFeatureLimitedWithThreadType","useMAWMediaStatusUIState","useMWFamilyCenterContext","useMWGetOtherUserContact","useMWIsContactRestricted"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f,g,j){var k=d("react-compiler-runtime").c(61);f=f===void 0?!1:f;j=j===void 0?!1:j;var l=d("MWCMIsSubthreadContext.react").useIsSubthreadContext();l=l.isSubthread;var m;k[0]!==l||k[1]!==a?(m=l&&!d("LSMessagingThreadTypeUtil").isCMSubthread(a),k[0]=l,k[1]=a,k[2]=m):m=k[2];l=m;k[3]!==a?(m=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a),k[3]=a,k[4]=m):m=k[4];m=m;var n;k[5]!==a?(n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),k[5]=a,k[6]=n):n=k[6];n=n;var o=b.ephemeralDurationInSec,p;k[7]!==o?(p=o!=null?(h||(h=d("I64"))).gt(o,(h||(h=d("I64"))).zero):!1,k[7]=o,k[8]=p):p=k[8];o=p;p=c("useIsReadOnlyFeatureLimitedWithThreadType")(a)&&(!n||c("isFeatureLimitEnabled")());var q;k[9]!==b.displayedContentTypes?(q=(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(4096)),k[9]=b.displayedContentTypes,k[10]=q):q=k[10];q=q;var r;k[11]!==b.displayedContentTypes?(r=(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(134217728)),k[11]=b.displayedContentTypes,k[12]=r):r=k[12];r=r;var s=d("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),t;k[13]!==b.displayedContentTypes||k[14]!==b.sendStatusV2?(t=c("shouldHideMessagingActions")(b.displayedContentTypes,d("MWMessageDeliveryStatus").getFromSendStatus(b.sendStatusV2)),k[13]=b.displayedContentTypes,k[14]=b.sendStatusV2,k[15]=t):t=k[15];t=t;var u=c("useMWGetOtherUserContact")(b.threadKey,a,d("LSContactBitOffset").contactCapabilityFields);u=c("useMWIsContactRestricted")(u);var v;k[16]!==b.sendStatusV2||k[17]!==a?(v=c("mwCMIsAnyCMThread")(a)&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4)),k[16]=b.sendStatusV2,k[17]=a,k[18]=v):v=k[18];a=v;k[19]!==b.displayedContentTypes?(v=d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(2),b.displayedContentTypes),k[19]=b.displayedContentTypes,k[20]=v):v=k[20];v=v;var w;k[21]!==b?(w=c("isMWBumpMessage")(b),k[21]=b,k[22]=w):w=k[22];w=w;var x=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();x=x.messageForwardEnabled;var y=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();y=y.familyCenterData;var z;k[23]!==e?(z=(e==null?void 0:e.attachmentType)!=null&&((h||(h=d("I64"))).equal(e.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(h||(h=d("I64"))).equal(e.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))),k[23]=e,k[24]=z):z=k[24];z=z;var A;k[25]!==e||k[26]!==n?(A=n&&(e==null?void 0:e.xmaContentType)!=null&&d("MWXMAUtils").isLocationShareXMA(e.xmaContentType),k[25]=e,k[26]=n,k[27]=A):A=k[27];A=A;var B;k[28]!==e||k[29]!==n?(B=n&&(e==null?void 0:e.xmaContentType)!=null&&d("MWXMAUtils").isXMAContentTypeFbPostMention(e.xmaContentType),k[28]=e,k[29]=n,k[30]=B):B=k[30];B=B;var C=c("useMAWMediaStatusUIState")(e);C=C.downloadStatus;var D;k[31]!==e||k[32]!==n||k[33]!==C?(D=e!=null&&n&&!(h||(h=d("I64"))).equal(e.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))&&C!=="downloaded",k[31]=e,k[32]=n,k[33]=C,k[34]=D):D=k[34];C=D;k[35]!==e||k[36]!==y||k[37]!==a||k[38]!==s||k[39]!==m||k[40]!==w||k[41]!==o||k[42]!==C||k[43]!==p||k[44]!==r||k[45]!==u||k[46]!==B||k[47]!==A||k[48]!==n||k[49]!==q||k[50]!==l||k[51]!==z||k[52]!==g||k[53]!==b||k[54]!==x||k[55]!==t||k[56]!==f?(D=(n?!o&&!q&&!r:!0)&&!l&&!s&&!u&&!p&&!b.isUnsent&&!a&&!d("MAWMsg").isPlaceholder(b)&&!w&&x&&(!m||m&&c("gkx")("461"))&&!f&&(h||(h=d("I64"))).gt(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(e!=null&&(h||(h=d("I64"))).equal(e.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))&&(e.attachmentCta1Id!=null||e.attachmentCta2Id!=null||e.attachmentCta3Id!=null||e.defaultCtaId!=null)?e.isSharable:!0)&&(g==null||!g.hasMissingMessages&&!g.hasMissingMedia)&&!y.hasActiveMsgrFamilyCenterEnforcement&&!z&&!t&&!C&&!A&&!B,k[35]=e,k[36]=y,k[37]=a,k[38]=s,k[39]=m,k[40]=w,k[41]=o,k[42]=C,k[43]=p,k[44]=r,k[45]=u,k[46]=B,k[47]=A,k[48]=n,k[49]=q,k[50]=l,k[51]=z,k[52]=g,k[53]=b,k[54]=x,k[55]=t,k[56]=f,k[57]=D):D=k[57];e=D;y=v&&e&&!j;k[58]!==e||k[59]!==y?(a={hasForwardAction:e,shouldShowForwardAction:y},k[58]=e,k[59]=y,k[60]=a):a=k[60];return a}g["default"]=a}),98);
__d("useMWV2ForwardMessage",["$InternalEnum","CometRelay","FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MAWDbMsg","MAWExternalId","MAWMessageSendReporterV2","MAWThreadId","MAWVerifyThreadCutover","MWChatMessageId","MWChatThreadId","MWLSForwardMessage","MWPActor.react","MWSharedMsgLogUtils","Promise","ReQL","ReQLSuspense","WAResultOrError","asyncToGeneratorRuntime","cr:9756","cr:9757","cr:9758","cr:9759","promiseDone","react-compiler-runtime","sendToSentQPLLogger","unrecoverableViolation","useGetForwardSource","useIsSecureMessage","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b))}function m(a,b,c){var e;return(e=d("ReQL")).firstAsync(e.mergeJoin(e.fromTableAscending(a.tables.participants).getKeyRange(b),e.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return!(k||(k=d("I64"))).equal(a.id,c)}))}function n(a,b,c){var e=d("react-compiler-runtime").c(20),g=b.messageId,h=b.threadKey;e[0]!==a.tables.attachments||e[1]!==g||e[2]!==h?(b=function(){return d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(h,g)},e[0]=a.tables.attachments,e[1]=g,e[2]=h,e[3]=b):b=e[3];var i;e[4]!==a||e[5]!==g||e[6]!==h?(i=[a,g,h],e[4]=a,e[5]=g,e[6]=h,e[7]=i):i=e[7];b=d("ReQLSuspense").useArray(b,i,f.id+":104");e[8]!==c||e[9]!==a.tables.attachments||e[10]!==g||e[11]!==h?(i=function(){return c!=null?d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(h,g,c):d("ReQL").empty()},e[8]=c,e[9]=a.tables.attachments,e[10]=g,e[11]=h,e[12]=i):i=e[12];var j;e[13]!==c||e[14]!==a||e[15]!==g||e[16]!==h?(j=[c,a,g,h],e[13]=c,e[14]=a,e[15]=g,e[16]=h,e[17]=j):j=e[17];i=d("ReQLSuspense").useFirst(i,j,f.id+":113");j=b.length>0?b[0]:void 0;if(c!=null){i=(i=i)!=null?i:j;e[18]!==i?(j=i!=null?[i]:[],e[18]=i,e[19]=j):j=e[19];return j}return b}function o(){var a=(j||(j=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f,g,i,j,k,n,o){var q=d("MWChatThreadId").toThreadKey(j),r=d("MWChatThreadId").getMessagingThreadType(j);j=(yield d("MAWVerifyThreadCutover").verifyThreadCutover((h||(h=b("Promise"))).resolve(a),q));var s=(yield h.all([d("MAWThreadId").isSecureThreadId(a.tables,q),l(a,q),m(a,q,g)])),t=s[0],u=s[1];s=s[2];t=t||j;try{if(b("cr:9757")!=null&&!t){d("sendToSentQPLLogger").addSendToSentAnnotations(k,{string:{forward_type:p.SecureToOpen}});o!=null?yield (h||(h=b("Promise"))).allSettled([o.messagesAndAttachments.map(function(c){return b("cr:9757").forwardMessage(a,q,r,c.message,i,(c=c.attachment)!=null?c:void 0,g,n)})]):yield b("cr:9757").forwardMessage(a,q,r,e,i,f[0],g,n);d("sendToSentQPLLogger").markSendToSentSuccess(k);return[d("WAResultOrError").makeResult({description:"open message",messageType:"fixMe"})]}j=d("MAWDbMsg").toMsgId(e.messageId);if(j==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_sharing");if(b("cr:9756")!=null){d("sendToSentQPLLogger").addSendToSentAnnotations(k,{string:{forward_type:p.SecureToSecure}});if(o!=null){t=o.messagesAndAttachments.map(function(a){return d("MAWDbMsg").toMsgId(a.message.messageId)}).filter(Boolean);f=(yield b("cr:9756").forwardMessageBatch(a,q,t,n,k))}else f=(yield b("cr:9756").forwardMessage(a,q,j,n,k).then(function(a){return[a]}));b("cr:9759")!=null&&u!=null&&(yield b("cr:9759")(a,u,s,d("LSMessagingThreadTypeUtil").isOneToOne(u.threadType)));return f!=null?f:[d("WAResultOrError").makeResult({description:"removal pending rollout of Message Send Reporter V2",messageType:"fixMe"})]}throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_sharing")}catch(a){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(k,"failed_forwarding_message",a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a,b,c,d,f,g,h,i){return e.apply(this,arguments)}}(),[a])}var p=b("$InternalEnum")({SecureToOpen:"secure_to_open",OpenToOpen:"open_to_open",SecureToSecure:"secure_to_secure",OpenToSecure:"open_to_secure"});function a(a,e,f,g){var r=d("react-compiler-runtime").c(41),s=(j||(j=c("useReStore")))(),t=n(s,a,f),u;r[0]!==e?(u={fallbackThreadType:e},r[0]=e,r[1]=u):u=r[1];var v=c("useIsSecureMessage")(s,a,u),w=d("MWPActor.react").useActor(),x=!(k||(k=d("I64"))).equal(w,a.senderId),y=d("MWLSForwardMessage").useForwardMessage(),z=d("MWLSForwardMessage").useForwardAttachment(),A=c("useGetForwardSource")();r[2]!==a.messageId||r[3]!==a.threadKey||r[4]!==a.timestampMs?(e=d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(a.threadKey),a.messageId,k.to_string(a.timestampMs)),r[2]=a.messageId,r[3]=a.threadKey,r[4]=a.timestampMs,r[5]=e):e=r[5];var B=e,C=d("CometRelay").useRelayEnvironment(),D=o();r[6]!==a.displayedContentTypes?(u=d("MWSharedMsgLogUtils").getMessageTypeFromDisplayedContentType(a.displayedContentTypes),r[6]=a.displayedContentTypes,r[7]=u):u=r[7];var E=u,F=c("useLSMessagingSource")();r[8]!==t||r[9]!==s||r[10]!==x||r[11]!==F||r[12]!==g||r[13]!==a||r[14]!==E||r[15]!==D||r[16]!==w||r[17]!==A?(e=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=d("MWChatThreadId").toThreadKey(b);c=(yield d("MAWThreadId").getThreadFromJid(s.tables,c));var e=function(c){return D(a,t,w,x,b,c,A,g)};if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())yield d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:"useMWV2ForwardMessage",extraAnnotations:{string:{attachment_type:"forward",message_type:E}},lsSource:F,messageTypeParamsArgs:{mediaGroupInfo:g},thread:c},e,s);else{c=d("sendToSentQPLLogger").markSendToSentStartWithAnnotation(c,{mediaGroupInfo:g},(i||(i=d("LSIntEnum"))).unwrapIntEnum(A),{string:{attachment_type:"forward",message_type:E}});yield e(c)}});return function(a){return c.apply(this,arguments)}}(),u=[s,w,F,g,A,D,a,t,x,E],r[8]=t,r[9]=s,r[10]=x,r[11]=F,r[12]=g,r[13]=a,r[14]=E,r[15]=D,r[16]=w,r[17]=A,r[18]=e,r[19]=u):(e=r[18],u=r[19]);var G=d("Int64Hooks").useCallbackInt64(e,u);r[20]!==f||r[21]!==t||r[22]!==s||r[23]!==z||r[24]!==y||r[25]!==x||r[26]!==F||r[27]!==g||r[28]!==a||r[29]!==E||r[30]!==B||r[31]!==C||r[32]!==w||r[33]!==A?(e=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var j=d("MWChatThreadId").toThreadKey(e),k=d("MWChatThreadId").getMessagingThreadType(e),n=(yield (h||(h=b("Promise"))).all([d("MAWThreadId").isSecureThreadId(s.tables,j),l(s,j),m(s,j,w),d("MAWVerifyThreadCutover").verifyThreadCutover(h.resolve(s),j),d("MAWThreadId").getThreadFromJid(s.tables,j)])),o=n[0],r=n[1],u=n[2],v=n[3],D=n[4];n=o||v;var G=function(){var a=d("sendToSentQPLLogger").markSendToSentStart();if(D!=null){var b=d("MWSharedMsgLogUtils").getMessageTypeParams({threadType:D.threadType});c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations(D,b,(i||(i=d("LSIntEnum"))).unwrapIntEnum(A)),function(b){b.string=babelHelpers["extends"]({},b.string,{attachment_type:"forward",message_type:E}),d("sendToSentQPLLogger").addSendToSentAnnotations(a,b)})}d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{forward_type:p.OpenToSecure,message_type:E}});return a};if(b("cr:9758")!=null&&n){var H=function(c,d){return function(e){return b("cr:9758").forwardMessage(C,s,j,a,x,d,A,(e=e)!=null?e:void 0,c).then(q)}};if(t.length===0){o=d("MAWExternalId").generateExternalId();if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())c("promiseDone")(d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:"useMWV2ForwardMessage",externalId:o,extraAnnotations:{string:{attachment_type:"forward",forward_type:p.OpenToSecure,message_type:E}},lsSource:F,messageTypeParamsArgs:{mediaGroupInfo:g},thread:D},H(o,void 0),s));else{v=G();yield H(o,void 0)(v);d("sendToSentQPLLogger").markSendToSentSuccess(v)}}else yield (h||(h=b("Promise"))).all(t.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWExternalId").generateExternalId();if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())yield d("MAWMessageSendReporterV2").MAWMessageSendReporterV2({composerEntrypoint:"useMWV2ForwardMessage",externalId:b,extraAnnotations:{string:{attachment_type:"forward",forward_type:p.OpenToSecure,message_type:E}},lsSource:F,messageTypeParamsArgs:{mediaGroupInfo:g},thread:D},H(b,a),s);else{var e=G();try{yield H(b,a)(e),d("sendToSentQPLLogger").markSendToSentSuccess(e)}catch(a){b=a;d("sendToSentQPLLogger").markSendToSentFail(e,"failed_forwarding_message",b);c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("MW Fail forwarding a message");throw b}}});return function(b){return a.apply(this,arguments)}}()));b("cr:9759")!=null&&r!=null&&b("cr:9759")(s,r,u,d("LSMessagingThreadTypeUtil").isOneToOne(r.threadType))}else if(!n){o=G();try{d("sendToSentQPLLogger").addSendToSentAnnotations(o,{string:{forward_type:p.OpenToOpen,message_type:E}});f==null?y(j,k,B):z(e,f);d("sendToSentQPLLogger").markSendToSentSuccess(o);return}catch(a){v=a;d("sendToSentQPLLogger").markSendToSentFail(o,"failed_forwarding_message",v);c("FBLogger")("messenger_e2ee_web").catching(v).mustfix("MW Fail forwarding a message");throw v}}});return function(a){return e.apply(this,arguments)}}(),u=[s,w,A,f,C,a,x,g,F,t,y,B,z,E],r[20]=f,r[21]=t,r[22]=s,r[23]=z,r[24]=y,r[25]=x,r[26]=F,r[27]=g,r[28]=a,r[29]=E,r[30]=B,r[31]=C,r[32]=w,r[33]=A,r[34]=e,r[35]=u):(e=r[34],u=r[35]);var H=d("Int64Hooks").useCallbackInt64(e,u);r[36]!==H||r[37]!==G||r[38]!==v?(e=function(){return v?G:H},u=[v,G,H],r[36]=H,r[37]=G,r[38]=v,r[39]=e,r[40]=u):(e=r[39],u=r[40]);return d("Int64Hooks").useMemoInt64(e,u)}function q(a){return[a]}g.ForwardType=p;g.useMWV2ForwardMessage=a}),98);
__d("useMWV2MessageForwardAction",["I64","LSBitFlag","LSIntEnum","MWChatMessageId","MWV2LogMessageClick","MWV2MessageRowIsRowFocusedContext.react","gkx","promiseDone","qex","react","react-compiler-runtime","useMWChatForward","useMWV2ForwardMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");b.useCallback;var l=b.useContext;function a(a,b,e){var f=d("react-compiler-runtime").c(20),g=(h||(h=c("useReStore")))(),k=c("gkx")("20836"),p=!k&&a;k=!k&&c("qex")._("205")===!0;p=p?k?"cross_transport":"secure":k?"cross_transport":"open_";f[0]!==b.messageId||f[1]!==b.threadKey||f[2]!==b.timestampMs?(k=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(b.threadKey),b.messageId,i.to_string(b.timestampMs)),f[0]=b.messageId,f[1]=b.threadKey,f[2]=b.timestampMs,f[3]=k):k=f[3];k=k;var q=d("useMWV2ForwardMessage").useMWV2ForwardMessage(b,e);e=l(d("MWV2MessageRowIsRowFocusedContext.react").context);var r=e.setFocused,s=e.setIsDialogOpened;e=b.stickerId;a=!a;e=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),b.displayedContentTypes)&&!b.textHasLinks||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(16384),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(512),b.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),b.displayedContentTypes)||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239263222822"))||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239343222814"))||e!=null&&(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).of_string("369239383222810"));a=a&&!e;f[4]!==r||f[5]!==s?(e=function(){s(o),r(n)},f[4]=r,f[5]=s,f[6]=e):e=f[6];e=e;var t;f[7]!==q?(t=function(a){return c("promiseDone")(q(a))},f[7]=q,f[8]=t):t=f[8];t=t;var u;f[9]!==p||f[10]!==k||f[11]!==a||f[12]!==e||f[13]!==t?(u={dropToggle:a,forwardDialogType:p,messageID:k,onClose:e,onSend:t},f[9]=p,f[10]=k,f[11]=a,f[12]=e,f[13]=t,f[14]=u):u=f[14];var v=c("useMWChatForward")(u);f[15]!==g||f[16]!==v||f[17]!==b||f[18]!==s?(p=function(){d("MWV2LogMessageClick").log(g,b,44),v!=null&&(s(m),v.onClick())},f[15]=g,f[16]=v,f[17]=b,f[18]=s,f[19]=p):p=f[19];return p}function m(){return!0}function n(){return!0}function o(){return!1}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useFDSProgressRingSvg.react",["FDSProgressRingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef,k=2;function a(a){var b=d("react-compiler-runtime").c(50),c=a.color,e=a.isHidden;a=a.size;var f=j(null),g=j(null),h=j(null),l;b[0]!==c?(l=d("FDSProgressRingUtils").getRingColor(c),b[0]=c,b[1]=l):l=b[1];c=l;l=c.backgroundColor;c=c.foregroundColor;var m=(a-k)*Math.PI,n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1ey2m1c x9f619 xds687c x17qophe x10l6tqk x13vifvy"},b[2]=n):n=b[2];var o="0 0 "+a+" "+a,p=a/2,q=a/2,r=(a-k)/2,s;b[3]!==l||b[4]!==p||b[5]!==q||b[6]!==r?(s=i.jsx("circle",{cx:p,cy:q,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:r,stroke:l,strokeLinecap:"round",strokeWidth:k}),b[3]=l,b[4]=p,b[5]=q,b[6]=r,b[7]=s):s=b[7];b[8]!==a||b[9]!==o||b[10]!==s?(l=i.jsx("svg",babelHelpers["extends"]({},n,{height:a,ref:f,viewBox:o,width:a,children:s})),b[8]=a,b[9]=o,b[10]=s,b[11]=l):l=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1ey2m1c xds687c xtzzx4i x6ikm8r x10wlt62 x10l6tqk x13vifvy"},q={className:"x1ey2m1c x9f619 xds687c x1ytbgms x10l6tqk x13vifvy x1jpgh95"},b[12]=p,b[13]=q):(p=b[12],q=b[13]);r="0 0 "+a+" "+a;n=a/2;o=a/2;s=(a-k)/2;var t=m/2,u=3*m/4,v=e?"hidden":void 0,w;b[14]!==v?(w={visibility:v},b[14]=v,b[15]=w):w=b[15];b[16]!==c||b[17]!==n||b[18]!==o||b[19]!==s||b[20]!==t||b[21]!==u||b[22]!==w?(v=i.jsx("circle",{cx:n,cy:o,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:s,stroke:c,strokeDasharray:t,strokeDashoffset:u,strokeWidth:k,style:w}),b[16]=c,b[17]=n,b[18]=o,b[19]=s,b[20]=t,b[21]=u,b[22]=w,b[23]=v):v=b[23];b[24]!==a||b[25]!==r||b[26]!==v?(n=i.jsx("div",babelHelpers["extends"]({},p,{children:i.jsx("svg",babelHelpers["extends"]({},q,{height:a,ref:g,viewBox:r,width:a,children:v}))})),b[24]=a,b[25]=r,b[26]=v,b[27]=n):n=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1ey2m1c x8cgc45 x17qophe x6ikm8r x10wlt62 x10l6tqk x13vifvy"},s={className:"x1ey2m1c x9f619 x14l5gr7 x17qophe x10l6tqk x13vifvy x1jpgh95"},b[28]=o,b[29]=s):(o=b[28],s=b[29]);t="0 0 "+a+" "+a;u=a/2;w=a/2;p=(a-k)/2;q=m/2;r=m/4;v=e?"hidden":void 0;b[30]!==v?(m={visibility:v},b[30]=v,b[31]=m):m=b[31];b[32]!==c||b[33]!==u||b[34]!==w||b[35]!==p||b[36]!==q||b[37]!==r||b[38]!==m?(e=i.jsx("circle",{cx:u,cy:w,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:p,stroke:c,strokeDasharray:q,strokeDashoffset:r,strokeWidth:k,style:m}),b[32]=c,b[33]=u,b[34]=w,b[35]=p,b[36]=q,b[37]=r,b[38]=m,b[39]=e):e=b[39];b[40]!==a||b[41]!==t||b[42]!==e?(v=i.jsx("div",babelHelpers["extends"]({},o,{children:i.jsx("svg",babelHelpers["extends"]({},s,{height:a,ref:h,viewBox:t,width:a,children:e}))})),b[40]=a,b[41]=t,b[42]=e,b[43]=v):v=b[43];b[44]!==n||b[45]!==v||b[46]!==l?(c=i.jsxs(i.Fragment,{children:[l,n,v]}),b[44]=n,b[45]=v,b[46]=l,b[47]=c):c=b[47];u=c;w=u;b[48]!==w?(p={backgroundRef:f,leftCircleRef:h,progressRing:w,rightCircleRef:g},b[48]=w,b[49]=p):p=b[49];return p}g["default"]=a}),98);
__d("FDSProgressRingDeterminate.react",["BaseLoadingStateElement.react","react","useFDSProgressRingSvg.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={rootDiv:{position:"x1n2onr6",$$css:!0},rootSizing:function(a){return[{height:a==null?null:"x1f5funs",width:a==null?null:"x1bl4301",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]}};function a(a){var b=a.color,d=a.percentage,e=a.size,f=a["aria-label"];a=a["aria-labelledby"];b=c("useFDSProgressRingSvg.react")({color:b,isHidden:!1,size:e});var g=b.leftCircleRef,h=b.progressRing,l=b.rightCircleRef;j(function(){var a=l.current,b=g.current;if(a==null||b==null)return;if(!(a instanceof SVGSVGElement)||!(b instanceof SVGSVGElement))return;var c=Math.max(0,Math.min(100,d))/100*360;a.style.transform="rotate("+Math.min(c,180)+"deg)";b.style.transform="rotate("+Math.max(c-180,0)+"deg)"},[g,d,l]);return i.jsx(c("BaseLoadingStateElement.react"),{"aria-label":f,"aria-labelledby":a,progress:d,xstyle:[k.rootDiv,k.rootSizing(e)],children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure",["LSScheduleOccamThreadsIntegrityChecker","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSScheduleOccamThreadsIntegrityChecker"),e.delayMs,e.maxThreadCount);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e,f=d;return new(g||(g=b("Promise")))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a==null?void 0:a.addEventListener==null?void 0:a.addEventListener(c,e)})["finally"](function(){a==null?void 0:a.removeEventListener==null?void 0:a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["MessengerWaitForEvent","Promise","QPLUserFlow","emptyFunction","err","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=1e3,k=c("qpl")._(1056847375,"584");a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,i=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?j:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};this.$1=d;this.$2=e;this.$5=h;this.$6=i;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(k);this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(k,{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(k,"fail_to_set_takeover_or_mutex");return(h||(h=b("Promise"))).resolve(!1)}c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(k,{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(k,"local_takeover_init_takeover_failure");return(h||(h=b("Promise"))).resolve(!1)}var g,i=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var l=(a=this.$7)!=null?a:j;return(h||(h=b("Promise"))).race([f,new h(function(a){g=setTimeout(function(){a()},l)}),this.$8?this.$8():new(h||(h=b("Promise")))(c("emptyFunction"))]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(k,"local_takeover_no_takeover_permission");return!1}}).then(function(a){i();return a})["catch"](function(a){i();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(k,"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a===c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};e.$14=function(){if(!i){var a=this.$5();if(!a)throw c("err")("Could not get localStorage");i=a}return i};e.getMutex=function(){i=this.$14();return i.getItem(this.$1)};e.$10=function(a){i=this.$14();return this.$6(i,this.$1,a)};e.$13=function(){i=this.$14(),i.removeItem(this.$1)};e.getTakeover=function(){i=this.$14();return i.getItem(this.$2)};e.$9=function(a){i=this.$14();return this.$6(i,this.$2,a)};e.$12=function(){i=this.$14(),i.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a===c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({getStorage:d("MAWLocalStorage").getStorage,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},mutexKey:h,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("MAWCommonBackendSetup",["EARInitType","MAWAppMutex","MAWEncryptionIndexedDbV2","MAWInit","MAWInitError","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWSetupWorker","MAWVaultMaterialsStorage","MAWWorkerReboot","MWSetupDBEncryption","Promise","asyncToGeneratorRuntime","cr:2970","qex","requireDeferredForDisplay","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferredForDisplay")("MAWMainThreadLogger").__setRef("MAWCommonBackendSetup"),j=function(a,e){var f=c("qex")._("615"),g=c("qex")._("622");if(f===!0)if(e)if(g===!0)return new(h||(h=b("Promise")))(function(a){window.setTimeout(function(){a(!0)},1e3)});else return(h||(h=b("Promise"))).resolve(!0);else return a.measurePerformance("acquire_mutex",function(){return d("MAWAppMutex").use().init()});else return a.measurePerformance("acquire_mutex",function(){try{var a=d("MAWAppMutex").use().init();return e?a.then(function(){return(h||(h=b("Promise"))).resolve(!0)},function(){return(h||(h=b("Promise"))).resolve(!0)}):a}catch(a){if(e)return(h||(h=b("Promise"))).resolve(!0);throw a}})};function a(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){yield a.measurePerformance("prepare_logger",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=i.load();(yield a).setupMainWaLogger()}));var l=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();l||(yield a.measurePerformance("detection_support",function(){if(!d("MAWLocalStorage").isLocalStorageAvailable())throw new(d("MAWInitError").MAWInitError)("localstorage_not_supported");return(h||(h=b("Promise"))).resolve()}));var m=a.measurePerformance("setup_vault_materials",function(){return b("cr:2970")!=null?b("cr:2970").setupVaultMaterials():d("MAWVaultMaterialsStorage").setupVaultMaterials()});l=(yield j(a,l));var n=(yield a.measurePerformance("main_ear_setup",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWSetupDBEncryption").setPerformanceMeasurementTool(d("MAWInit").MAWInit.measurePerformance);var a=(yield d("MWSetupDBEncryption").init(c("EARInitType").MAW_INIT));d("MAWEncryptionIndexedDbV2").maybeSetEncryptionDbOnVersionChange(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)});return a})));if(!n.success){a.logPoint("keychain_setup_failure");throw new(d("MAWInitError").MAWInitError)("keychain_setup_failure",n.payload)}if(!l){a.logPoint("maw_appmutex_no_permission");throw new(d("MAWInitError").MAWInitError)("maw_appmutex_no_permission")}var o=(yield m);yield a.measurePerformance("setup_worker",function(){return d("MAWSetupWorker").getOrSetupWorker(o,e,f,g,k)["catch"](function(b){a.logPoint("reboot_worker_on_backend_setup_failure");a.addStringAnnotation("backend_setup_failure_reason",b.message);return d("MAWWorkerReboot").rebootWorker(o,e,f,g,"backend_setup_failure")["catch"](function(a){throw new(d("MAWInitError").MAWInitError)("worker_setup_error",a)})})})});return k.apply(this,arguments)}g.getMutexPermission=j;g.setupArmadilloBackend=a}),98);
__d("useMWEncryptedBackupsProcessBackupIdsDeferred",["gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIdsDEPRECATED").__setRef("useMWEncryptedBackupsProcessBackupIdsDeferred");function a(a){var b=d("react-compiler-runtime").c(4),e=c("useAsyncReStore")(),f,g;b[0]!==e||b[1]!==a?(f=function(){var b,d;d=!1;j.onReadyImmediately(function(f){c("promiseDone")(e,function(e){!d&&!c("gkx")("8733")&&(b=f.subscribeToEncryptedBackupsRow(e,a))})});return function(){d=!0,b==null?void 0:b()}},g=[e,a],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);i(f,g)}g["default"]=a}),98);
__d("MAWCommonSetup",["EARInitType","MAWBridgeFireAndForget","MAWCommonBackendSetup","MAWCurrentUser","MAWEARKeychainDecryptionError","MAWEncryptedBackupsStateManager","MAWIndexedDbMetadata","MAWInit","MAWInitError","MAWIsIDBOperational","MAWIssueNewUserVisibleErrors","MAWJobDefinitions","MAWMIC","MAWStateContext.react","MAWUIJob","MAWUnrecoverableDbErrors","MAWWaitForBackendSetup","MWEARKeychainV3","MWSetupDBEncryption","MessengerWebInitData","Promise","WABridge","WADynamicRouterSync","WAHex","WAJobOrchestratorTypes","WALogger","WAPREMetrics","asyncToGeneratorRuntime","cr:11340","cr:11341","cr:12011","getErrorSafe","gkx","maybeSetupMAWMainThreadLogger","performance","promiseDone","react","react-compiler-runtime","requireDeferred","shouldDisableWorkerOnAppsSubdomain","useMWEncryptedBackupsProcessBackupIdsDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error performing verifyEBDBIntegrity: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Armadillo is disabled on apps subdomain"]);l=function(){return a};return a}e=j||d("react");var m=e.useContext,n=e.useEffect,o=c("requireDeferred")("FBLogger").__setRef("MAWCommonSetup"),p=c("requireDeferred")("MAWDBKeychain").__setRef("MAWCommonSetup"),q=!1,r=function(){return(i||(i=c("performance"))).now()},s=function(a){d("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(a),d("MAWBridgeFireAndForget").fireAndForget("backend","setEncryptedBackupsState",{newState:a})};function a(a){var b=d("react-compiler-runtime").c(5),e=m(d("MAWStateContext.react").MAWDispatchContext),f=d("MAWIsIDBOperational").useIsIDBOperational(),g,h;b[0]!==e||b[1]!==f||b[2]!==a?(g=function(){f&&c("promiseDone")(t(e,a))},h=[a,e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g,b[4]=h):(g=b[3],h=b[4]);n(g,h);c("useMWEncryptedBackupsProcessBackupIdsDeferred")(s)}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.logout,g=e.reregisterDevice,i=e.rotateCryptoAuthToken,j=e.setupBridge;if(q){void o.load().then(function(a){a("messenger_e2ee_web").warn("Armadillo already setup - return")});return}if(c("shouldDisableWorkerOnAppsSubdomain")()){d("WALogger").LOG(l());return}q=!0;d("MAWMIC").startMAWMICFlow();d("MAWInit").MAWInit.start();b("cr:12011")&&c("promiseDone")((h||(h=b("Promise"))).all([b("cr:12011").load(),p.load()]).then(function(e){var f=e[0];e=e[1];var g=e.initEARUI,h=e.onDbPopulateMAWKeychain;d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger();c("promiseDone")(d("MWSetupDBEncryption").init(c("EARInitType").MAW_IN_UI_INIT).then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield g()),e=c.useMawEAR;a({tag:"SetIsMAWDBinUILoaded"});return f.makeDB(d("MWEARKeychainV3").getDbEncryptionKey,{backendInitPromise:d("MAWWaitForBackendSetup").waitForBackendSetup("ui_dexie").then(function(){return void 0}),onDbPopulate:h}).then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){e&&d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("maw_ear",(yield f.getDB()).stores.backendDB())}))})),function(){},function(a){return o.load().then(function(b){return b("messenger_e2ee_web").catching(a).mustfix("UI Dexie initialisation failed: %s",a.message)})})}));b("cr:11340")!=null&&(d("WAPREMetrics").subscribe(function(){}),d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger(),c("promiseDone")(d("MWSetupDBEncryption").init(c("EARInitType").MAW_IN_UI_INIT).then(function(){return b("cr:11340").makeEBDB(d("MAWIndexedDbMetadata").ebdbName(d("MAWCurrentUser").getID()),d("WAHex").parseHex(c("MessengerWebInitData").accountKeyV2))}),function(){},function(a){return o.load().then(function(b){return b("labyrinth_web").catching(a).mustfix("EBDB initialisation failed: %s",a.message)})}),c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup("EBDB Integrity check").then(function(){globalThis.setInterval(function(){b("cr:11341")==null?void 0:b("cr:11341").verifyEBDBIntegrity()["catch"](function(a){d("WALogger").ERROR(k(),a)})},2e4)})));d("WABridge").makeWABridge(new(d("WADynamicRouterSync").DynamicRouterSync)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors(),yield d("MAWCommonBackendSetup").setupArmadilloBackend(d("MAWInit").MAWInit,function(b){return j({dispatch:a,logout:f,reregisterDevice:g,rotateCryptoAuthToken:i,worker:b})},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1}),d("MAWMIC").onConnectToExistingWorker()},function(){a({tag:"InitOfflineQueueSyncComplete",value:void 0}),a({tag:"IsDbMigrating",value:!1})},"mawInit"),d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.handleFutureproofMsg({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW})),d("MAWInit").MAWInit.addIntAnnotation("endTimePageRelative",r()),d("MAWInit").MAWInit.endSuccess()}catch(a){var m,n=c("getErrorSafe")(a);e=n instanceof d("MAWInitError").MAWInitError?n.message:"maw_init_failure";n.message=(m=n.message)!=null?m:"Unknown";n instanceof d("MAWInitError").MAWInitError&&n.error instanceof c("MAWEARKeychainDecryptionError")&&!c("gkx")("8096")&&d("MAWUnrecoverableDbErrors").setError(new(d("MAWUnrecoverableDbErrors").EarInitError)(n));m=n.message==="maw_appmutex_no_permission"&&document.visibilityState!=="visible";m?d("MAWInit").MAWInit.cancel(e,n):(d("MAWWaitForBackendSetup").rejectBackendSetup(n),d("MAWInit").MAWInit.fail(e,n));d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER,n.message);n&&void o.load().then(function(a){a("messenger_e2ee_web").catching(n).mustfix("MAW backend setup failed -- %s",n.message)});throw n}});return u.apply(this,arguments)}g.useArmadillo=a}),98);
__d("MAWDBUsageMetrics",["FBLogger","WebStorageEstimator","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WebStorageManagerEstimatesFalcoEvent").__setRef("MAWDBUsageMetrics");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WebStorageEstimator").estimateStorage());h.onReady(function(b){c("FBLogger")("maw_db").debug("Sending storage manager estimates falco event, quota: %s, usage: %s, usage_details: %s",a==null?void 0:a.quota,a==null?void 0:a.usage,JSON.stringify(a==null?void 0:a.usageDetails)),b.log(function(){var b;return{quota:String((b=a==null?void 0:a.quota)!=null?b:0),usage:String((b=a==null?void 0:a.usage)!=null?b:0),usage_details:{caches:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.caches)!=null?b:0),indexedDB:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.indexedDB)!=null?b:0),serviceWorkerRegistrations:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.serviceWorkerRegistrations)!=null?b:0)}}})})}catch(a){c("FBLogger")("maw_db").warn("Error while getting the storage manager estimate: %s",a);return}});return i.apply(this,arguments)}g.logMAWDBUsageMetrics=a}),98);
__d("toMsgrUserJid",["MAWJids"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWJids").toUserJid}),98);
__d("MAWFetchContacts",["I64","LSContactTypeExact","LSIntEnum","MAWContactRelationshipType","ReQL","WAJids","asyncToGeneratorRuntime","requireDeferred","toMsgrUserJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWFetchContacts");function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j.load());b=(yield b());var e=new Set(a.map(function(a){return d("WAJids").extractUserId(a)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.contacts).filter(function(a){return e.has((h||(h=d("I64"))).to_string(a.id))})).then(function(a){return new Map(a.map(function(a){return[c("toMsgrUserJid")((h||(h=d("I64"))).to_string(a.id)),a]}))})});return l.apply(this,arguments)}function a(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,c){b.set(c,d("MAWContactRelationshipType").getContactRelationshipType(a))});return b})}function e(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,e){a=a.contactTypeExact!=null&&(h||(h=d("I64"))).equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));b.set(e,a)});return b})}g.fetchContacts=k;g.fetchContactsRelationships=a;g.fetchContactsIsMsplit=e}),98);
__d("MAWIndexedDbUIDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWIndexedDbUI").__setRef("MAWIndexedDbUIDeferred");b=a;g["default"]=b}),98);
__d("MWXProgressRing.react",["cr:4145","cr:6783","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(8),e=a.color,f=a.percentage;a=a.size;if(b("cr:4145")!=null){var g,h,j;g=(g=e)!=null?g:"light";h=(h=f)!=null?h:0;j=(j=a)!=null?j:16;var k;c[0]!==g||c[1]!==h||c[2]!==j?(k=i.jsx(b("cr:4145"),{color:g,percentage:h,size:j}),c[0]=g,c[1]=h,c[2]=j,c[3]=k):k=c[3];return k}if(b("cr:6783")!=null){c[4]!==e||c[5]!==f||c[6]!==a?(g=i.jsx(b("cr:6783"),{color:e,percentage:f,size:a}),c[4]=e,c[5]=f,c[6]=a,c[7]=g):g=c[7];return g}return null}g["default"]=a}),98);
__d("mwReplaceToast",["BaseToasterStateManager","MWXToast.react","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("BaseToasterStateManager").getInstance();function a(a){var b=a.body,d=a.icon,e=a.startAddOn;e=e===void 0?null:e;var f=a.supressCloseButton;f=f===void 0?!1:f;var g=a.title,h=a.toastId;if(h==null){c("err")("toastId or toasterStateManager is not provided");return}j.replace(h,i.jsx(c("MWXToast.react"),{body:b,icon:d,onDismiss:function(){return j.expire(h)},startAddOn:e,supressCloseButton:f,title:g}))}g.mwReplaceToast=a}),98);
__d("MAWLoadingSpinner.react",["BaseToasterStateManager","MWXIconCheckmarkCircle","MWXIconStrict.react","MWXProgressRing.react","MWXSpinner.react","mwPushToast","mwReplaceToast","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m=c("BaseToasterStateManager").getInstance();function n(a,b,d,e){e===void 0&&(e=0);if(a==="spinner")return{icon:{comet:i.jsx(c("MWXSpinner.react"),{color:b?"light":"dark",size:24})},startAddOn:{type:"spinner"},title:d};else if(a==="progressRing")return{icon:{comet:i.jsx(c("MWXProgressRing.react"),{color:b?"light":"dark",size:24})},startAddOn:{source:e,type:"progressRing"},title:d};else return{icon:{comet:i.jsx(c("MWXSpinner.react"),{color:b?"light":"dark",size:24})},startAddOn:{type:"spinner"},title:d}}function o(a,b){d("mwReplaceToast").mwReplaceToast({icon:{comet:i.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconCheckmarkCircle"),size:24}),mds:c("MWXIconCheckmarkCircle").component},title:b,toastId:a})}function a(a,b,e,f,g,h){var i=d("react-compiler-runtime").c(10),p=l(),q,r;i[0]!==f||i[1]!==b||i[2]!==h||i[3]!==e||i[4]!==g||i[5]!==a?(q=function(){if(g)p.current==null?p.current=d("mwPushToast").mwPushToast(n(a,b,e,h),Number.MAX_SAFE_INTEGER):d("mwReplaceToast").mwReplaceToast(babelHelpers["extends"]({},n(a,b,e,h),{toastId:p.current}));else if(p.current!=null){var i=p.current;o(i,f);c("setTimeout")(function(){m.expire(i),p.current=void 0},2750)}},r=[g,b,a,e,h,f],i[0]=f,i[1]=b,i[2]=h,i[3]=e,i[4]=g,i[5]=a,i[6]=q,i[7]=r):(q=i[6],r=i[7]);k(q,r);i[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){return function(){p.current!=null&&m.expire(p.current)}},r=[],i[8]=q,i[9]=r):(q=i[8],r=i[9]);j(q,r)}g.useMAWLoadingSpinner=a}),98);
__d("MAWLoadingStateToastSelectors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.offlineQueueCount};b=function(a){return a.offlineQueueProgressDownloaded};c=function(a){return a.offlineQueueProgressProcessed};f.offlineQueueCountSelector=a;f.offlineQueueProgressCountSelector=b;f.offlineQueueConsumerProgressCountSelector=c}),66);
__d("MAWLoadingStateSpinner.react",["fbt","CometDarkModeContext","MAWLoadingSpinner.react","MAWLoadingStateToastSelectors","MAWStateContext.react","react","react-compiler-runtime","useMAWOfflineQueueLoadingIndicator"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));b=i;e=b.memo;var j=b.useContext,k=function(a){return h._(/*BTDS*/"__JHASH__LlHcIvsh5It__JHASH__",[h._param("restoredPercentage",a.toFixed(0).toString())])},l=h._(/*BTDS*/"__JHASH__EPxp6BXcf-B__JHASH__");function m(a,b,c){if(c===0)return 100;a=50*(a/c);b=50*(b/c);return Math.min(100,b+a)}function a(){var a=d("react-compiler-runtime").c(5),b=j(c("CometDarkModeContext")).currentSetting==="ENABLED",e=c("useMAWOfflineQueueLoadingIndicator")(!0),f=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueCountSelector),g=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueProgressCountSelector),h=d("MAWStateContext.react").useMAWSelector(d("MAWLoadingStateToastSelectors").offlineQueueConsumerProgressCountSelector),i,n;a[0]!==g||a[1]!==f||a[2]!==h?(i=m(g,h,f),n=k(i),a[0]=g,a[1]=f,a[2]=h,a[3]=i,a[4]=n):(i=a[3],n=a[4]);g=n;d("MAWLoadingSpinner.react").useMAWLoadingSpinner("progressRing",b,g,l,e,i);return null}f=e(a);g["default"]=f}),226);
__d("MAWMigrationStateToastSelector.react",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.isDbMigrating};f.isDbMigratingSelector=a}),66);
__d("MAWMigrationStateSpinner.react",["fbt","CometDarkModeContext","MAWLoadingSpinner.react","MAWMigrationStateToastSelector.react","MAWStateContext.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));b=i;e=b.memo;var j=b.useContext,k=h._(/*BTDS*/"__JHASH__BcL_Hf5UaRM__JHASH__"),l=h._(/*BTDS*/"__JHASH__UJ0S4v9Hktq__JHASH__");function a(){var a=j(c("CometDarkModeContext")).currentSetting==="ENABLED",b=d("MAWStateContext.react").useMAWSelector(d("MAWMigrationStateToastSelector.react").isDbMigratingSelector);d("MAWLoadingSpinner.react").useMAWLoadingSpinner("spinner",a,k,l,b);return null}f=e(a);g["default"]=f}),226);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","Promise","WALogger","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);k=function(){return a};return a}function l(a){var c=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(c!=null)return a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(c.groupId)}));else return(h||(h=b("Promise"))).resolve()}function m(a){return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""})}function a(a){d("WALogger").LOG(k()),c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([l(a),m(a)])},"readwrite",void 0,void 0,f.id+":53"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWCurrentUser","MAWEBSwitch","QPLUserFlow","QuickPerformanceLogger","WAGetStorageQplAnnotations","asyncToGeneratorRuntime","gkx","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25310984,"169");function a(a){var e=a!=null?{instanceKey:a}:void 0,f=!1,g=!1;function k(){if(g)return;g=!0;c("QPLUserFlow").start(j,babelHelpers["extends"]({cancelOnUnload:!0,onFlowTimeout:function(){f=!0},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0},e));void d("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(j,a)});t()}function l(a){if(!g||f)return;t();c("QPLUserFlow").addPoint(j,a,e)}function m(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{bool:(d={},d[a]=b,d)})}function n(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{string:(d={},d[a]=b,d)})}function o(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{string_array:(d={},d[a]=b,d)})}function p(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(j,{"int":(d={},d[a]=b,d)})}function q(a){t(),f=!0,c("QPLUserFlow").addAnnotations(j,{string:{failReason:a}},e),c("QPLUserFlow").endFailure(j,"maw_init_fail",e),s=!1}function r(a){t(),f=!0,s=!1,c("QPLUserFlow").addAnnotations(j,{string:{dropReason:a}},e),(i||(i=c("QuickPerformanceLogger"))).markerDrop(j)}var s=!1;function t(){if(s)return;s=!0;c("QPLUserFlow").addAnnotations(j,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function u(a){t(),f=!0,c("QPLUserFlow").addAnnotations(j,{string:{cancelReason:a}},e),c("QPLUserFlow").endCancel(j,e),s=!1}function v(){t(),f=!0,c("QPLUserFlow").endSuccess(j,e),s=!1}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a+"_start";a=a+"_end";l(c);c=(yield b());l(a);return c});return x.apply(this,arguments)}return{addBoolAnnotation:m,addIntAnnotation:p,addStringAnnotation:n,addStringArrayAnnotation:o,cancel:u,drop:r,endSuccess:v,fail:q,logPoint:l,measurePerformance:w,start:k}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.allTablesPersisted,c=a.db,e=a.dispatch,f=a.dispatchClearEphemeralSettings,g=a.instanceKey,h=a.logout,i=a.reregisterDevice,j=a.rotateCryptoAuthToken,k=a.setupBridge;a=a.workerCreateReason;g=d("MAWReinit").getMAWReinit(g);g.start();var l=function(){e({tag:"InitOfflineQueueSyncComplete",value:void 0}),e({tag:"IsDbMigrating",value:!1})};yield d("MAWCommonBackendSetup").setupArmadilloBackend(g,function(a){return k({dispatch:e,logout:h,reregisterDevice:i,rotateCryptoAuthToken:j,worker:a}).then(function(a){b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(c);return a})},l,l,a);g.endSuccess();f()});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWSetupBridgeIsDbMigrating",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(b){b=b.status;switch(b){case!0:a({tag:"IsDbMigrating",value:!0});return;case!1:a({tag:"IsDbMigrating",value:!1});return}}};b=a;f["default"]=b}),66);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWSharedProtocolQueueConst","MWChatInteraction","WAMediaWasmWorkerClient","WATagsLogger","asyncToGeneratorRuntime","interaction-tracing","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]),m="has_pending_or_inprogress_oq_threads";function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a;d("WAMediaWasmWorkerClient").prewarmMediaWasmWorker("mp4RepairMux");return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()});return o.apply(this,arguments)}function p(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function q(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function r(){c("justknobx")._("3496")&&c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(a){a.addMarkerPoint("offline_queue_start","AppTiming"),a.addAnnotationBoolean(m,!0)})}function s(){c("justknobx")._("3496")&&c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(a){a.addMarkerPoint("offline_queue_end","AppTiming"),a.addAnnotationBoolean(m,!1)})}function a(a,b){return function(e){var f=e.chatJidStatus,g=e.status,m=e.timestamp,o=e.totalExpectedCount,t=e.totalProcessedCount;switch(g){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:r();l.LOG(k(),o);p(o);b({tag:"InitOfflineQueueSyncStart",value:o});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").addPoint("process_offline_queue_start",m);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),o,t);b({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:f,processed:t}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),o,t);e.startTime!=null&&q(e.startTime,m);s();b({tag:"InitOfflineQueueSyncComplete",value:f});c("promiseDone")(n(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").addPoint("process_offline_queue_end",m);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),o,t);d("MAWMIC").addPoint("process_offline_queue_failed",m);b({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(n(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g["default"]=a}),98);
__d("MAWSetupBridgeOfflineSnapshot",["InteractionTracingMetrics","MAWMIC","MWChatInteraction","WAOfflineUtils","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WA infra offline connection lost"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: "," / ",", messages: "," / ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Progress: "," / ",", messages: "," / ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",", messages: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","Offline"]);function m(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}a=function(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.downloaded,e=b.expected,f=b.status;b=b.timestamp;switch(f){case d("WAOfflineUtils").WAClientInfraOfflineProgress.Initializing:l.LOG(k(),e.count,e.message);m(e.count);a({tag:"InitOfflineQueueSyncStart",value:e.count});d("MAWMIC").addPoint("download_offline_queue_start",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Processing:l.LOG(j(),c.count,e.count,c.message,e.message);a({tag:"InitOfflineQueueSyncProgress",value:c.count});return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Complete:l.LOG(i(),c.count,e.count,c.message,e.message);d("MAWMIC").addIntAnnotation("offlineQueueDownloadedCount",c.count);a({tag:"InitOfflineQueueSyncProgress",value:e.count});d("MAWMIC").addPoint("download_offline_queue_end",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Failed:l.LOG(h());d("MAWMIC").addPoint("download_offline_queue_failed",b);return}});return function(a){return c.apply(this,arguments)}}()};e=a;g["default"]=e}),98);
__d("MAWSetupUpdateMediaStatus",[],(function(a,b,c,d,e,f){"use strict";a=function(a){return function(b){var c=b.details,d=b.key,e=b.status,f=b.type;b=b.validationResult;a({tag:"UpdateMediaStatus",value:{details:c,key:d,status:e,type:f,validationResult:b}});return}};b=a;f["default"]=b}),66);
__d("MWWorkerOwnedDbKeychain",["Deferred","MAWCryptoConsts","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["handleEARKeyChange"]);h=function(){return a};return a}c={accountKey:null,databaseEncryptionKeys:new Map(),dbReady:new(c("Deferred"))(),latestVersion:d("MAWCryptoConsts").VERSION};var i=babelHelpers["extends"]({},c),j="uninitialized",k=d("WATagsLogger").TAGS(["MWWorkerOwnedDbKeychain"]);function a(){return i}function b(a){k.LOG(h()),j="initialized",i=a}function e(){return j==="initialized"}function f(){return i.latestVersion}g.getEARKey=a;g.handleEARKeyChange=b;g.isInitialised=e;g.getLatestVersion=f}),98);
__d("MAWSetupBridge",["DTSG","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSPlatformGraphQLLightspeedRequest","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWCommonSetupBridge","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeIsDbMigrating","MAWSetupBridgeOfflineConsumer","MAWSetupBridgeOfflineSnapshot","MAWSetupUpdateMediaStatus","MAWUnrecoverableDbErrors","MWWorkerOwnedDbKeychain","Promise","Run","Visibility","WAExceededStorageQuota","asyncToGeneratorRuntime","cr:3411","cr:3948","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloCutoverClientFalcoEvent").__setRef("MAWSetupBridge"),k=c("requireDeferred")("MAWBridgeUpdateDYIStatusV2").__setRef("MAWSetupBridge"),l=c("requireDeferred")("MAWBridgeUploadMessageByBatchGQLHandler").__setRef("MAWSetupBridge"),m=(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),n=function(a){j.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})};function a(a){var e=a.dispatch,f=a.logout,g=a.reregisterDevice,i=a.rotateCryptoAuthToken,j=a.worker;function o(){j.postMessage({type:"force-flush-data"})}d("Run").onUnload(o);d("Run").onBeforeUnload(o,!1);c("Visibility").addListener(c("Visibility").HIDDEN,function(){j.postMessage({type:"force-flush-logs-only"})});return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earKeyChange:function(a){d("MWWorkerOwnedDbKeychain").handleEARKeyChange(a)},executeGraphQLLightSpeedRequest:function(a){a=a.args;return c("LSPlatformGraphQLLightspeedRequest").apply(void 0,a)},getDTSGToken:function(){return(h||(h=b("Promise"))).resolve(d("DTSG").getToken())},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},isDbMigrating:c("MAWSetupBridgeIsDbMigrating")(e),logCutoverEvent:n,logout:f,offlineConsumerProgress:function(){return c("MAWSetupBridgeOfflineConsumer")(m,e).apply(void 0,arguments)},offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield m);yield b.runInTransaction(function(b){return d("MAWBridgeReceivedChatStateHandler").call(b,a)},"readwrite")});function c(b){return a.apply(this,arguments)}return c}(),reregisterDevice:g,resignCdnUrl:function(){return(h||(h=b("Promise"))).resolve()},rotateCryptoAuthToken:i,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},uiUpdate:function(a){a=a.events;e&&a.forEach(function(a){return e(a)});b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a);b("cr:3948").handleEvents(m,a)},unrecoverableDbError:function(a){a=a.error;d("MAWUnrecoverableDbErrors").setError(a)},updateDYIStatus:function(a){var b=a.qplEvent,d=a.qplInstanceKeyE2E,e=a.status;c("promiseDone")(k.load().then(function(a){return a.call({qplEvent:b,qplInstanceKeyE2E:d,status:e})}))},updateMediaStatus:c("MAWSetupUpdateMediaStatus")(e),uploadMessagesToBackup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield m);c("promiseDone")(l.load().then(function(c){return c.call(b,a)}))});function d(b){return a.apply(this,arguments)}return d}(),uploadOpenMessages:function(){return(h||(h=b("Promise"))).reject("this bridge should not be used for msgr")}},worker:j})}g.setupBridge=a}),98);
__d("MAWSetupMutex",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWMIC","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","MAWWebWorkerSingleton","QPLUserFlow","Run","WALoggerDeferred","asyncToGeneratorRuntime","isInstamadillo","promiseDone","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);j=function(){return a};return a}e=i||d("react");var k=e.useCallback,l=e.useEffect,m=e.useMemo,n=c("FBLogger")("messenger_e2ee_web"),o=!1,p=0;function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(document.visibilityState!=="visible")return!1;var b=window.indexedDB!=null,c=d("MAWLocalStorage").isLocalStorageAvailable();if(a){void d("WALoggerDeferred").DEV(j());return!1}return!b||!c?!1:!0});return r.apply(this,arguments)}function a(a,e){var f=a.logout,g=a.reregisterDevice,i=a.rotateCryptoAuthToken,j=a.setupBridge,r=m(function(){return d("MAWAppMutex").use()},[]),s=(h||(h=c("useReStore")))(),t=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),u=s.persistenceTypes.includes("indexeddb"),v=k(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=r.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;!u&&!c("isInstamadillo")()&&d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});yield d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWMIC").cancel("workerMutexLost");d("MAWInit").MAWInit.cancel("workerMutexLost");r.onMutexDeath()});return function(b){return a.apply(this,arguments)}}(),[r,u]),w=k(function(){r.onMutexDeath(),c("promiseDone")(d("MAWSetupWorker").terminateDedicatedWorker("MAWSetupMutexV2:handleUnload"))},[r]),x=k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MAWWebWorkerSingleton").doesWorkerExist());a=(yield q(a));if(!a||o)return;o=!0;p++;try{yield c("MAWReinitWorker")({allTablesPersisted:u,db:s,dispatch:e,dispatchClearEphemeralSettings:t,instanceKey:p,logout:f,reregisterDevice:g,rotateCryptoAuthToken:i,setupBridge:j,workerCreateReason:"mawReinitSetupMutex"}),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){n.mustfix("AppMutex - failed to reinitialize worker: "+a.message.concat(" (",a.error,")")),n.catching(a),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:p})}finally{o=!1}}),[u,s,e,t,f,g,i,j]);l(function(){window.addEventListener("storage",v);var a=d("Run").onBeforeUnload(w,!1),b=d("Run").onUnload(w);window.addEventListener("visibilitychange",x);return function(){window.removeEventListener("storage",v),a.remove(),b.remove(),window.removeEventListener("visibilitychange",x)}},[v,w,x])}g.useMutex=a}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dispatch;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(a,b);return null}g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return{}});return g.apply(this,arguments)}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return 0});return h.apply(this,arguments)}f.fetchArmadilloThreadMessageCounts=a;f.fetchArmadilloThreadMessageCount=c}),66);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useEffect,l="armadillo_msgr_data_loss_stats";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];k(m,b)}function m(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,n)},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}}function n(){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(o))}function o(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(p)}function p(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),l,JSON.stringify(a))}g.DATA_LOSS_STATISTICS_STORAGE_KEY=l;g.useDataLossStatisticsStorageListener=a}),98);
__d("MWChatDataLossCheckerUtil",["FBLogger","I64","MWChatFetchThreadMessageCounts","Promise","QuickPerformanceLogger","WebStorage","asyncToGeneratorRuntime","gkx","globalCryptoSubtle","promiseDone","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("gkx")("24059"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=(yield c("globalCryptoSubtle").digest("SHA-256",b));return l(a)}catch(a){return a}});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=(yield m(a));b!=null?((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),j.markerEnd(g,2)):((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),j.markerEnd(g,2))}else b!=null?((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),j.markerEnd(g,2)):((j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),j.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f}}),j.markerEnd(g,2))});return p.apply(this,arguments)}function q(a){var b=a.currentMsgCnt,c=a.logThreadId,d=a.prevMsgCnt,e=a.qplEvent;a=a.threadId;return o({currentMsgCnt:b,logThreadId:c,prevMsgCnt:d,qplEvent:e,threadId:a})}function a(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b));var e=(k||(k=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[(i||(i=d("I64"))).to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}});return r.apply(this,arguments)}function e(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var e=(k||(k=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return(h||(h=b("Promise"))).resolve(null);e=JSON.parse(e);return(h||(h=b("Promise"))).resolve({current:a,previous:e})}).then(function(a){if(a==null)return(h||(h=b("Promise"))).resolve();var c=a.current;a=a.previous;return s(a,c)})["catch"](function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=[];for(var f in a)Object.prototype.hasOwnProperty.call(d,f)&&e.push(f);f=[];for(var g=0;g<e.length;g++){var i=e[g],j={currentMsgCnt:d[i],prevMsgCnt:a[i],threadId:i};a[i]>0&&d[i]===0?(f.push(q(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553665,"1183")}))),f.push(q(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(f.push(q(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553666,"1184")}))),f.push(q(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}yield (h||(h=b("Promise"))).all(f)});return t.apply(this,arguments)}function f(a){var b=function(b){c("promiseDone")(m(b).then(function(d){(j||(j=c("QuickPerformanceLogger"))).markerStartFromNavStart(c("qpl")._(717567419,"1383")),j.markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),j.markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=q;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=e;g.logThreadCompleteDataLoss=s;g.logLocalStatistics=f}),98);
__d("useOnMawSetupComplete.react",["emptyFunction","promiseDone","react","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e){b===void 0&&(b=c("emptyFunction")),i(function(){var e=!1;c("promiseDone")(d("waitForMAWMIC").promise.then(function(){if(e)return;a()})["catch"](function(){if(e)return;b()}));return function(){e=!0}},e)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSScheduleOccamThreadsIntegrityCheckerStoredProcedure","MWChatDataLossCheckerUtil","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","react-compiler-runtime","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(2);d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener();var b,c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=m(),c=[],a[0]=b,a[1]=c):(b=a[0],c=a[1]);d("useOnMawSetupComplete.react").useOnMawSetupComplete(j,b,c)}function j(){c("promiseDone")(k()),m()}function k(){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)});return l.apply(this,arguments)}function m(){try{var a=c("gkx")("24061"),e=c("justknobx")._("1683");a&&e&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return a.runInTransaction(function(a){return c("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure")(c("LSFactory")(a),{delayMs:(i||(i=d("I64"))).of_int32(6e4),maxThreadCount:i.of_int32(20)})},"readonly",void 0,void 0,f.id+":61")})())}catch(a){c("FBLogger")("labyrinth_web").warn("Error running thread integrity checker",a)}}g["default"]=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;b=24*60*60*1e3;var j=5*b;function a(){i(k)}function k(){var a=c("setTimeout")(l,j);return function(){return c("clearTimeout")(a)}}function l(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)}g["default"]=a}),98);
__d("useMAWReregisterDeviceOnError",["LSPersistedDbGating","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","MAWWaitForBackendSetup","ODS","WABridgedAPI","WATagsLogger","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);j=function(){return a};return a}e=h||d("react");var k=e.useCallback,l=e.useContext,m=!1,n=typeof window!=="undefined"?window:self;function o(){m=!0,c("promiseDone")(d("MAWSetupWorker").terminateWorkerPermanently(),function(){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_reregister_fail",n.location.hostname),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)})}function a(a){var e=a.rotateCryptoAuthToken,f=a.setupBridge,g=c("useAsyncReStore")(),h=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),p=l(d("MAWStateContext.react").MAWDispatchContext);return k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(m)return;(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_deregister",n.location.hostname);yield c("WABridgedAPI").removeCurrentDevice();yield d("MAWSetupWorker").terminateWorker("useMAWReregisterDeviceOnError");d("MAWWaitForBackendSetup").resetBackendSetup();try{var a=(yield g);yield c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:a,dispatch:p,dispatchClearEphemeralSettings:h,logout:o,reregisterDevice:o,rotateCryptoAuthToken:e,setupBridge:f,workerCreateReason:"mawReinitReregDevice"})}catch(b){d("MAWWaitForBackendSetup").rejectBackendSetup(b);a=b.description||b.message||b;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).ERROR(j(),a);d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}}),[g,p,h,e,f])}g["default"]=a}),98);
__d("useStorageUsageMetricsLogger",["cr:3504","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];i(j,b)}function j(){b("cr:3504")==null?void 0:b("cr:3504").logMAWDBUsageMetrics()}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWCryptoAuthToken","MAWSetupMutex.react","MAWStateContext.react","cr:6159","cr:6160","cr:8800","promiseDone","react","react-compiler-runtime","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWReregisterDeviceOnError","useStorageUsageMetricsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;var j=e.useContext;e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");window.XPlatMockServer=b("cr:8800");function a(a){var b=d("react-compiler-runtime").c(24),e=a.children,f=a.fbid,g=a.logout;a=a.setupBridge;var h=j(d("MAWStateContext.react").MAWDispatchContext),k=d("CometRelay").useRelayEnvironment(),l;b[0]!==k?(l=function(){return d("MAWCryptoAuthToken").fetchFreshCAT(k)},b[0]=k,b[1]=l):l=b[1];l=l;var m;b[2]!==l||b[3]!==a?(m={rotateCryptoAuthToken:l,setupBridge:a},b[2]=l,b[3]=a,b[4]=m):m=b[4];var n=c("useMAWReregisterDeviceOnError")(m);b[5]!==g||b[6]!==n?(m=g!=null?g:function(){return c("promiseDone")(n())},b[5]=g,b[6]=n,b[7]=m):m=b[7];b[8]!==n?(g=function(){return c("promiseDone")(n())},b[8]=n,b[9]=g):g=b[9];var o;b[10]!==l||b[11]!==a||b[12]!==m||b[13]!==g?(o={logout:m,reregisterDevice:g,rotateCryptoAuthToken:l,setupBridge:a},b[10]=l,b[11]=a,b[12]=m,b[13]=g,b[14]=o):o=b[14];l=o;a=l;d("MAWCommonSetup").useArmadillo(a);c("useLegacyUserWatchdog")();c("useDataLossChecker")();c("useStorageUsageMetricsLogger")();m=j(c("BaseHeadingContext"));g=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();o=m+1;b[15]!==h||b[16]!==k||b[17]!==f||b[18]!==a?(l=g?i.jsx(c("MAWSetupMutex.react"),{dispatch:h,environment:k,fbId:f,platformSetupUtils:a}):null,b[15]=h,b[16]=k,b[17]=f,b[18]=a,b[19]=l):l=b[19];b[20]!==e||b[21]!==o||b[22]!==l?(m=i.jsxs(c("BaseHeadingContext").Provider,{value:o,children:[e,l]}),b[20]=e,b[21]=o,b[22]=l,b[23]=m):m=b[23];return m}g["default"]=a}),98);
__d("MAWSetup.react",["CometPlaceholder.react","CometRelay","CurrentUser","MAWOembedIframeContainer.react","MAWSetupBridge","MAWSetupImpl.react","cr:3487","cr:6809","cr:8510","deferredLoadComponent","isGroupInvitesEnabled","promiseDone","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=b("cr:6809")!=null?b("cr:6809").CometLogoutProvider:function(a){a=a.children;return i.jsx(i.Fragment,{children:a})},l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWLoadingStateSpinner.react").__setRef("MAWSetup.react")),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWMigrationStateSpinner.react").__setRef("MAWSetup.react"));c("isGroupInvitesEnabled")();function a(a){var e=d("react-compiler-runtime").c(12);a=a.children;var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],e[0]=f):f=e[0];j(n,f);var g=d("CometRelay").useRelayEnvironment(),h;e[1]!==g?(f=function(){b("cr:8510")&&c("promiseDone")(b("cr:8510").initOhaiWebClient(g))},h=[g],e[1]=g,e[2]=f,e[3]=h):(f=e[2],h=e[3]);j(f,h);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("CurrentUser").getID(),e[4]=f):f=e[4];e[5]!==a?(h=i.jsx(c("MAWSetupImpl.react"),{fbid:f,logout:void 0,setupBridge:d("MAWSetupBridge").setupBridge,children:a}),e[5]=a,e[6]=h):h=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSetup.MigrationState",children:i.jsx(m,{})}),e[7]=f):f=e[7];var o;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSetup.LoadingState",children:i.jsx(l,{})}),o=b("cr:3487")&&i.jsx(b("cr:3487"),{}),e[8]=a,e[9]=o):(a=e[8],o=e[9]);e[10]!==h?(f=i.jsxs(k,{children:[h,f,a,o]}),e[10]=h,e[11]=f):f=e[11];return f}function n(){var a=d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();return function(){a==null?void 0:a.stopListening()}}g["default"]=a}),98);
__d("QPLE2ESessionMarkers",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NONE:"none",START:"start",END:"end"});c=a;f["default"]=c}),66);
__d("QPLE2E",["QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){}var b=a.prototype;b.logPointDeprecated=function(a,b,d,e){var f,g;e===void 0&&(e={});f=(f=e.timestamp)!=null?f:(h||(h=c("QuickPerformanceLogger"))).currentTimestamp();var i=babelHelpers["extends"]({},e.pointData);g=(g=e.action)!=null?g:12524;e.secondaryOrder!=void 0&&(i.string||(i.string={}),i.string.qpl_e2e__secondary_order=e.secondaryOrder);if(e.sessionMarker&&e.sessionMarker!=="none"){var j;i.bool||(i.bool={});i.bool=babelHelpers["extends"]({},i.bool,(j={},j.qpl_e2e__session_marker_start_point=e.sessionMarker==="start",j.qpl_e2e__session_marker_end_point=e.sessionMarker==="end",j))}(h||(h=c("QuickPerformanceLogger"))).markerStart(a,void 0,f,{samplingBasis:d});h.markerPoint(a,b,{data:i,timestamp:f*2});e.annotations&&(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(a,e.annotations);h.markerAnnotate(a,{string:(j={},j.join_id=d,j.qpl__source="client",j),bool:(b={},b.qpl_e2e__align_points=!0,b)});h.markerEnd(a,g,void 0,f)};return a}();b=new a();g["default"]=b}),98);
__d("MWCMChatTabNotificationsQPLLoggingUtils",["QPLE2E","QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25298296,"1725"),i=c("qpl")._(25304846,"1726");function a(){var a=d("Random").uint32();return{logCancel:function(b){c("QPLUserFlow").endCancel(i,{annotations:{string:{cancelReason:b}},instanceKey:a})},logEventStreamReceived:function(b){b!=null&&c("QPLE2E").logPointDeprecated(h,"client:receive_event_stream",b,{action:2}),c("QPLUserFlow").start(i,{instanceKey:a})},logOpenChatTab:function(){c("QPLUserFlow").addPoint(i,"open_chat_tab",{instanceKey:a})},logOpenChatTabSuccess:function(){c("QPLUserFlow").endSuccess(i,{instanceKey:a})},logThreadLoaded:function(){c("QPLUserFlow").addPoint(i,"thread_loaded",{instanceKey:a})}}}g.createChatTabQPLLogger=a}),98);
__d("MWChatBadgeCountUpdater.react",["CometRelay","LSIntEnum","MWChatBadgeCountUpdates.react","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(6),b=d("CometRelay").useRelayEnvironment(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(i||(i=d("LSIntEnum"))).ofNumber(0),a[0]=e):e=a[0];var f=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(e),g=f==null,h;a[1]!==f||a[2]!==b||a[3]!==g?(e=function(){var a={suppress_xac_groups:!1};b.commitUpdate(function(b){b=b.getRoot();if(b==null){c("recoverableViolation")("A store root must be present to move forward.","messenger_web_entrypoints");return}b=b.getOrCreateLinkedRecord("viewer","Viewer");b=b.getOrCreateLinkedRecord("message_threads","ViewerMessageThreadsConnection");if(f!=null){var d=b.getValue("unseen_count",a);(d===null||d!==f)&&b.setValue(f,"unseen_count",a)}d=b.getValue("is_loading_client_threads");(d==null||d!==g)&&b.setValue(g,"is_loading_client_threads")})},h=[b,f,g],a[1]=f,a[2]=b,a[3]=g,a[4]=e,a[5]=h):(e=a[4],h=a[5]);j(e,h);return null}g["default"]=a}),98);
__d("MWChatConfig",["CurrentEnvironment","bx"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273041")):c("bx").getURL(c("bx")("273022"));b=c("CurrentEnvironment").messengerdotcom?c("bx").getURL(c("bx")("273042")):c("bx").getURL(c("bx")("273023"));g.soundNotifMp3Url=a;g.soundNotifOggUrl=b}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWChatEncryptedBackupsHandleRestoreWrapper.react").__setRef("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react"));function a(a){return i.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"EncryptedBackupsHandleRestoreWrapper",children:i.jsx(j,babelHelpers["extends"]({},a))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatStateV2IsComposeTab",["MWChatStateV2Types"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.tabType;return a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab}g.isComposeTab=a}),98);
__d("MWChatStateV2HeadGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsComposeTab","MWChatStateV2IsMinimized"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c=Array.from(c.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)}).sort(function(a,b){var c=d("MWChatStateV2CompareTabs").byMostRecentMinimized(a,b);return c===0?d("MWChatStateV2CompareTabs").byMostRecentOpened(a,b):c});b=b.filter(function(a){return!d("MWChatStateV2IsComposeTab").isComposeTab(a)}).concat(c);return[b.slice(0,e),b.slice(e,b.length)]}g.getHeadGroups=a}),98);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9925683137457453"}),null);
__d("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql",["MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerChatTabsNotificationSubscribeResponsePayload",kind:"LinkedField",name:"messenger_chat_tabs_notification_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qpl_join_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",selections:c},params:{id:b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription_facebookRelayOperation"),metadata:{subscriptionName:"messenger_chat_tabs_notification_subscribe"},name:"MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("MWChatTabsNotificationSubscription",["CometRelay","MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatTabsNotificationSubscription_MessengerChatTabsNotificationSubscription.graphql");function a(a,b){return d("CometRelay").requestSubscription(a,{onNext:b,subscription:i,variables:{input:{}}})}g.subscribe=a}),98);
__d("MWChatThreadPingCounter",[],(function(a,b,c,d,e,f){"use strict";var g=new Map();function h(a){a=g.get(a);return(a=a)!=null?a:0}function a(a){g.set(a,h(a)+1)}function b(){g.clear()}f.getCount=h;f.incrementCount=a;f.clear=b}),66);
__d("MWFallbackWithTimeout.react",["FBLogger","react","react-compiler-runtime","useTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.children,f=a.message;a=c("useTimeout")(1e4);var g=a.pending,h;b[0]!==f||b[1]!==g?(a=function(){g||c("FBLogger")("messenger_web_entrypoints","fallback_timeout").warn(f)},h=[f,g],b[0]=f,b[1]=g,b[2]=a,b[3]=h):(a=b[2],h=b[3]);i(a,h);return e}g["default"]=a}),98);
__d("MWGetCurrentThreadIDForLSThread",["I64","LSIntEnum","mwCMIsAnyCMThread","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){if(e)return{NAME:"Page",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(16)))return{NAME:"UserSecret",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(201)))return{NAME:"User",VAL:(h||(h=d("I64"))).to_string(a)};else if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("mwCMIsAnyCMThread")(b)||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(26)))return{NAME:"Group",VAL:(h||(h=d("I64"))).to_string(a)};throw c("unrecoverableViolation")("Unsupported MWMessagingThreadType "+(h||(h=d("I64"))).to_string(b),"messenger_web_messaging")}g.get=a}),98);
__d("MWNotificationRenderer.react",["fbt","I64","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,c,e,f){if((i||(i=d("I64"))).equal(a.senderId,b))return h._(/*BTDS*/"__JHASH__rY0dxFqgz-w__JHASH__");f=(b=(a=f.nickname)!=null?a:e.firstName)!=null?b:e.name;a=c.threadName;if(a!=null)return h._(/*BTDS*/"__JHASH__OUbuC9yLTGc__JHASH__",[h._param("senderName",f),h._param("groupName",a)]);else if((i||(i=d("I64"))).equal(c.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2)))return h._(/*BTDS*/"__JHASH__xWtep4OGpvD__JHASH__",[h._param("name",f)]);else return h._(/*BTDS*/"__JHASH__uh-zU0Y_fAB__JHASH__",[h._param("name",f)])}g.renderDocumentTitle=a}),226);
__d("MWLSChatPopperCommon",["CometSetBlinkingTitleMessageContext","CurrentUser","I64","MWChatConfig","MWChatSettingsQuery","MWNotificationRenderer.react","MWPIsThreadUnread","MessengerWebEventsFalcoEvent","ReQL","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useContext,l=c("requireDeferred")("Sound").__setRef("MWLSChatPopperCommon");function m(a){var b=(i||(i=d("I64"))).to_string(a.senderId)!==c("CurrentUser").getID();b&&l.onReady(function(b){b.play([d("MWChatConfig").soundNotifOggUrl,d("MWChatConfig").soundNotifMp3Url],(i||(i=d("I64"))).to_float(a.timestampMs),!1)})}function a(a,b,e){var f=k(c("CometSetBlinkingTitleMessageContext"));return j(function(c,g,h,j){h=d("MWNotificationRenderer.react").renderDocumentTitle(c,b,g,h,j);e.contents!=null&&e.contents();e.contents=d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(g.threadKey).subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"){a=b.value;if(d("MWPIsThreadUnread").isThreadUnread(a))return;e.contents!=null&&e.contents();e.contents=void 0;f(null,(i||(i=d("I64"))).to_float(a.lastReadWatermarkTimestampMs))}});f(h,(i||(i=d("I64"))).to_float(c.timestampMs))},[b,e,a,f])}function b(a){d("MWChatSettingsQuery").areChatTabsSoundsOn(function(b){if(b!=null&&b)return m(a);else c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message_sound"}})})}g.useUpdateDocumentTitle=a;g.playChatTabSound=b}),98);
__d("MWLSChatTabPolicy",["$InternalEnum","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","MWChatSettingsQuery","MessagingFolderTag","MessengerWebEventsFalcoEvent","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=b("$InternalEnum")({ALLOW:0,DENY:1});function k(a,b,c){if(c===j.ALLOW)return a(b)}var l=function(a){return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"suppress_new_message",extra_data:{reason:a}}})},m=function(a){a(j.ALLOW)},n=function(a,b,c){(h||(h=d("I64"))).equal(b.senderId,c)?(l("message_outgoing"),a(j.DENY)):a(j.ALLOW)},o=function(a,b,e){if(c("gkx")("23433"))a(j.ALLOW);else{d("MWChatSettingsQuery").areChatTabsTurnedOff(function(c){c!=null&&c?(l("turn_off_chat_tab"),b!=null&&d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&e!=null&&e.logCancel("turn_off_chat_tab"),a(j.DENY)):a(j.ALLOW)});return}},p=function(a,b,c){var e=(h||(h=d("I64"))).to_float(b.muteExpireTimeMs);e>Date.now()||e<0?(l("mention_muted"),d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)&&c!=null&&c.logCancel("mention_muted"),a(j.DENY)):a(j.ALLOW)},q=function(a,b){b.isAdminMessage?(l("message_non_user_generated"),a(j.DENY)):a(j.ALLOW)},r=function(a,b){b.folderName===c("MessagingFolderTag").INBOX||(h||(h=d("I64"))).equal(b.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-10))?a(j.ALLOW):(l("message_no_inbox"),a(j.DENY))},s=function(a,b){!(h||(h=d("I64"))).equal(b.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))?(l("message_blocked_participants"),a(j.DENY)):a(j.ALLOW)},t=function(a,b){d("MWCMThreadTypes.react").isJoinedCMThread(b.threadType)?(l("community_messaging_group_blocked"),a(j.DENY)):a(j.ALLOW)},u=function(a,b){b=b.mentionTypes;b!=null&&"s".includes(b)?a(j.DENY):a(j.ALLOW)},v=function(a,b){c("gkx")("23433")&&b?a(j.DENY):a(j.ALLOW)},w=function a(b,d){if(b.length===0)return function(a){return k(d,c("emptyFunction"),a)};var e=b[0],f=b.slice(1);return function(b){return k(e,a(f,d),b)}},x=function(a,b){var c=a[0];a=a.slice(1);c(w(a,b))};function a(a,b,c,d,e,f){return x([function(){return m.apply(void 0,arguments)},function(){for(var b=arguments.length,c=new Array(b),e=0;e<b;e++)c[e]=arguments[e];return n.apply(void 0,c.concat([a,d]))},function(){return o.apply(void 0,arguments)},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return p.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return q.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return r.apply(void 0,c.concat([b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return s.apply(void 0,b.concat([c]))},function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return t.apply(void 0,c.concat([b]))},function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return u.apply(void 0,c.concat([a]))},function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return v.apply(void 0,b.concat([e]))}],f)}function e(a,b,c,d){return x([function(){return m.apply(void 0,arguments)},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return o.apply(void 0,d.concat([a,b]))},function(){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return p.apply(void 0,d.concat([a,b]))},function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return v.apply(void 0,b.concat([c]))}],d)}g.shouldMessageBeAllowed=a;g.shouldCommunityChatThreadPopup=e}),98);
__d("useMWChatOpenTabFromNewMessage",["I64","LSIntEnum","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2Types","MWChatThreadId","MessengerWebEventsFalcoEvent","ODS","dispatchOpenChatTabTraceLogging","gkx","react","react-compiler-runtime","setTimeout","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(h||d("react")).useCallback;var l=new Set();function a(a,b){var e=d("react-compiler-runtime").c(7);b=b.withChatTabTracing;var f=b===void 0?!1:b,g=c("useCometFeedNoRoutingNavigationEventLogger")(),h=d("MWChatStateV2.react").useDispatch(),o=c("useMWChatOpenTabTraceProvider")(),p=d("MWChatStateContext").useChatState(n);e[0]!==p||e[1]!==h||e[2]!==a||e[3]!==g||e[4]!==o||e[5]!==f?(b=function(b,e,n){g(Date.now(),"","messenger");(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_incoming");c("MessengerWebEventsFalcoEvent").log(m);d("LSThreadAttributionStore").setSource(d("MWChatThreadId").getFBID(b),a);var q=Date.now(),r=function(a){c("dispatchOpenChatTabTraceLogging")(a,(j||(j=d("I64"))).to_string(e.threadKey),"useMWChatOpenTabFromNewMessage"),h(d("MWChatStateActions").openTabOrFlyout(q,{shouldFocus:!1},{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:e.threadKey,threadType:e.threadType},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}),!c("gkx")("24037"))},s=e.threadKey;b=Array.from(p.values()).find(function(a){if(a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab){a=a.tabType.threadKeyDescriptor.threadKey;return(j||(j=d("I64"))).equal(s,a)}});var t=b!=null?d("MWChatStateV2IsClosed").isClosed(b):!1,u=l.has((j||(j=d("I64"))).to_string(s));u=f&&(b==null&&!u||b!=null&&t);u?(l.add((j||(j=d("I64"))).to_string(s)),o(function(a,b){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(e.threadKey),a),b.onComplete(function(){l["delete"]((j||(j=d("I64"))).to_string(s))}),r(b)},(k||(k=d("LSIntEnum"))).unwrapIntEnum(e.threadType),"notificationInThreadReply",e.threadKey)):r();c("setTimeout")(function(){return h(d("MWChatStateActions").closeFlyout(q,e.threadKey))},3e3);return n()},e[0]=p,e[1]=h,e[2]=a,e[3]=g,e[4]=o,e[5]=f,e[6]=b):b=e[6];return b}function m(){return{event_name:"open_chat_tab_from_new_message"}}function n(a){return a.tabs}g["default"]=a}),98);
__d("MWLSCommunityChatPopper",["CometRelay","GroupsCometChatsEngagementLogger","I64","MWCMChatTabNotificationsQPLLoggingUtils","MWChatTabsNotificationSubscription","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MercuryIDs","ReQL","promiseDone","react","react-compiler-runtime","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");b.useCallback;var j=b.useEffect,k={contents:void 0};function l(a,b){var e=d("react-compiler-runtime").c(8),f=d("MWLSChatPopperCommon").useUpdateDocumentTitle(a,b,k);e[0]!==a.tables.contacts||e[1]!==a.tables.participants||e[2]!==a.tables.threads||e[3]!==f?(b=function(b){c("promiseDone")(window.Promise.all([a.tables.threads.get(b.threadKey),a.tables.contacts.get(b.senderId),a.tables.participants.get(b.threadKey,b.senderId)]),function(a){var e=a[0],g=a[1];a=a[2];if(g!=null&&a!=null){f(b,e,g,a);g=c("MercuryIDs").getThreadIDFromThreadFBID((i||(i=d("I64"))).to_string(e.threadKey));if(d("MWChatThreadPingCounter").getCount(g)<3){d("MWChatThreadPingCounter").incrementCount(g);d("MWLSChatPopperCommon").playChatTabSound(b);return}}})},e[0]=a.tables.contacts,e[1]=a.tables.participants,e[2]=a.tables.threads,e[3]=f,e[4]=b):b=e[4];var g=b;e[5]!==g||e[6]!==a.tables.messages?(b=function(b,e,f){var h={contents:m};h.contents=d("ReQL").fromTableAscending(a.tables.messages).getKeyRange((i||(i=d("I64"))).of_string(b),i.of_string(f),e).subscribe(function(a,b){if(b.operation==="add"){a=b.value;h.contents();g(a)}});c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages).getKeyRange(i.of_string(b),i.of_string(f),e)),function(a){a&&(h.contents(),g(a))})},e[5]=g,e[6]=a.tables.messages,e[7]=b):b=e[7];return b}function m(){}function a(a){var b=d("react-compiler-runtime").c(9),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==a?(f={withChatTabTracing:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",f);a=d("MWPActor.react").useActor();var h=c("CometRelay").useRelayEnvironment(),k=l(e,a);f=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();var m=f.familyCenterData;b[2]!==h||b[3]!==m.hasActiveMsgrFamilyCenterEnforcement||b[4]!==g||b[5]!==e||b[6]!==k?(a=function(){var a=d("MWChatTabsNotificationSubscription").subscribe(h,function(a){a=(a==null?void 0:a.messenger_chat_tabs_notification_subscribe)||{};var b=a.message_id,f=a.message_timestamp,h=a.qpl_join_id,j=a.thread_id;if(j==null||f==null||b==null)return;var l=d("MWCMChatTabNotificationsQPLLoggingUtils").createChatTabQPLLogger();l.logEventStreamReceived(h);c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(j))),function(a){a!=null&&(l.logThreadLoaded(),d("MWLSChatTabPolicy").shouldCommunityChatThreadPopup(a,l,m.hasActiveMsgrFamilyCenterEnforcement,function(){var c=d("MWGetCurrentThreadIDForLSThread").get(a.threadKey,a.threadType,!1);l.logOpenChatTab();g(c,a,function(){l.logOpenChatTabSuccess(),d("GroupsCometChatsEngagementLogger").log({action:"impression",event:"thread_open_auto",source:"auto_open_chat_tabs",surface:"auto_open_chat_tabs_container",thread_id:(i||(i=d("I64"))).to_string(a.threadKey)}),k(j,b,f)})}))})});return function(){a.dispose()}},f=[h,e,g,k,m.hasActiveMsgrFamilyCenterEnforcement],b[2]=h,b[3]=m.hasActiveMsgrFamilyCenterEnforcement,b[4]=g,b[5]=e,b[6]=k,b[7]=a,b[8]=f):(a=b[7],f=b[8]);j(a,f)}g.useOpenCommunityChatTabs=a}),98);
__d("MWV2ChatHeadsLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x191j7n5 x92rtbv x10l6tqk x1useyqa"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWV2ChatOptionsHead.react",["fbt","ix","MWXDeferredPopoverTrigger.react","MWXIcon.react","MWXPressable.react","MWXTooltip.react","fbicon","react","react-compiler-runtime","requireDeferred","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState,m=c("requireDeferred")("MWV2ChatOptionsHeadPopover.react").__setRef("MWV2ChatOptionsHead.react"),n={head:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",opacity:"xg01cxk",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"x14qfxbe",":hover_boxShadow":"x19xcq9t",$$css:!0},headVisible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}},o=h._(/*BTDS*/"__JHASH__GqqnGnZcXBj__JHASH__");function a(a){var b=d("react-compiler-runtime").c(11),e=a.isVisible,f=a.openTabCount,g=a.style;c("vulture")("8ThwDRng6lU");a=l(!1);var h=a[0],j=a[1];a=l(!1);var p=a[0],q=a[1];a=l(!1);var r=a[0];a=a[1];f=f>0;var s;b[0]!==f?(s={hasOpenTabs:f},b[0]=f,b[1]=s):s=b[1];b[2]!==p||b[3]!==h||b[4]!==r||b[5]!==e||b[6]!==g?(f=function(a,b){return k.jsx("div",{className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xc9qbxq xi8xln7 x10l6tqk x14qfxbe",style:g,children:k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xjbqb8w x78zum5 xnnlda6 xl56j7k x1tl9596 xhsvlbd x1dmp6jm"},{"data-testid":void 0,onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},children:k.jsx(c("MWXPressable.react"),{label:o,onFocusChange:function(a){return q(a)},onPress:b,ref:a,testid:void 0,xstyle:function(){return[n.head,e||h||p||r?n.headVisible:!1]},children:k.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:o,children:k.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("484387"),20)})})})}))})},b[2]=p,b[3]=h,b[4]=r,b[5]=e,b[6]=g,b[7]=f):f=b[7];b[8]!==s||b[9]!==f?(a=k.jsx(c("MWXDeferredPopoverTrigger.react"),{align:"end",onVisibilityChange:a,popoverProps:s,popoverResource:m,position:"above",children:f}),b[8]=s,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("useMWV2PreloadComposeTab",["JSResourceForInteraction","JSScheduler","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("useMWV2PreloadComposeTab");function a(){var a=d("react-compiler-runtime").c(3),b=k;b=c("useCometPreloader")("button",b,b);var e=b.onHoverInPreloader;b=b.onHoverOutPreloader;var f;a[0]!==e||a[1]!==b?(f=[e,b],a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function k(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(l)}function l(){j.preload()}g["default"]=a}),98);
__d("MWV2ComposeHead.react",["fbt","ix","FDSTintedIcon_DEPRECATED.react","LSThreadAttributionStore","MWChatInteraction","MWChatStateV2.react","MWChatStateV2Types","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","fbicon","react","react-compiler-runtime","useMWNewChatOpenTabTraceProvider","useMWV2PreloadComposeTab"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={button:{alignItems:"x6s0dn4",appearance:"xjyslct",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x3nfvp2",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",":hover_boxShadow":"x19xcq9t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.onFocusChange;a=a.onHoverChange;var f=d("MWChatStateV2.react").useDispatch(),g=c("MessengerWebUXLogger").useInteractionLogger(),j=c("useMWNewChatOpenTabTraceProvider")(),l;b[0]!==f||b[1]!==g||b[2]!==j?(l=function(){j(function(a){d("MWChatInteraction").set("open_new",a);g==null?void 0:g({eventName:"create_thread"});d("LSThreadAttributionStore").setSourceForNewThread("chatheadsNewMessage");var b=Date.now();a=function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,doNotBlockWithEBUpsell:!0,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType}};var c=function(a){var c=a.openWatermark<a.closeWatermark;if(c)return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:b,tabId:a.tabId,tabType:a.tabType};else return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}};return f([{inserter:a,tabConfig:{shouldFocus:!0},tabType:{initialTokens:[],secureThreadToggleEnabled:!1,type:d("MWChatStateV2Types").MWChatStateTabType.ComposeTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:c}])},"chatheadsNewMessage")},b[0]=f,b[1]=g,b[2]=j,b[3]=l):l=b[3];l=l;var n=c("useMWV2PreloadComposeTab")(),o=n[0];n=n[1];var p,q,r,s,t;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"__JHASH__lMGuJRoIOm8__JHASH__"),p=c("MWXTooltip.react"),r="middle",s="start",t=q.toString(),b[4]=p,b[5]=q,b[6]=r,b[7]=s,b[8]=t):(p=b[4],q=b[5],r=b[6],s=b[7],t=b[8]);var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=k.jsx(c("FDSTintedIcon_DEPRECATED.react"),{color:"primary",icon:d("fbicon")._(i("507172"),20)}),b[9]=u):u=b[9];b[10]!==o||b[11]!==n||b[12]!==e||b[13]!==a||b[14]!==l?(p=k.jsx(p,{align:r,position:s,tooltip:t,children:k.jsx(c("MWXPressable.react"),{"aria-label":q,onFocusChange:e,onHoverChange:a,onHoverIn:o,onHoverOut:n,onPress:l,role:"button",testid:void 0,xstyle:m,children:u})}),b[10]=o,b[11]=n,b[12]=e,b[13]=a,b[14]=l,b[15]=p):p=b[15];return p}function m(){return[l.button]}g["default"]=a}),226);
__d("MWV2ChatHeads.react",["CometErrorBoundary.react","CometHeroInteractionWithDiv.react","CometPlaceholder.react","I64","JSResourceForInteraction","MWChatInteraction","MWChatStateContext","MWChatStateV2HeadGroups","MWChatStateV2TabGroups","MWChatStateV2Types","MWPActor.react","MWV2ChatHeadsLayout.react","MWV2ChatOptionsHead.react","MWV2ComposeHead.react","WebUXLoggingEntryPointContextProvider","lazyLoadComponent","react","react-compiler-runtime","useMWChatStateV2MaxTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useState,l=5,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatHead.react").__setRef("MWV2ChatHeads.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatOverflowHead.react").__setRef("MWV2ChatHeads.react"));function o(a){return{transform:"translateY(-"+Math.imul(a,58)+"px)"}}function p(a){return{transform:"translateY(-"+(Math.imul(a,58)-12)+"px"}}function a(a){var b=d("react-compiler-runtime").c(30);a=a.isMediaViewer;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("MWPActor.react").isAPPlus(),b[0]=e):e=b[0];e=e;var f=d("MWChatStateContext").useChatState(s),g=f[0],h=f[1];f=f[2];var t=c("useMWChatStateV2MaxTabCount")(a);h=d("MWChatStateV2TabGroups").getTabGroups(f,g,h,t);t=h.openExcessTabs;h=h.openTabs;a=d("MWChatStateV2HeadGroups").getHeadGroups(a?f:void 0,t,g,l);f=a[0];t=a[1];g=h.length;a=f.length;var u=t.length>0?1:0;h=k(!1);var v=h[0],w=h[1],x;h=t[0];if(t.length===1&&h.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ComposeTab){h=h.tabType.threadKeyDescriptor;var y=(i||(i=d("I64"))).to_string(h.threadKey),z;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(z=o(1),b[1]=z):z=b[1];var A=t[0];b[2]!==w||b[3]!==A||b[4]!==h?(z=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ExcessHeads",children:j.jsx(m,{onFocusChange:w,onHoverChange:w,style:z,tab:A,threadKeyDescriptor:h})}),b[2]=w,b[3]=A,b[4]=h,b[5]=z):z=b[5];x=j.jsx(c("CometErrorBoundary.react"),{fallback:r,children:z},y)}else if(t.length>1){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(A=o(1),b[6]=A):A=b[6];b[7]!==t||b[8]!==w?(h=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ChatOverflowHead",children:j.jsx(n,{excessHeads:t,onHoverChange:w,style:A})}),b[7]=t,b[8]=w,b[9]=h):h=b[9];x=h}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(z=d("MWChatInteraction").get(d("MWChatInteraction").MW_CHATHEADS_LOAD),b[10]=z):z=b[10];b[11]!==a||b[12]!==v||b[13]!==g||b[14]!==u?(y=c("MWV2ChatOptionsHead.react")!=null&&g+a>=2?j.jsx(c("MWV2ChatOptionsHead.react"),{isVisible:v,openTabCount:g,style:p(a+u+1)}):null,b[11]=a,b[12]=v,b[13]=g,b[14]=u,b[15]=y):y=b[15];if(b[16]!==f||b[17]!==u||b[18]!==w){b[20]!==u||b[21]!==w?(A=function(a,b){var e=a.tabType;if(e.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;b=b+u+1;return j.jsx(c("CometErrorBoundary.react"),{fallback:q,children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ChatHeads.ChatHead",children:j.jsx(m,{onFocusChange:w,onHoverChange:w,style:o(b),tab:a,threadKeyDescriptor:e.threadKeyDescriptor})})},(i||(i=d("I64"))).to_string(e.threadKeyDescriptor.threadKey))},b[20]=u,b[21]=w,b[22]=A):A=b[22];t=f.reverse().map(A);b[16]=f;b[17]=u;b[18]=w;b[19]=t}else t=b[19];b[23]!==w?(h=!e&&j.jsx(c("MWV2ComposeHead.react"),{onFocusChange:w,onHoverChange:w}),b[23]=w,b[24]=h):h=b[24];b[25]!==x||b[26]!==y||b[27]!==t||b[28]!==h?(a=j.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"chat_heads",children:j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:z,children:j.jsxs(c("MWV2ChatHeadsLayout.react"),{children:[y,t,x,h]})})}),b[25]=x,b[26]=y,b[27]=t,b[28]=h,b[29]=a):a=b[29];return a}function q(){return null}function r(){return null}function s(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}g.MAX_CHAT_HEADS=l;g.MWV2ChatHeads=a}),98);
__d("MWV2ChatTabsLayout.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x1ey2m1c x78zum5 x164qtfw xixxii4 x1vjfegm"},b[0]=c):c=b[0];b[1]!==a?(c=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0,children:a})),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("useMWMonitorChatConnectionStatus",["I64","LSIntEnum","LSInternetConnectionState","MWGetChatTabOpenQPLEventTrace","ReQL","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;var k=b.useEffect,l=b.useRef,m=function(a){return(i||(i=d("I64"))).equal(a.internetConnectionState,(j||(j=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"connected":"not_connected"};function a(a){var b=d("react-compiler-runtime").c(6),e=c("useAsyncReStore")(),f=l(null),g=l(null),h;b[0]!==a?(h=function(b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.addMarkerPoint("connectivity_status_"+b,"AppTiming")})},b[0]=a,b[1]=h):h=b[1];var i=h,j;b[2]!==i||b[3]!==e?(h=function(){if(!c("gkx")("3822"))return;e.then(function(a){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.connectivity_status).map(m)).then(function(a){if(a!==g.current){var b;i((b=a)!=null?b:"connection_is_not_created");g.current=a}})),f.current=a.tables.connectivity_status.subscribe(function(a,b){if(b.operation==="add"){a=m(b.value);a!==g.current&&(i(a),g.current=a)}})});return function(){f.current!=null&&f.current()}},j=[i,e,f],b[2]=i,b[3]=e,b[4]=h,b[5]=j):(h=b[4],j=b[5]);k(h,j)}g["default"]=a}),98);
__d("MWV2ChatTabs.react",["CometErrorBoundary.react","CometPlaceholder.react","HeroInteractionIgnoreWithDiv.react","I64","JSResourceForInteraction","MAWEditMessageContext.react","MWChatInteraction","MWChatStateContext","MWChatStateV2CompareTabs","MWChatStateV2HeadGroups","MWChatStateV2TabGroups","MWChatStateV2Types","MWPReplyContext.react","MWV2ChatHeads.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2ChatTabsLayout.react","MWV2EnsureThatChatTabExists","MWV2IsTabFocusedContext.react","cr:7101","hero-tracing","justknobx","lazyLoadComponent","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMWChatStateV2MaxTabCount","useMWMonitorChatConnectionStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useContext;f=b("cr:7101")||{};var l=f.MWComposerKeyCommandFocusManager,m=f.MWComposerKeyCommandFocusManagerTabIndex,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ComposeTab.react").__setRef("MWV2ChatTabs.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("MWV2ChatTabs.react"));function p(a){var b=d("react-compiler-runtime").c(4),e=a.isMinimized,f=a.tab;a=a.threadKeyDescriptor;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(a.threadKey,a.threadType,a.clientThreadKey);c("useMWMonitorChatConnectionStatus")(a.threadKey);var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=j.jsx(o,{isMinimized:e,tab:f,threadKeyDescriptor:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}function a(a){var b=d("react-compiler-runtime").c(4);a=a.isMediaViewer;var e=k(d("MWChatStateContext").stateContext),f=d("MWChatStateContext").useChatState(t),g=f[0];f=f[1];var h=c("useMWChatStateV2MaxTabCount")(a);h=d("MWChatStateV2TabGroups").getTabGroups(a?f:void 0,e.tabs,g,h);var i=h.minimizedTabs,o=h.openExcessTabs,u=h.openTabs;h=d("MWChatStateV2HeadGroups").getHeadGroups(a?f:void 0,o,e.tabs,d("MWV2ChatHeads.react").MAX_CHAT_HEADS);var v=h[1],w=s,x=c("useCometDisplayTimingTrackerForInteraction")("ChatMain",!0);a=c("justknobx")._("1857")?i.filter(function(a){return!v.includes(a)}):i;f=[].concat(u,a,o).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened);e=f.map(function(a,b){var e=g===a.tabId,f=a.tabType,h,i=u.indexOf(a)===-1;f.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?h=j.jsx(n,{initialTokens:f.initialTokens,tab:a},f.initialTokens.map(r).join()):h=j.jsx(p,{isMinimized:i,tab:a,threadKeyDescriptor:f.threadKeyDescriptor});f=j.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:e,children:j.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:j.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(d("hero-tracing").HeroInteraction,{alwaysMarkMutationRootAsVisualChange:!0,interactionDesc:"MWV2_CHAT_TAB",interactionUUID:w(a.tabType),pageletName:"ChatTab",ref:x,children:j.jsx(c("CometPlaceholder.react"),{fallback:i?null:j.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),name:"MWV2ChatTabs",children:h})})})})})});return j.jsx(c("CometErrorBoundary.react"),{fallback:q,children:m==null?f:j.jsx(m,{value:b,children:f})},String(a.tabId))});b[0]!==e?(h=l==null?e:j.jsx(l,{children:e}),b[0]=e,b[1]=h):h=b[1];b[2]!==h?(i=j.jsx(c("MWV2ChatTabsLayout.react"),{children:h}),b[2]=h,b[3]=i):i=b[3];return i}function q(){return null}function r(a){return a.id}function s(a){if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return null;else return d("MWChatInteraction").get((i||(i=d("I64"))).to_string(a.threadKeyDescriptor.threadKey))}function t(a){return[a.focusedTabId,a.mediaViewerOpenWatermark]}g["default"]=a}),98);
__d("useMWLSChatPopperUpper",["Env","FBLogger","I64","JSResourceForInteraction","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWChatMessagesOnChatTabLoadTracker","MWChatThreadPingCounter","MWGetCurrentThreadIDForLSThread","MWLSChatPopperCommon","MWLSChatTabPolicy","MWPActor.react","MWXacGating","MercuryIDs","ReQL","ServerTime","VisibilityAPI","asyncToGeneratorRuntime","clearInterval","isMWXacGroupThread","isMessengerPWA","justknobx","promiseDone","qex","react","react-compiler-runtime","requireDeferred","setInterval","useGlobalEventListener","useMWChatOpenTabFromNewMessage","useMWFamilyCenterContext","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=i||d("react");var l=e.useEffect,m=e.useRef,n=c("requireDeferred")("MWDesktopNotifications").__setRef("useMWLSChatPopperUpper"),o=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWLSChatPopperUpper"),p={contents:void 0};function q(a,e,f,g,i,l,m,p,q,r,s){s===void 0&&(s=d("MWLSChatTabPolicy").shouldMessageBeAllowed);var t=d("MWGetCurrentThreadIDForLSThread").get(g.threadKey,g.threadType,(j||(j=d("I64"))).equal(i.contactType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(j||(j=d("I64"))).equal(i.contactType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)));return s(f,g,i,p,q,function(){c("promiseDone")(o.load());var k=d("MercuryIDs").getThreadIDFromThreadFBID((j||(j=d("I64"))).to_string(g.threadKey));d("MWChatMessagesOnChatTabLoadTracker").trackReceivedFor(g.threadKey);return a(t,g,function(){m(f,g,i,l);if(d("VisibilityAPI").isVisibilityHidden()===!0){var a,j=c("isMessengerPWA")()&&c("justknobx")._("1465");a=!c("isMessengerPWA")()&&(h||(h=c("Env"))).isMessengerDotComOnComet===!0&&Notification.permission==="granted"&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType)&&((a=c("qex")._("1981"))!=null?a:!1);(j||a)&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield n.load());a=a.triggerLocalNotification;yield a(e,f,r)})())}if(d("MWChatThreadPingCounter").getCount(k)<3){d("MWChatThreadPingCounter").incrementCount(k);d("MWLSChatPopperCommon").playChatTabSound(f);return}})})}function r(a){var b=a.actor,d=a.hasActiveMsgrFamilyCenterEnforcement,e=a.message,f=a.navigationApi,g=a.openTabFromNewMessage,h=a.shouldBeAllowed,i=a.storage,j=a.updateDocumentTitle;c("promiseDone")(window.Promise.all([i.tables.threads.get(e.threadKey),i.tables.contacts.get(e.senderId),i.tables.participants.get(e.threadKey,e.senderId)]),function(a){var k=a[0],l=a[1];a=a[2];if(k==null){c("FBLogger")("messenger_web_entrypoints").mustfix("Thread is null when receiving a new message");return}if(l!=null&&a!=null)return q(g,i,e,k,l,a,j,b,d,f,h)})}function s(a){var b=a.actor,d=a.hasActiveMsgrFamilyCenterEnforcement,e=a.message,f=a.navigationApi,g=a.openTabFromNewMessage,h=a.shouldBeAllowed,i=a.storage,j=a.updateDocumentTitle;c("promiseDone")(window.Promise.all([i.tables.threads.get(e.threadKey),i.tables.contacts.get(e.senderId),i.tables.participants.get(e.threadKey,e.senderId)]),function(a){var k=a[0],l=a[1];a=a[2];if(k!=null&&l!=null&&a!=null&&!c("isMWXacGroupThread")(k))return q(g,i,e,k,l,a,j,b,d,f,h)})}function t(a){var b=d("react-compiler-runtime").c(11),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==a?(f={withChatTabTracing:a},b[0]=a,b[1]=f):f=b[1];var g=c("useMWChatOpenTabFromNewMessage")("notificationInThreadReply",f),h=d("MWPActor.react").useActor(),i=d("MWLSChatPopperCommon").useUpdateDocumentTitle(e,h,p);b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("ServerTime").getMillis(),b[2]=a):a=b[2];var k=m(a),n=c("useMWNavigation")();f=d("useMWFamilyCenterContext").useMWFamilyCenterEnforcementsContext();var o=f.familyCenterData;b[3]!==h||b[4]!==o.hasActiveMsgrFamilyCenterEnforcement||b[5]!==n||b[6]!==g||b[7]!==e||b[8]!==i?(a=function(){return d("ReQL").fromTableAscending(e.tables.messages).subscribe(function(a,b){if(b.operation==="add"){a=b.value;if((j||(j=d("I64"))).to_float(a.timestampMs)<=k.current)return;k.current=(j||(j=d("I64"))).to_float(a.timestampMs);b=d("MWXacGating").isGroupsEnabled()?r:s;return b({actor:h,hasActiveMsgrFamilyCenterEnforcement:o.hasActiveMsgrFamilyCenterEnforcement,message:a,navigationApi:n,openTabFromNewMessage:g,storage:e,updateDocumentTitle:i})}})},f=[h,n,o.hasActiveMsgrFamilyCenterEnforcement,g,e,i],b[3]=h,b[4]=o.hasActiveMsgrFamilyCenterEnforcement,b[5]=n,b[6]=g,b[7]=e,b[8]=i,b[9]=a,b[10]=f):(a=b[9],f=b[10]);l(a,f)}function a(a){var b=d("react-compiler-runtime").c(10),e=a.storage;a=a.withChatTabTracing;a=a===void 0?!1:a;var f;b[0]!==e||b[1]!==a?(f={storage:e,withChatTabTracing:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];t(f);var g=m();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){var a=g.current;if(a!=null){c("clearInterval")(a);return}},b[3]=e):e=b[3];var h=e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){h(),g.current=c("setInterval")(u,6e5)},b[4]=a):a=b[4];f=a;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){d("MWChatThreadPingCounter").clear();return h()},b[5]=e):e=b[5];a=e;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e={},b[6]=e):e=b[6];c("useGlobalEventListener")("blur",f,e);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[7]=f):f=b[7];c("useGlobalEventListener")("focus",a,f);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return function(){return h()}},a=[],b[8]=e,b[9]=a):(e=b[8],a=b[9]);l(e,a)}function u(){return d("MWChatThreadPingCounter").clear()}g["default"]=a}),98);
__d("useMWChatInit",["MWLSCommunityChatPopper","MWPGetThreadTitle","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useMWLSChatPopperUpper","useReStore","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(12),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.community_folders||a[1]!==b.tables.contacts||a[2]!==b.tables.participants||a[3]!==b.tables.pinned_threads||a[4]!==b.tables.threads?(e=function(){var a;c("promiseDone")((a=d("ReQL")).toArrayAsync(a.fromTableAscending(b.tables.threads).map(function(a){return[a,d("ReQLSuspense").toArray(d("ReQL").leftJoin(d("ReQL").fromTableAscending(b.tables.participants,[]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).take(d("MWPGetThreadTitle").amountToFetchForTitle),f.id+":34")]}).take(30)));c("promiseDone")(a.toArrayAsync(a.fromTableAscending(b.tables.pinned_threads.index("pinnedTimestamp"))));c("promiseDone")(a.toArrayAsync(a.fromTableAscending(b.tables.community_folders)))},a[0]=b.tables.community_folders,a[1]=b.tables.contacts,a[2]=b.tables.participants,a[3]=b.tables.pinned_threads,a[4]=b.tables.threads,a[5]=e):e=a[5];var g;a[6]!==b?(g=[b],a[6]=b,a[7]=g):g=a[7];j(e,g);c("useSubscribeToErrorTableAndShowToast")();a[8]!==b?(e={storage:b,withChatTabTracing:!0},a[8]=b,a[9]=e):e=a[9];c("useMWLSChatPopperUpper")(e);a[10]!==b?(g={storage:b,withChatTabTracing:!0},a[10]=b,a[11]=g):g=a[11];d("MWLSCommunityChatPopper").useOpenCommunityChatTabs(g)}g["default"]=a}),98);
__d("useMWIsAPPlusChannelsInbox",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return((b=a.route)==null?void 0:b.tracePolicy)==="comet.messenger.applus.inbox"}g["default"]=a}),98);
__d("useMWIsTopLevelRouteMessengerMediaViewer",["useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return((b=a.route)==null?void 0:b.tracePolicy)==="comet.sharedmediaviewer.media"}g["default"]=a}),98);
__d("useMWV2ChatUpdateMediaViewerOpenWatermark",["MWChatStateActions","MWChatStateV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=d("MWChatStateV2.react").useDispatch(),c;a[0]!==b?(c=function(){var a=Date.now();b(d("MWChatStateActions").updateMediaViewerOpenWatermark(a))},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("MWV2CookieWriter",["DeferredCookie","I64","MWCMThreadTypes.react","MWChatStateV2Types","Promise","ReQL","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){switch(Number((i||(i=d("I64"))).to_string(a))){case 2:return"g.";case 15:return"sc.";case 16:return"sg.";case 18:return"cg.";case 19:return"cgu.";case 23:return"cbj.";case 24:return"cbu.";case 21:return"cphj.";case 22:return"cphu.";case 150:return"dp.";case 151:return"dpu.";case 152:return"dpb.";case 153:return"dpbu.";case 154:return"dp2.";case 155:return"dp2u.";default:return"u."}}function a(a,e,f){var g=function(a){if(e==null)return!1;var b=e.tabType;if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;else return(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a)},k=function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.threads).getKeyRange(a))},l={contents:void 0};a=a.map(function(a){var c=a.isOpen,e=a.threadKey,f=a.threadType,m={o:c?1:0};return k(e).then(function(a){if(a!=null)if(g(e)){d("MWCMThreadTypes.react").isJoinedCMThread(f)&&(l.contents=(i||(i=d("I64"))).to_string(a.parentThreadKey));return(h||(h=b("Promise"))).resolve()}else{m.i=j(f)+(i||(i=d("I64"))).to_string(e);d("MWCMThreadTypes.react").isJoinedCMThread(f)&&(m.p=(i||(i=d("I64"))).to_string(a.parentThreadKey));return(h||(h=b("Promise"))).resolve(m)}else{m.i=j(f)+(i||(i=d("I64"))).to_string(e);return(h||(h=b("Promise"))).resolve(m)}})});c("promiseDone")((h||(h=b("Promise"))).all(a).then(function(a){var f;if(e!=null){var g=e.tabType;if(g.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)f=void 0;else{g=g.threadKeyDescriptor;var k=g.threadKey;g=g.threadType;f=j(g)+(i||(i=d("I64"))).to_string(k)}}else f=void 0;g=a.filter(function(a){return a!=null});k=l.contents;a=k!=null?JSON.stringify({lm3:f,lm3p:k,t3:g,utc3:Date.now(),v:1}):JSON.stringify({lm3:f,t3:g,utc3:Date.now(),v:1});a!=null?c("DeferredCookie").addToQueue("presence","C"+a,0,"/",!1,!1,!0):c("recoverableViolation")("Failed to serialize cookie","messenger_comet");return(h||(h=b("Promise"))).resolve()}))}g.write=a}),98);
__d("useMWV2CookieWriter",["MWChatStateContext","MWChatStateV2CompareTabs","MWChatStateV2IsOpen","MWChatStateV2Types","MWV2CookieWriter","gkx","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=d("MWChatStateContext").useChatState(n),e=(h||(h=c("useReStore")))(),f,g;a[0]!==e||a[1]!==b?(f=function(){var a=Array.from(b.values()).filter(m).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened)[0],c=[];Array.from(b.values()).filter(l).sort(k).forEach(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;c.push(babelHelpers["extends"]({},a.threadKeyDescriptor,{isOpen:!1}))});d("MWV2CookieWriter").write(c,a,e)},g=[e,b],a[0]=e,a[1]=b,a[2]=f,a[3]=g):(f=a[2],g=a[3]);j(f,g)}function k(a,b){var c=d("MWChatStateV2CompareTabs").byMostRecentMinimized(a,b);if(c===0)return d("MWChatStateV2CompareTabs").byMostRecentOpened(a,b);else return c}function l(a){if(a.openWatermark>a.closeWatermark)return!0;else return a.minimizeWatermark>a.closeWatermark}function m(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)}function n(a){return a.tabs}function b(){}e=c("gkx")("24038")?a:b;f=e;g["default"]=f}),98);
__d("MWV2ChatTabsRoot.react",["CometContextualLayerAnchorRoot.react","CometDOMOnlyBoundary.react","CometPlaceholder.react","FocusRegion.react","MWChatStateV2.react","MWChatVisibilityOverrideContext","MWFallbackWithTimeout.react","MWLSThreadDisplayContext","MWV2ChatHeads.react","MWV2ChatTabs.react","WebUXLoggingEntryPointContextProvider","cr:905","focusScopeQueries","react","react-compiler-runtime","stylex","useMWChatInit","useMWIsAPPlusChannelsInbox","useMWIsTopLevelRouteMediaViewerExperiment","useMWIsTopLevelRouteMessengerMediaViewer","useMWV2ChatUpdateMediaViewerOpenWatermark","useMWV2CookieWriter","useShouldShowMessagingEntrypointInCometRoot","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));f=i;var k=f.useEffect;f.useMemo;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];return b}var l=(f=b("cr:905"))!=null?f:a,m={chatAbovePushView:{zIndex:"x1vjfegm",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{bottom:"x1ey2m1c",end:"xds687c",position:"xixxii4",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(16);a=a.isMediaViewer;c("vulture")("q8aGN46fLA");var e=d("MWChatStateV2.react").useChatState(p),f=c("useMWIsTopLevelRouteMessengerMediaViewer")();e=Array.from(e.values()).some(o);e=e;var g;b[0]!==f?(g=(h||(h=c("stylex"))).props(m.root,m.chatAbovePushView,f?m.hidden:null),b[0]=f,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xuk3077 x78zum5 xc8icb0"},b[2]=f):f=b[2];e=e?d("focusScopeQueries").tabbableScopeQuery:void 0;var i;b[3]!==a?(i=j.jsx(c("MWV2ChatTabs.react"),{isMediaViewer:a}),b[3]=a,b[4]=i):i=b[4];var k;b[5]!==a?(k=j.jsx(c("CometDOMOnlyBoundary.react"),{children:j.jsx(d("MWV2ChatHeads.react").MWV2ChatHeads,{isMediaViewer:a})}),b[5]=a,b[6]=k):k=b[6];b[7]!==i||b[8]!==k?(a=j.jsxs(j.Fragment,{children:[i,k]}),b[7]=i,b[8]=k,b[9]=a):a=b[9];b[10]!==e||b[11]!==a?(i=j.jsx(c("CometContextualLayerAnchorRoot.react"),{children:j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(d("FocusRegion.react").FocusRegion,{containFocusQuery:e,id:"MWV2ChatTabsRootChatTabsFocusRegion",children:a})}))}),b[10]=e,b[11]=a,b[12]=i):i=b[12];b[13]!==g||b[14]!==i?(k=j.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"popup_chat_box",children:j.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:j.jsx("div",babelHelpers["extends"]({},g,{children:i}))})}),b[13]=g,b[14]=i,b[15]=k):k=b[15];f=k;return f}function o(a){return a.openWatermark>a.closeWatermark}function p(a){return a.tabs}function q(a){a=a.children;c("vulture")("8qGwK4AJOGn");c("useMWV2CookieWriter")();c("useMWChatInit")();return a}function e(){var a=d("react-compiler-runtime").c(10);c("vulture")("8QPaEyr9m7W");var b=c("useMWIsTopLevelRouteMediaViewerExperiment")(),e=d("MWChatVisibilityOverrideContext").useMWChatVisibilityOverride(b),f=c("useMWV2ChatUpdateMediaViewerOpenWatermark")(),g=c("useMWIsAPPlusChannelsInbox")();e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT_TABS_ROOT")&&e&&!g;var h;a[0]!==b||a[1]!==f?(g=function(){b&&f()},h=[b,f],a[0]=b,a[1]=f,a[2]=g,a[3]=h):(g=a[2],h=a[3]);k(g,h);l();a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWFallbackWithTimeout.react"),{message:"MWV2ChatTabsRoot suspense timeout"}),a[4]=g):g=a[4];a[5]!==b||a[6]!==e?(h=e?j.jsx(n,{isMediaViewer:b}):null,a[5]=b,a[6]=e,a[7]=h):h=a[7];a[8]!==h?(e=j.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWV2ChatTabsRoot",children:j.jsx(q,{children:h})}),a[8]=h,a[9]=e):e=a[9];g=e;return g}g["default"]=e}),98);
__d("MWV2ChatContainer.react",["MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react","MWV2ChatTabsRoot.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ChatTabsRoot.react"),{}),i.jsx(c("MWChatEncryptedBackupsHandleRestoreWrapperDeferred.react"),{})]}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useMWJewelStartLoadingLogger",["qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l=c("qpl")._(30616158,"2565");function a(){var a=d("react-compiler-runtime").c(3),b=j(!1),e=k(),f=e[0],g=e[1],h=c("useCometInteractionTracing")(l,"slower","INTERACTION"),m;a[0]!==h?(e=function(){b.current||(b.current=!0,h(function(a){g(a.getTraceId())},0))},m=[h],a[0]=h,a[1]=e,a[2]=m):(e=a[1],m=a[2]);i(e,m);return f}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseSwitch.react",["BaseFocusRing.react","BaseInput.react","BaseView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={"switch":{cursor:"x1ypdohk",height:"x5yr21d",start:"x17qophe",left:null,right:null,marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",opacity:"x1w3u9th",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},wrapper:{position:"x1n2onr6",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(15),f,g,h,k,l;e[0]!==a?(f=a.children,l=a.xstyle,h=a.suppressFocusRing,k=a.testid,g=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle","suppressFocusRing","testid"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=k,e[5]=l):(f=e[1],g=e[2],h=e[3],k=e[4],l=e[5]);e[6]!==f||e[7]!==g||e[8]!==b||e[9]!==k||e[10]!==l?(a=function(a){return i.jsxs(c("BaseView.react"),{testid:void 0,xstyle:[j.wrapper,a,l],children:[f,i.jsx(c("BaseInput.react"),babelHelpers["extends"]({},g,{"aria-checked":(a=g.checked)!=null?a:!1,ref:b,role:"switch",type:"checkbox",xstyle:j["switch"]}))]})},e[6]=f,e[7]=g,e[8]=b,e[9]=k,e[10]=l,e[11]=a):a=e[11];e[12]!==h||e[13]!==a?(k=i.jsx(c("BaseFocusRing.react"),{suppressFocusRing:h,children:a}),e[12]=h,e[13]=a,e[14]=k):k=e[14];return k}e=i.memo(b);g["default"]=e}),98);
__d("BaseStyledSwitch.react",["BaseRow.react","BaseRowItem.react","BaseSwitch.react","BaseView.react","Locale","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("Locale").isRTL(),k={alignIcon:{alignItems:"x6s0dn4",$$css:!0},background:{backgroundColor:"xvs79uf",bottom:"x1ey2m1c",boxSizing:"x9f619",end:"xds687c",start:"x17qophe",left:null,right:null,opacity:"xg01cxk",pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",transitionDuration:"x1eub6wo",transitionProperty:"x19991ni",transitionTimingFunction:"x1d72o",$$css:!0},backgroundActive:{opacity:"x1hc1fzr",transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},disabled:{opacity:"xti2d7y",transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},innerShadow:{borderTopStartRadius:"xhw592a",borderTopEndRadius:"xwihvcr",borderBottomEndRadius:"x7wuybg",borderBottomStartRadius:"xb9tvrk",boxShadow:"xzdp66v",height:"x1fgtraw",width:"xvni27",$$css:!0},slider:{backgroundColor:"x14hiurz",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",boxShadow:"x3bazc0",height:"xxk0z11",start:"xb1c2wi",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"xs7f9wi",transitionDuration:"x1eub6wo",transitionProperty:"x11xpdln",transitionTimingFunction:"x1d72o",width:"xvy4d1p",$$css:!0},sliderActive:{transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},sliderActiveLeft:{transform:"x92xnlw",$$css:!0},sliderActiveLeftSmall:{transform:"x13gy369",$$css:!0},sliderActiveRight:{transform:"x13t98kf",$$css:!0},sliderActiveRightSmall:{transform:"x13n5tbt",$$css:!0},sliderIconContainer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},sliderSmall:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},"switch":{backgroundColor:"xvjj3ju",borderTopStartRadius:"xhw592a",borderTopEndRadius:"xwihvcr",borderBottomEndRadius:"x7wuybg",borderBottomStartRadius:"xb9tvrk",boxSizing:"x9f619",display:"x1rg5ohu",height:"x1fgtraw",opacity:"x1hc1fzr",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",transitionDuration:"x1eub6wo",transitionProperty:"x19991ni",transitionTimingFunction:"x1d72o",width:"xvni27",$$css:!0},switchSmall:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",height:"xxk0z11",width:"x187nhsf",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(51),f,g,h,l,m,n,o,p,q,r,s,t;e[0]!==a?(n=a.disabled,g=a.icon,h=a.onClick,l=a.onValueChange,o=a.size,m=a.suppressFocusRing,p=a.tabIndex,q=a.testid,r=a.uncheckedXStyle,s=a.value,t=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","icon","onClick","onValueChange","size","suppressFocusRing","tabIndex","testid","uncheckedXStyle","value","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t):(f=e[1],g=e[2],h=e[3],l=e[4],m=e[5],n=e[6],o=e[7],p=e[8],q=e[9],r=e[10],s=e[11],t=e[12]);a=n===void 0?!1:n;n=o===void 0?"medium":o;o=n==="small";q=(n=q)!=null?n:"BaseStyledSwitch";n=o&&k.switchSmall;var u=a&&k.disabled,v;e[13]!==n||e[14]!==u||e[15]!==r||e[16]!==t?(v=[k["switch"],n,u,t,r],e[13]=n,e[14]=u,e[15]=r,e[16]=t,e[17]=v):v=e[17];n=o&&k.switchSmall;e[18]!==n||e[19]!==t?(u=[k.innerShadow,n,t],e[18]=n,e[19]=t,e[20]=u):u=e[20];r=s&&k.backgroundActive;e[21]!==r?(n=i.jsx(c("BaseView.react"),{xstyle:[k.background,r]}),e[21]=r,e[22]=n):n=e[22];t=o&&k.sliderSmall;r=s&&k.sliderActive;var w;e[23]!==o||e[24]!==s?(w=s&&(j?[k.sliderActiveLeft,o&&k.sliderActiveLeftSmall]:[k.sliderActiveRight,o&&k.sliderActiveRightSmall]),e[23]=o,e[24]=s,e[25]=w):w=e[25];e[26]!==t||e[27]!==r||e[28]!==w?(o=[k.slider,t,r,w],e[26]=t,e[27]=r,e[28]=w,e[29]=o):o=e[29];e[30]!==g?(t=g==null?null:i.jsx(c("BaseRow.react"),{align:"center",expanding:!0,verticalAlign:"center",xstyle:k.sliderIconContainer,children:i.jsx(c("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:k.alignIcon,children:g})}),e[30]=g,e[31]=t):t=e[31];e[32]!==o||e[33]!==t?(r=i.jsx(c("BaseView.react"),{xstyle:o,children:t}),e[32]=o,e[33]=t,e[34]=r):r=e[34];e[35]!==n||e[36]!==r||e[37]!==u?(w=i.jsxs(c("BaseView.react"),{xstyle:u,children:[n,r]}),e[35]=n,e[36]=r,e[37]=u,e[38]=w):w=e[38];e[39]!==f||e[40]!==a||e[41]!==h||e[42]!==l||e[43]!==b||e[44]!==m||e[45]!==w||e[46]!==q||e[47]!==v||e[48]!==p||e[49]!==s?(g=i.jsx(c("BaseSwitch.react"),babelHelpers["extends"]({},f,{checked:s,disabled:a,onClick:h,onValueChange:l,ref:b,suppressFocusRing:m,tabIndex:p,testid:void 0,xstyle:v,children:w})),e[39]=f,e[40]=a,e[41]=h,e[42]=l,e[43]=b,e[44]=m,e[45]=w,e[46]=q,e[47]=v,e[48]=p,e[49]=s,e[50]=g):g=e[50];return g}e=b;g["default"]=e}),98);
__d("CometDensityAwarenessContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=!1;c=a.createContext(b);g["default"]=c}),98);
__d("EmojiStaticConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({checksumBase:317426846,fileExt:".png",supportedSizes:{16:"DP16",18:"DP18",20:"DP20",24:"DP24",28:"DP28",30:"DP30",32:"DP32",56:"DP56",64:"DP64",72:"DP72",96:"DP96",112:"DP112",128:"DP128",256:"DP256"},types:{COMPOSITE:"c",EMOJI_3:"t",FBEMOJI:"f",FB_EMOJI_EXTENDED:"e",MESSENGER:"z",UNICODE:"u"},sizeMap:{dp16:16,dp18:18,dp20:20,dp24:24,dp28:28,dp30:30,dp32:32,dp36:36,dp56:56,dp64:64,dp72:72,dp96:96,dp112:112,dp128:128,dp256:256,xsmall:16,small:32,medium:64,large:128}});f["default"]=a}),66);
__d("EmojiImageURL",["invariant","EmojiConfig","EmojiStaticConfig"],(function(a,b,c,d,e,f,g,h){"use strict";function i(b,c){var d=a.unescape(encodeURIComponent(b));c=c;for(var e=0;e<d.length;e++)c=(c<<5)-c+b.charCodeAt(e),c&=4294967295;return(c&255).toString(16)}function j(a,b,d){b in c("EmojiStaticConfig").supportedSizes||h(0,772,b);b=c("EmojiConfig").pixelRatio+"/"+b+"/"+a+c("EmojiStaticConfig").fileExt;a=i(b,c("EmojiStaticConfig").checksumBase);return c("EmojiConfig").schemaAuth+"/"+d+a+"/"+b}function b(a,b){b===void 0&&(b=16);return j(a,b,c("EmojiStaticConfig").types.COMPOSITE)}function d(a,b){b===void 0&&(b=16);return j(a,b,c("EmojiStaticConfig").types.EMOJI_3)}function e(a,b){b===void 0&&(b=16);return j(a,b,c("EmojiStaticConfig").types.FB_EMOJI_EXTENDED)}function f(a,b){b===void 0&&(b=16);return j(a,b,c("EmojiStaticConfig").types.FBEMOJI)}function k(a,b){return j(a,b,c("EmojiStaticConfig").types.MESSENGER)}g.getCompositeURL=b;g.getEmoji3URL=d;g.getFBEmojiExtendedURL=e;g.getFBEmojiURL=f;g.getMessengerURL=k}),98);
__d("EmojiRenderer",["EmojiRendererData","UnicodeUtils"],(function(a,b,c,d,e,f,g){var h,i,j=0,k=1,l=2,m=3,n=4,o=5,p=6,q=7,r=8,s=9,t=10,u=11;function v(a){var b=a[0];if(b===void 0)return!1;var d=a.length,e=a[d-1];if(e){e=e.charCodeAt(0);if((i||(i=c("EmojiRendererData"))).isTagSpec(e))return!1}b=b.charCodeAt(0);if((i||(i=c("EmojiRendererData"))).isSymbol(b)&&d<2)return!1;if((i||(i=c("EmojiRendererData"))).isText(b))if(d===1)return!1;else if(a.length==2)return(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(a[1].charCodeAt(0));else{e=1;(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(a[e].charCodeAt(0))&&e++;while(e<a.length){if(!(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(a[e].charCodeAt(0)))return!1;e++}return!0}return!0}function w(a,b){var e=null,f=[],g=r,w=0,x=a.length;while(w<x){var y=a.codePointAt(w),z=(h||(h=d("UnicodeUtils"))).getUTF16Length(a,w),A=a.substr(w,z);switch(g){case s:(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=m:g=r;break;case n:if((i||(i=c("EmojiRendererData"))).isEmojiModifier(y)){g=o;break}case j:(i||(i=c("EmojiRendererData"))).isZWJ(y)?g=q:(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(y)?g=l:(i||(i=c("EmojiRendererData"))).isTextVariationSelector(y)?g=u:(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y)?g=k:(i||(i=c("EmojiRendererData"))).isTagSpec(y)?g=p:g=r;break;case k:case l:if((i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y))break;case m:case o:(i||(i=c("EmojiRendererData"))).isZWJ(y)?g=q:(i||(i=c("EmojiRendererData"))).isTagSpec(y)?g=p:g=r;break;case p:(i||(i=c("EmojiRendererData"))).isTagSpec(y)||(i||(i=c("EmojiRendererData"))).isTagTerm(y)?g=p:g=r;break;case q:(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=s:(i||(i=c("EmojiRendererData"))).isEmojiModifierBase(y)?g=n:(i||(i=c("EmojiRendererData"))).isEmoji(y)?g=j:g=r;break;case t:(i||(i=c("EmojiRendererData"))).isNonSpacingCombiningMark(y)?g=k:(i||(i=c("EmojiRendererData"))).isEmojiVariationSelector(y)?g=l:g=r;break;default:g=r;break}if(g===r){(i||(i=c("EmojiRendererData"))).isRegionalIndicator(y)?g=s:(i||(i=c("EmojiRendererData"))).isEmojiModifierBase(y)?g=n:(i||(i=c("EmojiRendererData"))).isText(y)?g=t:(i||(i=c("EmojiRendererData"))).isEmoji(y)&&(g=j);if(g!==r){e!==null&&v(e.emoji)&&f.push(e);if(b!==null&&b===f.length){e=null;break}e={emoji:[A],length:z,offset:w}}}else e!==null&&(e.emoji.push(A),e.length+=z);w+=z}e!==null&&v(e.emoji)&&f.push(e);return f}function a(a,b,c){c=w(a);var d=[],e=0;c.forEach(function(c){var f=c.offset;f>e&&d.push(a.substr(e,f-e));var g=b(c.emoji);g!=null&&d.push(g);e=f+c.length});d.push(a.substr(e,a.length-e));return d}function b(a){return w(a,1).length===1}function e(a){return w(a).length}g.parse=w;g.render=a;g.containsEmoji=b;g.countEmoji=e}),98);
__d("SupportedCommonEmoji",[],(function(a,b,c,d,e,f){a={"1f004":1,"1f0cf":1,"1f170":1,"1f171":1,"1f17e":1,"1f17f":1,"1f18e":1,"1f191":1,"1f192":1,"1f193":1,"1f194":1,"1f195":1,"1f196":1,"1f197":1,"1f198":1,"1f199":1,"1f19a":1,"1f1e6":1,"1f1e6_1f1e8":1,"1f1e6_1f1e9":1,"1f1e6_1f1ea":1,"1f1e6_1f1eb":1,"1f1e6_1f1ec":1,"1f1e6_1f1ee":1,"1f1e6_1f1f1":1,"1f1e6_1f1f2":1,"1f1e6_1f1f4":1,"1f1e6_1f1f6":1,"1f1e6_1f1f7":1,"1f1e6_1f1f8":1,"1f1e6_1f1f9":1,"1f1e6_1f1fa":1,"1f1e6_1f1fc":1,"1f1e6_1f1fd":1,"1f1e6_1f1ff":1,"1f1e7":1,"1f1e7_1f1e6":1,"1f1e7_1f1e7":1,"1f1e7_1f1e9":1,"1f1e7_1f1ea":1,"1f1e7_1f1eb":1,"1f1e7_1f1ec":1,"1f1e7_1f1ed":1,"1f1e7_1f1ee":1,"1f1e7_1f1ef":1,"1f1e7_1f1f1":1,"1f1e7_1f1f2":1,"1f1e7_1f1f3":1,"1f1e7_1f1f4":1,"1f1e7_1f1f6":1,"1f1e7_1f1f7":1,"1f1e7_1f1f8":1,"1f1e7_1f1f9":1,"1f1e7_1f1fb":1,"1f1e7_1f1fc":1,"1f1e7_1f1fe":1,"1f1e7_1f1ff":1,"1f1e8":1,"1f1e8_1f1e6":1,"1f1e8_1f1e8":1,"1f1e8_1f1e9":1,"1f1e8_1f1eb":1,"1f1e8_1f1ec":1,"1f1e8_1f1ed":1,"1f1e8_1f1ee":1,"1f1e8_1f1f0":1,"1f1e8_1f1f1":1,"1f1e8_1f1f2":1,"1f1e8_1f1f3":1,"1f1e8_1f1f4":1,"1f1e8_1f1f5":1,"1f1e8_1f1f7":1,"1f1e8_1f1fa":1,"1f1e8_1f1fb":1,"1f1e8_1f1fc":1,"1f1e8_1f1fd":1,"1f1e8_1f1fe":1,"1f1e8_1f1ff":1,"1f1e9":1,"1f1e9_1f1ea":1,"1f1e9_1f1ec":1,"1f1e9_1f1ef":1,"1f1e9_1f1f0":1,"1f1e9_1f1f2":1,"1f1e9_1f1f4":1,"1f1e9_1f1ff":1,"1f1ea":1,"1f1ea_1f1e6":1,"1f1ea_1f1e8":1,"1f1ea_1f1ea":1,"1f1ea_1f1ec":1,"1f1ea_1f1ed":1,"1f1ea_1f1f7":1,"1f1ea_1f1f8":1,"1f1ea_1f1f9":1,"1f1ea_1f1fa":1,"1f1eb":1,"1f1eb_1f1ee":1,"1f1eb_1f1ef":1,"1f1eb_1f1f0":1,"1f1eb_1f1f2":1,"1f1eb_1f1f4":1,"1f1eb_1f1f7":1,"1f1ec":1,"1f1ec_1f1e6":1,"1f1ec_1f1e7":1,"1f1ec_1f1e9":1,"1f1ec_1f1ea":1,"1f1ec_1f1eb":1,"1f1ec_1f1ec":1,"1f1ec_1f1ed":1,"1f1ec_1f1ee":1,"1f1ec_1f1f1":1,"1f1ec_1f1f2":1,"1f1ec_1f1f3":1,"1f1ec_1f1f5":1,"1f1ec_1f1f6":1,"1f1ec_1f1f7":1,"1f1ec_1f1f8":1,"1f1ec_1f1f9":1,"1f1ec_1f1fa":1,"1f1ec_1f1fc":1,"1f1ec_1f1fe":1,"1f1ed":1,"1f1ed_1f1f0":1,"1f1ed_1f1f2":1,"1f1ed_1f1f3":1,"1f1ed_1f1f7":1,"1f1ed_1f1f9":1,"1f1ed_1f1fa":1,"1f1ee":1,"1f1ee_1f1e8":1,"1f1ee_1f1e9":1,"1f1ee_1f1ea":1,"1f1ee_1f1f1":1,"1f1ee_1f1f2":1,"1f1ee_1f1f3":1,"1f1ee_1f1f4":1,"1f1ee_1f1f6":1,"1f1ee_1f1f7":1,"1f1ee_1f1f8":1,"1f1ee_1f1f9":1,"1f1ef":1,"1f1ef_1f1ea":1,"1f1ef_1f1f2":1,"1f1ef_1f1f4":1,"1f1ef_1f1f5":1,"1f1f0":1,"1f1f0_1f1ea":1,"1f1f0_1f1ec":1,"1f1f0_1f1ed":1,"1f1f0_1f1ee":1,"1f1f0_1f1f2":1,"1f1f0_1f1f3":1,"1f1f0_1f1f5":1,"1f1f0_1f1f7":1,"1f1f0_1f1fc":1,"1f1f0_1f1fe":1,"1f1f0_1f1ff":1,"1f1f1":1,"1f1f1_1f1e6":1,"1f1f1_1f1e7":1,"1f1f1_1f1e8":1,"1f1f1_1f1ee":1,"1f1f1_1f1f0":1,"1f1f1_1f1f7":1,"1f1f1_1f1f8":1,"1f1f1_1f1f9":1,"1f1f1_1f1fa":1,"1f1f1_1f1fb":1,"1f1f1_1f1fe":1,"1f1f2":1,"1f1f2_1f1e6":1,"1f1f2_1f1e8":1,"1f1f2_1f1e9":1,"1f1f2_1f1ea":1,"1f1f2_1f1eb":1,"1f1f2_1f1ec":1,"1f1f2_1f1ed":1,"1f1f2_1f1f0":1,"1f1f2_1f1f1":1,"1f1f2_1f1f2":1,"1f1f2_1f1f3":1,"1f1f2_1f1f4":1,"1f1f2_1f1f5":1,"1f1f2_1f1f6":1,"1f1f2_1f1f7":1,"1f1f2_1f1f8":1,"1f1f2_1f1f9":1,"1f1f2_1f1fa":1,"1f1f2_1f1fb":1,"1f1f2_1f1fc":1,"1f1f2_1f1fd":1,"1f1f2_1f1fe":1,"1f1f2_1f1ff":1,"1f1f3":1,"1f1f3_1f1e6":1,"1f1f3_1f1e8":1,"1f1f3_1f1ea":1,"1f1f3_1f1eb":1,"1f1f3_1f1ec":1,"1f1f3_1f1ee":1,"1f1f3_1f1f1":1,"1f1f3_1f1f4":1,"1f1f3_1f1f5":1,"1f1f3_1f1f7":1,"1f1f3_1f1fa":1,"1f1f3_1f1ff":1,"1f1f4":1,"1f1f4_1f1f2":1,"1f1f5":1,"1f1f5_1f1e6":1,"1f1f5_1f1ea":1,"1f1f5_1f1eb":1,"1f1f5_1f1ec":1,"1f1f5_1f1ed":1,"1f1f5_1f1f0":1,"1f1f5_1f1f1":1,"1f1f5_1f1f2":1,"1f1f5_1f1f3":1,"1f1f5_1f1f7":1,"1f1f5_1f1f8":1,"1f1f5_1f1f9":1,"1f1f5_1f1fc":1,"1f1f5_1f1fe":1,"1f1f6":1,"1f1f6_1f1e6":1,"1f1f7":1,"1f1f7_1f1ea":1,"1f1f7_1f1f4":1,"1f1f7_1f1f8":1,"1f1f7_1f1fa":1,"1f1f7_1f1fc":1,"1f1f8":1,"1f1f8_1f1e6":1,"1f1f8_1f1e7":1,"1f1f8_1f1e8":1,"1f1f8_1f1e9":1,"1f1f8_1f1ea":1,"1f1f8_1f1ec":1,"1f1f8_1f1ed":1,"1f1f8_1f1ee":1,"1f1f8_1f1ef":1,"1f1f8_1f1f0":1,"1f1f8_1f1f1":1,"1f1f8_1f1f2":1,"1f1f8_1f1f3":1,"1f1f8_1f1f4":1,"1f1f8_1f1f7":1,"1f1f8_1f1f8":1,"1f1f8_1f1f9":1,"1f1f8_1f1fb":1,"1f1f8_1f1fd":1,"1f1f8_1f1fe":1,"1f1f8_1f1ff":1,"1f1f9":1,"1f1f9_1f1e6":1,"1f1f9_1f1e8":1,"1f1f9_1f1e9":1,"1f1f9_1f1eb":1,"1f1f9_1f1ec":1,"1f1f9_1f1ed":1,"1f1f9_1f1ef":1,"1f1f9_1f1f0":1,"1f1f9_1f1f1":1,"1f1f9_1f1f2":1,"1f1f9_1f1f3":1,"1f1f9_1f1f4":1,"1f1f9_1f1f7":1,"1f1f9_1f1f9":1,"1f1f9_1f1fb":1,"1f1f9_1f1fc":1,"1f1f9_1f1ff":1,"1f1fa":1,"1f1fa_1f1e6":1,"1f1fa_1f1ec":1,"1f1fa_1f1f2":1,"1f1fa_1f1f3":1,"1f1fa_1f1f8":1,"1f1fa_1f1fe":1,"1f1fa_1f1ff":1,"1f1fb":1,"1f1fb_1f1e6":1,"1f1fb_1f1e8":1,"1f1fb_1f1ea":1,"1f1fb_1f1ec":1,"1f1fb_1f1ee":1,"1f1fb_1f1f3":1,"1f1fb_1f1fa":1,"1f1fc":1,"1f1fc_1f1eb":1,"1f1fc_1f1f8":1,"1f1fd":1,"1f1fd_1f1f0":1,"1f1fe":1,"1f1fe_1f1ea":1,"1f1fe_1f1f9":1,"1f1ff":1,"1f1ff_1f1e6":1,"1f1ff_1f1f2":1,"1f1ff_1f1fc":1,"1f201":1,"1f202":1,"1f21a":1,"1f22f":1,"1f232":1,"1f233":1,"1f234":1,"1f235":1,"1f236":1,"1f237":1,"1f238":1,"1f239":1,"1f23a":1,"1f250":1,"1f251":1,"1f300":1,"1f301":1,"1f302":1,"1f303":1,"1f304":1,"1f305":1,"1f306":1,"1f307":1,"1f308":1,"1f309":1,"1f30a":1,"1f30b":1,"1f30c":1,"1f30d":1,"1f30e":1,"1f30f":1,"1f310":1,"1f311":1,"1f312":1,"1f313":1,"1f314":1,"1f315":1,"1f316":1,"1f317":1,"1f318":1,"1f319":1,"1f31a":1,"1f31b":1,"1f31c":1,"1f31d":1,"1f31e":1,"1f31f":1,"1f320":1,"1f321":1,"1f324":1,"1f325":1,"1f326":1,"1f327":1,"1f328":1,"1f329":1,"1f32a":1,"1f32b":1,"1f32c":1,"1f32d":1,"1f32e":1,"1f32f":1,"1f330":1,"1f331":1,"1f332":1,"1f333":1,"1f334":1,"1f335":1,"1f336":1,"1f337":1,"1f338":1,"1f339":1,"1f33a":1,"1f33b":1,"1f33c":1,"1f33d":1,"1f33e":1,"1f33f":1,"1f340":1,"1f341":1,"1f342":1,"1f343":1,"1f344":1,"1f345":1,"1f346":1,"1f347":1,"1f348":1,"1f349":1,"1f34a":1,"1f34b":1,"1f34c":1,"1f34d":1,"1f34e":1,"1f34f":1,"1f350":1,"1f351":1,"1f352":1,"1f353":1,"1f354":1,"1f355":1,"1f356":1,"1f357":1,"1f358":1,"1f359":1,"1f35a":1,"1f35b":1,"1f35c":1,"1f35d":1,"1f35e":1,"1f35f":1,"1f360":1,"1f361":1,"1f362":1,"1f363":1,"1f364":1,"1f365":1,"1f366":1,"1f367":1,"1f368":1,"1f369":1,"1f36a":1,"1f36b":1,"1f36c":1,"1f36d":1,"1f36e":1,"1f36f":1,"1f370":1,"1f371":1,"1f372":1,"1f373":1,"1f374":1,"1f375":1,"1f376":1,"1f377":1,"1f378":1,"1f379":1,"1f37a":1,"1f37b":1,"1f37c":1,"1f37d":1,"1f37e":1,"1f37f":1,"1f380":1,"1f381":1,"1f382":1,"1f383":1,"1f384":1,"1f385":1,"1f385_1f3fb":1,"1f385_1f3fc":1,"1f385_1f3fd":1,"1f385_1f3fe":1,"1f385_1f3ff":1,"1f386":1,"1f387":1,"1f388":1,"1f389":1,"1f38a":1,"1f38b":1,"1f38c":1,"1f38d":1,"1f38e":1,"1f38f":1,"1f390":1,"1f391":1,"1f392":1,"1f393":1,"1f396":1,"1f397":1,"1f399":1,"1f39a":1,"1f39b":1,"1f39e":1,"1f39f":1,"1f3a0":1,"1f3a1":1,"1f3a2":1,"1f3a3":1,"1f3a4":1,"1f3a5":1,"1f3a6":1,"1f3a7":1,"1f3a8":1,"1f3a9":1,"1f3aa":1,"1f3ab":1,"1f3ac":1,"1f3ad":1,"1f3ae":1,"1f3af":1,"1f3b0":1,"1f3b1":1,"1f3b2":1,"1f3b3":1,"1f3b4":1,"1f3b5":1,"1f3b6":1,"1f3b7":1,"1f3b8":1,"1f3b9":1,"1f3ba":1,"1f3bb":1,"1f3bc":1,"1f3bd":1,"1f3be":1,"1f3bf":1,"1f3c0":1,"1f3c1":1,"1f3c2":1,"1f3c2_1f3fb":1,"1f3c2_1f3fc":1,"1f3c2_1f3fd":1,"1f3c2_1f3fe":1,"1f3c2_1f3ff":1,"1f3c3_1f3fb_200d_2640":1,"1f3c3_1f3fb_200d_2642":1,"1f3c3_1f3fc_200d_2640":1,"1f3c3_1f3fc_200d_2642":1,"1f3c3_1f3fd_200d_2640":1,"1f3c3_1f3fd_200d_2642":1,"1f3c3_1f3fe_200d_2640":1,"1f3c3_1f3fe_200d_2642":1,"1f3c3_1f3ff_200d_2640":1,"1f3c3_1f3ff_200d_2642":1,"1f3c3_200d_2640":1,"1f3c3_200d_2642":1,"1f3c4_1f3fb_200d_2640":1,"1f3c4_1f3fb_200d_2642":1,"1f3c4_1f3fc_200d_2640":1,"1f3c4_1f3fc_200d_2642":1,"1f3c4_1f3fd_200d_2640":1,"1f3c4_1f3fd_200d_2642":1,"1f3c4_1f3fe_200d_2640":1,"1f3c4_1f3fe_200d_2642":1,"1f3c4_1f3ff_200d_2640":1,"1f3c4_1f3ff_200d_2642":1,"1f3c4_200d_2640":1,"1f3c4_200d_2642":1,"1f3c5":1,"1f3c6":1,"1f3c7":1,"1f3c7_1f3fb":1,"1f3c7_1f3fc":1,"1f3c7_1f3fd":1,"1f3c7_1f3fe":1,"1f3c7_1f3ff":1,"1f3c8":1,"1f3c9":1,"1f3ca_1f3fb_200d_2640":1,"1f3ca_1f3fb_200d_2642":1,"1f3ca_1f3fc_200d_2640":1,"1f3ca_1f3fc_200d_2642":1,"1f3ca_1f3fd_200d_2640":1,"1f3ca_1f3fd_200d_2642":1,"1f3ca_1f3fe_200d_2640":1,"1f3ca_1f3fe_200d_2642":1,"1f3ca_1f3ff_200d_2640":1,"1f3ca_1f3ff_200d_2642":1,"1f3ca_200d_2640":1,"1f3ca_200d_2642":1,"1f3cb_1f3fb_200d_2640":1,"1f3cb_1f3fb_200d_2642":1,"1f3cb_1f3fc_200d_2640":1,"1f3cb_1f3fc_200d_2642":1,"1f3cb_1f3fd_200d_2640":1,"1f3cb_1f3fd_200d_2642":1,"1f3cb_1f3fe_200d_2640":1,"1f3cb_1f3fe_200d_2642":1,"1f3cb_1f3ff_200d_2640":1,"1f3cb_1f3ff_200d_2642":1,"1f3cb_200d_2640":1,"1f3cb_200d_2642":1,"1f3cc_1f3fb_200d_2640":1,"1f3cc_1f3fb_200d_2642":1,"1f3cc_1f3fc_200d_2640":1,"1f3cc_1f3fc_200d_2642":1,"1f3cc_1f3fd_200d_2640":1,"1f3cc_1f3fd_200d_2642":1,"1f3cc_1f3fe_200d_2640":1,"1f3cc_1f3fe_200d_2642":1,"1f3cc_1f3ff_200d_2640":1,"1f3cc_1f3ff_200d_2642":1,"1f3cc_200d_2640":1,"1f3cc_200d_2642":1,"1f3cd":1,"1f3ce":1,"1f3cf":1,"1f3d0":1,"1f3d1":1,"1f3d2":1,"1f3d3":1,"1f3d4":1,"1f3d5":1,"1f3d6":1,"1f3d7":1,"1f3d8":1,"1f3d9":1,"1f3da":1,"1f3db":1,"1f3dc":1,"1f3dd":1,"1f3de":1,"1f3df":1,"1f3e0":1,"1f3e1":1,"1f3e2":1,"1f3e3":1,"1f3e4":1,"1f3e5":1,"1f3e6":1,"1f3e7":1,"1f3e8":1,"1f3e9":1,"1f3ea":1,"1f3eb":1,"1f3ec":1,"1f3ed":1,"1f3ee":1,"1f3ef":1,"1f3f0":1,"1f3f3":1,"1f3f3_200d_1f308":1,"1f3f4":1,"1f3f4_e0067_e0062_e0065_e006e_e0067_e007f":1,"1f3f4_e0067_e0062_e0073_e0063_e0074_e007f":1,"1f3f4_e0067_e0062_e0077_e006c_e0073_e007f":1,"1f3f5":1,"1f3f7":1,"1f3f8":1,"1f3f9":1,"1f3fa":1,"1f3fb":1,"1f3fc":1,"1f3fd":1,"1f3fe":1,"1f3ff":1,"1f400":1,"1f401":1,"1f402":1,"1f403":1,"1f404":1,"1f405":1,"1f406":1,"1f407":1,"1f408":1,"1f409":1,"1f40a":1,"1f40b":1,"1f40c":1,"1f40d":1,"1f40e":1,"1f40f":1,"1f410":1,"1f411":1,"1f412":1,"1f413":1,"1f414":1,"1f415":1,"1f416":1,"1f417":1,"1f418":1,"1f419":1,"1f41a":1,"1f41b":1,"1f41c":1,"1f41d":1,"1f41e":1,"1f41f":1,"1f420":1,"1f421":1,"1f422":1,"1f423":1,"1f424":1,"1f425":1,"1f426":1,"1f427":1,"1f428":1,"1f429":1,"1f42a":1,"1f42b":1,"1f42c":1,"1f42d":1,"1f42e":1,"1f42f":1,"1f430":1,"1f431":1,"1f432":1,"1f433":1,"1f434":1,"1f435":1,"1f436":1,"1f437":1,"1f438":1,"1f439":1,"1f43a":1,"1f43b":1,"1f43c":1,"1f43d":1,"1f43e":1,"1f43f":1,"1f440":1,"1f441":1,"1f441_200d_1f5e8":1,"1f442":1,"1f442_1f3fb":1,"1f442_1f3fc":1,"1f442_1f3fd":1,"1f442_1f3fe":1,"1f442_1f3ff":1,"1f443":1,"1f443_1f3fb":1,"1f443_1f3fc":1,"1f443_1f3fd":1,"1f443_1f3fe":1,"1f443_1f3ff":1,"1f444":1,"1f445":1,"1f446":1,"1f446_1f3fb":1,"1f446_1f3fc":1,"1f446_1f3fd":1,"1f446_1f3fe":1,"1f446_1f3ff":1,"1f447":1,"1f447_1f3fb":1,"1f447_1f3fc":1,"1f447_1f3fd":1,"1f447_1f3fe":1,"1f447_1f3ff":1,"1f448":1,"1f448_1f3fb":1,"1f448_1f3fc":1,"1f448_1f3fd":1,"1f448_1f3fe":1,"1f448_1f3ff":1,"1f449":1,"1f449_1f3fb":1,"1f449_1f3fc":1,"1f449_1f3fd":1,"1f449_1f3fe":1,"1f449_1f3ff":1,"1f44a":1,"1f44a_1f3fb":1,"1f44a_1f3fc":1,"1f44a_1f3fd":1,"1f44a_1f3fe":1,"1f44a_1f3ff":1,"1f44b":1,"1f44b_1f3fb":1,"1f44b_1f3fc":1,"1f44b_1f3fd":1,"1f44b_1f3fe":1,"1f44b_1f3ff":1,"1f44c":1,"1f44c_1f3fb":1,"1f44c_1f3fc":1,"1f44c_1f3fd":1,"1f44c_1f3fe":1,"1f44c_1f3ff":1,"1f44d":1,"1f44d_1f3fb":1,"1f44d_1f3fc":1,"1f44d_1f3fd":1,"1f44d_1f3fe":1,"1f44d_1f3ff":1,"1f44e":1,"1f44e_1f3fb":1,"1f44e_1f3fc":1,"1f44e_1f3fd":1,"1f44e_1f3fe":1,"1f44e_1f3ff":1,"1f44f":1,"1f44f_1f3fb":1,"1f44f_1f3fc":1,"1f44f_1f3fd":1,"1f44f_1f3fe":1,"1f44f_1f3ff":1,"1f450":1,"1f450_1f3fb":1,"1f450_1f3fc":1,"1f450_1f3fd":1,"1f450_1f3fe":1,"1f450_1f3ff":1,"1f451":1,"1f452":1,"1f453":1,"1f454":1,"1f455":1,"1f456":1,"1f457":1,"1f458":1,"1f459":1,"1f45a":1,"1f45b":1,"1f45c":1,"1f45d":1,"1f45e":1,"1f45f":1,"1f460":1,"1f461":1,"1f462":1,"1f463":1,"1f464":1,"1f465":1,"1f466":1,"1f466_1f3fb":1,"1f466_1f3fc":1,"1f466_1f3fd":1,"1f466_1f3fe":1,"1f466_1f3ff":1,"1f467":1,"1f467_1f3fb":1,"1f467_1f3fc":1,"1f467_1f3fd":1,"1f467_1f3fe":1,"1f467_1f3ff":1,"1f468":1,"1f468_1f3fb":1,"1f468_1f3fb_200d_1f33e":1,"1f468_1f3fb_200d_1f373":1,"1f468_1f3fb_200d_1f393":1,"1f468_1f3fb_200d_1f3a4":1,"1f468_1f3fb_200d_1f3a8":1,"1f468_1f3fb_200d_1f3eb":1,"1f468_1f3fb_200d_1f3ed":1,"1f468_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f468_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f468_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f468_1f3fb_200d_1f4bb":1,"1f468_1f3fb_200d_1f4bc":1,"1f468_1f3fb_200d_1f527":1,"1f468_1f3fb_200d_1f52c":1,"1f468_1f3fb_200d_1f680":1,"1f468_1f3fb_200d_1f692":1,"1f468_1f3fb_200d_2695":1,"1f468_1f3fb_200d_2696":1,"1f468_1f3fb_200d_2708":1,"1f468_1f3fc":1,"1f468_1f3fc_200d_1f33e":1,"1f468_1f3fc_200d_1f373":1,"1f468_1f3fc_200d_1f393":1,"1f468_1f3fc_200d_1f3a4":1,"1f468_1f3fc_200d_1f3a8":1,"1f468_1f3fc_200d_1f3eb":1,"1f468_1f3fc_200d_1f3ed":1,"1f468_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f468_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f468_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f468_1f3fc_200d_1f4bb":1,"1f468_1f3fc_200d_1f4bc":1,"1f468_1f3fc_200d_1f527":1,"1f468_1f3fc_200d_1f52c":1,"1f468_1f3fc_200d_1f680":1,"1f468_1f3fc_200d_1f692":1,"1f468_1f3fc_200d_2695":1,"1f468_1f3fc_200d_2696":1,"1f468_1f3fc_200d_2708":1,"1f468_1f3fd":1,"1f468_1f3fd_200d_1f33e":1,"1f468_1f3fd_200d_1f373":1,"1f468_1f3fd_200d_1f393":1,"1f468_1f3fd_200d_1f3a4":1,"1f468_1f3fd_200d_1f3a8":1,"1f468_1f3fd_200d_1f3eb":1,"1f468_1f3fd_200d_1f3ed":1,"1f468_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f468_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f468_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f468_1f3fd_200d_1f4bb":1,"1f468_1f3fd_200d_1f4bc":1,"1f468_1f3fd_200d_1f527":1,"1f468_1f3fd_200d_1f52c":1,"1f468_1f3fd_200d_1f680":1,"1f468_1f3fd_200d_1f692":1,"1f468_1f3fd_200d_2695":1,"1f468_1f3fd_200d_2696":1,"1f468_1f3fd_200d_2708":1,"1f468_1f3fe":1,"1f468_1f3fe_200d_1f33e":1,"1f468_1f3fe_200d_1f373":1,"1f468_1f3fe_200d_1f393":1,"1f468_1f3fe_200d_1f3a4":1,"1f468_1f3fe_200d_1f3a8":1,"1f468_1f3fe_200d_1f3eb":1,"1f468_1f3fe_200d_1f3ed":1,"1f468_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f468_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f468_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f468_1f3fe_200d_1f4bb":1,"1f468_1f3fe_200d_1f4bc":1,"1f468_1f3fe_200d_1f527":1,"1f468_1f3fe_200d_1f52c":1,"1f468_1f3fe_200d_1f680":1,"1f468_1f3fe_200d_1f692":1,"1f468_1f3fe_200d_2695":1,"1f468_1f3fe_200d_2696":1,"1f468_1f3fe_200d_2708":1,"1f468_1f3ff":1,"1f468_1f3ff_200d_1f33e":1,"1f468_1f3ff_200d_1f373":1,"1f468_1f3ff_200d_1f393":1,"1f468_1f3ff_200d_1f3a4":1,"1f468_1f3ff_200d_1f3a8":1,"1f468_1f3ff_200d_1f3eb":1,"1f468_1f3ff_200d_1f3ed":1,"1f468_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f468_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f468_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f468_1f3ff_200d_1f4bb":1,"1f468_1f3ff_200d_1f4bc":1,"1f468_1f3ff_200d_1f527":1,"1f468_1f3ff_200d_1f52c":1,"1f468_1f3ff_200d_1f680":1,"1f468_1f3ff_200d_1f692":1,"1f468_1f3ff_200d_2695":1,"1f468_1f3ff_200d_2696":1,"1f468_1f3ff_200d_2708":1,"1f468_200d_1f33e":1,"1f468_200d_1f373":1,"1f468_200d_1f393":1,"1f468_200d_1f3a4":1,"1f468_200d_1f3a8":1,"1f468_200d_1f3eb":1,"1f468_200d_1f3ed":1,"1f468_200d_1f466":1,"1f468_200d_1f466_200d_1f466":1,"1f468_200d_1f467":1,"1f468_200d_1f467_200d_1f466":1,"1f468_200d_1f467_200d_1f467":1,"1f468_200d_1f468_200d_1f466":1,"1f468_200d_1f468_200d_1f466_200d_1f466":1,"1f468_200d_1f468_200d_1f467":1,"1f468_200d_1f468_200d_1f467_200d_1f466":1,"1f468_200d_1f468_200d_1f467_200d_1f467":1,"1f468_200d_1f469_200d_1f466":1,"1f468_200d_1f469_200d_1f466_200d_1f466":1,"1f468_200d_1f469_200d_1f467":1,"1f468_200d_1f469_200d_1f467_200d_1f466":1,"1f468_200d_1f469_200d_1f467_200d_1f467":1,"1f468_200d_1f4bb":1,"1f468_200d_1f4bc":1,"1f468_200d_1f527":1,"1f468_200d_1f52c":1,"1f468_200d_1f680":1,"1f468_200d_1f692":1,"1f468_200d_2695":1,"1f468_200d_2696":1,"1f468_200d_2708":1,"1f468_200d_2764_200d_1f468":1,"1f468_200d_2764_200d_1f48b_200d_1f468":1,"1f469":1,"1f469_1f3fb":1,"1f469_1f3fb_200d_1f33e":1,"1f469_1f3fb_200d_1f373":1,"1f469_1f3fb_200d_1f393":1,"1f469_1f3fb_200d_1f3a4":1,"1f469_1f3fb_200d_1f3a8":1,"1f469_1f3fb_200d_1f3eb":1,"1f469_1f3fb_200d_1f3ed":1,"1f469_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f466_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f466_1f3fb":1,"1f469_1f3fb_200d_1f469_1f3fb_200d_1f467_1f3fb_200d_1f467_1f3fb":1,"1f469_1f3fb_200d_1f4bb":1,"1f469_1f3fb_200d_1f4bc":1,"1f469_1f3fb_200d_1f527":1,"1f469_1f3fb_200d_1f52c":1,"1f469_1f3fb_200d_1f680":1,"1f469_1f3fb_200d_1f692":1,"1f469_1f3fb_200d_2695":1,"1f469_1f3fb_200d_2696":1,"1f469_1f3fb_200d_2708":1,"1f469_1f3fc":1,"1f469_1f3fc_200d_1f33e":1,"1f469_1f3fc_200d_1f373":1,"1f469_1f3fc_200d_1f393":1,"1f469_1f3fc_200d_1f3a4":1,"1f469_1f3fc_200d_1f3a8":1,"1f469_1f3fc_200d_1f3eb":1,"1f469_1f3fc_200d_1f3ed":1,"1f469_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f466_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f466_1f3fc":1,"1f469_1f3fc_200d_1f469_1f3fc_200d_1f467_1f3fc_200d_1f467_1f3fc":1,"1f469_1f3fc_200d_1f4bb":1,"1f469_1f3fc_200d_1f4bc":1,"1f469_1f3fc_200d_1f527":1,"1f469_1f3fc_200d_1f52c":1,"1f469_1f3fc_200d_1f680":1,"1f469_1f3fc_200d_1f692":1,"1f469_1f3fc_200d_2695":1,"1f469_1f3fc_200d_2696":1,"1f469_1f3fc_200d_2708":1,"1f469_1f3fd":1,"1f469_1f3fd_200d_1f33e":1,"1f469_1f3fd_200d_1f373":1,"1f469_1f3fd_200d_1f393":1,"1f469_1f3fd_200d_1f3a4":1,"1f469_1f3fd_200d_1f3a8":1,"1f469_1f3fd_200d_1f3eb":1,"1f469_1f3fd_200d_1f3ed":1,"1f469_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f466_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f466_1f3fd":1,"1f469_1f3fd_200d_1f469_1f3fd_200d_1f467_1f3fd_200d_1f467_1f3fd":1,"1f469_1f3fd_200d_1f4bb":1,"1f469_1f3fd_200d_1f4bc":1,"1f469_1f3fd_200d_1f527":1,"1f469_1f3fd_200d_1f52c":1,"1f469_1f3fd_200d_1f680":1,"1f469_1f3fd_200d_1f692":1,"1f469_1f3fd_200d_2695":1,"1f469_1f3fd_200d_2696":1,"1f469_1f3fd_200d_2708":1,"1f469_1f3fe":1,"1f469_1f3fe_200d_1f33e":1,"1f469_1f3fe_200d_1f373":1,"1f469_1f3fe_200d_1f393":1,"1f469_1f3fe_200d_1f3a4":1,"1f469_1f3fe_200d_1f3a8":1,"1f469_1f3fe_200d_1f3eb":1,"1f469_1f3fe_200d_1f3ed":1,"1f469_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f466_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f466_1f3fe":1,"1f469_1f3fe_200d_1f469_1f3fe_200d_1f467_1f3fe_200d_1f467_1f3fe":1,"1f469_1f3fe_200d_1f4bb":1,"1f469_1f3fe_200d_1f4bc":1,"1f469_1f3fe_200d_1f527":1,"1f469_1f3fe_200d_1f52c":1,"1f469_1f3fe_200d_1f680":1,"1f469_1f3fe_200d_1f692":1,"1f469_1f3fe_200d_2695":1,"1f469_1f3fe_200d_2696":1,"1f469_1f3fe_200d_2708":1,"1f469_1f3ff":1,"1f469_1f3ff_200d_1f33e":1,"1f469_1f3ff_200d_1f373":1,"1f469_1f3ff_200d_1f393":1,"1f469_1f3ff_200d_1f3a4":1,"1f469_1f3ff_200d_1f3a8":1,"1f469_1f3ff_200d_1f3eb":1,"1f469_1f3ff_200d_1f3ed":1,"1f469_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f466_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f466_1f3ff":1,"1f469_1f3ff_200d_1f469_1f3ff_200d_1f467_1f3ff_200d_1f467_1f3ff":1,"1f469_1f3ff_200d_1f4bb":1,"1f469_1f3ff_200d_1f4bc":1,"1f469_1f3ff_200d_1f527":1,"1f469_1f3ff_200d_1f52c":1,"1f469_1f3ff_200d_1f680":1,"1f469_1f3ff_200d_1f692":1,"1f469_1f3ff_200d_2695":1,"1f469_1f3ff_200d_2696":1,"1f469_1f3ff_200d_2708":1,"1f469_200d_1f33e":1,"1f469_200d_1f373":1,"1f469_200d_1f393":1,"1f469_200d_1f3a4":1,"1f469_200d_1f3a8":1,"1f469_200d_1f3eb":1,"1f469_200d_1f3ed":1,"1f469_200d_1f466":1,"1f469_200d_1f466_200d_1f466":1,"1f469_200d_1f467":1,"1f469_200d_1f467_200d_1f466":1,"1f469_200d_1f467_200d_1f467":1,"1f469_200d_1f469_200d_1f466":1,"1f469_200d_1f469_200d_1f466_200d_1f466":1,"1f469_200d_1f469_200d_1f467":1,"1f469_200d_1f469_200d_1f467_200d_1f466":1,"1f469_200d_1f469_200d_1f467_200d_1f467":1,"1f469_200d_1f4bb":1,"1f469_200d_1f4bc":1,"1f469_200d_1f527":1,"1f469_200d_1f52c":1,"1f469_200d_1f680":1,"1f469_200d_1f692":1,"1f469_200d_2695":1,"1f469_200d_2696":1,"1f469_200d_2708":1,"1f469_200d_2764_200d_1f468":1,"1f469_200d_2764_200d_1f469":1,"1f469_200d_2764_200d_1f48b_200d_1f468":1,"1f469_200d_2764_200d_1f48b_200d_1f469":1,"1f46a_1f3fb":1,"1f46a_1f3fc":1,"1f46a_1f3fd":1,"1f46a_1f3fe":1,"1f46a_1f3ff":1,"1f46b":1,"1f46b_1f3fb":1,"1f46b_1f3fc":1,"1f46b_1f3fd":1,"1f46b_1f3fe":1,"1f46b_1f3ff":1,"1f46c":1,"1f46c_1f3fb":1,"1f46c_1f3fc":1,"1f46c_1f3fd":1,"1f46c_1f3fe":1,"1f46c_1f3ff":1,"1f46d":1,"1f46d_1f3fb":1,"1f46d_1f3fc":1,"1f46d_1f3fd":1,"1f46d_1f3fe":1,"1f46d_1f3ff":1,"1f46e_1f3fb_200d_2640":1,"1f46e_1f3fb_200d_2642":1,"1f46e_1f3fc_200d_2640":1,"1f46e_1f3fc_200d_2642":1,"1f46e_1f3fd_200d_2640":1,"1f46e_1f3fd_200d_2642":1,"1f46e_1f3fe_200d_2640":1,"1f46e_1f3fe_200d_2642":1,"1f46e_1f3ff_200d_2640":1,"1f46e_1f3ff_200d_2642":1,"1f46e_200d_2640":1,"1f46e_200d_2642":1,"1f46f_1f3fb_200d_2640":1,"1f46f_1f3fb_200d_2642":1,"1f46f_1f3fc_200d_2640":1,"1f46f_1f3fc_200d_2642":1,"1f46f_1f3fd_200d_2640":1,"1f46f_1f3fd_200d_2642":1,"1f46f_1f3fe_200d_2640":1,"1f46f_1f3fe_200d_2642":1,"1f46f_1f3ff_200d_2640":1,"1f46f_1f3ff_200d_2642":1,"1f46f_200d_2640":1,"1f46f_200d_2642":1,"1f470":1,"1f470_1f3fb":1,"1f470_1f3fc":1,"1f470_1f3fd":1,"1f470_1f3fe":1,"1f470_1f3ff":1,"1f471_1f3fb_200d_2640":1,"1f471_1f3fb_200d_2642":1,"1f471_1f3fc_200d_2640":1,"1f471_1f3fc_200d_2642":1,"1f471_1f3fd_200d_2640":1,"1f471_1f3fd_200d_2642":1,"1f471_1f3fe_200d_2640":1,"1f471_1f3fe_200d_2642":1,"1f471_1f3ff_200d_2640":1,"1f471_1f3ff_200d_2642":1,"1f471_200d_2640":1,"1f471_200d_2642":1,"1f472":1,"1f472_1f3fb":1,"1f472_1f3fc":1,"1f472_1f3fd":1,"1f472_1f3fe":1,"1f472_1f3ff":1,"1f473_1f3fb_200d_2640":1,"1f473_1f3fb_200d_2642":1,"1f473_1f3fc_200d_2640":1,"1f473_1f3fc_200d_2642":1,"1f473_1f3fd_200d_2640":1,"1f473_1f3fd_200d_2642":1,"1f473_1f3fe_200d_2640":1,"1f473_1f3fe_200d_2642":1,"1f473_1f3ff_200d_2640":1,"1f473_1f3ff_200d_2642":1,"1f473_200d_2640":1,"1f473_200d_2642":1,"1f474":1,"1f474_1f3fb":1,"1f474_1f3fc":1,"1f474_1f3fd":1,"1f474_1f3fe":1,"1f474_1f3ff":1,"1f475":1,"1f475_1f3fb":1,"1f475_1f3fc":1,"1f475_1f3fd":1,"1f475_1f3fe":1,"1f475_1f3ff":1,"1f476":1,"1f476_1f3fb":1,"1f476_1f3fc":1,"1f476_1f3fd":1,"1f476_1f3fe":1,"1f476_1f3ff":1,"1f477_1f3fb_200d_2640":1,"1f477_1f3fb_200d_2642":1,"1f477_1f3fc_200d_2640":1,"1f477_1f3fc_200d_2642":1,"1f477_1f3fd_200d_2640":1,"1f477_1f3fd_200d_2642":1,"1f477_1f3fe_200d_2640":1,"1f477_1f3fe_200d_2642":1,"1f477_1f3ff_200d_2640":1,"1f477_1f3ff_200d_2642":1,"1f477_200d_2640":1,"1f477_200d_2642":1,"1f478":1,"1f478_1f3fb":1,"1f478_1f3fc":1,"1f478_1f3fd":1,"1f478_1f3fe":1,"1f478_1f3ff":1,"1f479":1,"1f47a":1,"1f47b":1,"1f47c":1,"1f47c_1f3fb":1,"1f47c_1f3fc":1,"1f47c_1f3fd":1,"1f47c_1f3fe":1,"1f47c_1f3ff":1,"1f47d":1,"1f47e":1,"1f47f":1,"1f480":1,"1f481_1f3fb_200d_2640":1,"1f481_1f3fb_200d_2642":1,"1f481_1f3fc_200d_2640":1,"1f481_1f3fc_200d_2642":1,"1f481_1f3fd_200d_2640":1,"1f481_1f3fd_200d_2642":1,"1f481_1f3fe_200d_2640":1,"1f481_1f3fe_200d_2642":1,"1f481_1f3ff_200d_2640":1,"1f481_1f3ff_200d_2642":1,"1f481_200d_2640":1,"1f481_200d_2642":1,"1f482_1f3fb_200d_2640":1,"1f482_1f3fb_200d_2642":1,"1f482_1f3fc_200d_2640":1,"1f482_1f3fc_200d_2642":1,"1f482_1f3fd_200d_2640":1,"1f482_1f3fd_200d_2642":1,"1f482_1f3fe_200d_2640":1,"1f482_1f3fe_200d_2642":1,"1f482_1f3ff_200d_2640":1,"1f482_1f3ff_200d_2642":1,"1f482_200d_2640":1,"1f482_200d_2642":1,"1f483":1,"1f483_1f3fb":1,"1f483_1f3fc":1,"1f483_1f3fd":1,"1f483_1f3fe":1,"1f483_1f3ff":1,"1f484":1,"1f485":1,"1f485_1f3fb":1,"1f485_1f3fc":1,"1f485_1f3fd":1,"1f485_1f3fe":1,"1f485_1f3ff":1,"1f486_1f3fb_200d_2640":1,"1f486_1f3fb_200d_2642":1,"1f486_1f3fc_200d_2640":1,"1f486_1f3fc_200d_2642":1,"1f486_1f3fd_200d_2640":1,"1f486_1f3fd_200d_2642":1,"1f486_1f3fe_200d_2640":1,"1f486_1f3fe_200d_2642":1,"1f486_1f3ff_200d_2640":1,"1f486_1f3ff_200d_2642":1,"1f486_200d_2640":1,"1f486_200d_2642":1,"1f487_1f3fb_200d_2640":1,"1f487_1f3fb_200d_2642":1,"1f487_1f3fc_200d_2640":1,"1f487_1f3fc_200d_2642":1,"1f487_1f3fd_200d_2640":1,"1f487_1f3fd_200d_2642":1,"1f487_1f3fe_200d_2640":1,"1f487_1f3fe_200d_2642":1,"1f487_1f3ff_200d_2640":1,"1f487_1f3ff_200d_2642":1,"1f487_200d_2640":1,"1f487_200d_2642":1,"1f488":1,"1f489":1,"1f48a":1,"1f48b":1,"1f48c":1,"1f48d":1,"1f48e":1,"1f490":1,"1f492":1,"1f493":1,"1f494":1,"1f495":1,"1f496":1,"1f497":1,"1f498":1,"1f499":1,"1f49a":1,"1f49b":1,"1f49c":1,"1f49d":1,"1f49e":1,"1f49f":1,"1f4a0":1,"1f4a1":1,"1f4a2":1,"1f4a3":1,"1f4a4":1,"1f4a5":1,"1f4a6":1,"1f4a7":1,"1f4a8":1,"1f4a9":1,"1f4aa":1,"1f4aa_1f3fb":1,"1f4aa_1f3fc":1,"1f4aa_1f3fd":1,"1f4aa_1f3fe":1,"1f4aa_1f3ff":1,"1f4ab":1,"1f4ac":1,"1f4ad":1,"1f4ae":1,"1f4af":1,"1f4b0":1,"1f4b1":1,"1f4b2":1,"1f4b3":1,"1f4b4":1,"1f4b5":1,"1f4b6":1,"1f4b7":1,"1f4b8":1,"1f4b9":1,"1f4ba":1,"1f4bb":1,"1f4bc":1,"1f4bd":1,"1f4be":1,"1f4bf":1,"1f4c0":1,"1f4c1":1,"1f4c2":1,"1f4c3":1,"1f4c4":1,"1f4c5":1,"1f4c6":1,"1f4c7":1,"1f4c8":1,"1f4c9":1,"1f4ca":1,"1f4cb":1,"1f4cc":1,"1f4cd":1,"1f4ce":1,"1f4cf":1,"1f4d0":1,"1f4d1":1,"1f4d2":1,"1f4d3":1,"1f4d4":1,"1f4d5":1,"1f4d6":1,"1f4d7":1,"1f4d8":1,"1f4d9":1,"1f4da":1,"1f4db":1,"1f4dc":1,"1f4dd":1,"1f4de":1,"1f4df":1,"1f4e0":1,"1f4e1":1,"1f4e2":1,"1f4e3":1,"1f4e4":1,"1f4e5":1,"1f4e6":1,"1f4e7":1,"1f4e8":1,"1f4e9":1,"1f4ea":1,"1f4eb":1,"1f4ec":1,"1f4ed":1,"1f4ee":1,"1f4ef":1,"1f4f0":1,"1f4f1":1,"1f4f2":1,"1f4f3":1,"1f4f4":1,"1f4f5":1,"1f4f6":1,"1f4f7":1,"1f4f8":1,"1f4f9":1,"1f4fa":1,"1f4fb":1,"1f4fc":1,"1f4fd":1,"1f4ff":1,"1f500":1,"1f501":1,"1f502":1,"1f503":1,"1f504":1,"1f505":1,"1f506":1,"1f507":1,"1f508":1,"1f509":1,"1f50a":1,"1f50b":1,"1f50c":1,"1f50d":1,"1f50e":1,"1f50f":1,"1f510":1,"1f511":1,"1f512":1,"1f513":1,"1f514":1,"1f515":1,"1f516":1,"1f517":1,"1f518":1,"1f519":1,"1f51a":1,"1f51b":1,"1f51c":1,"1f51d":1,"1f51e":1,"1f51f":1,"1f520":1,"1f521":1,"1f522":1,"1f523":1,"1f524":1,"1f525":1,"1f526":1,"1f527":1,"1f528":1,"1f529":1,"1f52a":1,"1f52b":1,"1f52c":1,"1f52d":1,"1f52e":1,"1f52f":1,"1f530":1,"1f531":1,"1f532":1,"1f533":1,"1f534":1,"1f535":1,"1f536":1,"1f537":1,"1f538":1,"1f539":1,"1f53a":1,"1f53b":1,"1f53c":1,"1f53d":1,"1f549":1,"1f54a":1,"1f54b":1,"1f54c":1,"1f54d":1,"1f54e":1,"1f550":1,"1f551":1,"1f552":1,"1f553":1,"1f554":1,"1f555":1,"1f556":1,"1f557":1,"1f558":1,"1f559":1,"1f55a":1,"1f55b":1,"1f55c":1,"1f55d":1,"1f55e":1,"1f55f":1,"1f560":1,"1f561":1,"1f562":1,"1f563":1,"1f564":1,"1f565":1,"1f566":1,"1f567":1,"1f56f":1,"1f570":1,"1f573":1,"1f574":1,"1f574_1f3fb":1,"1f574_1f3fb_200d_2640":1,"1f574_1f3fc":1,"1f574_1f3fc_200d_2640":1,"1f574_1f3fd":1,"1f574_1f3fd_200d_2640":1,"1f574_1f3fe":1,"1f574_1f3fe_200d_2640":1,"1f574_1f3ff":1,"1f574_1f3ff_200d_2640":1,"1f574_200d_2640":1,"1f575_1f3fb_200d_2640":1,"1f575_1f3fb_200d_2642":1,"1f575_1f3fc_200d_2640":1,"1f575_1f3fc_200d_2642":1,"1f575_1f3fd_200d_2640":1,"1f575_1f3fd_200d_2642":1,"1f575_1f3fe_200d_2640":1,"1f575_1f3fe_200d_2642":1,"1f575_1f3ff_200d_2640":1,"1f575_1f3ff_200d_2642":1,"1f575_200d_2640":1,"1f575_200d_2642":1,"1f576":1,"1f577":1,"1f578":1,"1f579":1,"1f57a":1,"1f57a_1f3fb":1,"1f57a_1f3fc":1,"1f57a_1f3fd":1,"1f57a_1f3fe":1,"1f57a_1f3ff":1,"1f587":1,"1f58a":1,"1f58b":1,"1f58c":1,"1f58d":1,"1f590":1,"1f590_1f3fb":1,"1f590_1f3fc":1,"1f590_1f3fd":1,"1f590_1f3fe":1,"1f590_1f3ff":1,"1f595":1,"1f595_1f3fb":1,"1f595_1f3fc":1,"1f595_1f3fd":1,"1f595_1f3fe":1,"1f595_1f3ff":1,"1f596":1,"1f596_1f3fb":1,"1f596_1f3fc":1,"1f596_1f3fd":1,"1f596_1f3fe":1,"1f596_1f3ff":1,"1f5a4":1,"1f5a5":1,"1f5a8":1,"1f5b1":1,"1f5b2":1,"1f5bc":1,"1f5c2":1,"1f5c3":1,"1f5c4":1,"1f5d1":1,"1f5d2":1,"1f5d3":1,"1f5dc":1,"1f5dd":1,"1f5de":1,"1f5e1":1,"1f5e3":1,"1f5e8":1,"1f5ef":1,"1f5f3":1,"1f5fa":1,"1f5fb":1,"1f5fc":1,"1f5fd":1,"1f5fe":1,"1f5ff":1,"1f600":1,"1f601":1,"1f602":1,"1f603":1,"1f604":1,"1f605":1,"1f606":1,"1f607":1,"1f608":1,"1f609":1,"1f60a":1,"1f60b":1,"1f60c":1,"1f60d":1,"1f60e":1,"1f60f":1,"1f610":1,"1f611":1,"1f612":1,"1f613":1,"1f614":1,"1f615":1,"1f616":1,"1f617":1,"1f618":1,"1f619":1,"1f61a":1,"1f61b":1,"1f61c":1,"1f61d":1,"1f61e":1,"1f61f":1,"1f620":1,"1f621":1,"1f622":1,"1f623":1,"1f624":1,"1f625":1,"1f626":1,"1f627":1,"1f628":1,"1f629":1,"1f62a":1,"1f62b":1,"1f62c":1,"1f62d":1,"1f62e":1,"1f62f":1,"1f630":1,"1f631":1,"1f632":1,"1f633":1,"1f634":1,"1f635":1,"1f636":1,"1f637":1,"1f638":1,"1f639":1,"1f63a":1,"1f63b":1,"1f63c":1,"1f63d":1,"1f63e":1,"1f63f":1,"1f640":1,"1f641":1,"1f642":1,"1f643":1,"1f644":1,"1f645_1f3fb_200d_2640":1,"1f645_1f3fb_200d_2642":1,"1f645_1f3fc_200d_2640":1,"1f645_1f3fc_200d_2642":1,"1f645_1f3fd_200d_2640":1,"1f645_1f3fd_200d_2642":1,"1f645_1f3fe_200d_2640":1,"1f645_1f3fe_200d_2642":1,"1f645_1f3ff_200d_2640":1,"1f645_1f3ff_200d_2642":1,"1f645_200d_2640":1,"1f645_200d_2642":1,"1f646_1f3fb_200d_2640":1,"1f646_1f3fb_200d_2642":1,"1f646_1f3fc_200d_2640":1,"1f646_1f3fc_200d_2642":1,"1f646_1f3fd_200d_2640":1,"1f646_1f3fd_200d_2642":1,"1f646_1f3fe_200d_2640":1,"1f646_1f3fe_200d_2642":1,"1f646_1f3ff_200d_2640":1,"1f646_1f3ff_200d_2642":1,"1f646_200d_2640":1,"1f646_200d_2642":1,"1f647_1f3fb_200d_2640":1,"1f647_1f3fb_200d_2642":1,"1f647_1f3fc_200d_2640":1,"1f647_1f3fc_200d_2642":1,"1f647_1f3fd_200d_2640":1,"1f647_1f3fd_200d_2642":1,"1f647_1f3fe_200d_2640":1,"1f647_1f3fe_200d_2642":1,"1f647_1f3ff_200d_2640":1,"1f647_1f3ff_200d_2642":1,"1f647_200d_2640":1,"1f647_200d_2642":1,"1f648":1,"1f649":1,"1f64a":1,"1f64b_1f3fb_200d_2640":1,"1f64b_1f3fb_200d_2642":1,"1f64b_1f3fc_200d_2640":1,"1f64b_1f3fc_200d_2642":1,"1f64b_1f3fd_200d_2640":1,"1f64b_1f3fd_200d_2642":1,"1f64b_1f3fe_200d_2640":1,"1f64b_1f3fe_200d_2642":1,"1f64b_1f3ff_200d_2640":1,"1f64b_1f3ff_200d_2642":1,"1f64b_200d_2640":1,"1f64b_200d_2642":1,"1f64c":1,"1f64c_1f3fb":1,"1f64c_1f3fc":1,"1f64c_1f3fd":1,"1f64c_1f3fe":1,"1f64c_1f3ff":1,"1f64d_1f3fb_200d_2640":1,"1f64d_1f3fb_200d_2642":1,"1f64d_1f3fc_200d_2640":1,"1f64d_1f3fc_200d_2642":1,"1f64d_1f3fd_200d_2640":1,"1f64d_1f3fd_200d_2642":1,"1f64d_1f3fe_200d_2640":1,"1f64d_1f3fe_200d_2642":1,"1f64d_1f3ff_200d_2640":1,"1f64d_1f3ff_200d_2642":1,"1f64d_200d_2640":1,"1f64d_200d_2642":1,"1f64e_1f3fb_200d_2640":1,"1f64e_1f3fb_200d_2642":1,"1f64e_1f3fc_200d_2640":1,"1f64e_1f3fc_200d_2642":1,"1f64e_1f3fd_200d_2640":1,"1f64e_1f3fd_200d_2642":1,"1f64e_1f3fe_200d_2640":1,"1f64e_1f3fe_200d_2642":1,"1f64e_1f3ff_200d_2640":1,"1f64e_1f3ff_200d_2642":1,"1f64e_200d_2640":1,"1f64e_200d_2642":1,"1f64f":1,"1f64f_1f3fb":1,"1f64f_1f3fc":1,"1f64f_1f3fd":1,"1f64f_1f3fe":1,"1f64f_1f3ff":1,"1f680":1,"1f681":1,"1f682":1,"1f683":1,"1f684":1,"1f685":1,"1f686":1,"1f687":1,"1f688":1,"1f689":1,"1f68a":1,"1f68b":1,"1f68c":1,"1f68d":1,"1f68e":1,"1f68f":1,"1f690":1,"1f691":1,"1f692":1,"1f693":1,"1f694":1,"1f695":1,"1f696":1,"1f697":1,"1f698":1,"1f699":1,"1f69a":1,"1f69b":1,"1f69c":1,"1f69d":1,"1f69e":1,"1f69f":1,"1f6a0":1,"1f6a1":1,"1f6a2":1,"1f6a3_1f3fb_200d_2640":1,"1f6a3_1f3fb_200d_2642":1,"1f6a3_1f3fc_200d_2640":1,"1f6a3_1f3fc_200d_2642":1,"1f6a3_1f3fd_200d_2640":1,"1f6a3_1f3fd_200d_2642":1,"1f6a3_1f3fe_200d_2640":1,"1f6a3_1f3fe_200d_2642":1,"1f6a3_1f3ff_200d_2640":1,"1f6a3_1f3ff_200d_2642":1,"1f6a3_200d_2640":1,"1f6a3_200d_2642":1,"1f6a4":1,"1f6a5":1,"1f6a6":1,"1f6a7":1,"1f6a8":1,"1f6a9":1,"1f6aa":1,"1f6ab":1,"1f6ac":1,"1f6ad":1,"1f6ae":1,"1f6af":1,"1f6b0":1,"1f6b1":1,"1f6b2":1,"1f6b3":1,"1f6b4_1f3fb_200d_2640":1,"1f6b4_1f3fb_200d_2642":1,"1f6b4_1f3fc_200d_2640":1,"1f6b4_1f3fc_200d_2642":1,"1f6b4_1f3fd_200d_2640":1,"1f6b4_1f3fd_200d_2642":1,"1f6b4_1f3fe_200d_2640":1,"1f6b4_1f3fe_200d_2642":1,"1f6b4_1f3ff_200d_2640":1,"1f6b4_1f3ff_200d_2642":1,"1f6b4_200d_2640":1,"1f6b4_200d_2642":1,"1f6b5_1f3fb_200d_2640":1,"1f6b5_1f3fb_200d_2642":1,"1f6b5_1f3fc_200d_2640":1,"1f6b5_1f3fc_200d_2642":1,"1f6b5_1f3fd_200d_2640":1,"1f6b5_1f3fd_200d_2642":1,"1f6b5_1f3fe_200d_2640":1,"1f6b5_1f3fe_200d_2642":1,"1f6b5_1f3ff_200d_2640":1,"1f6b5_1f3ff_200d_2642":1,"1f6b5_200d_2640":1,"1f6b5_200d_2642":1,"1f6b6_1f3fb_200d_2640":1,"1f6b6_1f3fb_200d_2642":1,"1f6b6_1f3fc_200d_2640":1,"1f6b6_1f3fc_200d_2642":1,"1f6b6_1f3fd_200d_2640":1,"1f6b6_1f3fd_200d_2642":1,"1f6b6_1f3fe_200d_2640":1,"1f6b6_1f3fe_200d_2642":1,"1f6b6_1f3ff_200d_2640":1,"1f6b6_1f3ff_200d_2642":1,"1f6b6_200d_2640":1,"1f6b6_200d_2642":1,"1f6b7":1,"1f6b8":1,"1f6b9":1,"1f6ba":1,"1f6bb":1,"1f6bc":1,"1f6bd":1,"1f6be":1,"1f6bf":1,"1f6c0":1,"1f6c0_1f3fb":1,"1f6c0_1f3fc":1,"1f6c0_1f3fd":1,"1f6c0_1f3fe":1,"1f6c0_1f3ff":1,"1f6c1":1,"1f6c2":1,"1f6c3":1,"1f6c4":1,"1f6c5":1,"1f6cb":1,"1f6cc":1,"1f6cc_1f3fb":1,"1f6cc_1f3fc":1,"1f6cc_1f3fd":1,"1f6cc_1f3fe":1,"1f6cc_1f3ff":1,"1f6cd":1,"1f6ce":1,"1f6cf":1,"1f6d0":1,"1f6d1":1,"1f6d2":1,"1f6e0":1,"1f6e1":1,"1f6e2":1,"1f6e3":1,"1f6e4":1,"1f6e5":1,"1f6e9":1,"1f6eb":1,"1f6ec":1,"1f6f0":1,"1f6f3":1,"1f6f4":1,"1f6f5":1,"1f6f6":1,"1f6f7":1,"1f6f8":1,"1f910":1,"1f911":1,"1f912":1,"1f913":1,"1f914":1,"1f915":1,"1f916":1,"1f917":1,"1f918":1,"1f918_1f3fb":1,"1f918_1f3fc":1,"1f918_1f3fd":1,"1f918_1f3fe":1,"1f918_1f3ff":1,"1f919":1,"1f919_1f3fb":1,"1f919_1f3fc":1,"1f919_1f3fd":1,"1f919_1f3fe":1,"1f919_1f3ff":1,"1f91a":1,"1f91a_1f3fb":1,"1f91a_1f3fc":1,"1f91a_1f3fd":1,"1f91a_1f3fe":1,"1f91a_1f3ff":1,"1f91b":1,"1f91b_1f3fb":1,"1f91b_1f3fc":1,"1f91b_1f3fd":1,"1f91b_1f3fe":1,"1f91b_1f3ff":1,"1f91c":1,"1f91c_1f3fb":1,"1f91c_1f3fc":1,"1f91c_1f3fd":1,"1f91c_1f3fe":1,"1f91c_1f3ff":1,"1f91d":1,"1f91d_1f3fb":1,"1f91d_1f3fc":1,"1f91d_1f3fd":1,"1f91d_1f3fe":1,"1f91d_1f3ff":1,"1f91e":1,"1f91e_1f3fb":1,"1f91e_1f3fc":1,"1f91e_1f3fd":1,"1f91e_1f3fe":1,"1f91e_1f3ff":1,"1f91f":1,"1f91f_1f3fb":1,"1f91f_1f3fc":1,"1f91f_1f3fd":1,"1f91f_1f3fe":1,"1f91f_1f3ff":1,"1f920":1,"1f921":1,"1f922":1,"1f923":1,"1f924":1,"1f925":1,"1f926_1f3fb_200d_2640":1,"1f926_1f3fb_200d_2642":1,"1f926_1f3fc_200d_2640":1,"1f926_1f3fc_200d_2642":1,"1f926_1f3fd_200d_2640":1,"1f926_1f3fd_200d_2642":1,"1f926_1f3fe_200d_2640":1,"1f926_1f3fe_200d_2642":1,"1f926_1f3ff_200d_2640":1,"1f926_1f3ff_200d_2642":1,"1f926_200d_2640":1,"1f926_200d_2642":1,"1f927":1,"1f928":1,"1f929":1,"1f92a":1,"1f92b":1,"1f92c":1,"1f92d":1,"1f92e":1,"1f92f":1,"1f930":1,"1f930_1f3fb":1,"1f930_1f3fc":1,"1f930_1f3fd":1,"1f930_1f3fe":1,"1f930_1f3ff":1,"1f931":1,"1f931_1f3fb":1,"1f931_1f3fc":1,"1f931_1f3fd":1,"1f931_1f3fe":1,"1f931_1f3ff":1,"1f932":1,"1f932_1f3fb":1,"1f932_1f3fc":1,"1f932_1f3fd":1,"1f932_1f3fe":1,"1f932_1f3ff":1,"1f933":1,"1f933_1f3fb":1,"1f933_1f3fc":1,"1f933_1f3fd":1,"1f933_1f3fe":1,"1f933_1f3ff":1,"1f934":1,"1f934_1f3fb":1,"1f934_1f3fc":1,"1f934_1f3fd":1,"1f934_1f3fe":1,"1f934_1f3ff":1,"1f935":1,"1f935_1f3fb":1,"1f935_1f3fc":1,"1f935_1f3fd":1,"1f935_1f3fe":1,"1f935_1f3ff":1,"1f936":1,"1f936_1f3fb":1,"1f936_1f3fc":1,"1f936_1f3fd":1,"1f936_1f3fe":1,"1f936_1f3ff":1,"1f937_1f3fb_200d_2640":1,"1f937_1f3fb_200d_2642":1,"1f937_1f3fc_200d_2640":1,"1f937_1f3fc_200d_2642":1,"1f937_1f3fd_200d_2640":1,"1f937_1f3fd_200d_2642":1,"1f937_1f3fe_200d_2640":1,"1f937_1f3fe_200d_2642":1,"1f937_1f3ff_200d_2640":1,"1f937_1f3ff_200d_2642":1,"1f937_200d_2640":1,"1f937_200d_2642":1,"1f938_1f3fb_200d_2640":1,"1f938_1f3fb_200d_2642":1,"1f938_1f3fc_200d_2640":1,"1f938_1f3fc_200d_2642":1,"1f938_1f3fd_200d_2640":1,"1f938_1f3fd_200d_2642":1,"1f938_1f3fe_200d_2640":1,"1f938_1f3fe_200d_2642":1,"1f938_1f3ff_200d_2640":1,"1f938_1f3ff_200d_2642":1,"1f938_200d_2640":1,"1f938_200d_2642":1,"1f939":1,"1f939_1f3fb":1,"1f939_1f3fc":1,"1f939_1f3fd":1,"1f939_1f3fe":1,"1f939_1f3ff":1,"1f93a":1,"1f93c_1f3fb_200d_2640":1,"1f93c_1f3fb_200d_2642":1,"1f93c_1f3fc_200d_2640":1,"1f93c_1f3fc_200d_2642":1,"1f93c_1f3fd_200d_2640":1,"1f93c_1f3fd_200d_2642":1,"1f93c_1f3fe_200d_2640":1,"1f93c_1f3fe_200d_2642":1,"1f93c_1f3ff_200d_2640":1,"1f93c_1f3ff_200d_2642":1,"1f93c_200d_2640":1,"1f93c_200d_2642":1,"1f93d_1f3fb_200d_2640":1,"1f93d_1f3fb_200d_2642":1,"1f93d_1f3fc_200d_2640":1,"1f93d_1f3fc_200d_2642":1,"1f93d_1f3fd_200d_2640":1,"1f93d_1f3fd_200d_2642":1,"1f93d_1f3fe_200d_2640":1,"1f93d_1f3fe_200d_2642":1,"1f93d_1f3ff_200d_2640":1,"1f93d_1f3ff_200d_2642":1,"1f93d_200d_2640":1,"1f93d_200d_2642":1,"1f93e_1f3fb_200d_2640":1,"1f93e_1f3fb_200d_2642":1,"1f93e_1f3fc_200d_2640":1,"1f93e_1f3fc_200d_2642":1,"1f93e_1f3fd_200d_2640":1,"1f93e_1f3fd_200d_2642":1,"1f93e_1f3fe_200d_2640":1,"1f93e_1f3fe_200d_2642":1,"1f93e_1f3ff_200d_2640":1,"1f93e_1f3ff_200d_2642":1,"1f93e_200d_2640":1,"1f93e_200d_2642":1,"1f940":1,"1f941":1,"1f942":1,"1f943":1,"1f944":1,"1f945":1,"1f947":1,"1f948":1,"1f949":1,"1f94a":1,"1f94b":1,"1f94c":1,"1f950":1,"1f951":1,"1f952":1,"1f953":1,"1f954":1,"1f955":1,"1f956":1,"1f957":1,"1f958":1,"1f959":1,"1f95a":1,"1f95b":1,"1f95c":1,"1f95d":1,"1f95e":1,"1f95f":1,"1f960":1,"1f961":1,"1f962":1,"1f963":1,"1f964":1,"1f965":1,"1f966":1,"1f967":1,"1f968":1,"1f969":1,"1f96a":1,"1f96b":1,"1f980":1,"1f981":1,"1f982":1,"1f983":1,"1f984":1,"1f985":1,"1f986":1,"1f987":1,"1f988":1,"1f989":1,"1f98a":1,"1f98b":1,"1f98c":1,"1f98d":1,"1f98e":1,"1f98f":1,"1f990":1,"1f991":1,"1f992":1,"1f993":1,"1f994":1,"1f995":1,"1f996":1,"1f997":1,"1f9c0":1,"1f9d0":1,"1f9d1":1,"1f9d1_1f3fb":1,"1f9d1_1f3fc":1,"1f9d1_1f3fd":1,"1f9d1_1f3fe":1,"1f9d1_1f3ff":1,"1f9d2":1,"1f9d2_1f3fb":1,"1f9d2_1f3fc":1,"1f9d2_1f3fd":1,"1f9d2_1f3fe":1,"1f9d2_1f3ff":1,"1f9d3":1,"1f9d3_1f3fb":1,"1f9d3_1f3fc":1,"1f9d3_1f3fd":1,"1f9d3_1f3fe":1,"1f9d3_1f3ff":1,"1f9d4":1,"1f9d4_1f3fb":1,"1f9d4_1f3fc":1,"1f9d4_1f3fd":1,"1f9d4_1f3fe":1,"1f9d4_1f3ff":1,"1f9d5":1,"1f9d5_1f3fb":1,"1f9d5_1f3fc":1,"1f9d5_1f3fd":1,"1f9d5_1f3fe":1,"1f9d5_1f3ff":1,"1f9d6":1,"1f9d6_1f3fb":1,"1f9d6_1f3fb_200d_2640":1,"1f9d6_1f3fb_200d_2642":1,"1f9d6_1f3fc":1,"1f9d6_1f3fc_200d_2640":1,"1f9d6_1f3fc_200d_2642":1,"1f9d6_1f3fd":1,"1f9d6_1f3fd_200d_2640":1,"1f9d6_1f3fd_200d_2642":1,"1f9d6_1f3fe":1,"1f9d6_1f3fe_200d_2640":1,"1f9d6_1f3fe_200d_2642":1,"1f9d6_1f3ff":1,"1f9d6_1f3ff_200d_2640":1,"1f9d6_1f3ff_200d_2642":1,"1f9d6_200d_2640":1,"1f9d6_200d_2642":1,"1f9d7":1,"1f9d7_1f3fb":1,"1f9d7_1f3fb_200d_2640":1,"1f9d7_1f3fb_200d_2642":1,"1f9d7_1f3fc":1,"1f9d7_1f3fc_200d_2640":1,"1f9d7_1f3fc_200d_2642":1,"1f9d7_1f3fd":1,"1f9d7_1f3fd_200d_2640":1,"1f9d7_1f3fd_200d_2642":1,"1f9d7_1f3fe":1,"1f9d7_1f3fe_200d_2640":1,"1f9d7_1f3fe_200d_2642":1,"1f9d7_1f3ff":1,"1f9d7_1f3ff_200d_2640":1,"1f9d7_1f3ff_200d_2642":1,"1f9d7_200d_2640":1,"1f9d7_200d_2642":1,"1f9d8":1,"1f9d8_1f3fb":1,"1f9d8_1f3fb_200d_2640":1,"1f9d8_1f3fb_200d_2642":1,"1f9d8_1f3fc":1,"1f9d8_1f3fc_200d_2640":1,"1f9d8_1f3fc_200d_2642":1,"1f9d8_1f3fd":1,"1f9d8_1f3fd_200d_2640":1,"1f9d8_1f3fd_200d_2642":1,"1f9d8_1f3fe":1,"1f9d8_1f3fe_200d_2640":1,"1f9d8_1f3fe_200d_2642":1,"1f9d8_1f3ff":1,"1f9d8_1f3ff_200d_2640":1,"1f9d8_1f3ff_200d_2642":1,"1f9d8_200d_2640":1,"1f9d8_200d_2642":1,"1f9d9":1,"1f9d9_1f3fb":1,"1f9d9_1f3fb_200d_2640":1,"1f9d9_1f3fb_200d_2642":1,"1f9d9_1f3fc":1,"1f9d9_1f3fc_200d_2640":1,"1f9d9_1f3fc_200d_2642":1,"1f9d9_1f3fd":1,"1f9d9_1f3fd_200d_2640":1,"1f9d9_1f3fd_200d_2642":1,"1f9d9_1f3fe":1,"1f9d9_1f3fe_200d_2640":1,"1f9d9_1f3fe_200d_2642":1,"1f9d9_1f3ff":1,"1f9d9_1f3ff_200d_2640":1,"1f9d9_1f3ff_200d_2642":1,"1f9d9_200d_2640":1,"1f9d9_200d_2642":1,"1f9da":1,"1f9da_200d_2640":1,"1f9da_200d_2642":1,"1f9db":1,"1f9db_200d_2640":1,"1f9db_200d_2642":1,"1f9dc":1,"1f9dc_1f3fb":1,"1f9dc_1f3fb_200d_2640":1,"1f9dc_1f3fb_200d_2642":1,"1f9dc_1f3fc":1,"1f9dc_1f3fc_200d_2640":1,"1f9dc_1f3fc_200d_2642":1,"1f9dc_1f3fd":1,"1f9dc_1f3fd_200d_2640":1,"1f9dc_1f3fd_200d_2642":1,"1f9dc_1f3fe":1,"1f9dc_1f3fe_200d_2640":1,"1f9dc_1f3fe_200d_2642":1,"1f9dc_1f3ff":1,"1f9dc_1f3ff_200d_2640":1,"1f9dc_1f3ff_200d_2642":1,"1f9dc_200d_2640":1,"1f9dc_200d_2642":1,"1f9dd":1,"1f9dd_1f3fb":1,"1f9dd_1f3fb_200d_2640":1,"1f9dd_1f3fb_200d_2642":1,"1f9dd_1f3fc":1,"1f9dd_1f3fc_200d_2640":1,"1f9dd_1f3fc_200d_2642":1,"1f9dd_1f3fd":1,"1f9dd_1f3fd_200d_2640":1,"1f9dd_1f3fd_200d_2642":1,"1f9dd_1f3fe":1,"1f9dd_1f3fe_200d_2640":1,"1f9dd_1f3fe_200d_2642":1,"1f9dd_1f3ff":1,"1f9dd_1f3ff_200d_2640":1,"1f9dd_1f3ff_200d_2642":1,"1f9dd_200d_2640":1,"1f9dd_200d_2642":1,"1f9de":1,"1f9de_200d_2640":1,"1f9de_200d_2642":1,"1f9df":1,"1f9df_200d_2640":1,"1f9df_200d_2642":1,"1f9e0":1,"1f9e1":1,"1f9e2":1,"1f9e3":1,"1f9e4":1,"1f9e5":1,"1f9e6":1,"203c":1,2049:1,2122:1,2139:1,2194:1,2195:1,2196:1,2197:1,2198:1,2199:1,"21a9":1,"21aa":1,"231a":1,"231b":1,2328:1,"23_20e3":1,"23cf":1,"23e9":1,"23ea":1,"23eb":1,"23ec":1,"23ed":1,"23ee":1,"23ef":1,"23f0":1,"23f1":1,"23f2":1,"23f3":1,"23f8":1,"23f9":1,"23fa":1,"24c2":1,"25aa":1,"25ab":1,"25b6":1,"25c0":1,"25fb":1,"25fc":1,"25fd":1,"25fe":1,2600:1,2601:1,2602:1,2603:1,2604:1,"260e":1,2611:1,2614:1,2615:1,2618:1,"261d":1,"261d_1f3fb":1,"261d_1f3fc":1,"261d_1f3fd":1,"261d_1f3fe":1,"261d_1f3ff":1,2620:1,2622:1,2623:1,2626:1,"262a":1,"262e":1,"262f":1,2638:1,2639:1,"263a":1,2640:1,2642:1,2648:1,2649:1,"264a":1,"264b":1,"264c":1,"264d":1,"264e":1,"264f":1,2650:1,2651:1,2652:1,2653:1,2660:1,2663:1,2665:1,2666:1,2668:1,"267b":1,"267f":1,2692:1,2693:1,2694:1,2695:1,2696:1,2697:1,2699:1,"269b":1,"269c":1,"26a0":1,"26a1":1,"26aa":1,"26ab":1,"26b0":1,"26b1":1,"26bd":1,"26be":1,"26c4":1,"26c5":1,"26c8":1,"26ce":1,"26cf":1,"26d1":1,"26d3":1,"26d4":1,"26e9":1,"26ea":1,"26f0":1,"26f1":1,"26f2":1,"26f3":1,"26f4":1,"26f5":1,"26f7":1,"26f8":1,"26f9_1f3fb_200d_2640":1,"26f9_1f3fb_200d_2642":1,"26f9_1f3fc_200d_2640":1,"26f9_1f3fc_200d_2642":1,"26f9_1f3fd_200d_2640":1,"26f9_1f3fd_200d_2642":1,"26f9_1f3fe_200d_2640":1,"26f9_1f3fe_200d_2642":1,"26f9_1f3ff_200d_2640":1,"26f9_1f3ff_200d_2642":1,"26f9_200d_2640":1,"26f9_200d_2642":1,"26fa":1,"26fd":1,2702:1,2705:1,2708:1,2709:1,"270a":1,"270a_1f3fb":1,"270a_1f3fc":1,"270a_1f3fd":1,"270a_1f3fe":1,"270a_1f3ff":1,"270b":1,"270b_1f3fb":1,"270b_1f3fc":1,"270b_1f3fd":1,"270b_1f3fe":1,"270b_1f3ff":1,"270c":1,"270c_1f3fb":1,"270c_1f3fc":1,"270c_1f3fd":1,"270c_1f3fe":1,"270c_1f3ff":1,"270d":1,"270d_1f3fb":1,"270d_1f3fc":1,"270d_1f3fd":1,"270d_1f3fe":1,"270d_1f3ff":1,"270f":1,2712:1,2714:1,2716:1,"271d":1,2721:1,2728:1,2733:1,2734:1,2744:1,2747:1,"274c":1,"274e":1,2753:1,2754:1,2755:1,2757:1,2763:1,2764:1,2795:1,2796:1,2797:1,"27a1":1,"27b0":1,"27bf":1,2934:1,2935:1,"2a_20e3":1,"2b05":1,"2b06":1,"2b07":1,"2b1b":1,"2b1c":1,"2b50":1,"2b55":1,3030:1,"303d":1,"30_20e3":1,"31_20e3":1,3297:1,3299:1,"32_20e3":1,"33_20e3":1,"34_20e3":1,"35_20e3":1,"36_20e3":1,"37_20e3":1,"38_20e3":1,"39_20e3":1,a9:1,ae:1};e.exports=a}),null);
__d("SupportedEmoji3",["SupportedCommonEmoji"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("SupportedCommonEmoji"),{"1f3c3":1,"1f3c3_1f3fb":1,"1f3c3_1f3fc":1,"1f3c3_1f3fd":1,"1f3c3_1f3fe":1,"1f3c3_1f3ff":1,"1f3c4":1,"1f3c4_1f3fb":1,"1f3c4_1f3fc":1,"1f3c4_1f3fd":1,"1f3c4_1f3fe":1,"1f3c4_1f3ff":1,"1f3ca":1,"1f3ca_1f3fb":1,"1f3ca_1f3fc":1,"1f3ca_1f3fd":1,"1f3ca_1f3fe":1,"1f3ca_1f3ff":1,"1f3cb":1,"1f3cb_1f3fb":1,"1f3cb_1f3fc":1,"1f3cb_1f3fd":1,"1f3cb_1f3fe":1,"1f3cb_1f3ff":1,"1f3cc":1,"1f3cc_1f3fb":1,"1f3cc_1f3fc":1,"1f3cc_1f3fd":1,"1f3cc_1f3fe":1,"1f3cc_1f3ff":1,"1f3f3_200d_26a7":1,"1f3f4_200d_2620":1,"1f408_200d_2b1b":1,"1f415_200d_1f9ba":1,"1f426_200d_2b1b":1,"1f43b_200d_2744":1,"1f468_1f3fb_200d_1f37c":1,"1f468_1f3fb_200d_1f91d_200d_1f468_1f3fc":1,"1f468_1f3fb_200d_1f91d_200d_1f468_1f3fd":1,"1f468_1f3fb_200d_1f91d_200d_1f468_1f3fe":1,"1f468_1f3fb_200d_1f91d_200d_1f468_1f3ff":1,"1f468_1f3fb_200d_1f9af":1,"1f468_1f3fb_200d_1f9b0":1,"1f468_1f3fb_200d_1f9b1":1,"1f468_1f3fb_200d_1f9b2":1,"1f468_1f3fb_200d_1f9b3":1,"1f468_1f3fb_200d_1f9bc":1,"1f468_1f3fb_200d_1f9bd":1,"1f468_1f3fb_200d_2764_200d_1f3fb_1f468":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3fb_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f3fb_1f468":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_1f3fc_200d_1f37c":1,"1f468_1f3fc_200d_1f91d_200d_1f468_1f3fb":1,"1f468_1f3fc_200d_1f91d_200d_1f468_1f3fd":1,"1f468_1f3fc_200d_1f91d_200d_1f468_1f3fe":1,"1f468_1f3fc_200d_1f91d_200d_1f468_1f3ff":1,"1f468_1f3fc_200d_1f9af":1,"1f468_1f3fc_200d_1f9b0":1,"1f468_1f3fc_200d_1f9b1":1,"1f468_1f3fc_200d_1f9b2":1,"1f468_1f3fc_200d_1f9b3":1,"1f468_1f3fc_200d_1f9bc":1,"1f468_1f3fc_200d_1f9bd":1,"1f468_1f3fc_200d_2764_200d_1f3fc_1f468":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3fc_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f3fc_1f468":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_1f3fd_200d_1f37c":1,"1f468_1f3fd_200d_1f91d_200d_1f468_1f3fb":1,"1f468_1f3fd_200d_1f91d_200d_1f468_1f3fc":1,"1f468_1f3fd_200d_1f91d_200d_1f468_1f3fe":1,"1f468_1f3fd_200d_1f91d_200d_1f468_1f3ff":1,"1f468_1f3fd_200d_1f9af":1,"1f468_1f3fd_200d_1f9b0":1,"1f468_1f3fd_200d_1f9b1":1,"1f468_1f3fd_200d_1f9b2":1,"1f468_1f3fd_200d_1f9b3":1,"1f468_1f3fd_200d_1f9bc":1,"1f468_1f3fd_200d_1f9bd":1,"1f468_1f3fd_200d_2764_200d_1f3fd_1f468":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3fd_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f3fd_1f468":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_1f3fe_200d_1f37c":1,"1f468_1f3fe_200d_1f91d_200d_1f468_1f3fb":1,"1f468_1f3fe_200d_1f91d_200d_1f468_1f3fc":1,"1f468_1f3fe_200d_1f91d_200d_1f468_1f3fd":1,"1f468_1f3fe_200d_1f91d_200d_1f468_1f3ff":1,"1f468_1f3fe_200d_1f9af":1,"1f468_1f3fe_200d_1f9b0":1,"1f468_1f3fe_200d_1f9b1":1,"1f468_1f3fe_200d_1f9b2":1,"1f468_1f3fe_200d_1f9b3":1,"1f468_1f3fe_200d_1f9bc":1,"1f468_1f3fe_200d_1f9bd":1,"1f468_1f3fe_200d_2764_200d_1f3fe_1f468":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f3fe_1f468":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_1f37c":1,"1f468_1f3ff_200d_1f91d_200d_1f468_1f3fb":1,"1f468_1f3ff_200d_1f91d_200d_1f468_1f3fc":1,"1f468_1f3ff_200d_1f91d_200d_1f468_1f3fd":1,"1f468_1f3ff_200d_1f91d_200d_1f468_1f3fe":1,"1f468_1f3ff_200d_1f9af":1,"1f468_1f3ff_200d_1f9b0":1,"1f468_1f3ff_200d_1f9b1":1,"1f468_1f3ff_200d_1f9b2":1,"1f468_1f3ff_200d_1f9b3":1,"1f468_1f3ff_200d_1f9bc":1,"1f468_1f3ff_200d_1f9bd":1,"1f468_1f3ff_200d_2764_200d_1f3ff_1f468":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3fb":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3fc":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3fd":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3fe":1,"1f468_1f3ff_200d_2764_200d_1f468_1f3ff":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f3ff_1f468":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f468_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f468_200d_1f37c":1,"1f468_200d_1f9af":1,"1f468_200d_1f9b0":1,"1f468_200d_1f9b1":1,"1f468_200d_1f9b2":1,"1f468_200d_1f9b3":1,"1f468_200d_1f9bc":1,"1f468_200d_1f9bd":1,"1f469_1f3fb_200d_1f37c":1,"1f469_1f3fb_200d_1f91d_200d_1f468_1f3fc":1,"1f469_1f3fb_200d_1f91d_200d_1f468_1f3fd":1,"1f469_1f3fb_200d_1f91d_200d_1f468_1f3fe":1,"1f469_1f3fb_200d_1f91d_200d_1f468_1f3ff":1,"1f469_1f3fb_200d_1f91d_200d_1f469_1f3fc":1,"1f469_1f3fb_200d_1f91d_200d_1f469_1f3fd":1,"1f469_1f3fb_200d_1f91d_200d_1f469_1f3fe":1,"1f469_1f3fb_200d_1f91d_200d_1f469_1f3ff":1,"1f469_1f3fb_200d_1f9af":1,"1f469_1f3fb_200d_1f9b0":1,"1f469_1f3fb_200d_1f9b1":1,"1f469_1f3fb_200d_1f9b2":1,"1f469_1f3fb_200d_1f9b3":1,"1f469_1f3fb_200d_1f9bc":1,"1f469_1f3fb_200d_1f9bd":1,"1f469_1f3fb_200d_2764_200d_1f3fb_1f468":1,"1f469_1f3fb_200d_2764_200d_1f3fb_1f469":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3fb_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3fb_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f3fb_1f468":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f3fb_1f469":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3fb_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_1f3fc_200d_1f37c":1,"1f469_1f3fc_200d_1f91d_200d_1f468_1f3fb":1,"1f469_1f3fc_200d_1f91d_200d_1f468_1f3fd":1,"1f469_1f3fc_200d_1f91d_200d_1f468_1f3fe":1,"1f469_1f3fc_200d_1f91d_200d_1f468_1f3ff":1,"1f469_1f3fc_200d_1f91d_200d_1f469_1f3fb":1,"1f469_1f3fc_200d_1f91d_200d_1f469_1f3fd":1,"1f469_1f3fc_200d_1f91d_200d_1f469_1f3fe":1,"1f469_1f3fc_200d_1f91d_200d_1f469_1f3ff":1,"1f469_1f3fc_200d_1f9af":1,"1f469_1f3fc_200d_1f9b0":1,"1f469_1f3fc_200d_1f9b1":1,"1f469_1f3fc_200d_1f9b2":1,"1f469_1f3fc_200d_1f9b3":1,"1f469_1f3fc_200d_1f9bc":1,"1f469_1f3fc_200d_1f9bd":1,"1f469_1f3fc_200d_2764_200d_1f3fc_1f468":1,"1f469_1f3fc_200d_2764_200d_1f3fc_1f469":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3fc_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3fc_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f3fc_1f468":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f3fc_1f469":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3fc_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_1f3fd_200d_1f37c":1,"1f469_1f3fd_200d_1f91d_200d_1f468_1f3fb":1,"1f469_1f3fd_200d_1f91d_200d_1f468_1f3fc":1,"1f469_1f3fd_200d_1f91d_200d_1f468_1f3fe":1,"1f469_1f3fd_200d_1f91d_200d_1f468_1f3ff":1,"1f469_1f3fd_200d_1f91d_200d_1f469_1f3fb":1,"1f469_1f3fd_200d_1f91d_200d_1f469_1f3fc":1,"1f469_1f3fd_200d_1f91d_200d_1f469_1f3fe":1,"1f469_1f3fd_200d_1f91d_200d_1f469_1f3ff":1,"1f469_1f3fd_200d_1f9af":1,"1f469_1f3fd_200d_1f9b0":1,"1f469_1f3fd_200d_1f9b1":1,"1f469_1f3fd_200d_1f9b2":1,"1f469_1f3fd_200d_1f9b3":1,"1f469_1f3fd_200d_1f9bc":1,"1f469_1f3fd_200d_1f9bd":1,"1f469_1f3fd_200d_2764_200d_1f3fd_1f468":1,"1f469_1f3fd_200d_2764_200d_1f3fd_1f469":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3fd_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3fd_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f3fd_1f468":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f3fd_1f469":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3fd_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_1f3fe_200d_1f37c":1,"1f469_1f3fe_200d_1f91d_200d_1f468_1f3fb":1,"1f469_1f3fe_200d_1f91d_200d_1f468_1f3fc":1,"1f469_1f3fe_200d_1f91d_200d_1f468_1f3fd":1,"1f469_1f3fe_200d_1f91d_200d_1f468_1f3ff":1,"1f469_1f3fe_200d_1f91d_200d_1f469_1f3fb":1,"1f469_1f3fe_200d_1f91d_200d_1f469_1f3fc":1,"1f469_1f3fe_200d_1f91d_200d_1f469_1f3fd":1,"1f469_1f3fe_200d_1f91d_200d_1f469_1f3ff":1,"1f469_1f3fe_200d_1f9af":1,"1f469_1f3fe_200d_1f9b0":1,"1f469_1f3fe_200d_1f9b1":1,"1f469_1f3fe_200d_1f9b2":1,"1f469_1f3fe_200d_1f9b3":1,"1f469_1f3fe_200d_1f9bc":1,"1f469_1f3fe_200d_1f9bd":1,"1f469_1f3fe_200d_2764_200d_1f3fe_1f468":1,"1f469_1f3fe_200d_2764_200d_1f3fe_1f469":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f3fe_1f468":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f3fe_1f469":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3fe_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_1f37c":1,"1f469_1f3ff_200d_1f91d_200d_1f468_1f3fb":1,"1f469_1f3ff_200d_1f91d_200d_1f468_1f3fc":1,"1f469_1f3ff_200d_1f91d_200d_1f468_1f3fd":1,"1f469_1f3ff_200d_1f91d_200d_1f468_1f3fe":1,"1f469_1f3ff_200d_1f91d_200d_1f469_1f3fb":1,"1f469_1f3ff_200d_1f91d_200d_1f469_1f3fc":1,"1f469_1f3ff_200d_1f91d_200d_1f469_1f3fd":1,"1f469_1f3ff_200d_1f91d_200d_1f469_1f3fe":1,"1f469_1f3ff_200d_1f9af":1,"1f469_1f3ff_200d_1f9b0":1,"1f469_1f3ff_200d_1f9b1":1,"1f469_1f3ff_200d_1f9b2":1,"1f469_1f3ff_200d_1f9b3":1,"1f469_1f3ff_200d_1f9bc":1,"1f469_1f3ff_200d_1f9bd":1,"1f469_1f3ff_200d_2764_200d_1f3ff_1f468":1,"1f469_1f3ff_200d_2764_200d_1f3ff_1f469":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3fb":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3fc":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3fd":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3fe":1,"1f469_1f3ff_200d_2764_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3fb":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3fc":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3fd":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3fe":1,"1f469_1f3ff_200d_2764_200d_1f469_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f3ff_1f468":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f3ff_1f469":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fb":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fc":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fd":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3fe":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f468_1f3ff":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3fb":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3fc":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3fd":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3fe":1,"1f469_1f3ff_200d_2764_200d_1f48b_200d_1f469_1f3ff":1,"1f469_200d_1f37c":1,"1f469_200d_1f9af":1,"1f469_200d_1f9b0":1,"1f469_200d_1f9b1":1,"1f469_200d_1f9b2":1,"1f469_200d_1f9b3":1,"1f469_200d_1f9bc":1,"1f469_200d_1f9bd":1,"1f46a":1,"1f46e":1,"1f46e_1f3fb":1,"1f46e_1f3fc":1,"1f46e_1f3fd":1,"1f46e_1f3fe":1,"1f46e_1f3ff":1,"1f46f":1,"1f46f_1f3fb":1,"1f46f_1f3fc":1,"1f46f_1f3fd":1,"1f46f_1f3fe":1,"1f46f_1f3ff":1,"1f470_1f3fb_200d_2640":1,"1f470_1f3fb_200d_2642":1,"1f470_1f3fc_200d_2640":1,"1f470_1f3fc_200d_2642":1,"1f470_1f3fd_200d_2640":1,"1f470_1f3fd_200d_2642":1,"1f470_1f3fe_200d_2640":1,"1f470_1f3fe_200d_2642":1,"1f470_1f3ff_200d_2640":1,"1f470_1f3ff_200d_2642":1,"1f470_200d_2640":1,"1f470_200d_2642":1,"1f471":1,"1f471_1f3fb":1,"1f471_1f3fc":1,"1f471_1f3fd":1,"1f471_1f3fe":1,"1f471_1f3ff":1,"1f473":1,"1f473_1f3fb":1,"1f473_1f3fc":1,"1f473_1f3fd":1,"1f473_1f3fe":1,"1f473_1f3ff":1,"1f477":1,"1f477_1f3fb":1,"1f477_1f3fc":1,"1f477_1f3fd":1,"1f477_1f3fe":1,"1f477_1f3ff":1,"1f481":1,"1f481_1f3fb":1,"1f481_1f3fc":1,"1f481_1f3fd":1,"1f481_1f3fe":1,"1f481_1f3ff":1,"1f482":1,"1f482_1f3fb":1,"1f482_1f3fc":1,"1f482_1f3fd":1,"1f482_1f3fe":1,"1f482_1f3ff":1,"1f486":1,"1f486_1f3fb":1,"1f486_1f3fc":1,"1f486_1f3fd":1,"1f486_1f3fe":1,"1f486_1f3ff":1,"1f487":1,"1f487_1f3fb":1,"1f487_1f3fc":1,"1f487_1f3fd":1,"1f487_1f3fe":1,"1f487_1f3ff":1,"1f48f":1,"1f48f_1f3fb":1,"1f48f_1f3fc":1,"1f48f_1f3fd":1,"1f48f_1f3fe":1,"1f48f_1f3ff":1,"1f491":1,"1f491_1f3fb":1,"1f491_1f3fc":1,"1f491_1f3fd":1,"1f491_1f3fe":1,"1f491_1f3ff":1,"1f574_1f3fb_200d_2642":1,"1f574_1f3fc_200d_2642":1,"1f574_1f3fd_200d_2642":1,"1f574_1f3fe_200d_2642":1,"1f574_1f3ff_200d_2642":1,"1f574_200d_2642":1,"1f575":1,"1f575_1f3fb":1,"1f575_1f3fc":1,"1f575_1f3fd":1,"1f575_1f3fe":1,"1f575_1f3ff":1,"1f62e_200d_1f4a8":1,"1f635_200d_1f4ab":1,"1f636_200d_1f32b":1,"1f645":1,"1f645_1f3fb":1,"1f645_1f3fc":1,"1f645_1f3fd":1,"1f645_1f3fe":1,"1f645_1f3ff":1,"1f646":1,"1f646_1f3fb":1,"1f646_1f3fc":1,"1f646_1f3fd":1,"1f646_1f3fe":1,"1f646_1f3ff":1,"1f647":1,"1f647_1f3fb":1,"1f647_1f3fc":1,"1f647_1f3fd":1,"1f647_1f3fe":1,"1f647_1f3ff":1,"1f64b":1,"1f64b_1f3fb":1,"1f64b_1f3fc":1,"1f64b_1f3fd":1,"1f64b_1f3fe":1,"1f64b_1f3ff":1,"1f64d":1,"1f64d_1f3fb":1,"1f64d_1f3fc":1,"1f64d_1f3fd":1,"1f64d_1f3fe":1,"1f64d_1f3ff":1,"1f64e":1,"1f64e_1f3fb":1,"1f64e_1f3fc":1,"1f64e_1f3fd":1,"1f64e_1f3fe":1,"1f64e_1f3ff":1,"1f6a3":1,"1f6a3_1f3fb":1,"1f6a3_1f3fc":1,"1f6a3_1f3fd":1,"1f6a3_1f3fe":1,"1f6a3_1f3ff":1,"1f6b4":1,"1f6b4_1f3fb":1,"1f6b4_1f3fc":1,"1f6b4_1f3fd":1,"1f6b4_1f3fe":1,"1f6b4_1f3ff":1,"1f6b5":1,"1f6b5_1f3fb":1,"1f6b5_1f3fc":1,"1f6b5_1f3fd":1,"1f6b5_1f3fe":1,"1f6b5_1f3ff":1,"1f6b6":1,"1f6b6_1f3fb":1,"1f6b6_1f3fc":1,"1f6b6_1f3fd":1,"1f6b6_1f3fe":1,"1f6b6_1f3ff":1,"1f6d5":1,"1f6d6":1,"1f6d7":1,"1f6dc":1,"1f6dd":1,"1f6de":1,"1f6df":1,"1f6f9":1,"1f6fa":1,"1f6fb":1,"1f6fc":1,"1f7e0":1,"1f7e1":1,"1f7e2":1,"1f7e3":1,"1f7e4":1,"1f7e5":1,"1f7e6":1,"1f7e7":1,"1f7e8":1,"1f7e9":1,"1f7ea":1,"1f7eb":1,"1f7f0":1,"1f90c":1,"1f90c_1f3fb":1,"1f90c_1f3fc":1,"1f90c_1f3fd":1,"1f90c_1f3fe":1,"1f90c_1f3ff":1,"1f90d":1,"1f90e":1,"1f90f":1,"1f90f_1f3fb":1,"1f90f_1f3fc":1,"1f90f_1f3fd":1,"1f90f_1f3fe":1,"1f90f_1f3ff":1,"1f926":1,"1f926_1f3fb":1,"1f926_1f3fc":1,"1f926_1f3fd":1,"1f926_1f3fe":1,"1f926_1f3ff":1,"1f935_1f3fb_200d_2640":1,"1f935_1f3fb_200d_2642":1,"1f935_1f3fc_200d_2640":1,"1f935_1f3fc_200d_2642":1,"1f935_1f3fd_200d_2640":1,"1f935_1f3fd_200d_2642":1,"1f935_1f3fe_200d_2640":1,"1f935_1f3fe_200d_2642":1,"1f935_1f3ff_200d_2640":1,"1f935_1f3ff_200d_2642":1,"1f935_200d_2640":1,"1f935_200d_2642":1,"1f937":1,"1f937_1f3fb":1,"1f937_1f3fc":1,"1f937_1f3fd":1,"1f937_1f3fe":1,"1f937_1f3ff":1,"1f938":1,"1f938_1f3fb":1,"1f938_1f3fc":1,"1f938_1f3fd":1,"1f938_1f3fe":1,"1f938_1f3ff":1,"1f939_1f3fb_200d_2640":1,"1f939_1f3fb_200d_2642":1,"1f939_1f3fc_200d_2640":1,"1f939_1f3fc_200d_2642":1,"1f939_1f3fd_200d_2640":1,"1f939_1f3fd_200d_2642":1,"1f939_1f3fe_200d_2640":1,"1f939_1f3fe_200d_2642":1,"1f939_1f3ff_200d_2640":1,"1f939_1f3ff_200d_2642":1,"1f939_200d_2640":1,"1f939_200d_2642":1,"1f93c":1,"1f93c_1f3fb":1,"1f93c_1f3fc":1,"1f93c_1f3fd":1,"1f93c_1f3fe":1,"1f93c_1f3ff":1,"1f93d":1,"1f93d_1f3fb":1,"1f93d_1f3fc":1,"1f93d_1f3fd":1,"1f93d_1f3fe":1,"1f93d_1f3ff":1,"1f93e":1,"1f93e_1f3fb":1,"1f93e_1f3fc":1,"1f93e_1f3fd":1,"1f93e_1f3fe":1,"1f93e_1f3ff":1,"1f93f":1,"1f94d":1,"1f94e":1,"1f94f":1,"1f96c":1,"1f96d":1,"1f96e":1,"1f96f":1,"1f970":1,"1f971":1,"1f972":1,"1f973":1,"1f974":1,"1f975":1,"1f976":1,"1f977":1,"1f977_1f3fb":1,"1f977_1f3fc":1,"1f977_1f3fd":1,"1f977_1f3fe":1,"1f977_1f3ff":1,"1f978":1,"1f979":1,"1f97a":1,"1f97b":1,"1f97c":1,"1f97d":1,"1f97e":1,"1f97f":1,"1f998":1,"1f999":1,"1f99a":1,"1f99b":1,"1f99c":1,"1f99d":1,"1f99e":1,"1f99f":1,"1f9a0":1,"1f9a1":1,"1f9a2":1,"1f9a3":1,"1f9a4":1,"1f9a5":1,"1f9a6":1,"1f9a7":1,"1f9a8":1,"1f9a9":1,"1f9aa":1,"1f9ab":1,"1f9ac":1,"1f9ad":1,"1f9ae":1,"1f9af":1,"1f9b0":1,"1f9b1":1,"1f9b2":1,"1f9b3":1,"1f9b4":1,"1f9b5":1,"1f9b5_1f3fb":1,"1f9b5_1f3fc":1,"1f9b5_1f3fd":1,"1f9b5_1f3fe":1,"1f9b5_1f3ff":1,"1f9b6":1,"1f9b6_1f3fb":1,"1f9b6_1f3fc":1,"1f9b6_1f3fd":1,"1f9b6_1f3fe":1,"1f9b6_1f3ff":1,"1f9b7":1,"1f9b8":1,"1f9b8_1f3fb":1,"1f9b8_1f3fb_200d_2640":1,"1f9b8_1f3fb_200d_2642":1,"1f9b8_1f3fc":1,"1f9b8_1f3fc_200d_2640":1,"1f9b8_1f3fc_200d_2642":1,"1f9b8_1f3fd":1,"1f9b8_1f3fd_200d_2640":1,"1f9b8_1f3fd_200d_2642":1,"1f9b8_1f3fe":1,"1f9b8_1f3fe_200d_2640":1,"1f9b8_1f3fe_200d_2642":1,"1f9b8_1f3ff":1,"1f9b8_1f3ff_200d_2640":1,"1f9b8_1f3ff_200d_2642":1,"1f9b8_200d_2640":1,"1f9b8_200d_2642":1,"1f9b9":1,"1f9b9_1f3fb":1,"1f9b9_1f3fb_200d_2640":1,"1f9b9_1f3fb_200d_2642":1,"1f9b9_1f3fc":1,"1f9b9_1f3fc_200d_2640":1,"1f9b9_1f3fc_200d_2642":1,"1f9b9_1f3fd":1,"1f9b9_1f3fd_200d_2640":1,"1f9b9_1f3fd_200d_2642":1,"1f9b9_1f3fe":1,"1f9b9_1f3fe_200d_2640":1,"1f9b9_1f3fe_200d_2642":1,"1f9b9_1f3ff":1,"1f9b9_1f3ff_200d_2640":1,"1f9b9_1f3ff_200d_2642":1,"1f9b9_200d_2640":1,"1f9b9_200d_2642":1,"1f9ba":1,"1f9bb":1,"1f9bb_1f3fb":1,"1f9bb_1f3fc":1,"1f9bb_1f3fd":1,"1f9bb_1f3fe":1,"1f9bb_1f3ff":1,"1f9bc":1,"1f9bd":1,"1f9be":1,"1f9bf":1,"1f9c1":1,"1f9c2":1,"1f9c3":1,"1f9c4":1,"1f9c5":1,"1f9c6":1,"1f9c7":1,"1f9c8":1,"1f9c9":1,"1f9ca":1,"1f9cb":1,"1f9cc":1,"1f9cd":1,"1f9cd_1f3fb":1,"1f9cd_1f3fb_200d_2640":1,"1f9cd_1f3fb_200d_2642":1,"1f9cd_1f3fc":1,"1f9cd_1f3fc_200d_2640":1,"1f9cd_1f3fc_200d_2642":1,"1f9cd_1f3fd":1,"1f9cd_1f3fd_200d_2640":1,"1f9cd_1f3fd_200d_2642":1,"1f9cd_1f3fe":1,"1f9cd_1f3fe_200d_2640":1,"1f9cd_1f3fe_200d_2642":1,"1f9cd_1f3ff":1,"1f9cd_1f3ff_200d_2640":1,"1f9cd_1f3ff_200d_2642":1,"1f9cd_200d_2640":1,"1f9cd_200d_2642":1,"1f9ce":1,"1f9ce_1f3fb":1,"1f9ce_1f3fb_200d_2640":1,"1f9ce_1f3fb_200d_2642":1,"1f9ce_1f3fc":1,"1f9ce_1f3fc_200d_2640":1,"1f9ce_1f3fc_200d_2642":1,"1f9ce_1f3fd":1,"1f9ce_1f3fd_200d_2640":1,"1f9ce_1f3fd_200d_2642":1,"1f9ce_1f3fe":1,"1f9ce_1f3fe_200d_2640":1,"1f9ce_1f3fe_200d_2642":1,"1f9ce_1f3ff":1,"1f9ce_1f3ff_200d_2640":1,"1f9ce_1f3ff_200d_2642":1,"1f9ce_200d_2640":1,"1f9ce_200d_2642":1,"1f9cf":1,"1f9cf_1f3fb":1,"1f9cf_1f3fb_200d_2640":1,"1f9cf_1f3fb_200d_2642":1,"1f9cf_1f3fc":1,"1f9cf_1f3fc_200d_2640":1,"1f9cf_1f3fc_200d_2642":1,"1f9cf_1f3fd":1,"1f9cf_1f3fd_200d_2640":1,"1f9cf_1f3fd_200d_2642":1,"1f9cf_1f3fe":1,"1f9cf_1f3fe_200d_2640":1,"1f9cf_1f3fe_200d_2642":1,"1f9cf_1f3ff":1,"1f9cf_1f3ff_200d_2640":1,"1f9cf_1f3ff_200d_2642":1,"1f9cf_200d_2640":1,"1f9cf_200d_2642":1,"1f9d1_1f3fb_200d_1f33e":1,"1f9d1_1f3fb_200d_1f373":1,"1f9d1_1f3fb_200d_1f37c":1,"1f9d1_1f3fb_200d_1f384":1,"1f9d1_1f3fb_200d_1f393":1,"1f9d1_1f3fb_200d_1f3a4":1,"1f9d1_1f3fb_200d_1f3a8":1,"1f9d1_1f3fb_200d_1f3eb":1,"1f9d1_1f3fb_200d_1f3ed":1,"1f9d1_1f3fb_200d_1f4bb":1,"1f9d1_1f3fb_200d_1f4bc":1,"1f9d1_1f3fb_200d_1f527":1,"1f9d1_1f3fb_200d_1f52c":1,"1f9d1_1f3fb_200d_1f680":1,"1f9d1_1f3fb_200d_1f692":1,"1f9d1_1f3fb_200d_1f91d_200d_1f9d1_1f3fb":1,"1f9d1_1f3fb_200d_1f91d_200d_1f9d1_1f3fc":1,"1f9d1_1f3fb_200d_1f91d_200d_1f9d1_1f3fd":1,"1f9d1_1f3fb_200d_1f91d_200d_1f9d1_1f3fe":1,"1f9d1_1f3fb_200d_1f91d_200d_1f9d1_1f3ff":1,"1f9d1_1f3fb_200d_1f9af":1,"1f9d1_1f3fb_200d_1f9b0":1,"1f9d1_1f3fb_200d_1f9b1":1,"1f9d1_1f3fb_200d_1f9b2":1,"1f9d1_1f3fb_200d_1f9b3":1,"1f9d1_1f3fb_200d_1f9bc":1,"1f9d1_1f3fb_200d_1f9bd":1,"1f9d1_1f3fb_200d_2695":1,"1f9d1_1f3fb_200d_2696":1,"1f9d1_1f3fb_200d_2708":1,"1f9d1_1f3fb_200d_2764_200d_1f48b_200d_1f9d1_1f3fc":1,"1f9d1_1f3fb_200d_2764_200d_1f48b_200d_1f9d1_1f3fd":1,"1f9d1_1f3fb_200d_2764_200d_1f48b_200d_1f9d1_1f3fe":1,"1f9d1_1f3fb_200d_2764_200d_1f48b_200d_1f9d1_1f3ff":1,"1f9d1_1f3fb_200d_2764_200d_1f9d1_1f3fc":1,"1f9d1_1f3fb_200d_2764_200d_1f9d1_1f3fd":1,"1f9d1_1f3fb_200d_2764_200d_1f9d1_1f3fe":1,"1f9d1_1f3fb_200d_2764_200d_1f9d1_1f3ff":1,"1f9d1_1f3fc_200d_1f33e":1,"1f9d1_1f3fc_200d_1f373":1,"1f9d1_1f3fc_200d_1f37c":1,"1f9d1_1f3fc_200d_1f384":1,"1f9d1_1f3fc_200d_1f393":1,"1f9d1_1f3fc_200d_1f3a4":1,"1f9d1_1f3fc_200d_1f3a8":1,"1f9d1_1f3fc_200d_1f3eb":1,"1f9d1_1f3fc_200d_1f3ed":1,"1f9d1_1f3fc_200d_1f4bb":1,"1f9d1_1f3fc_200d_1f4bc":1,"1f9d1_1f3fc_200d_1f527":1,"1f9d1_1f3fc_200d_1f52c":1,"1f9d1_1f3fc_200d_1f680":1,"1f9d1_1f3fc_200d_1f692":1,"1f9d1_1f3fc_200d_1f91d_200d_1f9d1_1f3fb":1,"1f9d1_1f3fc_200d_1f91d_200d_1f9d1_1f3fc":1,"1f9d1_1f3fc_200d_1f91d_200d_1f9d1_1f3fd":1,"1f9d1_1f3fc_200d_1f91d_200d_1f9d1_1f3fe":1,"1f9d1_1f3fc_200d_1f91d_200d_1f9d1_1f3ff":1,"1f9d1_1f3fc_200d_1f9af":1,"1f9d1_1f3fc_200d_1f9b0":1,"1f9d1_1f3fc_200d_1f9b1":1,"1f9d1_1f3fc_200d_1f9b2":1,"1f9d1_1f3fc_200d_1f9b3":1,"1f9d1_1f3fc_200d_1f9bc":1,"1f9d1_1f3fc_200d_1f9bd":1,"1f9d1_1f3fc_200d_2695":1,"1f9d1_1f3fc_200d_2696":1,"1f9d1_1f3fc_200d_2708":1,"1f9d1_1f3fc_200d_2764_200d_1f48b_200d_1f9d1_1f3fb":1,"1f9d1_1f3fc_200d_2764_200d_1f48b_200d_1f9d1_1f3fd":1,"1f9d1_1f3fc_200d_2764_200d_1f48b_200d_1f9d1_1f3fe":1,"1f9d1_1f3fc_200d_2764_200d_1f48b_200d_1f9d1_1f3ff":1,"1f9d1_1f3fc_200d_2764_200d_1f9d1_1f3fb":1,"1f9d1_1f3fc_200d_2764_200d_1f9d1_1f3fd":1,"1f9d1_1f3fc_200d_2764_200d_1f9d1_1f3fe":1,"1f9d1_1f3fc_200d_2764_200d_1f9d1_1f3ff":1,"1f9d1_1f3fd_200d_1f33e":1,"1f9d1_1f3fd_200d_1f373":1,"1f9d1_1f3fd_200d_1f37c":1,"1f9d1_1f3fd_200d_1f384":1,"1f9d1_1f3fd_200d_1f393":1,"1f9d1_1f3fd_200d_1f3a4":1,"1f9d1_1f3fd_200d_1f3a8":1,"1f9d1_1f3fd_200d_1f3eb":1,"1f9d1_1f3fd_200d_1f3ed":1,"1f9d1_1f3fd_200d_1f4bb":1,"1f9d1_1f3fd_200d_1f4bc":1,"1f9d1_1f3fd_200d_1f527":1,"1f9d1_1f3fd_200d_1f52c":1,"1f9d1_1f3fd_200d_1f680":1,"1f9d1_1f3fd_200d_1f692":1,"1f9d1_1f3fd_200d_1f91d_200d_1f9d1_1f3fb":1,"1f9d1_1f3fd_200d_1f91d_200d_1f9d1_1f3fc":1,"1f9d1_1f3fd_200d_1f91d_200d_1f9d1_1f3fd":1,"1f9d1_1f3fd_200d_1f91d_200d_1f9d1_1f3fe":1,"1f9d1_1f3fd_200d_1f91d_200d_1f9d1_1f3ff":1,"1f9d1_1f3fd_200d_1f9af":1,"1f9d1_1f3fd_200d_1f9b0":1,"1f9d1_1f3fd_200d_1f9b1":1,"1f9d1_1f3fd_200d_1f9b2":1,"1f9d1_1f3fd_200d_1f9b3":1,"1f9d1_1f3fd_200d_1f9bc":1,"1f9d1_1f3fd_200d_1f9bd":1,"1f9d1_1f3fd_200d_2695":1,"1f9d1_1f3fd_200d_2696":1,"1f9d1_1f3fd_200d_2708":1,"1f9d1_1f3fd_200d_2764_200d_1f48b_200d_1f9d1_1f3fb":1,"1f9d1_1f3fd_200d_2764_200d_1f48b_200d_1f9d1_1f3fc":1,"1f9d1_1f3fd_200d_2764_200d_1f48b_200d_1f9d1_1f3fe":1,"1f9d1_1f3fd_200d_2764_200d_1f48b_200d_1f9d1_1f3ff":1,"1f9d1_1f3fd_200d_2764_200d_1f9d1_1f3fb":1,"1f9d1_1f3fd_200d_2764_200d_1f9d1_1f3fc":1,"1f9d1_1f3fd_200d_2764_200d_1f9d1_1f3fe":1,"1f9d1_1f3fd_200d_2764_200d_1f9d1_1f3ff":1,"1f9d1_1f3fe_200d_1f33e":1,"1f9d1_1f3fe_200d_1f373":1,"1f9d1_1f3fe_200d_1f37c":1,"1f9d1_1f3fe_200d_1f384":1,"1f9d1_1f3fe_200d_1f393":1,"1f9d1_1f3fe_200d_1f3a4":1,"1f9d1_1f3fe_200d_1f3a8":1,"1f9d1_1f3fe_200d_1f3eb":1,"1f9d1_1f3fe_200d_1f3ed":1,"1f9d1_1f3fe_200d_1f4bb":1,"1f9d1_1f3fe_200d_1f4bc":1,"1f9d1_1f3fe_200d_1f527":1,"1f9d1_1f3fe_200d_1f52c":1,"1f9d1_1f3fe_200d_1f680":1,"1f9d1_1f3fe_200d_1f692":1,"1f9d1_1f3fe_200d_1f91d_200d_1f9d1_1f3fb":1,"1f9d1_1f3fe_200d_1f91d_200d_1f9d1_1f3fc":1,"1f9d1_1f3fe_200d_1f91d_200d_1f9d1_1f3fd":1,"1f9d1_1f3fe_200d_1f91d_200d_1f9d1_1f3fe":1,"1f9d1_1f3fe_200d_1f91d_200d_1f9d1_1f3ff":1,"1f9d1_1f3fe_200d_1f9af":1,"1f9d1_1f3fe_200d_1f9b0":1,"1f9d1_1f3fe_200d_1f9b1":1,"1f9d1_1f3fe_200d_1f9b2":1,"1f9d1_1f3fe_200d_1f9b3":1,"1f9d1_1f3fe_200d_1f9bc":1,"1f9d1_1f3fe_200d_1f9bd":1,"1f9d1_1f3fe_200d_2695":1,"1f9d1_1f3fe_200d_2696":1,"1f9d1_1f3fe_200d_2708":1,"1f9d1_1f3fe_200d_2764_200d_1f48b_200d_1f9d1_1f3fb":1,"1f9d1_1f3fe_200d_2764_200d_1f48b_200d_1f9d1_1f3fc":1,"1f9d1_1f3fe_200d_2764_200d_1f48b_200d_1f9d1_1f3fd":1,"1f9d1_1f3fe_200d_2764_200d_1f48b_200d_1f9d1_1f3ff":1,"1f9d1_1f3fe_200d_2764_200d_1f9d1_1f3fb":1,"1f9d1_1f3fe_200d_2764_200d_1f9d1_1f3fc":1,"1f9d1_1f3fe_200d_2764_200d_1f9d1_1f3fd":1,"1f9d1_1f3fe_200d_2764_200d_1f9d1_1f3ff":1,"1f9d1_1f3ff_200d_1f33e":1,"1f9d1_1f3ff_200d_1f373":1,"1f9d1_1f3ff_200d_1f37c":1,"1f9d1_1f3ff_200d_1f384":1,"1f9d1_1f3ff_200d_1f393":1,"1f9d1_1f3ff_200d_1f3a4":1,"1f9d1_1f3ff_200d_1f3a8":1,"1f9d1_1f3ff_200d_1f3eb":1,"1f9d1_1f3ff_200d_1f3ed":1,"1f9d1_1f3ff_200d_1f4bb":1,"1f9d1_1f3ff_200d_1f4bc":1,"1f9d1_1f3ff_200d_1f527":1,"1f9d1_1f3ff_200d_1f52c":1,"1f9d1_1f3ff_200d_1f680":1,"1f9d1_1f3ff_200d_1f692":1,"1f9d1_1f3ff_200d_1f91d_200d_1f9d1_1f3fb":1,"1f9d1_1f3ff_200d_1f91d_200d_1f9d1_1f3fc":1,"1f9d1_1f3ff_200d_1f91d_200d_1f9d1_1f3fd":1,"1f9d1_1f3ff_200d_1f91d_200d_1f9d1_1f3fe":1,"1f9d1_1f3ff_200d_1f91d_200d_1f9d1_1f3ff":1,"1f9d1_1f3ff_200d_1f9af":1,"1f9d1_1f3ff_200d_1f9b0":1,"1f9d1_1f3ff_200d_1f9b1":1,"1f9d1_1f3ff_200d_1f9b2":1,"1f9d1_1f3ff_200d_1f9b3":1,"1f9d1_1f3ff_200d_1f9bc":1,"1f9d1_1f3ff_200d_1f9bd":1,"1f9d1_1f3ff_200d_2695":1,"1f9d1_1f3ff_200d_2696":1,"1f9d1_1f3ff_200d_2708":1,"1f9d1_1f3ff_200d_2764_200d_1f48b_200d_1f9d1_1f3fb":1,"1f9d1_1f3ff_200d_2764_200d_1f48b_200d_1f9d1_1f3fc":1,"1f9d1_1f3ff_200d_2764_200d_1f48b_200d_1f9d1_1f3fd":1,"1f9d1_1f3ff_200d_2764_200d_1f48b_200d_1f9d1_1f3fe":1,"1f9d1_1f3ff_200d_2764_200d_1f9d1_1f3fb":1,"1f9d1_1f3ff_200d_2764_200d_1f9d1_1f3fc":1,"1f9d1_1f3ff_200d_2764_200d_1f9d1_1f3fd":1,"1f9d1_1f3ff_200d_2764_200d_1f9d1_1f3fe":1,"1f9d1_200d_1f33e":1,"1f9d1_200d_1f373":1,"1f9d1_200d_1f37c":1,"1f9d1_200d_1f384":1,"1f9d1_200d_1f393":1,"1f9d1_200d_1f3a4":1,"1f9d1_200d_1f3a8":1,"1f9d1_200d_1f3eb":1,"1f9d1_200d_1f3ed":1,"1f9d1_200d_1f4bb":1,"1f9d1_200d_1f4bc":1,"1f9d1_200d_1f527":1,"1f9d1_200d_1f52c":1,"1f9d1_200d_1f680":1,"1f9d1_200d_1f692":1,"1f9d1_200d_1f91d_200d_1f9d1":1,"1f9d1_200d_1f9af":1,"1f9d1_200d_1f9b0":1,"1f9d1_200d_1f9b1":1,"1f9d1_200d_1f9b2":1,"1f9d1_200d_1f9b3":1,"1f9d1_200d_1f9bc":1,"1f9d1_200d_1f9bd":1,"1f9d1_200d_2695":1,"1f9d1_200d_2696":1,"1f9d1_200d_2708":1,"1f9d4_1f3fb_200d_2640":1,"1f9d4_1f3fb_200d_2642":1,"1f9d4_1f3fc_200d_2640":1,"1f9d4_1f3fc_200d_2642":1,"1f9d4_1f3fd_200d_2640":1,"1f9d4_1f3fd_200d_2642":1,"1f9d4_1f3fe_200d_2640":1,"1f9d4_1f3fe_200d_2642":1,"1f9d4_1f3ff_200d_2640":1,"1f9d4_1f3ff_200d_2642":1,"1f9d4_200d_2640":1,"1f9d4_200d_2642":1,"1f9da_1f3fb":1,"1f9da_1f3fb_200d_2640":1,"1f9da_1f3fb_200d_2642":1,"1f9da_1f3fc":1,"1f9da_1f3fc_200d_2640":1,"1f9da_1f3fc_200d_2642":1,"1f9da_1f3fd":1,"1f9da_1f3fd_200d_2640":1,"1f9da_1f3fd_200d_2642":1,"1f9da_1f3fe":1,"1f9da_1f3fe_200d_2640":1,"1f9da_1f3fe_200d_2642":1,"1f9da_1f3ff":1,"1f9da_1f3ff_200d_2640":1,"1f9da_1f3ff_200d_2642":1,"1f9db_1f3fb":1,"1f9db_1f3fb_200d_2640":1,"1f9db_1f3fb_200d_2642":1,"1f9db_1f3fc":1,"1f9db_1f3fc_200d_2640":1,"1f9db_1f3fc_200d_2642":1,"1f9db_1f3fd":1,"1f9db_1f3fd_200d_2640":1,"1f9db_1f3fd_200d_2642":1,"1f9db_1f3fe":1,"1f9db_1f3fe_200d_2640":1,"1f9db_1f3fe_200d_2642":1,"1f9db_1f3ff":1,"1f9db_1f3ff_200d_2640":1,"1f9db_1f3ff_200d_2642":1,"1f9e7":1,"1f9e8":1,"1f9e9":1,"1f9ea":1,"1f9eb":1,"1f9ec":1,"1f9ed":1,"1f9ee":1,"1f9ef":1,"1f9f0":1,"1f9f1":1,"1f9f2":1,"1f9f3":1,"1f9f4":1,"1f9f5":1,"1f9f6":1,"1f9f7":1,"1f9f8":1,"1f9f9":1,"1f9fa":1,"1f9fb":1,"1f9fc":1,"1f9fd":1,"1f9fe":1,"1f9ff":1,"1fa70":1,"1fa71":1,"1fa72":1,"1fa73":1,"1fa74":1,"1fa75":1,"1fa76":1,"1fa77":1,"1fa78":1,"1fa79":1,"1fa7a":1,"1fa7b":1,"1fa7c":1,"1fa80":1,"1fa81":1,"1fa82":1,"1fa83":1,"1fa84":1,"1fa85":1,"1fa86":1,"1fa87":1,"1fa88":1,"1fa90":1,"1fa91":1,"1fa92":1,"1fa93":1,"1fa94":1,"1fa95":1,"1fa96":1,"1fa97":1,"1fa98":1,"1fa99":1,"1fa9a":1,"1fa9b":1,"1fa9c":1,"1fa9d":1,"1fa9e":1,"1fa9f":1,"1faa0":1,"1faa1":1,"1faa2":1,"1faa3":1,"1faa4":1,"1faa5":1,"1faa6":1,"1faa7":1,"1faa8":1,"1faa9":1,"1faaa":1,"1faab":1,"1faac":1,"1faad":1,"1faae":1,"1faaf":1,"1fab0":1,"1fab1":1,"1fab2":1,"1fab3":1,"1fab4":1,"1fab5":1,"1fab6":1,"1fab7":1,"1fab8":1,"1fab9":1,"1faba":1,"1fabb":1,"1fabc":1,"1fabd":1,"1fabf":1,"1fac0":1,"1fac1":1,"1fac2":1,"1fac3":1,"1fac3_1f3fb":1,"1fac3_1f3fc":1,"1fac3_1f3fd":1,"1fac3_1f3fe":1,"1fac3_1f3ff":1,"1fac4":1,"1fac4_1f3fb":1,"1fac4_1f3fc":1,"1fac4_1f3fd":1,"1fac4_1f3fe":1,"1fac4_1f3ff":1,"1fac5":1,"1fac5_1f3fb":1,"1fac5_1f3fc":1,"1fac5_1f3fd":1,"1fac5_1f3fe":1,"1fac5_1f3ff":1,"1face":1,"1facf":1,"1fad0":1,"1fad1":1,"1fad2":1,"1fad3":1,"1fad4":1,"1fad5":1,"1fad6":1,"1fad7":1,"1fad8":1,"1fad9":1,"1fada":1,"1fadb":1,"1fae0":1,"1fae1":1,"1fae2":1,"1fae3":1,"1fae4":1,"1fae5":1,"1fae6":1,"1fae7":1,"1fae8":1,"1faf0":1,"1faf0_1f3fb":1,"1faf0_1f3fc":1,"1faf0_1f3fd":1,"1faf0_1f3fe":1,"1faf0_1f3ff":1,"1faf1":1,"1faf1_1f3fb":1,"1faf1_1f3fb_200d_1faf2_1f3fc":1,"1faf1_1f3fb_200d_1faf2_1f3fd":1,"1faf1_1f3fb_200d_1faf2_1f3fe":1,"1faf1_1f3fb_200d_1faf2_1f3ff":1,"1faf1_1f3fc":1,"1faf1_1f3fc_200d_1faf2_1f3fb":1,"1faf1_1f3fc_200d_1faf2_1f3fd":1,"1faf1_1f3fc_200d_1faf2_1f3fe":1,"1faf1_1f3fc_200d_1faf2_1f3ff":1,"1faf1_1f3fd":1,"1faf1_1f3fd_200d_1faf2_1f3fb":1,"1faf1_1f3fd_200d_1faf2_1f3fc":1,"1faf1_1f3fd_200d_1faf2_1f3fe":1,"1faf1_1f3fd_200d_1faf2_1f3ff":1,"1faf1_1f3fe":1,"1faf1_1f3fe_200d_1faf2_1f3fb":1,"1faf1_1f3fe_200d_1faf2_1f3fc":1,"1faf1_1f3fe_200d_1faf2_1f3fd":1,"1faf1_1f3fe_200d_1faf2_1f3ff":1,"1faf1_1f3ff":1,"1faf1_1f3ff_200d_1faf2_1f3fb":1,"1faf1_1f3ff_200d_1faf2_1f3fc":1,"1faf1_1f3ff_200d_1faf2_1f3fd":1,"1faf1_1f3ff_200d_1faf2_1f3fe":1,"1faf1_1f3ff_200d_1faf_1f3fd":1,"1faf2":1,"1faf2_1f3fb":1,"1faf2_1f3fc":1,"1faf2_1f3fd":1,"1faf2_1f3fe":1,"1faf2_1f3ff":1,"1faf3":1,"1faf3_1f3fb":1,"1faf3_1f3fc":1,"1faf3_1f3fd":1,"1faf3_1f3fe":1,"1faf3_1f3ff":1,"1faf4":1,"1faf4_1f3fb":1,"1faf4_1f3fc":1,"1faf4_1f3fd":1,"1faf4_1f3fe":1,"1faf4_1f3ff":1,"1faf5":1,"1faf5_1f3fb":1,"1faf5_1f3fc":1,"1faf5_1f3fd":1,"1faf5_1f3fe":1,"1faf5_1f3ff":1,"1faf6":1,"1faf6_1f3fb":1,"1faf6_1f3fc":1,"1faf6_1f3fd":1,"1faf6_1f3fe":1,"1faf6_1f3ff":1,"1faf7":1,"1faf7_1f3fb":1,"1faf7_1f3fc":1,"1faf7_1f3fd":1,"1faf7_1f3fe":1,"1faf7_1f3ff":1,"1faf8":1,"1faf8_1f3fb":1,"1faf8_1f3fc":1,"1faf8_1f3fd":1,"1faf8_1f3fe":1,"1faf8_1f3ff":1,"265f":1,"267e":1,"26a7":1,"26f9":1,"26f9_1f3fb":1,"26f9_1f3fc":1,"26f9_1f3fd":1,"26f9_1f3fe":1,"26f9_1f3ff":1,"2764_200d_1f525":1,"2764_200d_1fa79":1,"2764_fe0f_200d_1fa79":1,f0000:1});e.exports=a}),null);
__d("FBEmojiUtils",["EmojiRendererData","SupportedEmoji3"],(function(a,b,c,d,e,f,g){"use strict";var h,i=/_fe0f/g,j=[127995,127996,127997,127998,127999];function a(a){return a.map(function(a){return String.fromCodePoint(a)}).join("")}var k=function(a){return a.filter(function(a){return a.length>0}).map(function(a){return a.codePointAt(0).toString(16)}).join("_").replace(i,"")},l=function(a){a=k(a);if(a==null)return null;return c("SupportedEmoji3")[a]?a:null};b=function(a){return a.replace(i,"")};d=function(a){var b=[];if(!(h||(h=c("EmojiRendererData"))).isEmojiModifierBase(a[0]))return b;j.forEach(function(d){var e=a.reduce(function(a,b){if(a.length&&(h||(h=c("EmojiRendererData"))).isEmojiVariationSelector(b)&&(h||(h=c("EmojiRendererData"))).isEmojiModifier(a[a.length-1]))return a;a.push(b);(h||(h=c("EmojiRendererData"))).isEmojiModifierBase(b)&&a.push(d);return a},[]);l(e.map(function(a){return String.fromCodePoint(a)}))&&b.push(e)});return b};g.codepointsToString=a;g.getKeyFromCodepoints=k;g.getSupportedKey=l;g.normalizeKey=b;g.getSupportedModifierSequences=d}),98);
__d("SupportedEmojiExtended",[],(function(a,b,c,d,e,f){a={FACE_WITH_COLON_THREE:1,LIKE:1,PACMAN:1};e.exports=a}),null);
__d("SupportedFacebookEmoji",["SupportedCommonEmoji"],(function(a,b,c,d,e,f){a=babelHelpers["extends"]({},b("SupportedCommonEmoji"));e.exports=a}),null);
__d("FBEmojiResource",["EmojiImageURL","EmojiRenderer","FBEmojiUtils","SupportedEmoji3","SupportedEmojiExtended","SupportedFacebookEmoji"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("FBEmojiUtils").normalizeKey(a);return c("SupportedFacebookEmoji")[a]||c("SupportedEmoji3")[a]?a:null}function i(a){if(c("SupportedEmoji3")[a])return"EMOJI_3";else if(c("SupportedFacebookEmoji")[a])return"FB_EMOJI";else return null}a=function(){function a(a){this.$1=a}var b=a.prototype;b.getImageURL=function(a){var b=this.$1;if(c("SupportedEmojiExtended")[b])return d("EmojiImageURL").getFBEmojiExtendedURL(b,a);var e=i(b);switch(e){case"EMOJI_3":return d("EmojiImageURL").getEmoji3URL(b,a);case"FB_EMOJI":return d("EmojiImageURL").getFBEmojiURL(b,a)}return null};a.firstFromText=function(b){b=d("EmojiRenderer").parse(b);return b.length===0?null:a.fromCodepoints(b[0].emoji)};a.fromCodepoints=function(b){b=h(d("FBEmojiUtils").getKeyFromCodepoints(b));return b==null?null:new a(b)};return a}();g["default"]=a}),98);
__d("CometEmoji.react",["CometImage.react","FBEmojiResource","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{display:"x3nfvp2",fontStyle:"x1j61x8r",fontWeight:"x1fcty0u",marginTop:"xdj266r",marginBottom:"xat24cr",marginStart:"xgzva0m",marginEnd:"xhhsvwb",marginLeft:null,marginRight:null,verticalAlign:"xxymvpz",$$css:!0},size10:{height:"x170jfvy",width:"x1fsd2vl",$$css:!0},size12:{height:"x1kpxq89",width:"xsmyaan",$$css:!0},size128:{height:"x1nbnut7",width:"x2pejg6",$$css:!0},size16:{height:"xlup9mm",width:"x1kky2od",$$css:!0},size18:{height:"xmix8c7",width:"x1xp8n7a",$$css:!0},size20:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},size24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},size28:{height:"x1fgtraw",width:"xgd8bvy",$$css:!0},size30:{height:"x1gnnpzl",width:"x1849jeq",$$css:!0},size32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},size40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},size48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},size56:{height:"xnnlda6",width:"x15yg21f",$$css:!0},size8:{height:"xdk7pt",width:"x1xc55vz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(33),e=a.emoji,f=a.resource,g=a.size;a=a.testid;g=g===void 0?16:g;var h;b[0]!==e||b[1]!==f?(h=f||c("FBEmojiResource").fromCodepoints(e),b[0]=e,b[1]=f,b[2]=h):h=b[2];f=h;b[3]!==f||b[4]!==g?(h=f!=null?f.getImageURL(g):null,b[3]=f,b[4]=g,b[5]=h):h=b[5];f=h;b[6]!==e?(h=e.join(""),b[6]=e,b[7]=h):h=b[7];e=h;if(f==null||f===""){b[8]!==e?(h=i.jsx(d("react-strict-dom").html.span,{style:j.root,children:e}),b[8]=e,b[9]=h):h=b[9];return h}h=g===8&&j.size8;var k=g===10&&j.size10,l=g===12&&j.size12,m=g===16&&j.size16,n=g===18&&j.size18,o=g===20&&j.size20,p=g===24&&j.size24,q=g===28&&j.size28,r=g===30&&j.size30,s=g===32&&j.size32,t=g===40&&j.size40,u=g===48&&j.size48,v=g===56&&j.size56,w=g===128&&j.size128,x;b[10]!==o||b[11]!==p||b[12]!==q||b[13]!==r||b[14]!==s||b[15]!==t||b[16]!==u||b[17]!==v||b[18]!==w||b[19]!==h||b[20]!==k||b[21]!==l||b[22]!==m||b[23]!==n?(x=[j.root,h,k,l,m,n,o,p,q,r,s,t,u,v,w],b[10]=o,b[11]=p,b[12]=q,b[13]=r,b[14]=s,b[15]=t,b[16]=u,b[17]=v,b[18]=w,b[19]=h,b[20]=k,b[21]=l,b[22]=m,b[23]=n,b[24]=x):x=b[24];b[25]!==e||b[26]!==f||b[27]!==g?(o=i.jsx(c("CometImage.react"),{alt:e,height:g,src:f,width:g}),b[25]=e,b[26]=f,b[27]=g,b[28]=o):o=b[28];b[29]!==x||b[30]!==o||b[31]!==a?(p=i.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:x,children:o}),b[29]=x,b[30]=o,b[31]=a,b[32]=p):p=b[32];return p}g["default"]=a}),98);
__d("CometImageFromIXValueRelayWrapper_sprite.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometImageFromIXValueRelayWrapper_sprite",selections:[{alias:null,args:null,kind:"ScalarField",name:"sprited",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sprite_map_css_class",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sprite_css_class",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preloading_spi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"p",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"spi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_id",storageKey:null}],type:"XFBIXMapEntry",abstractKey:null};e.exports=a}),null);
__d("CometImageFromIXValueRelayWrapper.react",["CometImageFromIXValue.react","CometImageFromIXValueRelayWrapper_sprite.graphql","CometRelay","RecoverableViolationWithComponentStack.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");e=j.forwardRef(a);function a(a,e){var f=d("react-compiler-runtime").c(24);a=a.sprite;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometImageFromIXValueRelayWrapper_sprite.graphql"),a);var g=a.h,i=a.height,k=a.logging_id,l=a.p,m=a.preloading_spi,n=a.spi,o=a.sprite_css_class,p=a.sprite_map_css_class,q=a.sprited,r=a.sz,s=a.uri,t=a.w;a=a.width;if(q===0){var u;f[0]!==i||f[1]!==k||f[2]!==q||f[3]!==s||f[4]!==a?(u={height:i,loggingID:k,sprited:q,uri:s,width:a},f[0]=i,f[1]=k,f[2]=q,f[3]=s,f[4]=a,f[5]=u):u=f[5];i=u}else if(q===1){f[6]!==m||f[7]!==k||f[8]!==o||f[9]!==p||f[10]!==q?(s={_spi:m,loggingID:k,spriteCssClass:o,sprited:q,spriteMapCssClass:p},f[6]=m,f[7]=k,f[8]=o,f[9]=p,f[10]=q,f[11]=s):s=f[11];i=s}else if(q===2){f[12]!==g||f[13]!==k||f[14]!==l||f[15]!==n||f[16]!==q||f[17]!==r||f[18]!==t?(a={h:g,loggingID:k,p:l,spi:n,sprited:q,sz:r,w:t},f[12]=g,f[13]=k,f[14]=l,f[15]=n,f[16]=q,f[17]=r,f[18]=t,f[19]=a):a=f[19];i=a}else{f[20]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"asset fetched from graphql via CometImageFromIXValueRelay that doesn't match expected any known sprited icons",projectName:"comet_ui"}),f[20]=u):u=f[20];return u}f[21]!==e||f[22]!==i?(m=j.jsx(c("CometImageFromIXValue.react"),{ref:e,source:i}),f[21]=e,f[22]=i,f[23]=m):m=f[23];return m}f=e;g["default"]=f}),98);
__d("FDSProgressSkittleIndeterminate.react",["FDSProgressRingIndeterminate.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},gray:{backgroundColor:"x1qhmfi1",$$css:!0},skittle:{alignItems:"x6s0dn4",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x3nfvp2",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.size,f=a["aria-label"];a=a["aria-labelledby"];e=e===void 0?36:e;var g;b[0]!==e?(g=(h||(h=c("stylex"))).props(k.circle,k.skittle,k.gray,k[e]),b[0]=e,b[1]=g):g=b[1];e=e===48?32:20;var i;b[2]!==f||b[3]!==a||b[4]!==e?(i=j.jsx(c("FDSProgressRingIndeterminate.react"),{"aria-label":f,"aria-labelledby":a,color:c("gkx")("6275")?"dark":"disabled_DEPRECATED",size:e}),b[2]=f,b[3]=a,b[4]=e,b[5]=i):i=b[5];b[6]!==g||b[7]!==i?(f=j.jsx("div",babelHelpers["extends"]({},g,{children:i})),b[6]=g,b[7]=i,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("FDSSkittleEmoji.react",["CometEmoji.react","EmojiRenderer","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},roundedRect:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},skittle:{alignItems:"x6s0dn4",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x3nfvp2",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0}},l={accent:{backgroundColor:"xwnonoy",$$css:!0},blue:{backgroundColor:"x11goek",$$css:!0},cherry:{backgroundColor:"x1tzrqqp",$$css:!0},grape:{backgroundColor:"x17f3y5z",$$css:!0},gray:{backgroundColor:"x1qhmfi1",$$css:!0},green:{backgroundColor:"xv9rvxn",$$css:!0},lemon:{backgroundColor:"xacajkf",$$css:!0},lightblue:{backgroundColor:"x1hr4nm9",$$css:!0},lime:{backgroundColor:"xbmc1ew",$$css:!0},pink:{backgroundColor:"x1qrsksh",$$css:!0},red:{backgroundColor:"x1ciooss",$$css:!0},seafoam:{backgroundColor:"x1tw9p8u",$$css:!0},teal:{backgroundColor:"x1emf0wh",$$css:!0},tomato:{backgroundColor:"xqjkjv5",$$css:!0},transparent:{backgroundColor:"xjbqb8w",$$css:!0},white:{backgroundColor:"x14hiurz",$$css:!0}},m={24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},56:{height:"xnnlda6",width:"x15yg21f",$$css:!0},60:{height:"xng8ra",width:"x1247r65",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.color,f=a.emoji,g=a.emojiSize,i=a.shape;a=a.size;i=i===void 0?"circle":i;var n;b[0]!==f?(n=d("EmojiRenderer").parse(f),b[0]=f,b[1]=n):n=b[1];n=n;var o=i==="circle"&&k.circle;i=i==="roundedRect"&&k.roundedRect;e=l[e];a=m[a];var p;b[2]!==o||b[3]!==i||b[4]!==e||b[5]!==a?(p=(h||(h=c("stylex")))(o,i,k.skittle,e,a),b[2]=o,b[3]=i,b[4]=e,b[5]=a,b[6]=p):p=b[6];b[7]!==f||b[8]!==n?(o=n[0]?n[0].emoji:[f],b[7]=f,b[8]=n,b[9]=o):o=b[9];b[10]!==g||b[11]!==o?(i=j.jsx(c("CometEmoji.react"),{emoji:o,size:g}),b[10]=g,b[11]=o,b[12]=i):i=b[12];b[13]!==p||b[14]!==i?(e=j.jsx("div",{className:p,children:i}),b[13]=p,b[14]=i,b[15]=e):e=b[15];return e}g["default"]=a}),98);
__d("FDSSkittleIcon.react",["FDSIcon.react","MetaConfig","profilePhotoUtils","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},iconBadge:{alignItems:"x6s0dn4",backgroundColor:"xwnonoy",borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",position:"x10l6tqk",$$css:!0},roundedRect:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},skittle:{alignItems:"x6s0dn4",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",display:"x3nfvp2",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0}},k={accent:{backgroundColor:"xwnonoy",$$css:!0},blue:{backgroundColor:"x11goek",$$css:!0},cherry:{backgroundColor:"x1tzrqqp",$$css:!0},grape:{backgroundColor:"x17f3y5z",$$css:!0},gray:{backgroundColor:"x1qhmfi1",$$css:!0},green:{backgroundColor:"xv9rvxn",$$css:!0},lemon:{backgroundColor:"xacajkf",$$css:!0},lightblue:{backgroundColor:"x1hr4nm9",$$css:!0},lime:{backgroundColor:"xbmc1ew",$$css:!0},pink:{backgroundColor:"x1qrsksh",$$css:!0},"primary-on-media":{backgroundColor:"xyyilqk",$$css:!0},"primary-on-media-legacy":{backgroundColor:"x9bbmet",$$css:!0},red:{backgroundColor:"x1ciooss",$$css:!0},seafoam:{backgroundColor:"x1tw9p8u",$$css:!0},teal:{backgroundColor:"x1emf0wh",$$css:!0},tomato:{backgroundColor:"xqjkjv5",$$css:!0},white:{backgroundColor:"x14hiurz",$$css:!0}},l={32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},56:{height:"xnnlda6",width:"x15yg21f",$$css:!0},60:{height:"xng8ra",width:"x1247r65",$$css:!0}},m=new Map([[24,16],[36,20],[40,24],[48,24],[56,24],[60,24]]);function n(a){switch(a){case"gray":return"primary";case"white":return"primary";case"lightblue":return"highlight";case"primary-on-media":return c("MetaConfig")._("179")?"primaryButtonIconOnMedia":"secondary";default:return"white"}}b=i.forwardRef(a);function a(a,b){var e,f=d("react-compiler-runtime").c(37),g,h,o,p,q,r,s,t;f[0]!==a?(g=a.color,s=a.disabled,h=a.icon,p=a.iconBadge,q=a.iconBadgeAria,t=a.shape,r=a.size,o=babelHelpers.objectWithoutPropertiesLoose(a,["color","disabled","icon","iconBadge","iconBadgeAria","shape","size"]),f[0]=a,f[1]=g,f[2]=h,f[3]=o,f[4]=p,f[5]=q,f[6]=r,f[7]=s,f[8]=t):(g=f[1],h=f[2],o=f[3],p=f[4],q=f[5],r=f[6],s=f[7],t=f[8]);a=s===void 0?!1:s;s=t===void 0?"circle":t;t=o["aria-label"]==null&&o["aria-labelledby"]==null;e=((e=q)==null?void 0:e["aria-label"])==null&&((e=q)==null?void 0:e["aria-labelledby"])==null;var u=s==="circle"&&j.circle;s=s==="roundedRect"&&j.roundedRect;var v=g==="primary-on-media"?c("MetaConfig")._("179")?k["primary-on-media"]:k["primary-on-media-legacy"]:k[g],w=l[r],x;f[9]!==u||f[10]!==s||f[11]!==v||f[12]!==w?(x=[u,s,j.skittle,v,w],f[9]=u,f[10]=s,f[11]=v,f[12]=w,f[13]=x):x=f[13];f[14]!==o||f[15]!==t?(u=t?{isDecorative:t}:o,f[14]=o,f[15]=t,f[16]=u):u=f[16];f[17]!==g||f[18]!==a?(s=a?"disabled":n(g),f[17]=g,f[18]=a,f[19]=s):s=f[19];f[20]!==r?(v=m.get(r),f[20]=r,f[21]=v):v=f[21];f[22]!==h||f[23]!==v||f[24]!==u||f[25]!==s?(w=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},u,{color:s,icon:h,size:v})),f[22]=h,f[23]=v,f[24]=u,f[25]=s,f[26]=w):w=f[26];f[27]!==p||f[28]!==q||f[29]!==e||f[30]!==r?(o=p!=null&&i.jsx(d("react-strict-dom").html.div,{style:[j.iconBadge,[d("profilePhotoUtils").getBadgePosition(r/2)]],children:i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},e?{isDecorative:e}:q,{color:"white",icon:p,size:8}))}),f[27]=p,f[28]=q,f[29]=e,f[30]=r,f[31]=o):o=f[31];f[32]!==b||f[33]!==w||f[34]!==o||f[35]!==x?(t=i.jsxs(d("react-strict-dom").html.div,{ref:b,style:x,children:[w,o]}),f[32]=b,f[33]=w,f[34]=o,f[35]=x,f[36]=t):t=f[36];return t}e=b;g["default"]=e}),98);
__d("MWJewelThreadFacepile.react",["CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react","FDSProfilePhoto.react","FDSProfilePhotoAvailabilityBadge.react","FDSProfilePhotoLastActiveTimeBadge.react","profilePhotoUtils","react","react-compiler-runtime","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={badge:{position:"x10l6tqk",$$css:!0},badgeWithLastActiveTime:{bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",start:"x17qophe",justifyContent:"x13a6bvl",$$css:!0},primaryPhoto:{bottom:"x1ey2m1c",start:"x17qophe",position:"x10l6tqk",$$css:!0},root:{position:"x1n2onr6",$$css:!0},withCircleBorder:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",$$css:!0}},l={24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},56:{height:"xnnlda6",width:"x15yg21f",$$css:!0},60:{height:"xng8ra",width:"x1247r65",$$css:!0},80:{height:"xwzfr38",width:"x1dmp6jm",$$css:!0}};function m(a){switch(a){case 24:return 16;case 36:return 24;case 40:return 28;case 48:return 32;case 56:return 36;case 60:return 40;case 80:return 56;default:a}throw c("unrecoverableViolation")("Invalid size passed to MWJewelThreadfacepile","comet_ui")}function a(a){var b=d("react-compiler-runtime").c(35),e=a.addOn,f=a.primaryPhoto,g=a.secondaryPhoto;a=a.size;var i;b[0]!==a?(i=m(a),b[0]=a,b[1]=i):i=b[1];i=i;var n;b[2]!==a?(n=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(a,"availabilityBadge"),b[2]=a,b[3]=n):n=b[3];n=n;n=n[0];var o=a/2,p;b[4]!==o?(p=d("profilePhotoUtils").getBadgePosition(o),b[4]=o,b[5]=p):p=b[5];o=p;p=(e==null?void 0:e.type)==="lastActiveTimeBadge"&&a>28;var q,r;b[6]!==f?(r=f.withBorder,q=babelHelpers.objectWithoutPropertiesLoose(f,["withBorder"]),b[6]=f,b[7]=q,b[8]=r):(q=b[7],r=b[8]);b[9]!==e||b[10]!==o||b[11]!==n||b[12]!==p?(f=(e==null?void 0:e.type)==="availabilityBadge"?j.jsx("div",{className:"x10l6tqk",style:o,children:j.jsx(c("FDSProfilePhotoAvailabilityBadge.react"),{pressed:!1,size:n})}):(e==null?void 0:e.type)==="lastActiveTimeBadge"?j.jsx("div",{className:(h||(h=c("stylex")))(k.badge,p&&k.badgeWithLastActiveTime),style:p?void 0:o,children:j.jsx(c("FDSProfilePhotoLastActiveTimeBadge.react"),{border:e.border,pressed:!1,time:e.time})}):(e==null?void 0:e.type)==="trigger"?j.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x1ey2m1c x78zum5 xds687c x17qophe x13a6bvl"},{children:e.icon})):null,b[9]=e,b[10]=o,b[11]=n,b[12]=p,b[13]=f):f=b[13];e=f;b[14]!==a?(o=(h||(h=c("stylex"))).props(k.root,l[String(a)]),b[14]=a,b[15]=o):o=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"xds687c x10l6tqk x13vifvy"},b[16]=n):n=b[16];b[17]!==i||b[18]!==g?(p=j.jsx("div",babelHelpers["extends"]({},n,{children:j.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},g,{shape:"circle",size:i}))})),b[17]=i,b[18]=g,b[19]=p):p=b[19];b[20]!==r?(f=(h||(h=c("stylex"))).props(k.primaryPhoto,r===!0&&k.withCircleBorder),b[20]=r,b[21]=f):f=b[21];b[22]!==q||b[23]!==i?(a=j.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},q,{shape:"circle",size:i})),b[22]=q,b[23]=i,b[24]=a):a=b[24];b[25]!==a||b[26]!==f?(n=j.jsx("div",babelHelpers["extends"]({},f,{children:a})),b[25]=a,b[26]=f,b[27]=n):n=b[27];b[28]!==e?(g=j.jsx(c("CometSSRReplaceContentOnHydrationAndBreakEventReplaying.react"),{children:e}),b[28]=e,b[29]=g):g=b[29];b[30]!==n||b[31]!==g||b[32]!==o||b[33]!==p?(r=j.jsxs("div",babelHelpers["extends"]({},o,{children:[p,n,g]})),b[30]=n,b[31]=g,b[32]=o,b[33]=p,b[34]=r):r=b[34];return r}g["default"]=a}),98);
__d("CometListCellStrictAddOnStart.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometImageFromIXValueRelayWrapper.react","FDSIcon.react","FDSProfilePhoto.react","FDSProfilePhotoForActor.react","FDSProgressSkittleIndeterminate.react","FDSSkittleEmoji.react","FDSSkittleIcon.react","FDSTooltip.react","MWJewelThreadFacepile.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(36),e=a.addOnStart;a=a.disabled;switch(e.type){case"icon":if(b[0]!==e){var f=e.tooltip;e.type;var g=babelHelpers.objectWithoutPropertiesLoose(e,["tooltip","type"]);f=f;g=g;b[0]=e;b[1]=g;b[2]=f}else g=b[1],f=b[2];var h;b[3]!==g||b[4]!==a?(h=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},g,{disabled:a})),b[3]=g,b[4]=a,b[5]=h):h=b[5];g=h;if(f!=null){b[6]!==g||b[7]!==f?(h=i.jsx(c("FDSTooltip.react"),{tooltip:f,children:g}),b[6]=g,b[7]=f,b[8]=h):h=b[8];return h}return g;case"profile-photo":if(b[9]!==e){e.type;f=babelHelpers.objectWithoutPropertiesLoose(e,["type"]);h=f;b[9]=e;b[10]=h}else h=b[10];b[11]!==h?(g=i.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},h)),b[11]=h,b[12]=g):g=b[12];return g;case"profile-photo-for-actor":if(b[13]!==e){e.type;f=babelHelpers.objectWithoutPropertiesLoose(e,["type"]);h=f;b[13]=e;b[14]=h}else h=b[14];b[15]!==h?(g=i.jsx(c("FDSProfilePhotoForActor.react"),babelHelpers["extends"]({},h)),b[15]=h,b[16]=g):g=b[16];return g;case"contained-icon":if(b[17]!==e){f=e.color;e.type;h=babelHelpers.objectWithoutPropertiesLoose(e,["color","type"]);g=f;f=h;b[17]=e;b[18]=f;b[19]=g}else f=b[18],g=b[19];h=g===void 0?"gray":g;b[20]!==h||b[21]!==a||b[22]!==f?(g=i.jsx(c("FDSSkittleIcon.react"),babelHelpers["extends"]({color:h},f,{disabled:a})),b[20]=h,b[21]=a,b[22]=f,b[23]=g):g=b[23];return g;case"contained-progress-ring-indeterminate":b[24]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("FDSProgressSkittleIndeterminate.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME")}),b[24]=h):h=b[24];return h;case"messenger-facepile":if(b[25]!==e){e.type;a=babelHelpers.objectWithoutPropertiesLoose(e,["type"]);f=a;b[25]=e;b[26]=f}else f=b[26];b[27]!==f?(g=i.jsx(c("MWJewelThreadFacepile.react"),babelHelpers["extends"]({},f)),b[27]=f,b[28]=g):g=b[28];return g;case"override":return e.component;case"emoji":h=e.color;a=e.emoji;f=e.emojiSize;g=e.size;h=h===void 0?"gray":h;f=f===void 0?20:f;g=g===void 0?40:g;var j;b[29]!==h||b[30]!==a||b[31]!==f||b[32]!==g?(j=i.jsx(c("FDSSkittleEmoji.react"),{color:h,emoji:a,emojiSize:f,size:g}),b[29]=h,b[30]=a,b[31]=f,b[32]=g,b[33]=j):j=b[33];return j;case"sprite":h=e.sprite;b[34]!==h?(a=i.jsx(c("CometImageFromIXValueRelayWrapper.react"),{sprite:h}),b[34]=h,b[35]=a):a=b[35];return a;default:return null}}g["default"]=a}),98);
__d("FDSSwitch.react",["BaseStyledSwitch.react","MetaConfig","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={uncheked:{backgroundColor:"x70xgpi",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(13),f,g,h,k,l;e[0]!==a?(g=a.disabled,h=a.size,k=a.testid,l=a.xstyle,f=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","size","testid","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=k,e[5]=l):(f=e[1],g=e[2],h=e[3],k=e[4],l=e[5]);a=g===void 0?!1:g;g=h===void 0?"medium":h;k=(h=k)!=null?h:"FDSSwitch";e[6]!==a||e[7]!==f||e[8]!==b||e[9]!==g||e[10]!==k||e[11]!==l?(h=i.jsx(c("BaseStyledSwitch.react"),babelHelpers["extends"]({},f,{disabled:a,ref:b,size:g,testid:void 0,uncheckedXStyle:c("MetaConfig")._("73")?j.uncheked:void 0,xstyle:l})),e[6]=a,e[7]=f,e[8]=b,e[9]=g,e[10]=k,e[11]=l,e[12]=h):h=e[12];return h}e=b;g["default"]=e}),98);
__d("getListCellAddOn.react",["fbt","ix","FDSButton.react","FDSIcon.react","FDSSwitch.react","Locale","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={"switch":{marginBottom:"x4vbgl9",marginStart:"x1mh8g0r",marginEnd:"x11i5rnm",marginLeft:null,marginRight:null,marginTop:"xdj266r",$$css:!0}},m=d("Locale").isRTL(),n=function(a,b,e){var f=a["aria-label"],g=a["aria-labelledby"],h=a.on,j=a.onPress,l=a.testOnly_pressed;a.type;var m=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","aria-labelledby","on","onPress","testOnly_pressed","type"]);m=babelHelpers["extends"]({},m,{"aria-checked":j!=null?h:void 0,color:b?"disabled":h?"highlight":"secondary",disabled:b,hideHoverOverlay:!0,icon:a.on?d("fbicon")._(i("484757"),20):d("fbicon")._(i("659288"),20),onPress:j,role:j!=null?"checkbox":void 0,testOnly_pressed:l});return f!=null?k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},m,{"aria-label":f})):k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},m,{"aria-labelledby":(h=g)!=null?h:e}))},o=function(a,b,e){var f=a["aria-label"],g=a["aria-labelledby"],h=a.on,j=a.onPress,l=a.testOnly_pressed;a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","aria-labelledby","on","onPress","testOnly_pressed","type"]);a=babelHelpers["extends"]({},a,{"aria-checked":j!=null?h:void 0,color:b?"disabled":h?"highlight":"secondary",disabled:b,hideHoverOverlay:!0,icon:h?d("fbicon")._(i("621399"),20):d("fbicon")._(i("545517"),20),onPress:j,role:j!=null?"radio":void 0,testOnly_pressed:l});return f!=null?k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{"aria-label":f})):k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{"aria-labelledby":(b=g)!=null?b:e}))},p=function(a,b,e){a.text;a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["text","type"]);e===3?e=m?d("fbicon")._(i("492521"),24):d("fbicon")._(i("492575"),24):e=m?d("fbicon")._(i("492518"),20):d("fbicon")._(i("492572"),20);return k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{color:b?"disabled":"secondary",disabled:b,icon:e}))},q=function(a,b,e){e=a["aria-label"];var f=a["aria-labelledby"];a.children;var g=a.onPress,h=a.open;a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","aria-labelledby","children","onPress","open","type"]);a=babelHelpers["extends"]({},a,{color:b?"disabled":"secondary",disabled:b,icon:h?d("fbicon")._(i("505565"),20):d("fbicon")._(i("492454"),20)});if(g!=null&&e!=null)return k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{"aria-label":e,onPress:g}));return g!=null&&f!=null?k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{"aria-labelledby":f,onPress:g})):k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a))},r=function(a,b){var d=a["aria-label"],e=a["aria-labelledby"],f=a.color,g=a.icon,h=a.onHoverIn,i=a.onHoverOut,j=a.onPress,l=a.onPressIn,m=a.testOnly_pressed;a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","aria-labelledby","color","icon","onHoverIn","onHoverOut","onPress","onPressIn","testOnly_pressed","type"]);f=(f=f)!=null?f:"primary";a=babelHelpers["extends"]({},a,{color:b?"disabled":f,disabled:b,hideHoverOverlay:!0,icon:g,testOnly_pressed:m});f={onHoverIn:h,onHoverOut:i,onPress:j,onPressIn:l};if(j!=null&&d!==void 0)return k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({"aria-label":d},a,f));return j!=null&&e!=null?k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({"aria-labelledby":e},a,f)):k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a))},s=function(a,b){var d=a.labelIsHidden;d=d===void 0?!1:d;var e=a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["labelIsHidden","type"]);e=e==="primary-button"?"primary":"secondary";d=d?babelHelpers["extends"]({disabled:b,labelIsHidden:!0,type:e},a):babelHelpers["extends"]({disabled:b,type:e},a);return k.jsx(c("FDSButton.react"),babelHelpers["extends"]({},d))},t=function(a,b){var d=a.onChange,e=a.size;a.type;var f=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","size","type","value"]);return k.jsx(c("FDSSwitch.react"),{"aria-label":b||a.disabled===!0?h._(/*BTDS*/"__JHASH__AVRl6ij3kje__JHASH__"):h._(/*BTDS*/"__JHASH__AOlGHVa_PET__JHASH__"),disabled:b||a.disabled===!0,onClick:d,size:e,tabIndex:-1,value:f,xstyle:l["switch"]})},u=function(a,b){var e=a.onPress,f=a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPress","type"]);return k.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},a,{color:b?"disabled":"secondary",disabled:b,icon:f==="more"?d("fbicon")._(i("484391"),24):d("fbicon")._(i("478237"),16),onPress:e}))};a=function(a,b,c,d){switch(a.type){case"checkbox":return n(a,b,d);case"radio":return o(a,b,d);case"disclosure":return p(a,b,c);case"expander":return q(a,b,c);case"icon":return r(a,b);case"primary-button":return s(a,b);case"secondary-button":return s(a,b);case"switch":return t(a,b);case"more":return u(a,b);case"close":return u(a,b);case"body":return a.addOn}};g.getEndAddOn=a}),226);
__d("CometListCellStrict_DEPRECATED.react",["BaseHeadingContext","BaseIsDecorativeContext","CometCompositeStructureContext","CometDensityAwarenessContext","CometDensityModeContext","CometFocusGroupContext","CometFocusTableContext","CometListCellStrictAddOnStart.react","CometPressable.react","CometVisualCompletionAttributes","FDSText.react","FDSTextPairing.react","getItemRoleFromCompositeRole","getListCellAddOn.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,aa,d,e,f){"use strict";var g,h,i=h||(h=aa("react"));b=h;var j=b.useContext,k=b.useId,l={addOn:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},addOnWithExpander:{marginEnd:"x1emribx",$$css:!0},addOnWithIcon:{display:"x78zum5",$$css:!0},addOnWithText:{marginStart:"xsgj6o6",$$css:!0},bottomAddOn:{display:"x78zum5",flexDirection:"xdt5ytf",marginEnd:"x12rz0ws",marginStart:"x16hk5td",$$css:!0},bottomAddOnOverrideRow:{flexDirection:"x1q0g3np",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",paddingTop:"x1yrsyyn",$$css:!0},bottomAddOnWithFacepile:{marginStart:"x169t7cy",$$css:!0},content:{alignItems:"x1qjc9v5",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderEndStyle:"xu3j5b3",borderEndWidth:"xcfux6l",borderStartStyle:"x26u7qi",borderStartWidth:"xm0m39n",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",justifyContent:"x1qughib",marginBottom:"xat24cr",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingEnd:"x4uap5",paddingStart:"xkhd6sd",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0},contentDense:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},contentWithMoreSpacing:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},contentWithMoreSpacingDense:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},disabled:{cursor:"x1h6gzvc",pointerEvents:"x47corl",$$css:!0},endAddOn:{marginBottom:"xod5an3",marginStart:"x16n37ib",marginTop:"x14vqqas",position:"x1n2onr6",$$css:!0},endAddOnCenter:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0},endAddOnSmall:{marginBottom:"x1e56ztr",marginStart:"x16n37ib",marginTop:"x1xmf6yo",position:"x1n2onr6",$$css:!0},indented:{paddingLeft:"x5tiur9",paddingStart:null,paddingEnd:null,$$css:!0},listCellMinHeight:{minHeight:"x1gg8mnh",$$css:!0},pressable:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x1lliihq",$$css:!0},responsiveButtons:{flexGrow:"x1iyjqo2",paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},responsiveContent:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},responsiveText:{boxSizing:"x9f619",flexBasis:"x4pfjvb",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x193iq5w",minWidth:"x1mkiy5m",paddingBottom:"x10b6aqq",paddingEnd:"x1pi30zi",paddingTop:"x1yrsyyn",$$css:!0},root:{alignItems:"x6s0dn4",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"x1qhh985",borderEndStyle:"xu3j5b3",borderEndWidth:"xcfux6l",borderStartStyle:"x26u7qi",borderStartWidth:"xm0m39n",borderTopStyle:"x13fuv20",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",justifyContent:"x1qughib",marginBottom:"xat24cr",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",marginTop:"xdj266r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingBottom:"x18d9i69",paddingEnd:"x1sxyh0",paddingStart:"xurb0ha",paddingTop:"xexx8yu",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0},rootWithIncreasedHeight:{minHeight:"x1wiwyrm",$$css:!0},selected:{backgroundColor:"x1av1boa",$$css:!0},selectedWashBackground:{backgroundColor:"xljulmy",$$css:!0},startAddOn:{alignSelf:"xqcrz7y",display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",marginEnd:"xq8finb",position:"x1n2onr6",$$css:!0},startAddOnDense:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},startAddOnDensityAware:{"@media (max-height: 700px)_marginTop":"xv2ei83","@media (max-height: 700px)_marginBottom":"x1og3r51","@media (max-height: 700px)_marginEnd":"x1ywmky0","@media (max-height: 700px)_marginStart":"xnd27nj","@media (max-height: 700px)_transform":"xv3fwf9",$$css:!0},visualSwitch:{pointerEvents:"x47corl",$$css:!0}},ba={center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}},ca={center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}};d=i.forwardRef(a);function a(a,b){var d=aa("react-compiler-runtime").c(124),e=a.addOnBottom,f=a.addOnEnd,h=a.addOnEndDisabled,ga=a.addOnEndRef,m=a.addOnEndTestId,n=a.addOnEndVerticalAlign,o=a.addOnStart,p=a.addOnStartCssSelectionId,q=a.addOnStartDisabled,r=a.addOnStartOverrideVerticalStyle,s=a.addOnStartTestId,t=a.addOnStartVerticalAlign,ha=a["aria-label"],ia=a["aria-labelledby"],ja=a["aria-pressed"],u=a.body,v=a.bodyColor,w=a.bodyLineLimit,x=a.contentHorizontalPadding,ka=a.dataAttributes,la=a.describedby,y=a.disabled,z=a.emphasized,ma=a.focusable,A=a.hasBottomDivider,B=a.headline,C=a.headlineAddOn,D=a.headlineColor,E=a.headlineLineLimit,na=a.id,F=a.indented,G=a.isSemanticHeading,H=a.level,oa=a.linkProps,I=a.meta,J=a.metaColor,K=a.metaLineLimit,L=a.metaLocation,pa=a.onFocusChange,qa=a.onHoverIn,ra=a.onHoverOut,M=a.onPress,sa=a.onPressIn,ta=a.onPressOut,ua=a.paddingHorizontal,va=a.role,N=a.selected,O=a.selectedBackground,P=a.semanticHeadingLevel,Q=a.size,wa=a.testid;a=a.testOnly_pressed;n=n===void 0?"top":n;t=t===void 0?"top":t;v=v===void 0?"secondary":v;y=y===void 0?!1:y;z=z===void 0?!1:z;D=D===void 0?"primary":D;F=F===void 0?!1:F;H=H===void 0?3:H;N=N===void 0?!1:N;Q=Q===void 0?"default":Q;var R=y,xa=M;if(M==null&&(f==null?void 0:f.type)==="switch"){var S;xa=(S=f==null?void 0:f.onChange)!=null?S:M;R=(S=f==null?void 0:f.disabled)!=null?S:y}M=j(c("CometDensityModeContext"));S=M[0];y=j(c("CometDensityAwarenessContext"));M=k();var T=B!=null&&u==null&&I==null,U=B==null&&u!=null&&I==null,V=B==null&&u==null&&I!=null,W=T&&E!=null&&E===1||U&&w!=null&&w===1||V&&K!=null&&K===1;T=T&&E!=null&&E>1||U&&w!=null&&w>1||V&&K!=null&&K>1;U=f!=null&&(f.type==="primary-button"||f.type==="secondary-button"||f.type==="body");V=f!=null&&f.type==="expander";n=U||V?"center":n;t=W?"center":t;var X=e!=null&&e.type==="buttons";T=o==null&&(T||W&&(U||V));d[0]!==ka?(W=ka!=null?Object.keys(ka).reduce(function(a,b){a!=null&&b!=null&&(a["data-"+b]=ka[b]);return a},{}):null,d[0]=ka,d[1]=W):W=d[1];W=W;J=J==null?c("gkx")("6275")?"secondary":"tertiary":J;var Y=V&&Q!=="small"&&l.rootWithIncreasedHeight,Z=Q!=="small"&&l.listCellMinHeight,$;d[2]!==Y||d[3]!==Z?($=(g||(g=c("stylex")))(l.root,Y,Z),d[2]=Y,d[3]=Z,d[4]=$):$=d[4];d[5]!==x?(Y=x==null?void 0:{paddingLeft:x,paddingRight:x},d[5]=x,d[6]=Y):Y=d[6];if(d[7]!==o||d[8]!==p||d[9]!==q||d[10]!==r||d[11]!==s||d[12]!==R||d[13]!==S||d[14]!==y||d[15]!==t){x=o!=null?i.jsx("div",babelHelpers["extends"]({},(g||(g=c("stylex"))).props(l.startAddOn,r,ba[t],S&&l.startAddOnDense,y===!0&&l.startAddOnDensityAware),{"data-testid":void 0,id:p,children:i.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:i.jsx(c("CometListCellStrictAddOnStart.react"),{addOnStart:o,disabled:(Z=q)!=null?Z:R})})})):null;d[7]=o;d[8]=p;d[9]=q;d[10]=r;d[11]=s;d[12]=R;d[13]=S;d[14]=y;d[15]=t;d[16]=x}else x=d[16];d[17]===Symbol["for"]("react.memo_cache_sentinel")?(Z={className:"x6s0dn4 xkh2ocl x1q0q8m5 x1qhh985 xu3j5b3 xcfux6l x26u7qi xm0m39n x13fuv20 x972fbf x9f619 x78zum5 x1q0g3np x1iyjqo2 xs83m0k x1qughib xat24cr x11i5rnm x1mh8g0r xdj266r x2lwn1j xeuugli x18d9i69 x4uap5 xkhd6sd xexx8yu x1n2onr6 x1ja2u2z"},d[17]=Z):Z=d[17];d[18]!==X||d[19]!==S||d[20]!==T?(o=(g||(g=c("stylex"))).props(l.content,S&&l.contentDense,T&&l.contentWithMoreSpacing,T&&S&&l.contentWithMoreSpacingDense,X&&l.responsiveContent),d[18]=X,d[19]=S,d[20]=T,d[21]=o):o=d[21];d[22]!==X?(p=(g||(g=c("stylex"))).props(X&&l.responsiveText),d[22]=X,d[23]=p):p=d[23];r=(q=P)!=null?q:3;s=R?"disabled":v;d[24]!==R||d[25]!==D?(y=fa(D,R),d[24]=R,d[25]=D,d[26]=y):y=d[26];t=M;S=G===!0||P!=null;T=R?"disabled":J;q=z===!1;d[27]!==u||d[28]!==w||d[29]!==B||d[30]!==C||d[31]!==E||d[32]!==H||d[33]!==I||d[34]!==K||d[35]!==L||d[36]!==s||d[37]!==y||d[38]!==t||d[39]!==S||d[40]!==T||d[41]!==q?(v=i.jsx(c("FDSTextPairing.react"),{body:u,bodyColor:s,bodyLineLimit:w,headline:B,headlineAddOn:C,headlineColor:y,headlineId:t,headlineLineLimit:E,isSemanticHeading:S,level:H,meta:I,metaColor:T,metaLineLimit:K,metaLocation:L,reduceEmphasis:q}),d[27]=u,d[28]=w,d[29]=B,d[30]=C,d[31]=E,d[32]=H,d[33]=I,d[34]=K,d[35]=L,d[36]=s,d[37]=y,d[38]=t,d[39]=S,d[40]=T,d[41]=q,d[42]=v):v=d[42];d[43]!==r||d[44]!==v?(D=i.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:i.jsx(c("BaseHeadingContext").Provider,{value:r,children:v})}),d[43]=r,d[44]=v,d[45]=D):D=d[45];d[46]!==p||d[47]!==D?(G=i.jsx("div",babelHelpers["extends"]({},p,{children:D})),d[46]=p,d[47]=D,d[48]=G):G=d[48];d[49]!==e||d[50]!==X?(P=e!=null&&i.jsx("div",babelHelpers["extends"]({},(g||(g=c("stylex"))).props(l.bottomAddOn,e.type==="facepile"&&l.bottomAddOnWithFacepile,e.type==="override-row"&&l.bottomAddOnOverrideRow,X&&l.responsiveButtons),{children:i.jsx("div",babelHelpers["extends"]({className:"x193iq5w"},{children:i.jsx(da,{addOnBottom:e})}))})),d[49]=e,d[50]=X,d[51]=P):P=d[51];d[52]!==o||d[53]!==G||d[54]!==P?(J=i.jsxs("div",babelHelpers["extends"]({},o,{children:[G,P]})),d[52]=o,d[53]=G,d[54]=P,d[55]=J):J=d[55];if(d[56]!==f||d[57]!==h||d[58]!==ga||d[59]!==m||d[60]!==R||d[61]!==U||d[62]!==V||d[63]!==n||d[64]!==H||d[65]!==Q||d[66]!==M){u=f!=null?i.jsx("div",babelHelpers["extends"]({},(g||(g=c("stylex"))).props(Q!=="small"&&l.endAddOn,Q==="small"&&l.endAddOnSmall,(U||V)&&l.endAddOnCenter,ca[n]),{"data-testid":void 0,ref:ga,children:i.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:i.jsx(ea,{addOn:f,disabled:(z=h)!=null?z:R,level:H,textID:M})})})):null;d[56]=f;d[57]=h;d[58]=ga;d[59]=m;d[60]=R;d[61]=U;d[62]=V;d[63]=n;d[64]=H;d[65]=Q;d[66]=M;d[67]=u}else u=d[67];if(d[68]!==A){B=((w=A)!=null?w:!1)?i.jsx("div",{className:"x14nfmen x1ey2m1c xjm9jq1 xds687c x17qophe x10l6tqk"}):null;d[68]=A;d[69]=B}else B=d[69];d[70]!==J||d[71]!==u||d[72]!==B?(C=i.jsxs("div",babelHelpers["extends"]({},Z,{children:[J,u,B]})),d[70]=J,d[71]=u,d[72]=B,d[73]=C):C=d[73];d[74]!==$||d[75]!==Y||d[76]!==x||d[77]!==C?(E=i.jsxs("div",{className:$,style:Y,children:[x,C]}),d[74]=$,d[75]=Y,d[76]=x,d[77]=C,d[78]=E):E=d[78];I=E;K=f!=null&&f.type==="expander"&&f.open===!0&&f.children!=null?f.children:null;L=void 0;s=void 0;if(f!=null)bb0:switch(f.type){case"checkbox":s=f.on;L="checkbox";break bb0;case"radio":s=f.on;L="radio";break bb0;case"switch":s=f.value,L="switch"}y=f!=null&&f.type==="expander"&&f.open===!0&&f.children!=null;t=j(c("CometFocusGroupContext"));S=t.FocusItem;T=j(c("CometFocusTableContext"));q=T.FocusCell;r=T.FocusRow;v=j(c("CometCompositeStructureContext"));p=v.role;if(d[79]!==p||d[80]!==va){e=(D=va)!=null?D:c("getItemRoleFromCompositeRole")(p);d[79]=p;d[80]=va;d[81]=e}else e=d[81];X=e;G=X==="row"&&r?r:(o=S)!=null?o:i.Fragment;z=(P=q)!=null?P:i.Fragment;h=X==="option"?N:void 0;m=(ga=X)!=null?ga:void 0;V=(U=ua)!=null?U:8;H=(n=ua)!=null?n:8;d[82]!==V||d[83]!==H?(Q={paddingLeft:V,paddingRight:H},d[82]=V,d[83]=H,d[84]=Q):Q=d[84];d[85]!==f||d[86]!==s||d[87]!==y||d[88]!==ha||d[89]!==ia||d[90]!==ja||d[91]!==I||d[92]!==la||d[93]!==R||d[94]!==ma||d[95]!==na||d[96]!==F||d[97]!==oa||d[98]!==pa||d[99]!==qa||d[100]!==ra||d[101]!==xa||d[102]!==sa||d[103]!==ta||d[104]!==b||d[105]!==L||d[106]!==N||d[107]!==O||d[108]!==a||d[109]!==wa?(M=xa!=null||oa!=null?i.jsx(c("CometPressable.react"),{"aria-checked":s,"aria-current":N?"page":void 0,"aria-describedby":la!=null?la:void 0,"aria-expanded":f!=null&&f.type==="expander"?y:void 0,"aria-label":ha,"aria-labelledby":ia,"aria-pressed":ja,disabled:R,display:"block",focusable:ma,id:na,linkProps:oa,onFocusChange:pa,onHoverIn:qa,onHoverOut:ra,onPress:xa,onPressIn:sa,onPressOut:ta,overlayDisabled:N&&O!=="none",overlayFocusRingPosition:"inset",ref:b,role:L,testOnly_pressed:a,testid:void 0,xstyle:[l.pressable,N&&O!=="none"&&l.selected,N&&O==="wash"&&l.selectedWashBackground,R&&l.disabled,F&&l.indented],children:I}):i.jsx("div",babelHelpers["extends"]({"aria-disabled":R,"aria-label":ha,"aria-labelledby":ia},(g||(g=c("stylex"))).props(l.pressable,N&&l.selected,N&&O==="wash"&&l.selectedWashBackground,R&&l.disabled),{"data-testid":void 0,id:na,ref:b,children:I})),d[85]=f,d[86]=s,d[87]=y,d[88]=ha,d[89]=ia,d[90]=ja,d[91]=I,d[92]=la,d[93]=R,d[94]=ma,d[95]=na,d[96]=F,d[97]=oa,d[98]=pa,d[99]=qa,d[100]=ra,d[101]=xa,d[102]=sa,d[103]=ta,d[104]=b,d[105]=L,d[106]=N,d[107]=O,d[108]=a,d[109]=wa,d[110]=M):M=d[110];d[111]!==z||d[112]!==M?(w=i.jsx(z,{children:M}),d[111]=z,d[112]=M,d[113]=w):w=d[113];d[114]!==W||d[115]!==h||d[116]!==m||d[117]!==Q||d[118]!==w?(A=i.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{"aria-selected":h,role:m,style:Q},W,{children:w})),d[114]=W,d[115]=h,d[116]=m,d[117]=Q,d[118]=w,d[119]=A):A=d[119];d[120]!==G||d[121]!==K||d[122]!==A?(Z=i.jsxs(G,{children:[A,K]}),d[120]=G,d[121]=K,d[122]=A,d[123]=Z):Z=d[123];return Z}e=d;function da(a){a=a.addOnBottom;switch(a.type){case"facepile":return a.facepile;default:return a.component}}function ea(a){var b=aa("react-compiler-runtime").c(21),d=a.addOn,e=a.disabled,f=a.level;a=a.textID;var h;b[0]!==d||b[1]!==e||b[2]!==f||b[3]!==a?(h=aa("getListCellAddOn.react").getEndAddOn(d,e,f,a),b[0]=d,b[1]=e,b[2]=f,b[3]=a,b[4]=h):h=b[4];a=h;h=d.type==="disclosure"&&d.text!=null?d.text:null;var j;b[5]!==d.type?(j=(g||(g=c("stylex"))).props(l.addOn,d.type==="switch"&&l.visualSwitch),b[5]=d.type,b[6]=j):j=b[6];var k;b[7]!==e||b[8]!==h||b[9]!==f?(k=h!=null&&i.jsx("div",babelHelpers["extends"]({className:"x2lah0s"},{children:i.jsx(c("FDSText.react"),{color:e?"disabled":"secondary",numberOfLines:1,type:f===3?"body2":"body3",children:h})})),b[7]=e,b[8]=h,b[9]=f,b[10]=k):k=b[10];b[11]!==d.type||b[12]!==h?(e=(g||(g=c("stylex"))).props(d.type==="expander"&&l.addOnWithExpander,h!=null&&l.addOnWithText,d.type==="icon"&&l.addOnWithIcon),b[11]=d.type,b[12]=h,b[13]=e):e=b[13];b[14]!==a||b[15]!==e?(f=i.jsx("div",babelHelpers["extends"]({},e,{children:a})),b[14]=a,b[15]=e,b[16]=f):f=b[16];b[17]!==j||b[18]!==k||b[19]!==f?(d=i.jsxs("div",babelHelpers["extends"]({},j,{children:[k,f]})),b[17]=j,b[18]=k,b[19]=f,b[20]=d):d=b[20];return d}function fa(a,b){if(b)return"disabled";return a==="highlight"&&c("gkx")("6275")?"blueLink":a}f["default"]=e}),98);
__d("CometUFICommentMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9344938778883789"}),null);
__d("react-relay/assertFragmentMap",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b&&typeof b==="object"||g(0,5879,a,b);for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];d&&(typeof d==="object"||typeof d==="function")||g(0,5880,a,c,d)}}e.exports=a}),null);
__d("requireNUX",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){throw new Error("Cannot use raw untransformed requireNUX.")}f["default"]=a}),66);/*FB_PKG_DELIM*/
__d("destroyOnUnload",["cr:8905"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:8905")}),98);
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],(function(a,b,c,d,e,f){"use strict";var g=10*1e3,h=10*1e3,i=200;a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=-1;b("gkx")("20935")||b("destroyOnUnload")(this.destroy.bind(this));window.addEventListener&&window.addEventListener("unload",function(){a.destroy()})}var c=a.prototype;c.destroy=function(){this.$4(),this.$5(),this.$6()};c.handleStartEvent=function(){this.$7()||this.$8(),this.$9()};c.handleStopEvent=function(){this.$4()};c.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")};c.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")};c.$7=function(){return!!this.$1};c.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};c.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)};c.$9=function(){var a=this,b=Date.now(),c=this.$3;b>c+i&&(this.$3=b,this.$5(),this.$2=setTimeout(function(){a.$4()},h))};c.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()};c.$8=function(){var a=this;this.publishStartEvent();this.$6();this.$1=setTimeout(function(){a.$8()},g)};return a}();f["default"]=a}),66);
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="_SearchBootstrapCache_";c=b("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);f.StorageKeyPrefix=a;f.StorageKey=c}),66);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","Promise","WebStorage","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e3*60*60*24;a=function(){function a(a){var b=a.storageKey,e=a.storageTimespan;e=e===void 0?j:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["storageKey","storageTimespan"]);this.$1=new(c("BaseTypeaheadDataProvider"))(a);this.$3=b!=null?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+b:null;this.$4=e;b=a.queryVariablesBuilder;this.$2=b}var e=a.prototype;e.fetch=function(a){var c=this,d=this.$3!=null?this.$5(a):null;if(d!=null){var e=this.$2.build();e=e(a);return(i||(i=b("Promise"))).resolve({requestQueryVariables:e,response:d})}return this.$1.fetch(a).then(function(b){var d=b.response;d!=null&&c.$3!=null&&c.$6(a,d);return b})};e.clearLocalStorage=function(){var a=this.$3,b=(h||(h=c("WebStorage"))).getLocalStorage();if(b==null||a==null)return;b.removeItem(a)};e.$5=function(a){var b=this.$3,d=(h||(h=c("WebStorage"))).getLocalStorage();if(d==null||b==null)return null;var e=d.getItem(b);if(e==null)return null;var f;try{f=JSON.parse(e)}catch(a){c("recoverableViolation")("Cannot deserialize bootstrap response from local storage due to error: "+a,"search")}if(f==null)return null;e=f;var g=e.queryVariables,i=e.response;e=e.timestamp;var j=this.$2.build();j=j(a);if(JSON.stringify(g)!==JSON.stringify(j)){d.removeItem(b);return null}a=Date.now();if(e+Number(this.$4)>=a)return i;d.removeItem(b);return null};e.$6=function(a,b){var d=this.$3,e=(h||(h=c("WebStorage"))).getLocalStorage();if(e==null||d==null)return;var f=this.$2.build();f=f(a);try{a=Date.now();f=JSON.stringify({queryVariables:f,response:b,timestamp:a});e.setItem(d,f)}catch(a){c("recoverableViolation")("Cannot save bootstrap response to local storage due to error: "+a,"search")}};return a}();g["default"]=a}),98);
__d("CivicActionLogEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743356");b=d("FalcoLoggerInternal").create("civic_action_log_event",a);e=b;g["default"]=e}),98);
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*BTDS*/"__JHASH__d3iOAkT_5Ax__JHASH__")}g["default"]=a}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})})),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState;e=i.forwardRef(a);function a(a,b){var e=a.context,f=a.dataSource,g=a.inputElement,h=a.layoutStrategyRenderer,p=a.loggingProvider,q=a.onAriaChange,r=a.onEntriesUpdated,s=a.onHighlightEntry,t=a.onSelectedEntry,u=a.onVisibilityChange,v=a.position;v=v===void 0?"above":v;var w=a.queryString,x=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"]);var y=m(null),z=n(null),A=z[0],B=z[1],C=m([]);z=n(C.current);var D=z[0],E=z[1];z=n(!0);var F=z[0],G=z[1],H=m(null),I=m(w);k(function(){I.current=w},[w]);var J=j(function(a){s&&s(a),B(a),y.current=a},[s]);z=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:j(function(a){var b;a=a.entries;C.current=a;E(a);var d=c("baseTypeaheadFlattenEntries")(a),e=d[0];b=y==null?void 0:(b=y.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(b)&&J(e);r&&r(a.length>0)},[J,r])});var K=z[0].isLoading,L=z[1],M=F&&(D.length>0||K);k(function(){M?p.startSession(I.current):p.isSessionActive()&&p.maybeEndSession(I.current,c("baseTypeaheadFlattenEntries")(C.current));u(M);return function(){p.isSessionActive()&&p.maybeEndSession(I.current,c("baseTypeaheadFlattenEntries")(C.current))}},[u,p,M]);k(function(){G(!0),L({query:w})},[L,w,f]);l(b,function(){return{getViewRef:function(){return H},hasSelection:function(){return o(c("baseTypeaheadFlattenEntries")(C.current),A)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(C.current),A!=null?A.key:null,J,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(C.current),A!=null?A.key:null,J,!1)},select:function(){var a=c("baseTypeaheadFlattenEntries")(C.current);t&&A!=null&&o(a,A)&&(p.isSessionActive()&&p.maybeEndSession(w,a,A),t(A))}}},[A,J,t,p,w]);z=j(function(a){var b=c("baseTypeaheadFlattenEntries")(C.current);t&&o(b,a)&&(p.isSessionActive()&&p.maybeEndSession(w,b,a),t(a))},[t,p,w]);k(function(){if(M===!1)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=H.current;c=c!==null&&(b===c||a(b,c));b=g!==null&&(b===g||a(b,g));G(c||b)};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[g,M]);return!M?null:i.jsx(h,{ariaProps:{role:"listbox"},context:e,entries:D,highlightedEntry:A,isLoading:K,onAriaChange:q,onBlur:a.onBlur,onHighlightEntry:J,onPressEntry:z,onPressEntryIn:z,position:v,queryString:w,viewRef:H,viewStrategyRenderer:x})}a.displayName=a.name+" [from "+f.id+"]";b=e;function o(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}g["default"]=b}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=a.anchor;if(a.type!=="text")return null;var c=a.getNode();if(b!=null&&!b()||b==null&&!c.isSimpleText())return null;b=a.offset;return c.getTextContent().slice(0,b)}function a(a,b){return a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:h(a,b)})}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=d("react-compiler-runtime").c(4),e=j(!1),f,g;c[0]!==b||c[1]!==a?(f=function(){if(e.current)return;var c=a.getRootElement()===document.activeElement;if(c){b();e.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();e.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},g=[b,a,e],c[0]=b,c[1]=a,c[2]=f,c[3]=g):(f=c[2],g=c[3]);i(f,g)}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","guid","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("recoverableViolation")("Mentions logging sessionID does not exist.","search");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d){if(a==null)return;var e=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,f=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:a});if(d!=null){var g=d.key,h=(e=b==null?void 0:b.findIndex(function(a){return a.key===g}))!=null?e:null,i=isNaN(parseInt(d.key,10))?"0":d.key;c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},f,{selected_position:String(h),selected_result_display_text:d.label,selected_result_id:i,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return f});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?i:a;var e;b[0]!==a?(e=new(c("CometMentionsLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.startTransition,j=b.useEffect,k=b.useState;function l(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=k(null),h=g[0],m=g[1],n;f[0]!==e||f[1]!==b||f[2]!==a?(g=function(){var d;d=document.createRange();var f;f=null;var g;g=null;var h;h=null;var j=function(){var j=d,k=c("getCometComposerMentionsSearchForLexical")(a,e);if(k===f||j===null)return;f=k;k=b(k);var n=k.dataSource,o=k.searchResult;if(n===g&&o===h)return;k=l(o,j);g=n;h=o;!k||n===null||o===null?i(function(){return m(null)}):i(function(){m({dataSource:n,range:j,searchResult:o})})},k=a.registerUpdateListener(j);j();return function(){d=null,k()}},n=[e,b,a],f[0]=e,f[1]=b,f[2]=a,f[3]=g,f[4]=n):(g=f[3],n=f[4]);j(g,n);return h}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","react-compiler-runtime","recoverableViolation","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState;function a(a){var b=a.$isValidSelection,e=a.createNodeStrategy,f=a.dataSourceResolverConfig,g=f.bootstrap,h=f.resolver,m=a.editor;f=a.layoutStrategyRenderer;var o=a.mentionsHandlerForSelectedEntry,r=a.mentionsLoggerContext,s=a.onMentionsEntrySelected,t=a.position;t=t===void 0?"below":t;a=a.viewStrategyRenderer;var u=c("useCometMentionsResolutionForLexical")(m,h,b),v=l(!1),w=n(m),x=w[0],y=w[1],z=l(null),A=q(m);c("useCometMentionsBootstrapForLexical")(m,g);k(function(){return m.registerCommand(d("Lexical").BLUR_COMMAND,function(){A();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[m,A]);w=j(function(){A()},[A]);k(function(){var a;a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:(a=d("Lexical")).KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:a.KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:a.KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:a.KEY_ARROW_DOWN_COMMAND},{handler:function(){A();y();return!0},type:a.KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return m.registerCommand(a,function(a){var c=z.current,d=v.current;if(c===null||!d||x)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[y,m,A,x]);g=j(function(a){v.current=a},[]);var B=j(function(a){if(a)return;A()},[A]),C=j(function(a){var d=c("getCometComposerMentionsSearchForLexical")(m,b);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var f=h(d);f=f.searchResult;if(f==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query "+d,"CometComposer");return}A();d=o==null?void 0:o(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;p(m,e,a,f,b);s==null?void 0:s();y()},[m,b,h,A,o,e,s,y]);r=c("useCometMentionsLoggingProvider")(r);if(u===null||x){A();v.current=!1;return null}return i.jsx(c("CometMentions.react"),{context:u.range,dataSource:u.dataSource,inputElement:m.getRootElement(),layoutStrategyRenderer:f,loggingProvider:r,onAriaChange:A,onBlur:w,onEntriesUpdated:B,onFocus:c("emptyFunction"),onSelectedEntry:C,onVisibilityChange:g,position:t,queryString:u.searchResult.matchingString,ref:z,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(7),c=m(!1),e=c[0],f=c[1],g;b[0]!==a||b[1]!==e?(c=function(){if(e){var b;b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&f(!1),b=a})}},g=[a,e],b[0]=a,b[1]=e,b[2]=c,b[3]=g):(c=b[2],g=b[3]);k(c,g);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){return f(!0)},b[4]=c):c=b[4];b[5]!==e?(g=[e,c],b[5]=e,b[6]=g):g=b[6];c=g;return c}function o(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function p(a,b,c,e,f){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var g=a.getNode();if(f!=null&&!f()||f==null&&!g.isSimpleText())return;a=a.offset;var h=g.getTextContent().slice(0,a),i=c.label,j=e.replaceableString.length;h=o(h,i,j);i=a-h;if(i<0)return;b({anchorNode:g,endOffset:a,selectedEntry:c,startOffset:i})})}function q(a){var b=d("react-compiler-runtime").c(2),c=l(void 0),e=l(void 0),f;b[0]!==a?(f=function(b,f){var g=c.current,h=e.current;(g!==b||h!==f)&&(c.current=b,e.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:b,controlsID:f}))},b[0]=a,b[1]=f):f=b[1];return f}g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","react-compiler-runtime","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.entries,f=a.highlightedEntry,g=a.onAriaChange;b[0]!==e?(a=c("baseTypeaheadFlattenEntries")(e),b[0]=e,b[1]=a):a=b[1];b[2]!==f||b[3]!==a?(e={activeEntries:a,helperText:"",highlightedEntry:f,inputLabel:"",isOpened:!0,viewRole:"listbox"},b[2]=f,b[3]=a,b[4]=e):e=b[4];f=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(e);var h=f.ariaInputProps;a=f.ariaViewProps;b[5]!==h||b[6]!==g?(e=function(){return g(h["aria-activedescendant"],h["aria-controls"])},f=[h,g],b[5]=h,b[6]=g,b[7]=e,b[8]=f):(e=b[7],f=b[8]);i(e,f);return a}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","react-compiler-runtime","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,h,j;b[0]!==a?(f=a.isLoading,j=a.isLoadingIndicatorEnabled,g=a.onAriaChange,e=a.viewStrategyRenderer,h=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5]);a=j===void 0?!1:j;b[6]!==g||b[7]!==h.entries||b[8]!==h.highlightedEntry?(j={entries:h.entries,highlightedEntry:h.highlightedEntry,onAriaChange:g},b[6]=g,b[7]=h.entries,b[8]=h.highlightedEntry,b[9]=j):j=b[9];g=c("useBaseMentionsLayoutStrategyARIAProps.react")(j);j=a?f:!1;b[10]!==e||b[11]!==g||b[12]!==h||b[13]!==j?(a=i.jsx(e,babelHelpers["extends"]({},h,{ariaProps:g,isLoading:j})),b[10]=e,b[11]=g,b[12]=h,b[13]=j,b[14]=a):a=b[14];b[15]!==f||b[16]!==h.entries?(e=!f&&h.entries.length===0?i.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,b[15]=f,b[16]=h.entries,b[17]=e):e=b[17];b[18]!==a||b[19]!==e?(g=i.jsxs("div",{children:[a,e]}),b[18]=a,b[19]=e,b[20]=g):g=b[20];return g}g["default"]=a}),98);
__d("CometMentionsLayoutStrategy.react",["ARIA_LABEL_PLACEHOLDER_FIXME","CometContextualLayer.react","CometPopover_DEPRECATED.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e,f,g,h,j,k,l;b[0]!==a?(e=a.ariaProps,f=a.context,g=a.entries,h=a.onBlur,j=a.position,l=a.viewRef,k=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","context","entries","onBlur","position","viewRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7]);if(g.length===0)return null;b[8]!==e||b[9]!==g||b[10]!==k?(a=i.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:e,entries:g,isLoading:!1},k)),b[8]=e,b[9]=g,b[10]=k,b[11]=a):a=b[11];b[12]!==h||b[13]!==a||b[14]!==l?(e=i.jsx(c("CometPopover_DEPRECATED.react"),{"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),onBlur:h,ref:l,role:"listbox",children:a}),b[12]=h,b[13]=a,b[14]=l,b[15]=e):e=b[15];b[16]!==f||b[17]!==j||b[18]!==e?(g=i.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:f,position:j,children:e}),b[16]=f,b[17]=j,b[18]=e,b[19]=g):g=b[19];return g}g["default"]=a}),98);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,h;if(b[0]!==a){var j=a.ariaProps,k=a.entries;a.extraViewProps;var l=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var m=a.viewItemStrategyRenderer,n=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"]);j=j;f=k;g=l;e=m;h=n;b[0]=a;b[1]=e;b[2]=j;b[3]=f;b[4]=g;b[5]=h}else e=b[1],j=b[2],f=b[3],g=b[4],h=b[5];k=j.role;if(k!=null){b[6]!==k?(l={role:k},b[6]=k,b[7]=l):l=b[7];m=l}else{b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={},b[8]=n):n=b[8];m=n}a=m;b[9]!==k?(l=c("getItemRoleFromCompositeRole")(k),b[9]=k,b[10]=l):l=b[10];var o=l;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(n="x78zum5 xdt5ytf x1iyjqo2",b[11]=n):n=b[11];if(b[12]!==e||b[13]!==f||b[14]!==((m=g)==null?void 0:m.key)||b[15]!==o||b[16]!==h){if(b[18]!==e||b[19]!==f.length||b[20]!==((k=g)==null?void 0:k.key)||b[21]!==o||b[22]!==h){l=function(a,b){if(a.type==="section"){var d=a.entries,j=a.key,k=a.label;return d.length===0?null:i.jsxs("li",{"aria-selected":"false",role:"option",children:[i.jsx("div",babelHelpers["extends"]({className:"x889kno x1iji9kk x1a8lsjc x1sln4lm"},{children:i.jsx("label",{htmlFor:j,children:i.jsx(c("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:k})})})),i.jsx("ul",{id:j,role:"listbox",children:d.map(function(a){var b;return i.createElement(e,babelHelpers["extends"]({},h,{entry:a,isActive:a.key===((b=g)==null?void 0:b.key),key:a.key,role:o}))})})]},"section-"+j)}else{return i.createElement(e,babelHelpers["extends"]({},h,{entry:a,isActive:a.key===((k=g)==null?void 0:k.key),isFirstItem:b===0,isLastItem:b===f.length-1,key:a.key,role:o}))}};b[18]=e;b[19]=f.length;b[20]=(m=g)==null?void 0:m.key;b[21]=o;b[22]=h;b[23]=l}else l=b[23];k=f.map(l);b[12]=e;b[13]=f;b[14]=(m=g)==null?void 0:m.key;b[15]=o;b[16]=h;b[17]=k}else k=b[17];b[24]!==a||b[25]!==k?(l=i.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:k}),b[24]=a,b[25]=k,b[26]=l):l=b[26];b[27]!==j||b[28]!==l?(m=i.jsx("ul",babelHelpers["extends"]({},j,{className:n,"data-testid":void 0,children:l})),b[27]=j,b[28]=l,b[29]=m):m=b[29];return m}g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e;if(b[0]!==a){var f=a.onPressEntryIn;a.queryString;var g=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntryIn","queryString"]);g=g;e=function(a,b){b.preventDefault(),f&&f(a,b)};b[0]=a;b[1]=g;b[2]=e}else g=b[1],e=b[2];a=e;b[3]!==a||b[4]!==g?(e=i.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{onPressEntryIn:a})),b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[b,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("ManageConstituentBadgeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6661692877214742"}),null);
__d("ManageConstituentBadgeDialogQuery$Parameters",["ManageConstituentBadgeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ManageConstituentBadgeDialogQuery_facebookRelayOperation"),metadata:{},name:"ManageConstituentBadgeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ManageConstituentBadgeDialog.entrypoint",["JSResourceForInteraction","ManageConstituentBadgeDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.commentID;a=a.feedbackID;return{queries:{queryReference:{parameters:b("ManageConstituentBadgeDialogQuery$Parameters"),variables:{commentID:c,feedbackID:a}}}}},root:c("JSResourceForInteraction")("ManageConstituentBadgeDialog.react").__setRef("ManageConstituentBadgeDialog.entrypoint")};d=a;g["default"]=d}),98);
__d("ManageConstituentBadgeDialogTrigger.react",["fbt","ix","ARIA_LABEL_PLACEHOLDER_FIXME","CometEntryPointDialogTrigger.react","FDSIcon.react","ManageConstituentBadgeDialog.entrypoint","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.onPress,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];var g;b[1]!==a.commentID||b[2]!==a.feedbackID?(g={commentID:a.commentID,feedbackID:a.feedbackID},b[1]=a.commentID,b[2]=a.feedbackID,b[3]=g):g=b[3];b[4]!==e?(a=function(a){return k.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"__JHASH__WuBNNAgdH6G__JHASH__"),"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:function(){a(),e()}})},b[4]=e,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=k.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("ManageConstituentBadgeDialog.entrypoint"),otherProps:f,preloadParams:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("CometUFICommentActorConstituentBadge.react",["fbt","ix","Actor","CivicActionLogEventFalcoEvent","CometRelay","CometTooltip_DEPRECATED.react","CometUFICommentActorConstituentBadge_comment.graphql","FDSIcon.react","ManageConstituentBadgeDialogTrigger.react","fbicon","react","react-compiler-runtime","recoverableViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react")),m=k.useRef;function a(a){var e,f=d("react-compiler-runtime").c(34);a=a.comment;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentActorConstituentBadge_comment.graphql"),a);var g=a.legacy_token,k=a.parent_feedback,n=m(!1),o=c("useVisibilityObserver")({onVisible:function(){if(n.current)return;n.current=!0;c("CivicActionLogEventFalcoEvent").log(function(){var a;return{action:"view",extra_data:{comment_id:(a=g)!=null?a:""},post_id:s,product:"constituent_badge",subtype:"comment"}})}}),p=d("Actor").useActor();p=p[0];if(!a.author||((e=a.author)==null?void 0:e.id)==null){f[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("recoverableViolation")("missing politician","civic_integrity"),f[0]=e):e=f[0];return e}var q=a.author.short_name,r=k==null?void 0:(e=k.owning_profile)==null?void 0:e.name,s=k==null?void 0:k.share_fbid,t=p===a.author.id,u=k==null?void 0:(e=k.political_figure_data)==null?void 0:(e=e.political_office)==null?void 0:e.generic_title,v=k==null?void 0:(e=k.political_figure_data)==null?void 0:e.name;e=a.can_see_constituent_badge_upsell;var w;f[1]!==q||f[2]!==t||f[3]!==u||f[4]!==r||f[5]!==v?(w=function(){var a=!0;if(q==null)return null;(u==null||v==null)&&(a=!1);if(t)if(a)return h._(/*BTDS*/"__JHASH__ZNqnDhYYFpj__JHASH__",[h._param("representative_name",v),h._param("office_title",u)]);else return h._(/*BTDS*/"__JHASH__uiMMQSqmolX__JHASH__",[h._param("page_name",r)]);if(a)return h._(/*BTDS*/"__JHASH__khTmteQjAVE__JHASH__",[h._param("representative_name",v),h._param("comment_author_name",q),h._param("politician_office_title",u)]);else return h._(/*BTDS*/"__JHASH__iHMGEL24DTI__JHASH__",[h._param("page_name",r),h._param("comment_author_name",q)])},f[1]=q,f[2]=t,f[3]=u,f[4]=r,f[5]=v,f[6]=w):w=f[6];w=w;var x;f[7]!==q||f[8]!==v?(x=function(){return h._(/*BTDS*/"__JHASH__vXzsLlLAUQJ__JHASH__",[h._param("comment_author_name",q),h._param("representative_name",v)])},f[7]=q,f[8]=v,f[9]=x):x=f[9];var y=x;f[10]!==y?(x=function(a){return l.jsx(c("FDSIcon.react"),{alt:y(),"aria-label":y(),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:a})},f[10]=y,f[11]=x):x=f[11];x=x;var z;f[12]!==a.id||f[13]!==g||f[14]!==x||f[15]!==(k==null?void 0:k.id)||f[16]!==s||f[17]!==e?(z=e===!0?l.jsx(c("ManageConstituentBadgeDialogTrigger.react"),{commentID:a.id,feedbackID:k==null?void 0:k.id,onPress:function(){c("CivicActionLogEventFalcoEvent").log(function(){var a;return{action:"click",click_location:"constituent_badge",extra_data:{comment_id:(a=g)!=null?a:""},post_id:s,product:"constituent_badge",subtype:"comment"}})}}):x(),f[12]=a.id,f[13]=g,f[14]=x,f[15]=k==null?void 0:k.id,f[16]=s,f[17]=e,f[18]=z):z=f[18];a=z;f[19]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"xsgj6o6 x1n2onr6 x1e0gzzx"},f[19]=x):x=f[19];f[20]!==w?(k=w(),f[20]=w,f[21]=k):k=f[21];f[22]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1yrsyyn xsyo7zv x10b6aqq x16hj40l"},f[22]=e):e=f[22];f[23]!==a?(z=l.jsx("span",babelHelpers["extends"]({},e,{children:a})),f[23]=a,f[24]=z):z=f[24];f[25]!==k||f[26]!==z?(w=l.jsx(c("CometTooltip_DEPRECATED.react"),{tooltip:k,children:z}),f[25]=k,f[26]=z,f[27]=w):w=f[27];f[28]!==w||f[29]!==o?(e=l.jsx("span",babelHelpers["extends"]({},x,{ref:o,children:w})),f[28]=w,f[29]=o,f[30]=e):e=f[30];f[31]!==p||f[32]!==e?(a=l.jsx(d("Actor").ActorProvider,{initialActorID:p,children:e}),f[31]=p,f[32]=e,f[33]=a):a=f[33];return a}g["default"]=a}),226);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x3nfvp2 x1k2j06m"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsxs("span",babelHelpers["extends"]({},e,{children:[i.jsx(c("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometUFICommentErrorFooterEditButton.react",["errorCode","fbt","ARIA_LABEL_PLACEHOLDER_FIXME","CometLink.react","clearTimeout","react","react-compiler-runtime","setTimeout","useFDSCallout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useState;function n(a){return a===1446011||a===1462002||a===1446042}function a(a){var b=d("react-compiler-runtime").c(14),e=a.onEdit;a=a.optimisticErrorCode;var f;b[0]!==a?(f=n(a),b[0]=a,b[1]=f):f=b[1];a=m(f);f=a[0];var g=a[1];a=m(!1);var h=a[0],j=a[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i._(/*BTDS*/"__JHASH__2HLDP_tkVMz__JHASH__"),b[2]=a):a=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={"aria-label":c("ARIA_LABEL_PLACEHOLDER_FIXME"),arrowStyle:"inset",content:a,disableOutsideClick:!0,onShow:function(){j(!0)},position:"above",type:"accent"},b[3]=a):a=b[3];a=c("useFDSCallout")(a,f);f=a.anchorRef;var o;b[4]!==h?(a=function(){if(h){var a=c("setTimeout")(function(){g(!1)},6e3);return function(){return c("clearTimeout")(a)}}},o=[g,h],b[4]=h,b[5]=a,b[6]=o):(a=b[5],o=b[6]);l(a,o);b[7]!==e?(a=function(a){g(!1),e&&e(a)},b[7]=e,b[8]=a):a=b[8];o=a;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){g(!1)},b[9]=a):a=b[9];a=a;var p;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=i._(/*BTDS*/"__JHASH__10obC3Jnpvd__JHASH__"),b[10]=p):p=b[10];b[11]!==f||b[12]!==o?(a=k.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",onClick:o,onHoverEnd:a,ref:f,children:p}),b[11]=f,b[12]=o,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("CometUFICommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentErrorFooter_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentErrorFooter.react",["errorCode","fbt","CometLink.react","CometRelay","CometRow.react","CometRowItem.react","CometUFICommentErrorFooterEditButton.react","CometUFICommentErrorFooter_comment.graphql","FBLogger","FDSText.react","NewsRegulationErrorMessageData","ifRequired","react","react-compiler-runtime","recoverableViolation","useCometUFICreateCommentMutation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={footer:{display:"x1rg5ohu",$$css:!0}};function n(a){if(a===1446013||a===1446011||a===1462002||a===1446042)return!1;return a!=null&&c("NewsRegulationErrorMessageData").errorCodeToRegType[a]!=null?!1:!0}function a(a){var e=d("react-compiler-runtime").c(22),f=a.comment;a=a.onEdit;f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentErrorFooter_comment.graphql"),f);var g=f.id;if(g==null){c("recoverableViolation")("CometUFICommentErrorFooter tried to render without a comment ID","ufi2");return null}var h;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=i._(/*BTDS*/"__JHASH__10b0S1Izmoe__JHASH__"),e[0]=h):h=e[0];h=h;var k;if(e[1]!==f.optimistic_action||e[2]!==g){k=null;bb0:switch(f.optimistic_action){case"ADD":k=function(){d("useCometUFICreateCommentMutation").getRetryFnExperimental(g)()};break bb0;case"EDIT":var o;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=i._(/*BTDS*/"__JHASH__U3YP-2WFk_-__JHASH__"),e[5]=o):o=e[5];h=o;c("ifRequired")("CometUFIEditCommentMutation",function(a){k=a.getRetryFn(g)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",g||"UNKNOWN").mustfix("Edit mutation not present on edit error")});c("ifRequired")("useCometUFIEditCommentMutation",function(a){k=a.getRetryFnExperimental(g)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",g||"UNKNOWN").mustfix("Edit mutation experimental not present on edit error")});break bb0;case"DELETE":e[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=i._(/*BTDS*/"__JHASH___6naWuekn6M__JHASH__"),e[6]=o):o=e[6];h=o;break bb0;default:e[7]===Symbol["for"]("react.memo_cache_sentinel")?(o=i._(/*BTDS*/"__JHASH__Q_5tGN8-YJC__JHASH__"),e[7]=o):o=e[7];h=o;c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",g||"UNKNOWN").warn("CometUFICommentErrorFooter no specified behavior for action `%s`.",f.optimistic_action)}e[1]=f.optimistic_action;e[2]=g;e[3]=k;e[4]=h}else k=e[3],h=e[4];k||c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",g||"UNKNOWN").warn("No mutation retry handler for action `%s`.",f.optimistic_action);o=k!=null;var p=f.optimistic_action==="ADD"&&o,q;e[8]!==h?(q=l.jsx(c("CometRowItem.react"),{xstyle:m.footer,children:l.jsx(c("FDSText.react"),{type:"meta4",children:h})}),e[8]=h,e[9]=q):q=e[9];e[10]!==o||e[11]!==f.optimistic_error_code||e[12]!==k?(h=o&&n(f.optimistic_error_code)&&l.jsx(c("CometRowItem.react"),{xstyle:m.footer,children:l.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",onClick:function(){k==null?void 0:k()},children:i._(/*BTDS*/"__JHASH__dxM0X-fliVM__JHASH__")})}),e[10]=o,e[11]=f.optimistic_error_code,e[12]=k,e[13]=h):h=e[13];e[14]!==p||e[15]!==f.optimistic_error_code||e[16]!==a?(o=p&&l.jsx(c("CometRowItem.react"),{xstyle:m.footer,children:l.jsx(c("CometUFICommentErrorFooterEditButton.react"),{onEdit:a,optimisticErrorCode:f.optimistic_error_code})}),e[14]=p,e[15]=f.optimistic_error_code,e[16]=a,e[17]=o):o=e[17];e[18]!==q||e[19]!==h||e[20]!==o?(p=l.jsxs(c("CometRow.react"),{paddingTop:4,paddingVertical:0,spacing:8,testid:void 0,xstyle:m.footer,children:[q,h,o]}),e[18]=q,e[19]=h,e[20]=o,e[21]=p):p=e[21];return p}g["default"]=a}),226);
__d("CometUFICommentInlineFollowCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInlineFollowCTA_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},a],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentInlineFollowCTA.react",["fbt","BaseMiddot.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","CometUFICommentInlineFollowCTA_comment.graphql","CometUserFollowMutation","CometUserUnfollowMutation","FDSText.react","react","react-compiler-runtime","requireDeferred","useMinifiedProductAttribution","useNullthrowsViolation","useVisibilityObserver","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useState,n=c("requireDeferred")("InlineFollowCtaEventFalcoEvent").__setRef("CometUFICommentInlineFollowCTA.react"),o="following_clicked",p="unfollowing_clicked",q="follow_cta_impression";function a(a){var e=d("react-compiler-runtime").c(25);a=a.comment$key;c("vulture")("6UfO3V59Q8a");var f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentInlineFollowCTA_comment.graphql"),a),g=(f==null?void 0:(a=f.author)==null?void 0:a.subscribe_status)==="IS_SUBSCRIBED",j=c("useNullthrowsViolation")(f==null?void 0:(a=f.author)==null?void 0:a.id),r=d("CometRelay").useRelayEnvironment();a=m(!1);var s=a[0],t=a[1],u=(a=(a=l(c("CometFeedUnitQueryVariablesContext")))==null?void 0:a.feedLocation)!=null?a:"";e[0]!==j||e[1]!==f.id||e[2]!==u?(a=function(a){n.onReady(function(b){b.log(function(){var b;return{comment_author_id:j,comment_id:(b=f.id)!=null?b:"",comment_surface:u,event:a}})})},e[0]=j,e[1]=f.id,e[2]=u,e[3]=a):a=e[3];var v=a,w=c("useMinifiedProductAttribution")();e[4]!==j||e[5]!==r||e[6]!==u||e[7]!==g||e[8]!==v||e[9]!==w?(a=function(){var a={actionRenderLocation:"WWW_COMET_HOVERCARD",navigationChain:w,onError:function(){t(!1)},onSuccess:function(){t(!1)},subscribeLocation:u==="NEWSFEED"?"INLINE_COMMENT_HEADER":"COMMENT_HEADER",userID:j};t(!0);g?(d("CometUserUnfollowMutation").commit(r,a),v(p)):(d("CometUserFollowMutation").commit(r,a),v(o))},e[4]=j,e[5]=r,e[6]=u,e[7]=g,e[8]=v,e[9]=w,e[10]=a):a=e[10];a=a;var x;e[11]!==v?(x=function(){v(q)},e[11]=v,e[12]=x):x=e[12];x=x;var y;e[13]!==x?(y={onVisible:x},e[13]=x,e[14]=y):y=e[14];x=c("useVisibilityObserver")(y);if((f==null?void 0:(y=f.author)==null?void 0:y.subscribe_status)!=="CAN_SUBSCRIBE"&&(f==null?void 0:(y=f.author)==null?void 0:y.subscribe_status)!=="IS_SUBSCRIBED")return null;e[15]!==g?(y=g?k.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__gfzhCSGFVAQ__JHASH__")}):k.jsx(c("FDSText.react"),{color:"highlight",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__bvajtjV6cwQ__JHASH__")}),e[15]=g,e[16]=y):y=e[16];y=y;var z;e[17]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx(c("BaseMiddot.react"),{className:"xi81zsa"}),e[17]=z):z=e[17];var A;e[18]!==y||e[19]!==s||e[20]!==a?(A=k.jsx(c("CometPressable.react"),{disabled:s,onPress:a,children:y}),e[18]=y,e[19]=s,e[20]=a,e[21]=A):A=e[21];e[22]!==A||e[23]!==x?(y=k.jsxs("span",{ref:x,children:[z,A]}),e[22]=A,e[23]=x,e[24]=y):y=e[24];return y}g["default"]=a}),226);
__d("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5359232510868548"}),null);
__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",["CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6911603175550464"}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",["CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),k=i!==void 0?i:i=b("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function a(a,b,c,e){c={input:{feedback_id:c.feedbackID,session_id:d("ChannelClientID").getID()}};var f;e={onCompleted:e,variables:c};a?f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:j},e)):f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:k},e));return{dispose:function(){f&&f.dispose(),f=null}}}c=a.bind(null,!0);e=a.bind(null,!1);g.start=c;g.stop=e}),98);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e){var f;f=a.call(this)||this;f.$CometUFILiveTypingBroadcastPublisher$p_1=b;f.$CometUFILiveTypingBroadcastPublisher$p_2=c;f.$CometUFILiveTypingBroadcastPublisher$p_3=e;f.$CometUFILiveTypingBroadcastPublisher$p_4=null;f.$CometUFILiveTypingBroadcastPublisher$p_5=null;f.$CometUFILiveTypingBroadcastPublisher$p_6=d;return f}var c=b.prototype;c.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher$p_4&&this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5&&this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose()};c.handleStartEvent=function(){a.prototype.handleStartEvent.call(this)};c.handleStopEvent=function(){a.prototype.handleStopEvent.call(this)};c.publishStartEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_4)return;this.$CometUFILiveTypingBroadcastPublisher$p_5&&(this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_4=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_4=d("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};c.publishStopEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_5)return;this.$CometUFILiveTypingBroadcastPublisher$p_4&&(this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_4=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_5=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_5=d("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};return b}(c("AbstractCommentLiveTypingPublisher"));g["default"]=a}),98);
__d("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.pluginProps,f=a.feedback,g=a.groupID,i=a.relayEnvironment,l=(a=f.viewer_actor)==null?void 0:a.id,m=e.addCommitListener,n=f.id,o=k(!1),p=k(null),q=e.editor;b[0]!==l||b[1]!==m||b[2]!==q||b[3]!==n||b[4]!==g||b[5]!==i?(a=function(){if(o.current===!0)return;if(l==null||n==null&&g==null){c("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id`, or both `feedback.id` and `groupID` are null, in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI.");o.current=!0;return}var a;a="";var b=function(){if(p.current===null){var a=new(c("CometUFILiveTypingBroadcastPublisher"))(l,n,i,g);p.current=a}return p.current},e=q.registerTextContentListener(function(d){if(a!==d){var e=b();a=d;(h||(h=c("JSScheduler"))).defer(function(){e.handleStartEvent()})}}),f=q.registerCommand(d("Lexical").BLUR_COMMAND,function(){var a=p.current;a!==null&&a.handleStopEvent();return!1},d("Lexical").COMMAND_PRIORITY_LOW),j=m(function(){var a=p.current;a!==null&&a.handleStopEvent();return"continue-commit"});return function(){var a=p.current;a!==null&&(p.current=null,a.destroy());e();f();j()}},b[0]=l,b[1]=m,b[2]=q,b[3]=n,b[4]=g,b[5]=i,b[6]=a):a=b[6];b[7]!==l||b[8]!==m||b[9]!==q||b[10]!==n||b[11]!==i?(f=[l,m,q,n,i],b[7]=l,b[8]=m,b[9]=q,b[10]=n,b[11]=i,b[12]=f):f=b[12];j(a,f);return null}g["default"]=a}),98);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10096341077050189"}),null);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql",["CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"stickerId"}],c=[{kind:"Variable",name:"id",variableName:"stickerId"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},f=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}],g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h=[g,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentSticker_sticker"}],type:"Sticker",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[g],storageKey:null},{alias:"sticker_image",args:f,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},d],storageKey:null}]},params:{id:b("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"),metadata:{},name:"CometUFIStickersComposerUpgradedPreviewContentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{kind:"Literal",name:"height",value:80},a,{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"UFI2CommentSticker_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:"sticker_image",args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},a,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("UFI2CommentSticker.react",["JSResource","UFI2CometRelayCreateFragmentContainer","UFI2CommentSticker_sticker.graphql","UFI2ScaleRect","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){var b=a.className;a=a.sticker;var c=a.sticker_type==="AVATAR",e=a.sprite_image,f=c?a.larger_sticker_image:a.sticker_image;if(f==null)return null;c=c?120:80;c=d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:c,maxWidth:c,srcHeight:f.height||c,srcWidth:f.width||c});var g=c.height;c=c.width;var h=j.jsx("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:c+"px "+g+"px",height:g,width:c}});return j.jsx(j.Suspense,{fallback:h,children:j.jsx(k,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:b,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(h=a.pack)==null?void 0:h.name,sourceHeight:g,sourceURI:f.uri,sourceWidth:c,spriteURI:e==null?void 0:e.uri})})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="UFI2CommentSticker";e=c("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(a,{sticker:h!==void 0?h:h=b("UFI2CommentSticker_sticker.graphql")});g["default"]=e}),98);
__d("CometUFIStickersComposerUpgradedPreviewContent.react",["cx","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFIStickersComposerUpgradedPreviewContentQuery.graphql","FBLogger","SiteData","UFI2CommentSticker.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var e=d("react-compiler-runtime").c(2);a=a.stickerId;var f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql"),{scale:c("SiteData").pr,stickerId:a});f=f.sticker;if(!f){c("FBLogger")("ufi2").addMetadata("UFI","STICKER_ID",a).mustfix("Failed to fetch a sticker.");return null}e[0]!==f?(a=k.jsx(c("UFI2CommentSticker.react"),{className:"mal",sticker:f}),e[0]=f,e[1]=a):a=e[1];return a}function a(a){var b=d("react-compiler-runtime").c(8),e=a.loadingIndicatorElement,f=a.onError;a=a.stickerId;c("vulture")("5Yj8SR4jMOW");var g;b[0]!==a?(g=k.jsx(l,{stickerId:a}),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==g?(a=k.jsx(c("CometPlaceholder.react"),{fallback:e,children:g}),b[2]=e,b[3]=g,b[4]=a):a=b[4];b[5]!==f||b[6]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{fallback:m,onError:f,children:a}),b[5]=f,b[6]=a,b[7]=e):e=b[7];return e}function m(){}g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["ix","CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSText.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.entry;e=e.label;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={icon:d("fbicon")._(h("492485"),16),type:"icon"},b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x15huedd"},b[1]=g):g=b[1];b[2]!==e?(f=j.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:f,addOnStartOverrideVerticalStyle:k.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:e})})),level:4,paddingHorizontal:0}),b[2]=e,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(g=j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[4]=a,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["ix","CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSText.react","fbicon","react","react-compiler-runtime","recoverableViolation","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14);c("vulture")("aTxnPOtvE16");var e=a.entry,f=e.label;e=e.rawData;e=e.type==="MENTION_TYPE_SELECTION"?e.iconName:null;if(e==null){c("recoverableViolation")("No icon name found for mention type selection entry","comet_composer");return null}var g=null;bb0:switch(e){case"shops":b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("fbicon")._(h("1664042"),20),b[0]=e):e=b[0];g=e;break bb0;default:}b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={color:"secondary",icon:d("fbicon")._(h("492533"),16),type:"icon"},b[1]=e):e=b[1];var i;b[2]!==g?(i=g!=null?{icon:g,size:40,type:"contained-icon"}:null,b[2]=g,b[3]=i):i=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xcqhk00"},b[4]=g):g=b[4];b[5]!==f?(g=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})})),b[5]=f,b[6]=g):g=b[6];b[7]!==e||b[8]!==i||b[9]!==g?(f=j.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnEnd:e,addOnEndVerticalAlign:"center",addOnStart:i,addOnStartOverrideVerticalStyle:k.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:g,level:4,paddingHorizontal:0}),b[7]=e,b[8]=i,b[9]=g,b[10]=f):f=b[10];b[11]!==a||b[12]!==f?(e=j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[11]=a,b[12]=f,b[13]=e):e=b[13];return e}g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","fbicon","react","react-compiler-runtime","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(46),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;var g=!1,k=!1,n=null,o="circle";if(a.type==="MENTION_SEARCH_RESULT"){var p;g=Boolean(a.isExternal);k=a.isVerified;n=a.subtext;o=(p=a.iconShape)!=null?p:"circle"}p=e;p=p.label;var q=f.addOn,r=m.name;q!=null&&(r=k?m.invitedVerifiedName:m.invitedName);a=a.type!=="SEE_ALL_ENTRY"&&a.type!=="MENTION_TYPE_RESET"?a.photoURI:null;if(a==null){c("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}var s;b[3]!==a?(s={uri:a},b[3]=a,b[4]=s):s=b[4];b[5]!==o||b[6]!==s?(a=l.jsx(c("FDSProfilePhoto.react"),{shape:o,size:40,source:s}),b[5]=o,b[6]=s,b[7]=a):a=b[7];o=a;s="CometSearchMentionsBaseViewItem/"+p;var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 x1gfrnbc x18ip3f8"},t={className:"x1vqgdyp x100vrsf"},b[8]=a,b[9]=t):(a=b[8],t=b[9]);b[10]!==o?(t=l.jsx("div",babelHelpers["extends"]({},t,{children:o})),b[10]=o,b[11]=t):t=b[11];var u;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1iyjqo2 x16n37ib x6ikm8r x10wlt62 xlyipyv xuxw1ft"},u={className:"x78zum5 x1gslohp x12nagc"},b[12]=o,b[13]=u):(o=b[12],u=b[13]);var v;b[14]!==r?(v=(j||(j=c("stylex"))).props(r),b[14]=r,b[15]=v):v=b[15];b[16]!==p?(r=l.jsx(c("FDSText.react"),{numberOfLines:1,type:"headlineEmphasized4",children:p}),b[16]=p,b[17]=r):r=b[17];b[18]!==r||b[19]!==v?(p=l.jsx("div",babelHelpers["extends"]({},v,{children:r})),b[18]=r,b[19]=v,b[20]=p):p=b[20];b[21]!==e.key||b[22]!==k?(r=k&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"x51ohtg"}),l.jsx("div",babelHelpers["extends"]({className:"x1kpxq89"},{children:l.jsx(c("CometProfileVerificationBadge.react"),{profileID:e.key,size:"small"})})),l.jsx("div",{className:"x51ohtg"})]}),b[21]=e.key,b[22]=k,b[23]=r):r=b[23];b[24]!==g?(v=g?l.jsx("span",babelHelpers["extends"]({className:"x1t2a60a"},{children:l.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"__JHASH__U217aVJMGxG__JHASH__"),color:"primary",icon:d("fbicon")._(i("785426"),12)})})):null,b[24]=g,b[25]=v):v=b[25];b[26]!==p||b[27]!==r||b[28]!==v?(k=l.jsxs("div",babelHelpers["extends"]({},u,{children:[p,r,v]})),b[26]=p,b[27]=r,b[28]=v,b[29]=k):k=b[29];b[30]!==n?(g=n!=null&&l.jsxs("div",babelHelpers["extends"]({className:"x12nagc"},{children:[l.jsx("div",{className:"xdk7pt"}),l.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta3",children:n})]})),b[30]=n,b[31]=g):g=b[31];b[32]!==k||b[33]!==g?(u=l.jsxs("div",babelHelpers["extends"]({},o,{children:[k,g]})),b[32]=k,b[33]=g,b[34]=u):u=b[34];b[35]!==q?(p=l.jsx("div",{children:q}),b[35]=q,b[36]=p):p=b[36];b[37]!==u||b[38]!==p||b[39]!==t?(r=l.jsxs("div",babelHelpers["extends"]({},a,{children:[t,u,p]})),b[37]=u,b[38]=p,b[39]=t,b[40]=r):r=b[40];b[41]!==e||b[42]!==f||b[43]!==r||b[44]!==s?(v=l.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,testid:void 0,children:r})),b[41]=e,b[42]=f,b[43]=r,b[44]=s,b[45]=v):v=b[45];return v}g["default"]=a}),226);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;switch(a.type){case"MENTION_TYPE_SELECTION":b[3]!==e||b[4]!==f?(a=i.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a;case"MENTION_TYPE_RESET":b[6]!==e||b[7]!==f?(a=i.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[6]=e,b[7]=f,b[8]=a):a=b[8];return a;default:b[9]!==e||b[10]!==f?(a=i.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[9]=e,b[10]=f,b[11]=a):a=b[11];return a}}g["default"]=a}),98);
__d("InlineFollowCtaEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1985969");b=d("FalcoLoggerInternal").create("inline_follow_cta_event",a);e=b;g["default"]=e}),98);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface",COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit"});c=a;f["default"]=c}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2646");b=d("FalcoLoggerInternal").create("mlc_health_bizapp_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2647");b=d("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2648");b=d("FalcoLoggerInternal").create("mlc_health_facebook_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3766");b=d("FalcoLoggerInternal").create("mlc_health_instagram_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2649");b=d("FalcoLoggerInternal").create("mlc_health_internal_tools_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2650");b=d("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2651");b=d("FalcoLoggerInternal").create("mlc_health_workplace_event",a);e=b;g["default"]=e}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect,j=new Set();function k(a){switch(a){case"facebook":return c("MlcHealthFacebookEventFalcoEvent");case"workplace":return c("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return c("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return c("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return c("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return c("MlcHealthBizappEventFalcoEvent");case"instagram":return c("MlcHealthInstagramEventFalcoEvent");default:return null}}function l(a,b,c){(a=k(a))==null?void 0:a.log(function(){return{event:c,surface:b}})}function a(a){var b=a.policyProduct,c=a.surface;a=d("LexicalComposerContext").useLexicalComposerContext();var e=a[0];i(function(){var a=function(){};j.has(c)||(a=e.registerUpdateListener(function(d){var f=d.dirtyLeaves;d=d.tags;if(j.has(c)){a();return}if(f.size===0||d.has("history-merge")||!e.isEditable())return;j.add(c);l(b,c,"daily_interaction_with_surface");a()}));return d("LexicalUtils").mergeRegister(a,e.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(a){a==="create"?l(b,c,"commit_create"):l(b,c,"commit_edit");return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL))},[e,b,c]);return null}g["default"]=a}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return b("cr:3286")&&i.jsx(b("cr:3286"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCTextLengthBucket",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["S","M","L","XL"]);function a(a){if(a<=500)return g.S;if(a<=1e3)return g.M;return a<=2500?g.L:g.XL}f.TextLengthBucketEnum=g;f.getTextLengthBucket=a}),66);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","MLCTextLengthBucket","cr:2012305","cr:308","cr:3287","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useLayoutEffect,k=c("gkx")("3849"),l=c("gkx")("3929"),m=b("cr:2012305")||b("cr:308"),n=new RegExp("[^,;\\s]{200,}"),o=new RegExp("[^,;\\s]{100,199}"),p=new RegExp("[^,;\\s]{50,99}");function q(a){if(a==="")return 0;if(n.test(a))return 200;else if(o.test(a))return 100;else if(p.test(a))return 50;else return 0}function a(a){if(m===null)return null;b("cr:3287")&&b("cr:3287")();return i.jsx(r,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=a.format__DEPRECATED,e=a.surface;a=a.typingPerformanceID;var f=a===void 0?"":a;a=d("LexicalComposerContext").useLexicalComposerContext();var g=a[0];j(function(){var a=babelHelpers["extends"]({},l?{largeWord:q(g.getEditorState().read(d("LexicalText").$rootTextContent))}:null,k?{textLengthBucket:d("MLCTextLengthBucket").getTextLengthBucket(g.getEditorState().read(d("LexicalText").$rootTextContent).length)}:null,e==="FeedComposerCometStatusArea"?{autolinkFastPath:String(c("gkx")("8927"))}:null),h;i();function i(){h==null?void 0:h();if(m===null)return;var c=null,d=g.registerRootListener(function(d){if(d===c)return;c!==null&&m.unregisterTypingPerf(c);if(d!==null){var g;m.trackTypingPerf(d,e,c,babelHelpers["extends"]({},a,{editor:"LexicalEditor",format:(g=b)!=null?g:"",typingPerformanceID:f}))}c=d});h=function(){d(),c!==null&&m.unregisterTypingPerf(c)}}var j=l?g.registerTextContentListener(function(b){b=q(b);b!==a.largeWord&&(a.largeWord=b,i())}):null,n=k?g.registerTextContentListener(function(b){b=d("MLCTextLengthBucket").getTextLengthBucket(b.length);b!==a.textLengthBucket&&(a.textLengthBucket=b,i())}):null;return function(){h==null?void 0:h(),j==null?void 0:j(),n==null?void 0:n()}},[f,g,b,e]);return null}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b="facebook";b;function a(a){return i.jsxs(i.Fragment,{children:[i.jsx(c("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),i.jsx(c("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StarsViewerFunnelEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6440");b=d("FalcoLoggerInternal").create("stars_viewer_funnel_event",a);e=b;g["default"]=e}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries,c=b.filter(function(a){return g(a)});b=b.filter(function(a){return!g(a)});return babelHelpers["extends"]({},a,{entries:c.concat(b)})}function g(a){return a.type==="entry"&&(a.rawData.type==="MENTION_TYPE_SELECTION"||a.rawData.type==="MENTION_TYPE_RESET")}f["default"]=a}),66);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("cometMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:a.key,text:c("cometMentionsDataEntryText")(a),type:"Actor"})});b=a;g["default"]=b}),98);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b,c){b="[^"+a+b+"\\s]";c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+c+"){0,"+i+"}))$");var d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=a.validJoins;a=a===void 0?h:a;e=j(e,f,a);var i=e.regex,k=e.regexAlias;return{findMentionableString:function(a){var c=i.exec(a);c===null&&(c=k.exec(a));if(c!==null){a=c[1];var d=c[3];if(g==null?void 0:g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a}),66);
__d("createFeedCometMentionsDataEntryWithInstagramTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithInstagramTag_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"InstagramUserV2",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTagSuggestion_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"SuggestedWithTagsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTag_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"FriendsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},d={kind:"Variable",name:"scale",variableName:"scale"},e={alias:"photo",args:[{kind:"Literal",name:"height",value:40},d,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g=[a,b,e];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[a,b,{alias:"thumbnail_link",args:[d],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,e],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a,e],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:g,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}}();e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry",["FBLogger","createFeedCometMentionsDataEntryWithInstagramTag_data.graphql","createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql","createFeedCometMentionsDataEntryWithTag_data.graphql","createFeedCometMentionsDataEntry_data.graphql","createFeedCometMentionsDataEntry_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;h!==void 0?h:h=b("createFeedCometMentionsDataEntry_data.graphql");i!==void 0?i:i=b("createFeedCometMentionsDataEntryWithTag_data.graphql");j!==void 0?j:j=b("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql");k!==void 0?k:k=b("createFeedCometMentionsDataEntry_profile.graphql");l!==void 0?l:l=b("createFeedCometMentionsDataEntryWithInstagramTag_data.graphql");function a(a){var b,d,e=null;e=a.data.node;if(e==null){c("FBLogger")("comet_composer").warn("missing node info for Comet mentions data entry");return null}var f=e,g=f.id;f=f.name;b=(b=e)==null?void 0:b.photo;var h=e.__typename==="InstagramUserV2";h&&((d=e)==null?void 0:d.username)==null&&c("FBLogger")("comet_composer").warn("Instagram user is missing username for Comet mentions data entry");d=b==null?void 0:b.uri;var i;switch(a.data.icon_shape){case"square":i="square";break;case"roundedRect":i="roundedRect";break;default:i="circle";break}if(d==null&&a.type==="MENTION_SEARCH_RESULT"){d=(b=a.data.node)==null?void 0:b.thumbnail_link;i="roundedRect"}if(f==null||g==null||d==null){c("FBLogger")("comet_composer").warn("%s is missing the name, id, or photoURI for Comet mentions data entry",e.__typename);return null}if(a.type==="MENTION_SEARCH_RESULT"){var j,k;b=a.data.score;if(b==null){c("FBLogger")("comet_composer").warn("%s is missing score info for Comet mentions data entry",e.__typename);return null}j=Boolean((j=a.data.node)==null?void 0:j.is_verified);return{key:g,label:f,rawData:{docTitle:(k=a.data.node)==null?void 0:k.doc_title,docUrl:(k=a.data.node)==null?void 0:k.doc_url,iconShape:i,isExternal:!1,isVerified:j,photoURI:d,resultType:(k=a.data.node)==null?void 0:k.__typename,score:b,subtext:(j=a.data.node)==null?void 0:j.mentions_subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}return{key:g,label:((k=e)==null?void 0:k.username)!=null?e.username:f,rawData:{isInstagramUser:h,photoURI:d,type:a.type},type:"entry"}}g["default"]=a}),98);
__d("getImplicitMentionsGating",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("3")||!0}function b(){return c("qex")._("17")||!0}function d(){return c("qex")._("54")}function e(){return c("qex")._("492")}function f(){return c("qex")._("174")}g.getIsImplicitMentionsEnabledComposer=a;g.getIsImplicitMentionsEnabledComment=b;g.getIsImplicitMentionsMatchLengthCommentsOverride=d;g.getIsImplicitMentionsMatchLengthComposerOverride=e;g.getIsFriendsOnlyImplicitDatasource=f}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e=a.viewItemStrategyRenderer;b[0]!==e?(a=function(a){var b=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading"]);return i.jsxs(i.Fragment,{children:[i.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:e})),b&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},b[0]=e,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","cr:5410","getImplicitMentionsGating","gkx","react","useCometMentionsViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");e=c("gkx")("23229");var j=c("gkx")("25978");f=["USER","EVENT","GROUP","PAGE"];var k=e?[].concat(f,["WORKROOMS_USER"]):f;f=["user","event","group","page"];e=e?[].concat(f,["workrooms_user"]):f;var l=j?[].concat(e,["knowledge_hub_document"]):e;function a(){return function(a){var e=a.config,f=e.contextID;e=e.postID;a=a.pluginProps.editor;f=b("cr:5410")({canUseSections:j,contextID:f,firstDegreeTypesForBootstrap:k,implicitMentionsConfig:{isImplicitMentionsEnabled:d("getImplicitMentionsGating").getIsImplicitMentionsEnabledComment(),matchLimitOverride:d("getImplicitMentionsGating").getIsImplicitMentionsMatchLengthCommentsOverride(),typeaheadContext:d("getImplicitMentionsGating").getIsFriendsOnlyImplicitDatasource()?"comet_mention_friends_only":void 0},mentionTypesForNetwork:l,postID:e,shouldBootstrapOnLayoutEffect:!1});e=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:f,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),viewStrategyRenderer:e})}}g["default"]=a}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);
__d("destroyOnUnloadWWW",["Run"],(function(a,b,c,d,e,f,g){function a(a){return d("Run").onLeave(a)}g["default"]=a}),98);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var e=a.getTextContent(),f=a,g=0;d("EmojiRenderer").parse(e).forEach(function(e){var h=e.emoji,i=e.length;e=e.offset;var j=h.join("");h=c("FBEmojiResource").fromCodepoints(h);if(h==null)return;h=h.getImageURL(b);if(h==null)return;var k=j;j=d("CometLexicalEmojiNode").$createEmojiNode(j,k,h,b);k=e-g;h=k+i;if(k===0){e=f.splitText(h);a=e[0];f=e[1]}else{i=f.splitText(k,h);a=i[1];f=i[2]}g+=h;a.replace(j);j})});return function(){e()}}g["default"]=a}),98);
__d("getUpgradedCometUFIEmoticonsComposerHandler",["CometLexicalEmojiNode","EmoticonsList","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(!a.isSimpleText())return;var b=d("Lexical").$getSelection(),e=a.getTextContent();d("Lexical").$isRangeSelection(b)&&b.isCollapsed()&&b.anchor.type==="text"&&b.anchor.key===a.getKey()&&(e=e.slice(0,b.anchor.offset));b=a;while((a=e.match(d("EmoticonsList").noncapturingRegexp))&&a!==null&&b!==void 0){var f=a[1];a=a[0][0]===" "?a.index+1:a.index;var g=f.length,h=a+g,i=d("EmoticonsList").emotes[f];if(i!==void 0){var j=d("EmoticonsList").emoji[i],k=b.getNextSibling();k=h===e.length?d("Lexical").$isLineBreakNode(k):e[h]===" ";if(j!==void 0&&k){k=void 0;if(a===0){g=b.splitText(g);k=g[0];b=g[1]}else{g=b.splitText(a,h);k=g[1];b=g[2]}a=j.length===5&&j.slice(0,2)==="1f";g=a?String.fromCodePoint(parseInt("0x"+j,0)):i;i=a?g:f;a=new(c("FBEmojiResource"))(j);f=a.getImageURL(d("CometLexicalEmojiNode").UFI_EMOJI_SIZE);f!=null&&(j=d("CometLexicalEmojiNode").$createEmojiNode(g,i,f,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE),k.replace(j))}}e=e.slice(h)}}function a(a){return a.registerNodeTransform(d("Lexical").TextNode,h)}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect;b.useMemo;function a(a,b){var c=d("react-compiler-runtime").c(12),e;c[0]!==a?(e=function(){a.forEach(j)},c[0]=a,c[1]=e):e=c[1];var f=e,g;c[2]!==f||c[3]!==b?(e=function(){if(!b)return;f()},g=[b,f],c[2]=f,c[3]=b,c[4]=e,c[5]=g):(e=c[4],g=c[5]);i(e,g);c[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=new Map(),c[6]=e):e=c[6];var h=e;c[7]!==a?(g=function(b){var c={dataSource:null,searchResult:null};if(b==null)return c;var d=h.get(b);if(d!=null)return d;for(d=0;d<a.length;d++){var e=a[d],f=e.dataSource;e=e.matchStrategy;e=e.findMentionableString(b);if(e!=null){f={dataSource:f,searchResult:e};h.set(b,f);return f}}h.set(b,c);return c},c[7]=a,c[8]=g):g=c[8];c[9]!==f||c[10]!==g?(e={bootstrap:f,resolver:g},c[9]=f,c[10]=g,c[11]=e):e=c[11];g=e;return g}function j(a){a=a.dataSource;a.bootstrap()}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=a.storageKey,l=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),m=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var n=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:m,storageKey:k});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,m]);return i(function(){return{bootstrap:function(){return n.bootstrap()},fetchCache:function(a){return l(n.fetchCache(a))}}},[n,l])}g["default"]=a}),98);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9079890285420343"}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},d={defaultValue:null,kind:"LocalArgument",name:"options"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"typeaheadFirstDegreeFilters"},g={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},h=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"typeaheadFirstDegreeFilters"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n={alias:"photo",args:[{kind:"Literal",name:"height",value:40},m,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p=[j,k,n];o={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i,{kind:"InlineFragment",selections:[j,k,l,n,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[o],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[j,k,{alias:"thumbnail_link",args:[m],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[j,k,l,n],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[j,n],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:p,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:p,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:p,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,g,f,a],kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[i,o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react-compiler-runtime","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(12),e=a.canUseSections,f=a.firstDegreeFinderOptions,g=a.includeViewer,h=a.limit,k=a.matchStrategy,l=a.storageKey,m=a.typeaheadContext;a=a.typeaheadFirstDegreeFilters;k=k===void 0?"prefix":k;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("WebPixelRatio").get(),b[0]=n):n=b[0];b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==m||b[5]!==a?(n={canUseSections:e,include_viewer:g,options:f,scale:n,typeahead_context:m,typeaheadFirstDegreeFilters:a},b[1]=e,b[2]=f,b[3]=g,b[4]=m,b[5]=a,b[6]=n):n=b[6];b[7]!==h||b[8]!==k||b[9]!==l||b[10]!==n?(e={gqlQuery:i,limit:h,matchStrategy:k,normalize:j,queryVariables:n,storageKey:l},b[7]=h,b[8]=k,b[9]=l,b[10]=n,b[11]=e):e=b[11];return c("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")(e)}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_bootload)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6215601155216592"}),null);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql",["useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"context_id"},d={defaultValue:null,kind:"LocalArgument",name:"count"},e={defaultValue:null,kind:"LocalArgument",name:"enable_type_selection"},f={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},g={defaultValue:null,kind:"LocalArgument",name:"mentionTypes"},h={defaultValue:null,kind:"LocalArgument",name:"post_fbid"},i={defaultValue:null,kind:"LocalArgument",name:"query"},j={defaultValue:null,kind:"LocalArgument",name:"scale"},k={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},l=[{kind:"Variable",name:"context_id",variableName:"context_id"},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"enable_type_selection",variableName:"enable_type_selection"},{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"post_fbid",variableName:"post_fbid"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"mentionTypes"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],m={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},q={kind:"Variable",name:"scale",variableName:"scale"},r={alias:"photo",args:[{kind:"Literal",name:"height",value:40},q,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},s={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},t=[n,o,r];s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m,{kind:"InlineFragment",selections:[n,o,p,r,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[s],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[s,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:t,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[n,o,{alias:"thumbnail_link",args:[q],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:t,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[n,o,p,r],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[n,r],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:t,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:t,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};q={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};o={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};p={kind:"InlineFragment",selections:[q,{alias:null,args:null,kind:"ScalarField",name:"types_to_show",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],type:"XFBMentionsTypeSelectionEntry",abstractKey:null};n={kind:"InlineFragment",selections:[q,o],type:"XFBMentionsTypeResetEntry",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j,k],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[m,s,p,n,{kind:"InlineFragment",selections:[q,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[s],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,d,f,i,j,k,g,a,h,c],kind:"Operation",name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[m,s,p,n,{kind:"InlineFragment",selections:[q,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[m,s],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNetworkDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNetworkDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react-compiler-runtime","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNetworkDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(12),e=a.canUseSections,f=a.contextID,g=a.enableTypeSelection,h=a.includeViewer,k=a.limit,l=a.mentionTypes,m=a.postID,n=a.typeaheadContext,o=g===void 0?!1:g;b[0]!==e||b[1]!==f||b[2]!==o||b[3]!==h||b[4]!==k||b[5]!==l||b[6]!==m||b[7]!==n?(a=function(a){a=a.query;return{canUseSections:e,context_id:f,count:k,enable_type_selection:o,include_viewer:h,mentionTypes:l,post_fbid:m,query:a,scale:d("WebPixelRatio").get(),typeahead_context:n}},b[0]=e,b[1]=f,b[2]=o,b[3]=h,b[4]=k,b[5]=l,b[6]=m,b[7]=n,b[8]=a):a=b[8];b[9]!==k||b[10]!==a?(g={gqlQuery:i,limit:k,normalize:j,queryVariablesBuilderFunction:a},b[9]=k,b[10]=a,b[11]=g):g=b[11];return c("useCometTypeaheadGraphQLDataSource")(g)}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_search)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});if((a==null?void 0:a.__typename)==="XFBMentionsTypeSelectionEntry"||(a==null?void 0:a.__typename)==="XFBMentionsTypeResetEntry"||(a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){a.__typename;var b=a.cache_id,d=a.label;if(b==null||d==null)return null;if((a==null?void 0:a.__typename)==="XFBMentionsTypeSelectionEntry"){var e;return{key:b,label:d,rawData:{iconName:(e=a.icon_name)!=null?e:"",type:"MENTION_TYPE_SELECTION",typesToShow:a.types_to_show.map(function(a){return a})},type:"entry"}}else if((a==null?void 0:a.__typename)==="XFBMentionsTypeResetEntry")return{key:b,label:d,rawData:{type:"MENTION_TYPE_RESET"},type:"entry"};else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry")return{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10084341624939331"}),null);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql",["useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"mentionTypes"},d={defaultValue:null,kind:"LocalArgument",name:"post_fbid"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"useSections"},g=[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"post_fbid",variableName:"post_fbid"},{kind:"Literal",name:"query",value:""},{kind:"Literal",name:"typeahead_context",value:"mentions"},{kind:"Variable",name:"types",variableName:"mentionTypes"},{kind:"Variable",name:"use_sections",variableName:"useSections"}],h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},l={kind:"Variable",name:"scale",variableName:"scale"},m={alias:"photo",args:[{kind:"Literal",name:"height",value:40},l,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},n={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},o=[i,j,m];n={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h,{kind:"InlineFragment",selections:[i,j,k,m,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[n],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[n,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:o,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[i,j,{alias:"thumbnail_link",args:[l],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:o,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[i,j,k,m],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[i,m],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:o,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:o,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:o,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};l={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,n,{kind:"InlineFragment",selections:[l,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[n],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,e,c,f,d],kind:"Operation",name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:g,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[h,n,{kind:"InlineFragment",selections:[l,j,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[h,n],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNullstateDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNullstateDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","react-compiler-runtime","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNullstateDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(8),e=a.limit,f=a.mentionTypes,g=a.postID,h=a.useSections;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h?(a=function(){return{count:e,mentionTypes:f,post_fbid:g,scale:d("WebPixelRatio").get(),useSections:h}},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a):a=b[4];var k;b[5]!==e||b[6]!==a?(k={gqlQuery:i,limit:e,normalize:j,queryVariablesBuilderFunction:a},b[5]=e,b[6]=a,b[7]=k):k=b[7];return c("useCometTypeaheadGraphQLDataSource")(k)}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_search)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useBaseFeedMentionsDataSourceResolverConfig",["MentionsCommonWordsBlocklist","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useFeedComposerCometMentionsBootloadDataSource","useFeedComposerCometMentionsNetworkDataSource","useFeedComposerCometMentionsNullstateDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(60),e=a.canUseSections,f=a.contextID,g=a.enableTypeSelection,h=a.firstDegreeTypesForBootstrap,i=a.implicitMentionsConfig,j=a.limit,k=a.matchStrategy,l=a.mentionTypesForNetwork,m=a.payloadDecorators,n=a.postID;a=a.shouldBootstrapOnLayoutEffect;g=g===void 0?!1:g;k=k===void 0?"token":k;var o=Math.floor(j.intentful/2),p;b[0]!==e||b[1]!==h||b[2]!==k||b[3]!==o?(p={canUseSections:e,includeViewer:!0,limit:o,matchStrategy:k,storageKey:null,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:h},b[0]=e,b[1]=h,b[2]=k,b[3]=o,b[4]=p):p=b[4];h=c("useFeedComposerCometMentionsBootloadDataSource")(p);if(b[5]!==l){p=(o=l)!=null?o:[];b[5]=l;b[6]=p}else p=b[6];b[7]!==g||b[8]!==p?(o={enableTypeSelection:g,mentionTypes:p,type:"feed_mentions_intentful_datasource_cache_key"},b[7]=g,b[8]=p,b[9]=o):o=b[9];p=j.intentful;var q;b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==j.intentful||b[14]!==l||b[15]!==n?(q={canUseSections:e,contextID:f,enableTypeSelection:g,includeViewer:!0,limit:j.intentful,mentionTypes:l,postID:n,typeaheadContext:"mentions"},b[10]=e,b[11]=f,b[12]=g,b[13]=j.intentful,b[14]=l,b[15]=n,b[16]=q):q=b[16];f=c("useFeedComposerCometMentionsNetworkDataSource")(q);b[17]!==e||b[18]!==j.nullstate||b[19]!==l||b[20]!==n?(g={limit:j.nullstate,mentionTypes:l,postID:n,useSections:e},b[17]=e,b[18]=j.nullstate,b[19]=l,b[20]=n,b[21]=g):g=b[21];q=c("useFeedComposerCometMentionsNullstateDataSource")(g);b[22]!==j.intentful||b[23]!==m||b[24]!==f||b[25]!==q||b[26]!==h||b[27]!==o?(l={bootstrapDataSource:h,cacheKey_SEARCH_ONLY:o,limit:p,networkDataSource:f,nullstateDataSource:q,payloadDecorators:m},b[22]=j.intentful,b[23]=m,b[24]=f,b[25]=q,b[26]=h,b[27]=o,b[28]=l):l=b[28];n=c("useCometTypeaheadCompositeDataSource")(l);b[29]===Symbol["for"]("react.memo_cache_sentinel")?(g=["FRIENDS_ONLY"],b[29]=g):g=b[29];f=(p=i.typeaheadContext)!=null?p:"mentions";b[30]===Symbol["for"]("react.memo_cache_sentinel")?(q=["USER","WORKROOMS_USER"],b[30]=q):q=b[30];b[31]!==e||b[32]!==j.nonIntentful||b[33]!==k||b[34]!==f?(h={canUseSections:e,firstDegreeFinderOptions:g,includeViewer:!0,limit:j.nonIntentful,matchStrategy:k,storageKey:null,typeaheadContext:f,typeaheadFirstDegreeFilters:q},b[31]=e,b[32]=j.nonIntentful,b[33]=k,b[34]=f,b[35]=h):h=b[35];o=c("useFeedComposerCometMentionsBootloadDataSource")(h);b[36]===Symbol["for"]("react.memo_cache_sentinel")?(l={type:"feed_mentions_non_intentful_datasource_cache_key"},b[36]=l):l=b[36];b[37]!==j.nonIntentful||b[38]!==m||b[39]!==o?(p={bootstrapDataSource:o,cacheKey_SEARCH_ONLY:l,limit:j.nonIntentful,payloadDecorators:m},b[37]=j.nonIntentful,b[38]=m,b[39]=o,b[40]=p):p=b[40];g=c("useCometTypeaheadCompositeDataSource")(p);var r;bb0:{b[41]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:0}),b[41]=q):q=b[41];b[42]!==n?(e={dataSource:n,matchStrategy:q},b[42]=n,b[43]=e):e=b[43];if(b[44]!==i.isImplicitMentionsEnabled||b[45]!==i.matchLimitOverride||b[46]!==g||b[47]!==e){k=[e];if(!i.isImplicitMentionsEnabled){r=k;break bb0}h=(f=i==null?void 0:i.matchLimitOverride)!=null?f:3;b[50]!==h?(l=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:h,nameCase:"capitalized"}),b[50]=h,b[51]=l):l=b[51];b[52]!==g||b[53]!==l?(j={dataSource:g,matchStrategy:l},b[52]=g,b[53]=l,b[54]=j):j=b[54];k.push(j);o=(m=i==null?void 0:i.matchLimitOverride)!=null?m:4;b[55]!==o?(p=c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:o,nameCase:"lower-case"}),b[55]=o,b[56]=p):p=b[56];b[57]!==g||b[58]!==p?(q={dataSource:g,matchStrategy:p},b[57]=g,b[58]=p,b[59]=q):q=b[59];k.push(q);b[44]=i.isImplicitMentionsEnabled;b[45]=i.matchLimitOverride;b[46]=g;b[47]=e;b[48]=k;b[49]=r}else k=b[48],r=b[49];r=k}n=r;return c("useCometMentionsDataSourceResolverConfig")(n,a)}g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapDataSource",["BaseTypeaheadDataProvider","BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,h=a.normalize,j=a.queryVariables,k=i(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),l=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var m=i(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:l});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:h})},[a,l]);return i(function(){return{bootstrap:function(){return m.bootstrap()},fetchCache:function(a){return k(m.fetchCache(a))}}},[m,k])}g["default"]=a}),98);
__d("useFeedComposerCometMentionsDataSourceResolverConfig",["cometFeedComposerCometMentionsTypeSelectionPayloadDecorator","qex","react-compiler-runtime","useBaseFeedMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=["user","workrooms_user","group","event","page"],i=["USER","WORKROOMS_USER","GROUP","EVENT","PAGE"],j=5;function a(a){var b=d("react-compiler-runtime").c(13),e=a.enableTypeSelection,f=a.firstDegreeTypesForBootstrap,g=a.mentionTypesForNetwork,k=a.shouldBootstrapOnLayoutEffect,l=a.canUseSections,m=a.contextID,n=a.implicitMentionsConfig;a=a.postID;e=e===void 0?!1:e;f=f===void 0?i:f;g=g===void 0?h:g;var o;b[0]!==e?(o=e?[c("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator")]:[],b[0]=e,b[1]=o):o=b[1];o=o;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){var p;p={intentful:(p=c("qex")._("1777"))!=null?p:j,nonIntentful:(p=c("qex")._("576"))!=null?p:j,nullstate:(p=c("qex")._("617"))!=null?p:j};b[2]=p}else p=b[2];b[3]!==l||b[4]!==m||b[5]!==e||b[6]!==f||b[7]!==n||b[8]!==g||b[9]!==o||b[10]!==a||b[11]!==k?(p={canUseSections:l,contextID:m,enableTypeSelection:e,firstDegreeTypesForBootstrap:f,implicitMentionsConfig:n,limit:p,mentionTypesForNetwork:g,payloadDecorators:o,postID:a,shouldBootstrapOnLayoutEffect:k},b[3]=l,b[4]=m,b[5]=e,b[6]=f,b[7]=n,b[8]=g,b[9]=o,b[10]=a,b[11]=k,b[12]=p):p=b[12];return c("useBaseFeedMentionsDataSourceResolverConfig")(p)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseDocumentScrollView.react",["BaseView.react","HiddenSubtreeContext","HiddenSubtreeContextProvider.react","react","usePrevious","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useContext,l=e.useLayoutEffect,m=e.useRef,n=e.useState,o={detached:{MsOverflowStyle:"x1pq812k",height:"x5yr21d",start:"x17qophe",left:null,right:null,overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"xixxii4",scrollbarWidth:"x1rohswg",top:"x13vifvy",width:"xh8yej3","::-webkit-scrollbar_display":"xfk6m8","::-webkit-scrollbar_height":"x1yqm8si","::-webkit-scrollbar_width":"xjx87ck",$$css:!0}},p=new Map(),q=new Set(),r=null;function s(a,b){return!!(a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING)}function t(){var a=null;p.forEach(function(b,c){a==null?a=c:a!=null&&c!=null&&s(a,c)&&!q.has(c)&&(a=c)});return a}function u(a){return r==null||s(r,a)}function b(b){var d=b.contextKey,e=d===void 0?null:d;d=b.detached;d=d===void 0?!1:d;var f=b.detachedDefaultValue;f=f===void 0?!1:f;b.detachedPageOffsets;var g=b.disableNavigationScrollReset,h=g===void 0?!1:g;g=b.hiddenWhenDetached;g=g===void 0?!1:g;var s=b.maintainScrollForContext,v=s===void 0?!1:s,w=b.onInitialScroll;s=b.resetScrollOnMount;var x=s===void 0?!0:s;s=babelHelpers.objectWithoutPropertiesLoose(b,["contextKey","detached","detachedDefaultValue","detachedPageOffsets","disableNavigationScrollReset","hiddenWhenDetached","maintainScrollForContext","onInitialScroll","resetScrollOnMount"]);var y=m(),z=m({x:0,y:0}),A=c("useStable")(function(){return{}}),B=c("usePrevious")(e);b=n(f);var C=b[0],D=b[1];f=n({x:0,y:0});var E=f[0],F=f[1],G=c("usePrevious")(C);b=k(c("HiddenSubtreeContext"));var H=b.hidden;l(function(){var a=y.current;if(a!=null){if(u(a)){if(r!=null){var b=p.get(r);b&&b(!1)}r=a}else D(!0);p.set(a,function(a){a||F(babelHelpers["extends"]({},z.current)),D(!a)});return function(){p["delete"](a);if(r===a){r=t();if(r!=null){var b=p.get(r);b&&b(!0)}}}}},[]);var I=j(function(b,c){a.scrollTo&&a.scrollTo(b,c),typeof w==="function"&&w(b,c)},[w]);l(function(){(x||G!=null)&&!C&&C!==G&&I(E.x,E.y)},[C,E,G,I,x]);l(function(){if((x||B!=null)&&e!==B){var a=v&&e!=null&&e in A?A[e]:{x:0,y:0};C?F(a):h!==!0&&I(a.x,a.y)}},[e,A,C,v,B,I,x,h]);l(function(){if(!C){var b=function(){var b=a.pageXOffset,c=a.pageYOffset;z.current={x:b,y:c};e!=null&&(A[e]={x:b,y:c})};window.addEventListener("scroll",b,{passive:!0});return function(){return window.removeEventListener("scroll",b,{passive:!0})}}},[C,e,A]);l(function(){var a=y.current;if(a!=null)if(H){q.add(a);if(!C){D(!0);r=t();if(r!=null){var b=p.get(r);b&&b(!0)}}return function(){q["delete"](a)}}else if(C&&a!==r&&a===t()){if(r!=null){b=p.get(r);b&&b(!1)}r=a;b=p.get(r);b&&b(!0)}},[C,H]);f=d||C;b=g;var J=C&&!g;l(function(){var a=y.current;J&&a!=null&&(a.scrollTop=E.y)},[E.y,J]);return i.jsx(c("HiddenSubtreeContextProvider.react"),{ignoreParent:!0,isBackgrounded:f,isHidden:b,children:i.jsx(c("BaseView.react"),babelHelpers["extends"]({},s,{hidden:b},J&&{"aria-hidden":!0,id:"scrollview",style:{left:-E.x},xstyle:o.detached},{ref:y}))})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("getGeoAndCometModalCompatible",[],(function(a,b,c,d,e,f){"use strict";function a(){return!0}f["default"]=a}),66);
__d("BaseCometModal.react",["BaseContextualLayerAnchorRoot.react","BaseDocumentScrollView.react","BaseHeadingContext","BasePortal.react","BaseThemeProvider.react","CometHeroInteractionContextPassthrough.react","CometHeroInteractionWithDiv.react","CometLayerKeyCommandWrapper.react","FocusRegion.react","HiddenSubtreeContext","cr:1024","cr:1829844","focusScopeQueries","getGeoAndCometModalCompatible","react","react-compiler-runtime","stylex","useCometVisualChangeTracker","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l={content:{display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"xippug5 xg6iff7",position:"x1n2onr6",$$css:!0},hidden:{visibility:"xlshs6z",$$css:!0},mask:{bottom:"x1ey2m1c",end:"xds687c",start:"x17qophe",position:"xixxii4",top:"x13vifvy",$$css:!0},maskOverlay:{backgroundColor:"x1h0vfkc",$$css:!0},root:{position:"x1n2onr6",$$css:!0},rootStatic:{position:"x1uhb9sk",$$css:!0}},m={"above-everything":{zIndex:"x1vjfegm",$$css:!0},"above-nav":{zIndex:"xzkaem6",$$css:!0},normal:{zIndex:"x1ja2u2z",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(36),f=a.backdropXStyle,g=a.blockKeyCommands,i=a.children,n=a.contextKey,o=a.disableGeoToCometModalsCompatibility_DO_NOT_USE,p=a.hidden,q=a.interactionDesc,r=a.interactionUUID,s=a.isOverlayTransparent,t=a.noPortal;a=a.stackingBehavior;g=g===void 0?!1:g;o=o===void 0?!1:o;p=p===void 0?!1:p;s=s===void 0?!1:s;t=t===void 0?!1:t;a=a===void 0?"auto":a;var u=k(c("HiddenSubtreeContext"));u=u.hidden;var v;e[0]!==r?(v=function(){return r!==void 0},e[0]=r,e[1]=v):v=e[1];v=c("useStable")(v);var w=c("useCometVisualChangeTracker")(),x;e[2]!==f||e[3]!==s?(x=(h||(h=c("stylex"))).props(l.mask,!s&&l.maskOverlay,f),e[2]=f,e[3]=s,e[4]=x):x=e[4];e[5]!==x?(f=j.jsx("div",babelHelpers["extends"]({},x)),e[5]=x,e[6]=f):f=e[6];e[7]!==g||e[8]!==i?(s=g?i:j.jsx(c("CometLayerKeyCommandWrapper.react"),{debugName:"modal layer",children:i}),e[7]=g,e[8]=i,e[9]=s):s=e[9];e[10]!==s?(x=j.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:s})}),e[10]=s,e[11]=x):x=e[11];e[12]!==x||e[13]!==f?(g=j.jsxs(j.Fragment,{children:[f,x]}),e[12]=x,e[13]=f,e[14]=g):g=e[14];i=g;if(b("cr:1829844")!=null){e[15]!==i?(s=j.jsx(b("cr:1829844"),{name:"modal",children:i}),e[15]=i,e[16]=s):s=e[16];i=s}x=u?"normal":a;f=x==="auto"?l.rootStatic:l.root;g=p&&l.hidden;s=x!=="auto"&&(b("cr:1024")!=null&&!o&&c("getGeoAndCometModalCompatible")()?b("cr:1024")[x]:m[x]);e[17]!==f||e[18]!==g||e[19]!==s?(a=[f,g,s],e[17]=f,e[18]=g,e[19]=s,e[20]=a):a=e[20];var y=a;e[21]!==i||e[22]!==q||e[23]!==r||e[24]!==w||e[25]!==v?(o=j.jsx(c("BaseHeadingContext").Provider,{value:1,children:v?j.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:q,interactionUUID:r,ref:w,xstyle:l.content,children:i})}):j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xippug5 xg6iff7 x1n2onr6"},{ref:w,children:i}))}),e[21]=i,e[22]=q,e[23]=r,e[24]=w,e[25]=v,e[26]=o):o=e[26];e[27]!==n||e[28]!==p||e[29]!==o?(x=j.jsx(c("BaseDocumentScrollView.react"),{contextKey:n,hiddenWhenDetached:p,children:o}),e[27]=n,e[28]=p,e[29]=o,e[30]=x):x=e[30];var z=x;e[31]!==u||e[32]!==t||e[33]!==y||e[34]!==z?(f=t?j.jsx(c("BaseThemeProvider.react"),{children:function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(a,y),style:b,children:z})}}):j.jsx(c("BasePortal.react"),{hidden:u,xstyle:y,children:z}),e[31]=u,e[32]=t,e[33]=y,e[34]=z,e[35]=f):f=e[35];return f}g["default"]=a}),98);
__d("CometHomeRightRailUnit.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var c=d("react-compiler-runtime").c(12),e=a.children,f=a.hasBottomDivider,g=a.header;a=a.testid;f=f===void 0?!0:f;var h;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x1n2onr6"},c[0]=h):h=c[0];var j;c[1]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"xwib8y2 x1y1aw1k"},c[1]=j):j=c[1];c[2]!==e?(j=i.jsx("div",babelHelpers["extends"]({},j,{children:e})),c[2]=e,c[3]=j):j=c[3];c[4]!==f?(e=f?i.jsx("div",{className:"x14nfmen xqmqy1e xjm9jq1 x92rtbv x16q8cke x10l6tqk"}):null,c[4]=f,c[5]=e):e=c[5];c[6]!==g||c[7]!==b||c[8]!==j||c[9]!==e||c[10]!==a?(f=i.jsxs("div",babelHelpers["extends"]({},h,{"data-testid":void 0,ref:b,children:[g,j,e]})),c[6]=g,c[7]=b,c[8]=j,c[9]=e,c[10]=a,c[11]=f):f=c[11];return f}c=b;g["default"]=c}),98);
__d("CometIXTFacebookXfacUniversalTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7704932102965144"}),null);
__d("CometIXTFacebookXfacUniversalTriggerRootQuery$Parameters",["CometIXTFacebookXfacUniversalTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookXfacUniversalTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookXfacUniversalTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookXfacUniversalTriggerEntryPoint.entrypoint",["CometIXTFacebookXfacUniversalTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;h||c("react");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookXfacUniversalTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookXfacUniversalTriggerRoot.react").__setRef("CometIXTFacebookXfacUniversalTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("CometIXTMainFacebookXfacUniversalTriggerEntryPoint.entrypoint",["cr:8374"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:8374")}),98);
__d("CometLiveResolverStore",["relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";g.Store=d("relay-runtime").Store,g.RecordSource=d("relay-runtime").RecordSource}),98);
__d("CometRelayEnvironmentProvider",["CometRelay","CometRelayEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.environment;a=a||c("CometRelayEnvironment");var f;b[0]!==e||b[1]!==a?(f=i.jsx(d("CometRelay").RelayEnvironmentProvider,{environment:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometRelayEnvironmentWWW",["CometRelayEnvironmentFactory"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("CometRelayEnvironmentFactory").CometRelayEnvironmentFactory.defaultEnvironment}),98);
__d("CometRelayScheduler",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).startTransition;a=c("gkx")("2442")?{cancel:function(){},schedule:function(a,b){b==="low"?i(a):a();return""}}:{cancel:function(){},schedule:function(a){i(a);return""}};g["default"]=a}),98);
__d("CometTooltipDeferredImpl.react",["BaseTooltipImpl.react","FDSProgressRingIndeterminate.react","FDSTextPairing.react","react","react-compiler-runtime","useCometTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e,f,g,h;b[0]!==a?(h=a.tooltipTheme,e=a.headline,g=a.tooltip,f=babelHelpers.objectWithoutPropertiesLoose(a,["tooltipTheme","headline","tooltip"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);h=c("useCometTheme")((a=h)!=null?a:"invert");a=h[0];h=h[1];var j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=i.jsx(c("FDSProgressRingIndeterminate.react"),{color:"dark",size:20}),b[5]=j):j=b[5];var k;b[6]!==e||b[7]!==g?(k=g!=null?i.jsx(c("FDSTextPairing.react"),{body:g,bodyColor:"primary",headline:e,headlineColor:"primary",level:4}):null,b[6]=e,b[7]=g,b[8]=k):k=b[8];b[9]!==f||b[10]!==k||b[11]!==h?(e=i.jsx(c("BaseTooltipImpl.react"),babelHelpers["extends"]({},f,{loadingState:j,tooltip:k,xstyle:h})),b[9]=f,b[10]=k,b[11]=h,b[12]=e):e=b[12];b[13]!==a||b[14]!==e?(g=i.jsx(a,{children:e}),b[13]=a,b[14]=e,b[15]=g):g=b[15];return g}g["default"]=a}),98);
__d("Dots3HorizontalFilled20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -350)",children:i.jsx("path",{d:"M458 360a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("Dots3HorizontalFilled20IconSvg.react",["Dots3HorizontalFilled20.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("SVGIcon").svgIcon(c("Dots3HorizontalFilled20.svg.react"));g["default"]=a}),98);
__d("filterMap",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=new Map();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=f[0];f=f[1];b(f,g)&&c.set(g,f)}return c}f["default"]=a}),66);
__d("HeroBootloadPerfStore",["BootloaderEvents","InteractionTracingMetrics","ResourceTimingStore","filterMap","gkx","performanceNavigationStart"],(function(a,b,c,d,e,f,g){"use strict";var h=["encodedBodySize","transferSize","totalCount","cacheCount"],i=["t1","t2","t3"],j=["untiered"],k=["js","css"],l=new Map();d("BootloaderEvents").onBootload(function(a){a.components.forEach(function(b){l.set(b,a)})});function m(a){try{return new URL(a).pathname}catch(a){return"[invalid url]"}}function n(a,b){if(b==null){a.missingData++;return}a.urls&&a.urls.add(b.name);a.encodedBodySize+=b.encodedBodySize;a.decodedBodySize+=b.decodedBodySize;a.transferSize+=b.transferSize;a.totalCount+=1;b.transferSize===0&&(a.cacheCount+=1)}function o(a){return a.src.indexOf("data")===0}function p(a,b,e){var f=new Map();function g(a){var b;b=(b=f.get(a))!=null?b:{cacheCount:0,decodedBodySize:0,encodedBodySize:0,missingData:0,totalCount:0,transferSize:0,urls:c("gkx")("23413")?new Set():null};f.set(a,b);return b}function h(a,c){var f=d("ResourceTimingStore").getEntryForURL(c.src);n(g("used_"+c.type),f);n(g("used_"+a),f);n(g("used_"+a+"_"+c.type),f);f!=null&&f.responseEnd>=b&&f.responseEnd<=e&&(n(g("downloaded_"+a),f),n(g("downloaded_"+c.type),f),n(g("downloaded_"+a+"_"+c.type),f))}function i(a,b){a.decodedBodySize+=b.length,a.totalCount+=1}function j(a,b){i(g("inline_"+a),b.src),i(g("inline_"+b.type),b.src),i(g("inline_"+a+"_"+b.type),b.src)}var k=function(){if(m){if(p>=l.length)return"break";q=l[p++]}else{p=l.next();if(p.done)return"break";q=p.value}var a=q,b=a[0];a=a[1];a.forEach(function(a,c){if(!(a.type==="css"||a.type==="js"))return;o(a)?j(b,a):h(b,a)})};for(var l=a,m=Array.isArray(l),p=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var q;a=k();if(a==="break")break}return f}function q(a,b,c){var d;d=(d=a.get(b))!=null?d:new Map();a.set(b,d);for(a=c,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(c>=a.length)break;e=a[c++]}else{c=a.next();if(c.done)break;e=c.value}e=e;(e.type==="css"||e.type==="js")&&d.set(e.src,e)}}function r(a,b,d,e){d=p(d,a,b);a={};for(var b=e,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var i=k,j=Array.isArray(i),l=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n;if(j){if(l>=i.length)break;n=i[l++]}else{l=i.next();if(l.done)break;n=l.value}n=n;var o="downloaded_"+g+"_"+n;for(var q=0;q<h.length;q++){var r,s=h[q];a[o+"_"+s]=(r=(r=d.get(o))==null?void 0:r[s])!=null?r:0}if(c("gkx")("23413")){a[o+"_urls"]=Array.from((r=(s=d.get(o))==null?void 0:s.urls)!=null?r:[]).map(m)}q="inline_"+g+"_"+n;a[q+"_decodedBodySize"]=(s=(o=d.get(q))==null?void 0:o.decodedBodySize)!=null?s:0}}return a}function s(a,b,d,e){var f;if(((f=a.annotations["int"])==null?void 0:f.hasExtraResourceMetadata)!==1)return;var g=p(b,a.start,(f=a.completed)!=null?f:a.start);[].concat(k,e).forEach(function(b){var e=g.get("downloaded_"+b);for(var f=0;f<h.length;f++){var i=h[f];c("InteractionTracingMetrics").addMetadata(a.traceId,d+"_downloaded_"+b+"_"+i,(i=e==null?void 0:e[i])!=null?i:0)}i=g.get("inline_"+b);c("InteractionTracingMetrics").addMetadata(a.traceId,d+"_inline_"+b+"_decodedBodySize",(f=i==null?void 0:i.decodedBodySize)!=null?f:0)})}function t(a){var b=new Map();a.heroRelay.forEach(function(e){var f=e.pageletStack;e=e.queries;for(var e=e,g=Array.isArray(e),h=0,e=g?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;var k=i.hasteResponseLogEvents;for(var k=k,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var n,o;if(l){if(m>=k.length)break;o=k[m++]}else{m=k.next();if(m.done)break;o=m.value}o=o;var p=o.startTime-c("performanceNavigationStart")(),s=o.logTime-c("performanceNavigationStart")();if(s<a.start||p>((n=a.completed)!=null?n:Infinity))return;n=d("BootloaderEvents").flattenResourceMapSet(o.rsrcs);o=new Map();q(b,"untiered",n.values());q(o,"untiered",n.values());n=r(p,s,o,j);c("InteractionTracingMetrics").addSubspan(a.traceId,"Relay3D: "+i.name,"HeroTracing",Math.max(a.start,p),Math.min((o=a.completed)!=null?o:Infinity,s),babelHelpers["extends"]({},{pagelet:f[f.length-1],pageletStack:f,spanType:"Relay3D"},n,{full_duration:(s-p)/1e3,is_preloaded:i.isPreloaded===!0}))}}});s(a,b,"relay3d",j)}function u(a){var b;b=Array.from(new Set((b=[]).concat.apply(b,a.heroBootloads.map(function(a){return a.moduleIDs}))));var e=new Map(),f=new Map();b.forEach(function(a){var b=l.get(a);b&&f.set(a,b)});for(var b=f.values(),g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(h>=b.length)break;j=b[h++]}else{h=b.next();if(h.done)break;j=h.value}j=j;q(e,"t1",d("BootloaderEvents").flattenResourceMapSet(j.tierOne).values());q(e,"t2",d("BootloaderEvents").flattenResourceMapSet(j.tierTwo).values());q(e,"t3",d("BootloaderEvents").flattenResourceMapSet(j.tierThree).values())}s(a,e,"bootload",i);a.heroBootloads.forEach(function(b){var c=b.moduleIDs;b=b.pageletStack;c=new Set(c.map(function(a){return l.get(a)}).filter(Boolean));v(a,c,b,"Bootload")});if(c("gkx")("23414")){var k=a.heroBootloads.map(function(a){a=a.moduleIDs;return a}).flat();j=c("filterMap")(l,function(a,b){return!k.includes(b)});v(a,j,[],"BootloadOutside")}}function v(a,b,e,f){b.forEach(function(b){if(b.callbackEnd-c("performanceNavigationStart")()<a.start)return;var g=new Map();q(g,"t1",d("BootloaderEvents").flattenResourceMapSet(b.tierOne).values());q(g,"t2",d("BootloaderEvents").flattenResourceMapSet(b.tierTwo).values());q(g,"t3",d("BootloaderEvents").flattenResourceMapSet(b.tierThree).values());g=r(b.startTime-c("performanceNavigationStart")(),b.callbackEnd-c("performanceNavigationStart")(),g,i);var h=f+": "+b.components.join(),j=f==="Bootload"?"HeroTracing":"BootloadOutside";c("InteractionTracingMetrics").addSubspan(a.traceId,h,j,Math.max(a.start,b.startTime-c("performanceNavigationStart")()),Math.min((h=a.completed)!=null?h:Infinity,b.callbackStart-c("performanceNavigationStart")()),babelHelpers["extends"]({},{bootloadComponents:b.components,bootloadRef:b.ref,pagelet:e[e.length-1],pageletStack:e,spanType:f},g))})}function a(a){d("ResourceTimingStore").init(),u(a),t(a)}g.addStaticResourcesStats=a}),98);
__d("WebLoomBanzaiTransport",["Banzai"],(function(a,b,c,d,e,f,g){"use strict";a={post:function(a,b){c("Banzai").post("loom_trace",a,{callback:b.onComplete,delay:b.isHighPri?c("Banzai").VITAL_WAIT:c("Banzai").BASIC_WAIT})},flush:function(a,b){c("Banzai").flush(a,b)}};b=a;g["default"]=b}),98);
__d("WebLoomStaticResourceFileTypes",[],(function(a,b,c,d,e,f){"use strict";var g={js:"js",css:"css",wasm:"wasm",woff:"woff",woff2:"woff2",otf:"otf",eot:"eot",ttf:"ttf"};function a(a){return Object.prototype.hasOwnProperty.call(g,a)}f.WebLoomStaticResourceFileTypes=g;f.isStaticResourceFileType=a}),66);
__d("sanitizeURIStringForLoom",["WebLoomStaticResourceFileTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=0,j=/(\d{4,})/gm,k=/([a-f0-9]{8,})/gm;function l(a){a=a.replace(j,"{N}");return a.replace(k,"{N}")}function m(a){a=a.getPath();var b=a.lastIndexOf(".");return b===-1?"":a.substring(b+1)}function n(){return i++}function o(a){if(a.getProtocol()!=="http"&&a.getProtocol()!=="https")return!1;var b=Number(a.getPort());if(!!b&&b!==80&&b!==443)return!1;return a.isSubdomainOfDomain("fbcdn.net")?!0:!1}function p(a,b){b=new b.URI(a);a=m(b);b.setQueryString("");b.setFragment("");if(a===""||a==="php"||a==="ico"){var c=l(b.getPath());c!==b.getPath()&&b.setPath(c+"/sanitized-"+n())}else d("WebLoomStaticResourceFileTypes").isStaticResourceFileType(a)||b.setPath("/sanitized"+(o(b)?"-cdn":"")+"-"+n()+"."+a);return b.toString()}function a(a,b){if(b.isBrowser("IE"))return"";h.has(a)||h.set(a,p(a,b));return h.get(a)||""}g["default"]=a}),98);
__d("InteractionTracingLoomProvider",["interaction-tracing-metrics","sanitizeURIStringForLoom"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.substr(0,7)==="http://"||a.substr(0,8)==="https://"?!0:!1}var i=function(){var b=a.prototype;b.$4=function(a){return this.$3.sanitizeURIs&&h(a)?c("sanitizeURIStringForLoom")(a,this.$2):a};b.$5=function(a,b){var c=this.$1;if(!c)return;c.buffer.addEvent(a,b+this.$3.appStart)};b.$6=function(a,b){var c=this,d=a.subSpans,e=function(e){d[e].forEach(function(d,f){f={blockName:e+"_"+f,blockType:d.type,execUnitName:e,traceId:b,traceType:a.type};c.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},f),d.start);c.$5(babelHelpers["extends"]({blockAnnotations:d.data,type:"INTERACTION_TRACE_END"},f),d.end)})};for(var f in d)e(f)};b.$7=function(a,b){var c=a.payloadResources;for(var d in c){var e=c[d],f=this.$4(d),g={blockName:f,blockType:"PayloadResources",execUnitName:e.initiator,traceId:b,traceType:a.type};this.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},g),e.start);this.$5({blockName:f,execUnitName:e.initiator,pointAnnotations:{},pointName:"requestStart",traceId:b,type:"INTERACTION_TRACE_POINT"},e.requestStart);this.$5(babelHelpers["extends"]({blockAnnotations:{refs:e.refs.join(","),transferSize:e.transferSize,url:this.$4(e.url)},type:"INTERACTION_TRACE_END"},g),e.end)}};b.$8=function(a,b){var c=a.imagePreloaderTimings;for(var d in c){var e=c[d],f=this.$4(d),g={blockName:f,blockType:"ImagePreloaders",execUnitName:e.playloadName,traceId:b,traceType:a.type};this.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},g),e.start);this.$5({blockName:f,execUnitName:e.playloadName,pointAnnotations:{},pointName:"requestStart",traceId:b,type:"INTERACTION_TRACE_POINT"},e.requestStart);this.$5(babelHelpers["extends"]({blockAnnotations:{url:f},type:"INTERACTION_TRACE_END"},g),e.end)}};b.$9=function(a,b){var c=this,d=a.payloadTimings,e=function(e){var f=d[e];if(f.start==null||f.end==null)return{v:void 0};var g={blockName:e,blockType:f.payloadType,execUnitName:e,traceId:b,traceType:a.type};c.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},g),f.start);Object.keys(f.points).forEach(function(a){c.$5({blockName:e,execUnitName:e,pointAnnotations:{},pointName:a,traceId:b,type:"INTERACTION_TRACE_POINT"},f.points[a])});var h=babelHelpers["extends"]({},f.data);for(var i in f.pkgStat){var j=f.pkgStat[i];for(var k in j)h[i+"_"+k]=j[k]}c.$5(babelHelpers["extends"]({blockAnnotations:h,type:"INTERACTION_TRACE_END"},g),f.end)};for(var f in d){var g=e(f);if(typeof g==="object")return g.v}};b.$10=function(a,b){var c=a.markerPoints;for(var d in c){var e=c[d],f=e.timestamp,g=e.type;g={blockName:d,blockType:g,execUnitName:d,traceId:b,traceType:a.type};this.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},g),f);this.$5(babelHelpers["extends"]({blockAnnotations:e.data||{},type:"INTERACTION_TRACE_END"},g),f)}};b.$11=function(a,b){var c=a.requireDeferreds;for(var d in c){var e=c[d],f={blockName:d,blockType:"RequireDeferreds",execUnitName:d,traceId:b,traceType:a.type},g=e.end;if(g==null)continue;this.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},f),e.start);this.$5(babelHelpers["extends"]({blockAnnotations:{alreadyRequired:Boolean(e.alreadyRequired)},type:"INTERACTION_TRACE_END"},f),g)}};b.$12=function(a,b,c,d){for(var e=0;e<d.length;e++){var f={blockName:a+"_"+e,blockType:a,execUnitName:a+"_"+e,traceId:c,traceType:b.type};this.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},f),d[e].start);this.$5(babelHelpers["extends"]({blockAnnotations:{},type:"INTERACTION_TRACE_END"},f),d[e].end)}};b.$13=function(a){var b=this;a.vcStateLog!=null&&a.vcStateLog.forEach(function(c,d){var e=c[0];c=c[1];d={blockName:d,blockType:"VCState",execUnitName:"VCState",traceId:a.traceId,traceType:a.type};b.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},d),e);b.$5(babelHelpers["extends"]({blockAnnotations:{},type:"INTERACTION_TRACE_END"},d),c)})};b.$14=function(a){var b=this;a.factoryTimings.forEach(function(c){var d={blockName:c.name,blockType:"Factories",execUnitName:"Factories",traceId:a.traceId,traceType:a.type};b.$5(babelHelpers["extends"]({type:"INTERACTION_TRACE_START"},d),c.start);b.$5(babelHelpers["extends"]({blockAnnotations:{},type:"INTERACTION_TRACE_END"},d),c.end)})};function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}b.loomTraceWillEnd=function(){var a=this,b=this.$1;if(!b)return;var c=d("interaction-tracing-metrics").InteractionTracingMetricsCore.dump(),e=[];if(b.triggerInfo.type==="INTERACTION"&&b.triggerInfo.interaction_id!=null)e.push(b.triggerInfo.interaction_id);else for(var f in c){var g=c[f];g=g.completed!=null?this.$3.appStart+g.completed:null;(g==null||g>b.startTime)&&e.push(f)}e.forEach(function(b){var d=c[b];a.$6(d,b);a.$10(d,b);a.$11(d,b);a.$7(d,b);a.$8(d,b);a.$9(d,b);a.$12("hidden",d,b,d.hiddenTimings);a.$12("offline",d,b,d.offlineTimings);a.$14(d);a.$13(d)})};return a}();a={getInstance:function(a,b,c){return new i(a,b,c)},isSupported:function(){return!0},loomProviderId:"InteractionTracing"};g["default"]=a}),98);
__d("QPLLoomProvider",["QPLEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){function a(a,b){var c=this;this.$2={};this.$1=b.QuickPerformanceLogger.addListener({onMarkerStart:function(b,e,f){b=(h||(h=d("QPLEvent"))).getMarkerId(b);f>=a.startTime&&a.buffer.addEvent({type:"QPL_START",markerId:b,instanceKey:e},f);c.$2[b]||(c.$2[b]={});c.$2[b][e]=f},onMarkerEnd:function(b,c,e,f){c=(h||(h=d("QPLEvent"))).getMarkerId(c);f>=a.startTime&&a.buffer.addEvent({type:"QPL_END",action:b,markerId:c,instanceKey:e},f)},onMarkerPoint:function(b,c,e,f,g){b=(h||(h=d("QPLEvent"))).getMarkerId(b);if(g>=a.startTime){a.buffer.addEvent({type:"QPL_POINT",markerId:b,instanceKey:c,name:e,data:f==null?void 0:(b=f.string)==null?void 0:b.__key},g)}},onAnnotation:function(b,e,f,g){b=(h||(h=d("QPLEvent"))).getMarkerId(b);var i=c.$2[b];i=i==null?void 0:i[e];i!=null&&i>=a.startTime&&a.buffer.addEvent({type:"QPL_ANNOTATION",markerId:b,instanceKey:e,annotationKey:f,annotationValue:g},i)}})}var b=a.prototype;b.loomTraceWillEnd=function(){this.$1.dispose()};return a}();a={loomProviderId:"QPL",isSupported:function(){return!0},getInstance:function(a,b){return new i(a,b)}};g["default"]=a}),98);
__d("clamp",[],(function(a,b,c,d,e,f){function a(a,b,c){if(a<b)return b;return a>c?c:a}f["default"]=a}),66);
__d("ResourceTimingLoomProvider",["clamp","performanceNowSinceAppStart","sanitizeURIStringForLoom"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b.substring(b.lastIndexOf(".")+1);if(b=="js"||b=="css")return b;else if(a=="img"||b=="png"||b=="jpg"||b=="ico")return"img";else return a}var i=function(){a.isSupported=function(){return window.performance&&window.performance.getEntriesByType&&window.performance.timing&&window.performance.timing.navigationStart};function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.$4=function(a){var b=this,d=a.entry,e=a.resourceName,f=a.resourceId,g=a.resourceType,h=a.startTime,i=a.endTime,j=this.$1;if(j!=null){a=d;j.buffer.addEvent({type:"RESOURCE_TIMING_START",resourceType:g,resourceId:f,resourceName:e,encodedSize:a!=null&&typeof a.encodedBodySize==="number"?a.encodedBodySize:0,decodedSize:a!=null&&typeof a.decodedBodySize==="number"?a.decodedBodySize:0,transferSize:a!=null&&typeof a.transferSize==="number"?a.transferSize:0,responseStatus:a!=null&&typeof a.responseStatus==="number"?a.responseStatus:-1},h);e=function(a,d){d=d+b.$3.appStart;j.buffer.addEvent({type:"RESOURCE_TIMING_POINT",resourceType:g,resourceId:f,pointName:a},c("clamp")(d,h,i))};e("requestStart",d.requestStart);e("responseStart",d.responseStart);j.buffer.addEvent({type:"RESOURCE_TIMING_END",resourceType:g,resourceId:f},i)}};b.$5=function(a){if(this.$3.sanitizeURIs)return c("sanitizeURIStringForLoom")(a,this.$2);var b=a.indexOf("?");return b==-1?a:a.substring(0,b)};b.loomTraceWillEnd=function(){var a=this,b=this.$1;if(b!=null){var d=b.startTime,e=c("performanceNowSinceAppStart")()+this.$3.appStart;window.performance.getEntriesByType("resource").filter(function(b){return b.startTime<b.responseEnd&&b.startTime+a.$3.appStart>=d&&b.responseEnd+a.$3.appStart<=e}).forEach(function(f,c){var d=f.startTime+a.$3.appStart,e=f.responseEnd+a.$3.appStart,g=a.$5(f.name),b=h(f.initiatorType,g);a.$4({entry:f,resourceName:g,resourceId:c,resourceType:b,startTime:d,endTime:e})});b=window.performance.getEntriesByType("navigation")[0];b=typeof PerformanceNavigationTiming!=="undefined"&&b instanceof PerformanceNavigationTiming?b:null;if(b!=null&&(b.responseEnd===0||b.responseEnd+this.$3.appStart>=d)){var f="document",g=-1,i=d>this.$3.appStart?d:this.$3.appStart,j=b.responseEnd===0?e:b.responseEnd+this.$3.appStart;this.$4({entry:b,resourceName:this.$5(location.href),resourceId:g,resourceType:f,startTime:i,endTime:j})}}this.$1=null};return a}();a={loomProviderId:"ResourceTiming",isSupported:function(){return i.isSupported()},getInstance:function(a,b,c){return new i(a,b,c)}};g["default"]=a}),98);
__d("VisualCompletionLoomProvider",["vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){a.isSupported=function(){return!0};function a(a,b,d){var e=this;this.$3=function(a){var b=e.$1;if(b!=null&&a!=null&&a.startTime+e.$2.appStart>=b.startTime){var c=new Map();a.elements.forEach(function(a){var b;c.set(a.timestamp,((b=c.get(a.timestamp))!=null?b:0)+a.pixels)});Array.from(c.entries()).sort(function(a,b){return a[0]-b[0]}).reduce(function(c,d){var f=d[0];d=d[1];c=c+d;b.buffer.addEvent({progress:c/a.paintedPixels,type:"VISUAL_COMPLETION_PROGRESS"},f+e.$2.appStart);return c},0);e.$4(b,a,a.elements.filter(function(a){return a.parent==null}),0)}};this.$1=a;c("vc-tracker").VisualCompletionTraceObserver.subscribe(this.$3);this.$2=d}var b=a.prototype;b.$4=function(a,b,c,d,e){var f=this;e===void 0&&(e=null);c.slice().sort(function(a,b){return a.timestamp-b.timestamp}).forEach(function(c){var g=c.rectangle,h=c.type==="component"||e==null?c.timestamp:Math.max(c.timestamp,e.timestamp);a.buffer.addEvent({depth:d,elementType:c.type,height:Math.floor(g.bottom-g.top),mutationType:c.mutationType,lateMutationType:c.hadLateMutationUnexpected?"unexpected":c.hadLateMutationExpected?"expected":void 0,type:"VISUAL_COMPLETION_RECT",width:Math.floor(g.right-g.left),x:Math.floor(g.left),y:Math.floor(g.top)},h+f.$2.appStart);c.children.length&&f.$4(a,b,c.children,d+1,c)})};b.loomTraceWillEnd=function(){c("vc-tracker").VisualCompletionTraceObserver.unsubscribe(this.$3),this.$1=null};return a}();a={getInstance:function(a,b,c){return new h(a,b,c)},isSupported:function(){return h.isSupported()},loomProviderId:"VisualCompletion"};g["default"]=a}),98);
__d("WebLoomEventBuffer",["performanceNowSinceAppStart"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[]}var b=a.prototype;b.addEvent=function(a,b){this.$1.push({event:a,timestamp:(a=b)!=null?a:c("performanceNowSinceAppStart")()})};b.flushEvents=function(){return this.$1};return a}();g.WebLoomEventBuffer=a}),98);
__d("WebLoomSampling",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){b=b==="QPL"?a.samplingConfig.adaptive_config.qpl:a.samplingConfig.adaptive_config.interactions;a=d!=null?c+"."+d:""+c;d=b.events[a];if(d!=null)return d;d=(a=b.modules[c>>16&65535])!=null?a:0;return d}f.getSampleRate=a}),66);
__d("WebLoomSerializer",[],(function(a,b,c,d,e,f){"use strict";function g(){return!window.Uint8Array||!window.btoa?!1:!0}function a(a,b,c,d){c=c.flushEvents();if(!g())return null;var e=b.start_time_us,f=b.end_time_us,h=e/1e3,i=f/1e3;if(d!=null){var j=h-d.stats.timeOrigin,k=i-d.stats.timeOrigin;d.trace.samples=d.trace.samples.filter(function(a){return a.timestamp>=j&&a.timestamp<=k})}var l=JSON.stringify(b)+"\n{}\n"+JSON.stringify(d||null).replace(/[^\x00-\x7F]/g,"")+"\n",m=0;c.forEach(function(a){var b=Math.round(a.timestamp*1e3);if(b<e||b>f)return;var c=b-m;m=b;b=a.event;a=[c,b.type];switch(b.type){case"QPL_ANNOTATION":a.push(b.markerId);a.push(b.instanceKey);a.push(b.annotationKey);a.push(b.annotationValue);break;case"QPL_START":a.push(b.markerId);a.push(b.instanceKey);break;case"QPL_END":a.push(b.markerId);a.push(b.instanceKey);a.push(b.action);break;case"QPL_POINT":a.push(b.markerId);a.push(b.instanceKey);a.push(b.name);b.data!=null&&a.push(b.data);break;case"RESOURCE_TIMING_START":a.push(b.resourceType);a.push(b.resourceId);a.push(b.resourceName);a.push(b.encodedSize);a.push(b.decodedSize);a.push(b.transferSize);a.push(b.responseStatus);break;case"RESOURCE_TIMING_END":a.push(b.resourceType);a.push(b.resourceId);break;case"RESOURCE_TIMING_POINT":a.push(b.resourceType);a.push(b.resourceId);a.push(b.pointName);break;case"INTERACTION_TRACE_START":a.push(b.traceId);a.push(b.execUnitName);a.push(b.blockName);a.push(b.blockType);a.push(b.traceType);break;case"INTERACTION_TRACE_END":a.push(b.traceId);a.push(b.execUnitName);a.push(b.blockName);a.push(b.blockType);a.push(b.traceType);a.push(b.blockAnnotations);break;case"INTERACTION_TRACE_POINT":a.push(b.traceId);a.push(b.execUnitName);a.push(b.blockName);a.push(b.pointName);a.push(b.pointAnnotations);break;case"VISUAL_COMPLETION_RECT":a.push(b.elementType);a.push(b.depth);a.push(b.x);a.push(b.y);a.push(b.width);a.push(b.height);a.push(b.mutationType);a.push(b.lateMutationType);break;case"VISUAL_COMPLETION_PROGRESS":a.push(b.progress);break;case"JS_SCHEDULER_QUEUE":a.push(b.priority);a.push(b.queueSize);break}l+=JSON.stringify(a)+"\n"});return a.compressStringToSnappy(l)}f.isSupported=g;f.serialize=a}),66);
__d("WebLoomCore",["InteractionTracingLoomProvider","Promise","QPLEvent","QPLLoomProvider","ResourceTimingLoomProvider","VisualCompletionLoomProvider","WebLoomEventBuffer","WebLoomSampling","WebLoomSerializer","addAnnotations","fb-error","mapObject","one-trace","performanceNowSinceAppStart","recoverableViolation","regeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new Set(["InteractionTracing"]);a=function(){function a(a,b){var e=this;this.$1=a;this.$2=b;this.$7=[c("InteractionTracingLoomProvider"),c("VisualCompletionLoomProvider"),c("ResourceTimingLoomProvider"),c("QPLLoomProvider")];this.$5=new Set(this.$7.map(function(a){return a.loomProviderId}));this.$6=new Set(this.$7.map(function(a){return a.loomProviderId}));this.$3=new Map();this.$4=new Map();this.$8=d("WebLoomSerializer").isSupported();this.$9=!1;this.$10=(b=a.debugLogToConsole)!=null?b:!1;this.$11=1;this.$12=new Map();this.$13=c("uuidv4")();this.$14=1;this.addStatusListener(function(a,b){e.$10&&e.$16("[Web Loom] trace",b,{interactionId:a.triggerId,traceReferenceId:e.$17(a),qplMarkerId:a.triggerInfo.qpl_marker_id,tracePolicy:a.triggerInfo.trace_policy})})}var e=a.prototype;e.setDebugLogToConsole=function(a){this.$10=a};e.getNextSequenceNumber=function(){var a=this.$14;this.$14++;return a};e.getSessionId=function(){return this.$13};e.getActiveTraces=function(){return this.$3};e.addProvider=function(a,b){b===void 0&&(b=!0),this.$6.has(a.loomProviderId)||(this.$7.push(a),this.$6.add(a.loomProviderId)),b&&!this.$5.has(a.loomProviderId)&&this.$5.add(a.loomProviderId)};e.addStatusListener=function(a){var b=this,c=this.$11++;this.$12.set(c,a);return{dispose:function(){b.$12["delete"](c)}}};e.maybeStartTraceForInteraction=function(a,b,c,e,f){c=(j||(j=d("QPLEvent"))).getMarkerId(c);var g=d("WebLoomSampling").getSampleRate(this.$1,"INTERACTION",c,e),h=this.$2.Random.coinflip(g);this.$10&&this.$16("[Web Loom] maybeStartTraceForInteraction",{interactionId:a,markerId:c,tracePolicy:e,sampleRate:g,passedSamplingCheck:h});if(!h)return null;h=f+this.$1.appStart;f={interaction_class:b,interaction_id:a,qpl_marker_id:""+c,sample_rate:g,trace_policy:e,type:"INTERACTION"};return this.startTrace(a,f,h,this.$1.useLiteTracing?k:void 0)};e.startTraceManually=function(a,b,c,e,f,g){b=(j||(j=d("QPLEvent"))).getMarkerId(b);c=c+this.$1.appStart;b={interaction_id:a,qpl_marker_id:""+b,sample_rate:e,type:"INTERACTION"};g!=null&&(b.interaction_class=g);f!=null&&(b.trace_policy=f);return this.startTrace(a,b,c,this.$1.useLiteTracing?k:void 0)};e.endTraceForInteraction=function(a,b,d){var e=a.traceId,f=babelHelpers["extends"]({},null);for(var g in a.annotations)for(var h in a.annotations[g])f[h]=a.annotations[g][h];f.qpl_action=b;h=(i||(i=c("mapObject")))(a.tagSet,function(a){return Array.from(a)});g=a.completed;b=(b=a.markerPoints.visuallyComplete)==null?void 0:b.timestamp;a=(a=a.markerPoints.logVC)==null?void 0:a.timestamp;a=Math.max((g=g)!=null?g:0,(g=b)!=null?g:0,(b=a)!=null?b:0,(g=d)!=null?g:0);b=a>0?a:c("performanceNowSinceAppStart")();d=b+this.$1.appStart;return this.endTrace(e,d,f,h)};e.startTrace=function(a,b,e,f){var g=this;f===void 0&&(f=this.$5);if(!this.$8)return null;if(this.$3.has(a)){c("recoverableViolation")("Already running trace for triggerId: "+a,"web_loom");return null}var h=this.$14++,i={buffer:new(d("WebLoomEventBuffer").WebLoomEventBuffer)(),triggerId:a,triggerInfo:b,startTime:e,sequenceNumber:h},j=new Set(),k=[];this.$7.forEach(function(a){f.has(a.loomProviderId)&&a.isSupported()&&(k.push(a.getInstance(i,g.$2,g.$1)),j.add(a.loomProviderId))});var l="STARTED";this.$3.set(a,{traceContext:i,providerInstances:k,status:l,startURI:window.location.href});this.$12.forEach(function(a){return a(i,l)});var m=this.$17(i);c("one-trace")&&(this.$15=c("one-trace").subscribe("trace-start",function(a){(a.traceType==="LONGTASK"||a.traceType==="INP")&&c("addAnnotations")(a.annotations,{string:{loomRefId:m},string_array:{loomProviders:Array.from(j)}})}));return{traceReferenceId:m,loomProviders:j}};e.$17=function(a){return this.$13+"_"+a.sequenceNumber};e.endTrace=function(a,e,f,g){var i=this,j,k,l,m,n,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:j=this.$3.get(a);if(j){s.next=4;break}c("recoverableViolation")("No trace running for triggerId: "+a,"web_loom");return s.abrupt("return",!1);case 4:k=j.traceContext.sequenceNumber;this.$3["delete"](a);this.$4.set(k,j);this.$18(j,"END_PENDING");l=[];j.providerInstances.forEach(function(a){a=a.loomTraceWillEnd();a&&l.push(a)});this.$15&&this.$15();m=window.location.href;s.prev=12;s.next=15;return b("regeneratorRuntime").awrap((h||(h=b("Promise"))).all(l));case 15:n=this.$1.perfXData;o=j.traceContext.triggerInfo;p={app_id:this.$1.appId,start_time_us:Math.round(j.traceContext.startTime*1e3),end_time_us:Math.round(e*1e3),trigger_id:j.traceContext.triggerId,trigger_info:o,trigger_metadata:f,trigger_metadata_sets:g,client_push_phase:n.client_push_phase,device_num_cores:n.num_cores!=null?Math.floor(n.num_cores):null,device_ram_bytes:n.ram_gb!=null?n.ram_gb*1073741824:null,is_rtl:n.isRTL,locale:n.locale,network_effective_connection_type:n.effective_connection_type,network_downlink_bps:n.downlink_megabits!=null&&n.downlink_megabits*1e6<1e20?n.downlink_megabits*1e6:null,network_rtt_ms:n.rtt_ms,client_rev:this.$1.clientRev,server_rev:this.$1.serverRev,spin_mode:this.$1.spinMode,start_uri:j.startURI,end_uri:m};q=d("WebLoomSerializer").serialize(this.$2,p,j.traceContext.buffer,j.traceContext.jsSelfProfilerData);q!=null?(r={trace:q,session_id:this.$13,sequence_number:j.traceContext.sequenceNumber,qpl_marker_id:o.qpl_marker_id,trace_policy:o.trace_policy,sample_rate:o.sample_rate},this.$2.Transport.post(r,{onComplete:function(){i.$18(j,"COMPLETE"),i.$4["delete"](k)},isHighPri:this.$9}),this.$18(j,"UPLOAD_PENDING")):(this.$18(j,"COMPLETE"),this.$4["delete"](k),c("fb-error").FBLogger("webloom").warn("[Loom Trace]Failed to serialize trace, trace will be dropped. QPL marker id: %s",o.qpl_marker_id));s.next=26;break;case 22:s.prev=22,s.t0=s["catch"](12),this.$18(j,"ERROR"),this.$4["delete"](k);case 26:return s.abrupt("return",!0);case 27:case"end":return s.stop()}},null,this,[[12,22]])};e.flush=function(a){var b=this,c=new Set(),d=new Set();this.$4.forEach(function(a){a.status==="END_PENDING"?c.add(a.traceContext.sequenceNumber):a.status==="UPLOAD_PENDING"&&d.add(a.traceContext.sequenceNumber)});if(c.size>0)var e=this.addStatusListener(function(d){c["delete"](d.sequenceNumber),c.size===0&&(b.$2.Transport.flush(a,a),e.dispose())});else d.size>0?this.$2.Transport.flush(a,a):a&&a()};e.setIsDevToolsConnected=function(a){this.$9=a};e.$18=function(a,b){a.status=b,this.$12.forEach(function(b){return b(a.traceContext,a.status)})};e.$16=function(){var a=typeof console!=="undefined"?console:null;a&&a.log.apply(a,arguments)};return a}();g["default"]=a}),98);
__d("web-loom",["WebLoomCore"],(function(a,b,c,d,e,f,g){"use strict";g.WebLoomCore=c("WebLoomCore")}),98);
__d("WebLoom",["CurrentUser","Env","PerfXSharedFields","QuickPerformanceLogger","Random","SiteData","SnappyCompressUtil","URI","UserAgent","WebLoomBanzaiTransport","WebLoomConfig","cr:1094133","cr:955714","gkx","performanceNavigationStart","web-loom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;a={QuickPerformanceLogger:h||c("QuickPerformanceLogger"),Random:c("Random"),Transport:c("WebLoomBanzaiTransport"),URI:i||(i=c("URI")),isBrowser:c("UserAgent").isBrowser,compressStringToSnappy:c("SnappyCompressUtil").compressStringToSnappy};e={appStart:c("performanceNavigationStart")(),appId:c("CurrentUser").getAppID(),sanitizeURIs:c("gkx")("20864"),samplingConfig:c("WebLoomConfig"),clientRev:c("SiteData").client_revision,serverRev:c("SiteData").server_revision,spinMode:c("SiteData").spin,useLiteTracing:c("gkx")("20865"),perfXData:c("PerfXSharedFields").getCommonData(),debugLogToConsole:c("gkx")("7170")};f=new(d("web-loom").WebLoomCore)(e,a);b("cr:1094133")&&f.addProvider(b("cr:1094133"));b("cr:955714")&&(j||(j=c("Env"))).jssp_header_sent&&f.addProvider(b("cr:955714"));d=f;g["default"]=d}),98);
__d("getReactComponentStackFromDOMElement_THIS_CAN_BREAK",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=Object.keys(a).find(function(a){return a.startsWith("__reactFiber$")});return b==null?null:a[b]}function h(a){var b;b=(b=a.displayName)!=null?b:a.name;if(b==null)return null;a=b.match(/.*\[from (.*)\.react\]/);return a&&a[1]||b}function a(a){try{var b=[];a=g(a);while(a){var c=a.type;if(c==null||typeof c==="string"){a=a["return"];continue}var d=h(c);d==null&&c.render!=null&&(d=h(c.render));d!=null&&d!==""&&b.push(d);a=a["return"]}return b}catch(a){return null}}f["default"]=a}),66);
__d("FBInteractionTracingDependencies",["HeroBootloadPerfStore","QuickPerformanceLogger","WebLoom","cr:3976","getReactComponentStackFromDOMElement_THIS_CAN_BREAK","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getReactComponentStackFromDOMElement:c("getReactComponentStackFromDOMElement_THIS_CAN_BREAK"),HeroBootloadPerfStore:{addStaticResourcesStats:d("HeroBootloadPerfStore").addStaticResourcesStats},QuickPerformanceLogger:h||(h=c("QuickPerformanceLogger")),UserTimingUtils:b("cr:3976"),VCTracker:c("vc-tracker"),WebLoom:c("WebLoom")};g["default"]=a}),98);
__d("FDSTooltipGroup.react",["BaseTooltipGroup.react","CometTooltipImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(d("BaseTooltipGroup.react").Container,{tooltipImpl:c("CometTooltipImpl.react"),children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("FocusWithinHandlerNonStrictMode_DEPRECATED.react",["ReactFocusEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.useRef,l=b.useState,m=i.unstable_Scope;function a(a){var b,c=a.children,e=a.onBlurWithin,f=a.onFocusChange,g=a.onFocusVisibleChange,h=a.onFocusWithin;a=a.testOnly;var n=k(null);b=l((b=a&&a.focus)!=null?b:!1);var o=b[0],p=b[1];a=l((b=a&&a.focusVisible)!=null?b:!1);b=a[0];var q=a[1];a=d("ReactFocusEvent.react").useFocusWithin(n,j(function(){return{onFocusWithin:function(a){h&&!o&&h(a)},onBlurWithin:function(a){e&&o&&e(a)},onFocusWithinChange:f?function(a){p(a),f(a)}:p,onFocusWithinVisibleChange:g?function(a){q(a),g(a)}:q}},[o,e,f,g,h]));return i.jsx(m,{ref:a,children:typeof c==="function"?c(o,b):c})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FocusWithinHandlerStrictMode.react",["ReactFocusEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react"));b=h;var j=b.useInsertionEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=i.unstable_Scope;function a(a){var b,c=a.children,e=a.onBlurWithin,f=a.onFocusChange,g=a.onFocusVisibleChange,h=a.onFocusWithin;a=a.testOnly;var o=l(null);b=m((b=a&&a.focus)!=null?b:!1);var p=b[0],q=b[1];a=m((b=a&&a.focusVisible)!=null?b:!1);b=a[0];var r=a[1],s=d("ReactFocusEvent.react").useFocusWithinStrictMode(k(function(){return{onFocusWithin:function(a){h&&!p&&h(a)},onBlurWithin:function(a){e&&p&&e(a)},onFocusWithinChange:f?function(a){q(a),f(a)}:q,onFocusWithinVisibleChange:g?function(a){r(a),g(a)}:r}},[p,e,f,g,h]));j(function(){s(o.current);return function(){s(null)}},[o,s]);return i.jsx(n,{ref:o,children:typeof c==="function"?c(p,b):c})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("JSSPTraceBaseTransformer",["FBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var d=a.prototype;d.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){c("FBLogger")("JSSelfProfiler").warn("JSSP base transformer should be overridden.");return a});function d(b,c,d){return a.apply(this,arguments)}return d}();d.onProfilerAborts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("JSSPBrsidMarker",["Env","JSSPTraceBaseTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}var e=d.prototype;e.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,d;b=(b=(h||(h=c("Env"))).brsid)!=null?b:0;a.metadata=(d=a.metadata)!=null?d:{};a.metadata.brsid=""+b;return a});function d(b){return a.apply(this,arguments)}return d}();return d}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPSetting",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("2033");b=3e4;d=50;g.isCollectingINP=a;g.slowProfilerSpan=b;g.maxConcurrentProfilerInstance=d}),98);
__d("JSSelfProfilerProbe",["Env"],(function(a,b,c,d,e,f,g){var h;function i(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function j(){if(typeof Profiler!=="function")return!1;return typeof Profiler.toString!=="function"?!1:i(Profiler.toString()).endsWith("{ [native code] }")}function a(){if(!j())return!1;if((h||(h=c("Env"))).jssp_header_sent!==!0)return!1;try{var a=new Profiler({sampleInterval:1e3,maxBufferSize:10});void a.stop()}catch(a){return!1}return!0}function k(){var a=window.PerformanceObserver;if(a==null)return[];a=a.supportedEntryTypes;return(a=a)!=null?a:[]}function b(){return k().includes("longtask")}function d(){return k().includes("event")}e={isJSSPAvailable:a(),isLongtaskAvailable:b(),isINPAvailable:d()};f=e;g["default"]=f}),98);
__d("JSSPMarker",[],(function(a,b,c,d,e,f){"use strict";a=new Set(["longtask","jest-e2e","simplified"]);f.predefinedMarkers=a}),66);
__d("JSSelfProfilerUtils",["CurrentUser","FBLogger","JSSPMarker","JSScheduler","JSSelfProfilerConfig","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=":",k=null;function l(){if(k==null){var a;k=(a=c("JSSelfProfilerConfig").PROFILER_CONFIG)!=null?a:[]}return k}var m=null;function n(){if(m==null){var a;m=(a=l().find(function(a){return a.app_id==="default"}))!=null?a:{app_id:"default",sample_interval:10,max_buffer_size:3e3,sample_rate:0,disable_when_has_referrer:!1}}return m}function a(){var a,b=c("CurrentUser").getAppID();a=(a=l().find(function(a){return a.app_id===b}))!=null?a:n();return{sampleInterval:a.sample_interval,maxBufferSize:a.max_buffer_size}}function o(a,b){if(b==="")return a;if(a==null||a==="")return b;if(b.includes(j)){c("FBLogger")("JSSelfProfiler").warn("addJSSPSampleMarker: marker %s contains %s the marker split character",b,j);return a}a=new Set(a.split(j));a.add(b);return Array.from(a).sort().join(j)}function e(a,b){b=o(a.marker,b);b!=null&&(a.marker=b)}function f(a,b,c){var d;a.metadata==null&&(a.metadata={});a=a.metadata;a.jsspAnnotations=(d=a.jsspAnnotations)!=null?d:"{}";d=JSON.parse(a.jsspAnnotations);d[b]=c;a.jsspAnnotations=JSON.stringify(d,null,0)}function p(a,b){var c;a.metadata==null&&(a.metadata={});a=a.metadata;a.jsspAnnotations=(c=a.jsspAnnotations)!=null?c:"{}";var d=JSON.parse(a.jsspAnnotations);b.forEach(function(a,b){d[b]=a});a.jsspAnnotations=JSON.stringify(d,null,0)}function q(a,b){if(b==="")return;if(d("JSSPMarker").predefinedMarkers.has(b)){c("FBLogger")("JSSelfProfiler").warn("addDynamicMarkerToSample: fixed marker %s is used as dynamic marker",b);return}b=o(a.marker,b);b!=null&&(a.marker=b)}function r(a,b){b=b.frames[a.frameId];return b==null?void 0:b.name}function s(a){var b=new Map();try{for(var d=0;d<a.samples.length;d++){var e=new Set(),f=a.samples[d];f=f.stackId;while(f!=null&&!e.has(f))e.add(f),f=a.stacks[f].parentId;b.set(d,e.size)}}catch(a){c("FBLogger")("JSSelfProfiler").warn("getSampleIdToDepthsMap throws %s",a.message)}return b}function t(a){var b=new Map();try{for(var d=0;d<a.samples.length;d++){var e=new Set();b.set(d,e);var f=a.samples[d];f=f.stackId;while(f!=null&&!e.has(f))e.add(f),f=a.stacks[f].parentId}}catch(a){c("FBLogger")("JSSelfProfiler").warn("getSampleIdToStackIdsMap throws %s",a.message)}return b}function u(a){var b=new Map();try{for(var d=0;d<a.samples.length;d++){var e=new Set(),f=a.samples[d];f=f.stackId;while(f!=null&&!e.has(f))e.add(f),b.set(f,d),f=a.stacks[f].parentId}}catch(a){c("FBLogger")("JSSelfProfiler").warn("getStackIdToSampleIdMap throws %s",a.message)}return b}function v(a,b){for(b of b)a.add(b);return a}function w(a){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return yield new(i||(i=b("Promise")))(function(b){(h||(h=d("JSScheduler"))).scheduleNormalPriCallback(function(){b(a())})})});return x.apply(this,arguments)}function y(a,b){a=new Set(a);for(b of b)a.add(b);return Array.from(a)}g.getProfilerInitConfig=a;g.addMarkerToSample=e;g.addAnnotationToTrace=f;g.addAnnotationsToTrace=p;g.addDynamicMarkerToSample=q;g.getStackFrameName=r;g.getSampleIdToDepthsMap=s;g.getSampleIdToStackIdsMap=t;g.getStackIdToSampleIdMap=u;g.mergeSets=v;g.nextEventLoop=w;g.mergeList=y}),98);
__d("JSSelfProfiler",["CurrentUser","FBLogger","JSSPConfigInit","JSSPSetting","JSSelfProfilerConfig","JSSelfProfilerProbe","JSSelfProfilerUtils","asyncToGeneratorRuntime","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LogJsspStatsFalcoEvent").__setRef("JSSelfProfiler");a=function(){function a(b,d,e){this.$1=b;this.$8=(b=e)!=null?b:c("uuidv4")();this.$5=d;this.$4=!1;this.$9=[];a.defaultTransformerRegistered===!1&&(c("JSSPConfigInit").run(),a.defaultTransformerRegistered=!0)}a.registerDataCollector=function(b,c,d){d===void 0&&(d=!1);c=(c=c)!=null?c:b.constructor.name;(!a.traceDataCollectors.has(c)||d)&&a.traceDataCollectors.set(c,b)};a.registerTraceTransformer=function(b,c,d){d===void 0&&(d=!1);c=(c=c)!=null?c:b.constructor.name;(!a.traceTransformers.has(c)||d)&&a.traceTransformers.set(c,b)};a.shouldProfile=function(a){if(c("JSSelfProfilerConfig").ENABLE_FELAB_INTERACTION_FILTERING&&a!=null&&window.__felab_context){var b=window.__felab_context,d=b.qplMarkerIds||[];return Array.isArray(b.qplMarkerIds)&&d.includes(a)}return!0};a.startRecording=function(b,e,f){f===void 0&&(f=null);if(!a.isSupported()){var g=new Error("JS Self Profiling is not supported");g.stack;throw g}if(!a.shouldProfile((g=f)==null?void 0:(g=g.triggerInfo)==null?void 0:g.qpl_marker_id))return null;if(a.instanceCount>d("JSSPSetting").maxConcurrentProfilerInstance)return null;g=performance.now();var h=c("uuidv4")();this.traceDataCollectors.forEach(function(a){return a.onProfilerStarts(h,(a=f)==null?void 0:a.annotations)});return this.createProfiler(g,b,e,h,f)};a.createProfiler=function(b,d,e,f,g){g===void 0&&(g=null);try{e=new Profiler({sampleInterval:d,maxBufferSize:e});b=performance.now()-b;e=new a(e,d,f);e.setStartUpTime(b);e.setTriggerInfo((d=g)==null?void 0:d.triggerInfo);++a.instanceCount;return e}catch(a){c("FBLogger")("JSSelfProfiler").catching(a).warn("Could not initialize profiler")}return null};var e=a.prototype;e.abort=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=this;if(this.$4)return;var c=performance.now();yield this.$1.stop();this.$3=performance.now()-c;this.$6=null;this.$4=!0;--a.instanceCount;c=function*(a){yield yield d("JSSelfProfilerUtils").nextEventLoop(function(){return a.onProfilerAborts(b.$8,b)})};for(var e of a.traceDataCollectors.values())yield* c(e);c=function*(a){yield yield d("JSSelfProfilerUtils").nextEventLoop(function(){return a.onProfilerAborts(b.$8)})};for(e of a.traceTransformers.values())yield* c(e)});function e(){return c.apply(this,arguments)}return e}();e.stopRecording=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(this.$4){var b=new Error("The profiling has stopped before stopRecording() is called");b.stack;throw b}--a.instanceCount;b=performance.now();var c=(yield this.postProcessTrace(yield this.$1.stop()));this.$3=performance.now()-b;b={trace:c,stats:{timeOrigin:performance.timeOrigin,requestedSampleInterval:this.$5,actualSampleInterval:this.$1.sampleInterval}};this.$6=this.getTraceStats(c);this.$4=!0;return b});function d(){return c.apply(this,arguments)}return d}();e.postProcessTrace=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=this,e=b;if(((b=this.$7)==null?void 0:b.interaction_id)!=null){e.metadata={interactionId:(b=this.$7)==null?void 0:b.interaction_id}}var f={};b=function*(a){f=(yield yield d("JSSelfProfilerUtils").nextEventLoop(function(){return a.onProfilerEnds(c.$8,e,f,c)}))};for(var g of a.traceDataCollectors.values())yield* b(g);b=function*(a){e=(yield yield d("JSSelfProfilerUtils").nextEventLoop(function(){return a.transform(e,c.$8,f)}))};for(g of a.traceTransformers.values())yield* b(g);return e});function e(a){return c.apply(this,arguments)}return e}();e.setStartUpTime=function(a){this.$2=a};e.setTriggerInfo=function(a){this.$7=a};e.setAnnotations=function(a){this.$9=Array.from(new Set([].concat(this.$9,a)))};e.getAnnotations=function(){return[].concat(this.$9)};e.getProfilerID=function(){return this.$8};e.getTraceStats=function(a){var b=JSON.stringify(a).length,c=d("JSSelfProfilerUtils").getSampleIdToDepthsMap(a);return{trace_size:b,sample_size:(b=a.samples.length)!=null?b:0,stack_size:(b=a.stacks.length)!=null?b:0,frame_size:(b=a.frames.length)!=null?b:0,max_stack_depth:Array.from(c.values()).reduce(function(a,b){return Math.max(a,b)})}};e.logStats=function(){var a=this;if(this.$2==null){c("FBLogger")("JSSelfProfiler").warn("JSSP start up time is null/undefined");return}if(this.$3==null){c("FBLogger")("JSSelfProfiler").warn("JSSP shut down time is null/undefined");return}var b=c("CurrentUser").getAppID();h.onReady(function(c){c.log(function(){var c;return babelHelpers["extends"]({app_id:b,boot_up_time:a.$2,shut_down_time:a.$3,trace_policy:(c=a.$7)==null?void 0:c.trace_policy,interaction_id:(c=a.$7)==null?void 0:c.interaction_id,qpl_marker_id:(c=a.$7)==null?void 0:c.qpl_marker_id},a.$6)})})};a.isSupported=function(){return c("JSSelfProfilerProbe").isJSSPAvailable&&c("JSSelfProfilerProbe").isLongtaskAvailable&&performance.timeOrigin!=null};a.setIsHeaderSent=function(){a.isHeaderSent=!0};return a}();a.isHeaderSent=!1;a.defaultTransformerRegistered=!1;a.instanceCount=0;a.traceDataCollectors=new Map();a.traceTransformers=new Map();g["default"]=a}),98);
__d("JSSPDevTraceFilter",["JSSPTraceBaseTransformer","SiteData","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(){return a.apply(this,arguments)||this}var e=d.prototype;e.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.frames.forEach(function(a){a.resourceId!=null&&c("SiteData").push_phase==="dev"&&(a.name="")});return a});function d(b){return a.apply(this,arguments)}return d}();return d}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPEmptySampleFilter",["JSSPTraceBaseTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.samples=a.samples.filter(function(a){return a.stackId!=null});return a});function c(b){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPFELabsMarker",["JSSPTraceBaseTransformer","JSSelfProfilerUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(b=((b=window.__felab_context)!=null?b:{}).annotations)!=null?b:{};Object.entries(b).filter(function(a){a[0];a=a[1];return!["object","function"].includes(typeof a)}).map(function(a){var b=a[0];a=a[1];return[b,String(a)]}).forEach(function(b){var c=b[0];b=b[1];return d("JSSelfProfilerUtils").addAnnotationToTrace(a,c,b)});return a});function c(b){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPIdMarker",["JSSPTraceBaseTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a.metadata=(c=a.metadata)!=null?c:{};a.metadata.jsspId=b;return a});function c(b,c,d){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPInteractToNextPaintMarker",["JSSPTraceBaseTransformer","JSSelfProfilerUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=300;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.getINPDataList=function(a){a=a.INPEntryList;if(a==null)return null;a=a.map(function(a){var b,c=a.processingStart,d=a.processingEnd,e=a.startTime,f=a.endTime,g=c-e;c=d-c;d=f-d;var h=a.eventType;b=(b=a.componentName)!=null?b:"";g={inputDelay:g,processingTime:c,presentationDelay:d,duration:f-e,eventType:h,eventTargetComponent:b};return{INPRecord:a,metadata:g}});return a.sort(function(a,b){return a.INPRecord.startTime-b.INPRecord.startTime})};e.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=this,f=this.getINPDataList(c);if(f==null)return a;a.metadata=babelHelpers["extends"]({},a.metadata,{INPInputDelays:[],INPProcessingTimes:[],INPPresentationDelays:[],INPDurations:[],INPEventTypes:[],INPEventTargetComponentNames:[]});for(b of f){c=a.metadata;var g=b.metadata;c.INPInputDelays.push(g.inputDelay);c.INPProcessingTimes.push(g.processingTime);c.INPPresentationDelays.push(g.presentationDelay);c.INPDurations.push(g.duration);c.INPEventTypes.push(b.metadata.eventType);c.INPEventTargetComponentNames.push(b.metadata.eventTargetComponent)}g=function*(b){yield d("JSSelfProfilerUtils").nextEventLoop(function(){return e.batchProcess(a,b,f)})};for(c=0;c<a.samples.length;c+=h)yield* g(c);return a});function c(b,c,d){return a.apply(this,arguments)}return c}();e.batchProcess=function(a,b,c){var d=Math.min(b+h,a.samples.length);for(b=b;b<d;++b){var e=a.samples[b];for(var f=0;f<c.length;++f){var g=c[f].INPRecord;if(g.startTime<=e.timestamp&&g.endTime>e.timestamp){e.INPId=f;break}}}};return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPTraceBaseDataCollector",["FBLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var d=a.prototype;d.onProfilerStarts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0});function c(b,c){return a.apply(this,arguments)}return c}();d.onProfilerEnds=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d,e){c("FBLogger")("JSSelfProfiler").warn("JSSP base data collector onProfilerEnds should be overridden.");return d});function d(b,c,d,e){return a.apply(this,arguments)}return d}();d.onProfilerAborts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){});function c(b,c){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("JSSPInteractionToNextPaintCollector",["JSSPSetting","JSSPTraceBaseDataCollector","JSSelfProfilerUtils","asyncToGeneratorRuntime","one-trace"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map();a=function(a){babelHelpers.inheritsLoose(e,a);function e(){return a.apply(this,arguments)||this}var f=e.prototype;f.onProfilerStarts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=null),h.set(a,[]),j.set(a,Date.now()),b!=null&&i.set(a,new Set(b))});function c(b,c){return a.apply(this,arguments)}return c}();f.onProfilerEnds=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c.INPEntryList=d("JSSelfProfilerUtils").mergeList((b=c.INPEntryList)!=null?b:[],(b=h.get(a))!=null?b:[]);h["delete"](a);j["delete"](a);i["delete"](a);return c});function c(b,c,d){return a.apply(this,arguments)}return c}();f.onProfilerAborts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){h["delete"](a),j["delete"](a),i["delete"](a)});function c(b){return a.apply(this,arguments)}return c}();e.startINPObserver=function(){c("one-trace").subscribe("trace-end",function(a){if(a.traceType==="INP"){var b;if(a.endTime==null||((b=a.annotations.string)==null?void 0:b.inputEventType)==null)return;var c={startTime:a.startTime,endTime:a.endTime,processingEnd:(b=(b=a.markerPoints.processingEnd)==null?void 0:b.timeSinceStart)!=null?b:a.endTime,processingStart:(b=(b=a.markerPoints.processingStart)==null?void 0:b.timeSinceStart)!=null?b:a.startTime,eventType:(b=a.annotations.string)==null?void 0:b.inputEventType};h.forEach(function(a){a.push(c)})}}),c("one-trace").subscribe("trace-end-before-logging",function(a){if(a.traceType==="INP"){var b=!1;h.forEach(function(e,f){if(b===!0)return;e=i.get(f);var g=j.get(f);if(e!=null&&g!=null){g=Date.now()-g;g=g>d("JSSPSetting").slowProfilerSpan;if(g&&e.has("fast-profiler"))return;if(!g&&e.has("slow-profiler"))return}c("one-trace").addAnnotations(a.annotations,{string:{JSSPId:f}});b=!0})}})};return e}(c("JSSPTraceBaseDataCollector"));d("JSSPSetting").isCollectingINP&&a.startINPObserver();g["default"]=a}),98);
__d("JSSPJestE2EMarker",["JSSPTraceBaseTransformer","JSSelfProfilerUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){typeof window!=="undefined"&&window.$JSSPJestE2EMarker1!=null&&a.samples.forEach(function(a){return d("JSSelfProfilerUtils").addMarkerToSample(a,"jest-e2e")});return a});function c(b){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPLongTaskMarker",["JSSPTraceBaseTransformer","JSSelfProfilerUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=c.performanceEntryList;if(e==null)return a;b=a;a.samples.forEach(function(a){e.forEach(function(b){if(b.entryType!=="longtask")return;var c=b.startTime;b=b.startTime+b.duration;a.timestamp>=c&&a.timestamp<=b&&d("JSSelfProfilerUtils").addMarkerToSample(a,"longtask")})});return b});function c(b,c,d){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPPerformanceEntryCollector",["JSSPTraceBaseDataCollector","JSSelfProfilerProbe","JSSelfProfilerUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=new Map();function a(){if(h!=null||!c("JSSelfProfilerProbe").isLongtaskAvailable)return;h=new window.PerformanceObserver(function(a){a.getEntries().forEach(function(a){i.forEach(function(b){return b.push(a)})})});h.observe({buffered:!0,entryTypes:["longtask"]})}a();e=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var e=c.prototype;e.onProfilerStarts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i.set(a,[])});function c(b){return a.apply(this,arguments)}return c}();e.onProfilerEnds=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c.performanceEntryList=d("JSSelfProfilerUtils").mergeList((b=c.performanceEntryList)!=null?b:[],(b=i.get(a))!=null?b:[]);i["delete"](a);return c});function c(b,c,d){return a.apply(this,arguments)}return c}();e.onProfilerAborts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){i["delete"](a)});function c(b){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseDataCollector"));g["default"]=e}),98);
__d("JSSPTraceSizeOptimizer",["JSSPTraceBaseTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a;b.resources=a.resources.map(function(a){return a.startsWith("data:")?"inline JavaScript":a});return b});function c(b){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPUrlCollector",["JSSPTraceBaseDataCollector","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){a=new URL(a);a=a.origin+a.pathname;return a}a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.onProfilerStarts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){h.set(a,{urlBeforeTraceStarts:i(document.URL)})});function c(b){return a.apply(this,arguments)}return c}();d.onProfilerEnds=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(b=h.get(a))!=null?b:{};b.urlAfterTraceEnds=i(document.URL);h["delete"](a);c.urlData=b;return c});function c(b,c,d){return a.apply(this,arguments)}return c}();d.onProfilerAborts=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){h["delete"](a)});function c(b){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseDataCollector"));g["default"]=a}),98);
__d("JSSPUrlMarker",["JSSPTraceBaseTransformer","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.transform=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=c.urlData;if(b==null)return a;a.metadata=(c=a.metadata)!=null?c:{};a.metadata.urlWhenStart=(c=b.urlBeforeTraceStarts)!=null?c:"";a.metadata.urlWhenEnd=(c=b.urlAfterTraceEnds)!=null?c:"";return a});function c(b,c,d){return a.apply(this,arguments)}return c}();return c}(c("JSSPTraceBaseTransformer"));g["default"]=a}),98);
__d("JSSPConfigInit",["JSSPBrsidMarker","JSSPDevTraceFilter","JSSPEmptySampleFilter","JSSPFELabsMarker","JSSPIdMarker","JSSPInteractToNextPaintMarker","JSSPInteractionToNextPaintCollector","JSSPJestE2EMarker","JSSPLongTaskMarker","JSSPPerformanceEntryCollector","JSSPSetting","JSSPTraceSizeOptimizer","JSSPUrlCollector","JSSPUrlMarker","JSSelfProfiler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.run=function(){var a=this.getInstance();a.registerDataCollectors();a.registerTraceTransformers()};a.getInstance=function(){return new this()};var b=a.prototype;b.registerDataCollectors=function(){c("JSSelfProfiler").registerDataCollector(new(c("JSSPPerformanceEntryCollector"))(),"JSSPPerformanceEntryCollector"),c("JSSelfProfiler").registerDataCollector(new(c("JSSPUrlCollector"))(),"JSSPUrlCollector"),d("JSSPSetting").isCollectingINP&&c("JSSelfProfiler").registerDataCollector(new(c("JSSPInteractionToNextPaintCollector"))(),"InteractionToNextPaintCollector")};b.registerTraceTransformers=function(){var a;(a=c("JSSelfProfiler")).registerTraceTransformer(new(c("JSSPEmptySampleFilter"))(),"JSSPEmptySampleFilter");a.registerTraceTransformer(new(c("JSSPTraceSizeOptimizer"))(),"JSSPTraceSizeOptimizer");a.registerTraceTransformer(new(c("JSSPDevTraceFilter"))(),"JSSPDevTraceFilter");a.registerTraceTransformer(new(c("JSSPJestE2EMarker"))(),"JSSPJestE2EMarker");a.registerTraceTransformer(new(c("JSSPLongTaskMarker"))(),"JSSPLongTaskMarker");a.registerTraceTransformer(new(c("JSSPBrsidMarker"))(),"JSSPBrsidMarker");a.registerTraceTransformer(new(c("JSSPUrlMarker"))(),"JSSPUrlMarker");a.registerTraceTransformer(new(c("JSSPFELabsMarker"))(),"JSSPFELabsMarker");a.registerTraceTransformer(new(c("JSSPIdMarker"))(),"JSSPIdMarker");d("JSSPSetting").isCollectingINP&&c("JSSelfProfiler").registerTraceTransformer(new(c("JSSPInteractToNextPaintMarker"))(),"JSSPInteractToNextPaintMarker")};return a}();g["default"]=a}),98);
__d("JSSelfProfilerLoomProvider",["JSSPSetting","JSSelfProfiler","JSSelfProfilerUtils","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){var b,e;this.$5=!1;this.$5=(b=c("qex")._("247"))!=null?b:!1;if(this.$5){this.$4=performance.now();return}this.$1=a;b=d("JSSelfProfilerUtils").getProfilerInitConfig();a=b.sampleInterval;b=b.maxBufferSize;e=(e=(e=this.$1)==null?void 0:e.triggerInfo)!=null?e:{};this.$2=c("JSSelfProfiler").startRecording(a,b,{triggerInfo:babelHelpers["extends"]({},e),annotations:["fast-profiler"]});var f=Math.min(a*10,100);f>a&&(this.$3=c("JSSelfProfiler").startRecording(f,b*2,{triggerInfo:babelHelpers["extends"]({},e),annotations:["slow-profiler"]}));this.$4=performance.now()}var e=a.prototype;e.loomTraceWillEnd=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(this.$5)return;var a=this.$1,b=this.$2,c=this.$3;if(a==null)yield b==null?void 0:b.abort(),yield c==null?void 0:c.abort();else{var e=performance.now()-this.$4;e=e>d("JSSPSetting").slowProfilerSpan&&this.$3!=null;var f=e?c:b;e=e?b:c;yield e==null?void 0:e.abort();a.jsSelfProfilerData=(yield f==null?void 0:f.stopRecording());f==null?void 0:f.logStats()}this.$1=null;this.$2=null;this.$3=null});function c(){return a.apply(this,arguments)}return c}();return a}();a={loomProviderId:"JSSelfProfiler",isSupported:function(){return c("JSSelfProfiler").isSupported()},getInstance:function(a){return new h(a)}};g["default"]=a}),98);
__d("OzSidneeABRManager",["MetaConfig","QualityScoreUtils","SidneeAbrAlgorithm","gkx","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzBandwidthUtils","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(b,c,d,e,f,g,h,i,j){this.$11=null,this.$1=b,this.$4=e,this.$5=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$2=d,this.$13=a.createSidneeConfig(),this.$3=this.$14(d,this.$8(),this.$13.useDpr),this.$1.getBool("enable_abr_logging")&&this.$10.getOperationLogger("abr_initialized").setResult("success").setUserInfo({codecs:d.map(function(a){return a.getCodecs()}).join("|"),displayLabels:d.map(function(a){return a.getDisplayLabel()}).join(","),representationIds:d.map(function(a){return a.getID()}).join(",")}).setRepresentationID(c.getID()).setType("video").setInitiator("OzSidneeABRManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b,c=this.$2;this.$2=a;this.$3=this.$14(a,this.$8(),this.$13.useDpr);b=(b=this.$11)==null?void 0:b.chosenRepresentation;var d=this.getBestRepresentation();if(this.$1.getBool("enable_abr_logging")){var e;this.$10.getOperationLogger("abr_representations_updated").setResult("success").setReason((e=this.$11)==null?void 0:e.decisionReasonDetails).setRepresentationID(d.getID()).setPreviousRepresentationID(b==null?void 0:b.id).setUserInfo({newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(","),previousRepresentationIds:c.map(function(a){return a.getID()}).join(",")}).setType("video").setInitiator("OzSidneeABRManager").log()}};b.getBestRepresentation=function(){var b,e=this.$5.getCurrentTime(),f=this.$5.getDuration();f=isNaN(f)||!isFinite(f)?this.$13.defaultVideoDurationMs:f*1e3;b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(e,(b=(b=this.$6)==null?void 0:b.getSourceBufferState().getBufferedRanges())!=null?b:[])*1e3;b=b+e*1e3;var g=this.$13.lookAheadMs-b;b=this.$15(b,e*1e3,f,this.$13.lookAheadMs,g);e=this.$1.getLegacyConfig().getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(this.$1.getLegacyConfig()):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(this.$1.getLegacyConfig());var h=d("SidneeAbrAlgorithm").sidneeAbrSelectQualityImpl(this.$3,this.$13,b,a.getBandwidthEstimateFn(e));if(this.$1.getBool("enable_abr_logging")&&h.chosenRepresentation!==((f=this.$11)==null?void 0:f.chosenRepresentation)){g=this.$12;this.$10.getOperationLogger("abr_best_representation_selected").setResult("success").setReason(h.decisionReasonDetails).setRepresentationID(h.chosenRepresentation.id).setPreviousRepresentationID((b=this.$11)==null?void 0:(f=b.chosenRepresentation)==null?void 0:f.id).setUserInfo({bandwidthEstimate:String(e==null?void 0:e.bandwidthEstimate),qualityScoreType:g}).setType("video").setInitiator("OzSidneeABRManager").log()}if(c("gkx")("695")&&h.chosenRepresentation!==((b=this.$11)==null?void 0:b.chosenRepresentation))var i,j;this.$11=h;return(f=this.$2.find(function(a){return a.getID()===h.chosenRepresentation.id}))!=null?f:this.$2[0]};b.getLastEvaluationReason=function(){var a;return(a=this.$11)==null?void 0:a.decisionReasonDetails};b.$14=function(a,b,e){var f=a.every(function(a){return a.getQualityScoreCurveString("csvqm")!=null});c("gkx")("695")&&this.$3==null;return a.map(function(a){var g=f?a.getQualityScoreCurveString("csvqm"):a.getQualityScoreCurveString("mos");g=d("QualityScoreUtils").parseQualityScoreCurve(String(g));g=g!=null?d("QualityScoreUtils").calculateQualityScore(g,b,e):0;c("gkx")("695");return{bandwidth:a.getBandwidth(),displayLabel:a.getDisplayLabel(),height:a.getHeight(),id:a.getID(),qualityScore:g,uploadQuality:66,width:a.getWidth()}})};a.createSidneeConfig=function(){var a;return{avgSegmentDurationMs:(a=c("MetaConfig"))._("57"),badUploadQualityRewardCurve:a._("84"),badUploadQualityRewardCurveFallback:a._("100"),badUploadQualityThreshold:a._("101"),bitrateMultiplier:a._("102"),bufferReductionMs:a._("109"),defaultVideoDurationMs:a._("110"),encodingRisk:a._("111"),goodUploadQualityRewardCurve:a._("113"),goodUploadQualityRewardCurveFallback:a._("119"),isInitialBitrateEnabled:a._("120"),lookAheadMs:a._("121"),maxAggressiveRisk:a._("122"),maxBandwidthConfidencePct:a._("123"),maxConservativeRisk:a._("124"),maxNormalRisk:a._("125"),maxVeryAggressiveRisk:a._("126"),minBandwidthConfidencePct:a._("127"),minBitrateMultiplier:a._("128"),rewardRatioRoundDigits:a._("129"),riskCurve:a._("130"),riskCurveFallback:a._("131"),riskRatioRoundDigits:a._("133"),riskRewardRatioRoundDigits:a._("134"),useDpr:a._("154"),useSidnee:a._("143")}};b.$15=function(a,b,c,d,e){return{isAudioTrack:!1,playbackDurationInfo:{bufferDurationMs:a,playbackPositionMs:b,videoDurationMs:c},totalWindowDurationMs:d,unbufferedWindowDurationMs:e}};a.getBandwidthEstimateFn=function(a){return a==null?function(a,b){return 0}:function(b,c){c=d("oz-player/networks/OzBandwidthUtils").getEstimatedRequestTimeToLastByteMs(a,b,c);return b/c*8e3}};return a}();g["default"]=a}),98);
__d("SecuredActionBlockDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6108889802569432"}),null);
__d("SecuredActionBlockDialogQuery$Parameters",["SecuredActionBlockDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SecuredActionBlockDialogQuery_facebookRelayOperation"),metadata:{},name:"SecuredActionBlockDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SecuredActionBlockDialog.entrypoint",["JSResourceForInteraction","SecuredActionBlockDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("SecuredActionBlockDialogQuery$Parameters"),variables:{accountType:"FACEBOOK"}}}}},root:c("JSResourceForInteraction")("SecuredActionBlockDialog.react").__setRef("SecuredActionBlockDialog.entrypoint")};g["default"]=a}),98);
__d("SecuredActionChallengeCDSPasswordDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8603070633122488"}),null);
__d("SecuredActionChallengeCDSPasswordDialogQuery$Parameters",["SecuredActionChallengeCDSPasswordDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SecuredActionChallengeCDSPasswordDialogQuery_facebookRelayOperation"),metadata:{},name:"SecuredActionChallengeCDSPasswordDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SecuredActionChallengeCDSPasswordDialog.entrypoint",["JSResourceForInteraction","SecuredActionChallengeCDSPasswordDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("SecuredActionChallengeCDSPasswordDialogQuery$Parameters"),variables:{account_id:a.account_id,category_name:a.category_name}}}}},root:c("JSResourceForInteraction")("SecuredActionChallengeCDSPasswordDialog.react").__setRef("SecuredActionChallengeCDSPasswordDialog.entrypoint")};g["default"]=a}),98);
__d("SecuredActionChallengePasswordDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8171723236271662"}),null);
__d("SecuredActionChallengePasswordDialogQuery$Parameters",["SecuredActionChallengePasswordDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SecuredActionChallengePasswordDialogQuery_facebookRelayOperation"),metadata:{},name:"SecuredActionChallengePasswordDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SecuredActionChallengePasswordDialog.entrypoint",["JSResourceForInteraction","SecuredActionChallengePasswordDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("SecuredActionChallengePasswordDialogQuery$Parameters"),variables:{height:60,scale:1,width:60}}}}},root:c("JSResourceForInteraction")("SecuredActionChallengePasswordDialog.react").__setRef("SecuredActionChallengePasswordDialog.entrypoint")};g["default"]=a}),98);
__d("TwoStepVerificationFlow",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOGIN_CHALLENGES:"login_challenges",SECURED_ACTION:"secured_action",TWO_FACTOR_LOGIN:"two_factor_login",PRE_AUTHENTICATION:"pre_authentication"});c=a;f["default"]=c}),66);
__d("TwoStepVerificationRootQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"8829279823867590",metadata:{},name:"TwoStepVerificationRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SecuredActionDialogRoot.entrypoint",["JSResourceForInteraction","TwoStepVerificationRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{query:{parameters:c("TwoStepVerificationRootQuery$Parameters"),variables:{doesRequireTwoFacData:!0,encryptedContext:a.encryptedContext,isLoginChallenges:a.flow==="login_challenges",isPreAuthentication:a.flow==="pre_authentication"}}}}},root:c("JSResourceForInteraction")("TwoStepVerificationRoot.react").__setRef("SecuredActionDialogRoot.entrypoint")};g["default"]=a}),98);
__d("SecuredActionNoChallengeAvailableCDSDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7620111951371116"}),null);
__d("SecuredActionNoChallengeAvailableCDSDialogQuery$Parameters",["SecuredActionNoChallengeAvailableCDSDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("SecuredActionNoChallengeAvailableCDSDialogQuery_facebookRelayOperation"),metadata:{},name:"SecuredActionNoChallengeAvailableCDSDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("SecuredActionNoChallengeAvailableCDSDialog.entrypoint",["JSResourceForInteraction","SecuredActionNoChallengeAvailableCDSDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{query:{options:{fetchPolicy:"store-and-network"},parameters:c("SecuredActionNoChallengeAvailableCDSDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("SecuredActionNoChallengeAvailableCDSDialog.react").__setRef("SecuredActionNoChallengeAvailableCDSDialog.entrypoint")};g["default"]=a}),98);
__d("SecuredActionReauthDialog.entrypoint",["JSResourceForInteraction","TwoStepVerificationRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.encryptedContext;return{queries:{query:{parameters:c("TwoStepVerificationRootQuery$Parameters"),variables:{doesRequireTwoFacData:!0,encryptedContext:a,isLoginChallenges:!1,isPreAuthentication:!1}}}}},root:c("JSResourceForInteraction")("TwoStepVerificationRoot.react").__setRef("SecuredActionReauthDialog.entrypoint")};g["default"]=a}),98);
__d("SecuredActionTriggerWithAccountID.react",["CometRouteURL","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.accountID,f=a.categoryName,g=a.entrypoint,h=a.onCancel,k=a.onExit,l=a.onFailure,m=a.onSuccess;a=d("CometRouteURL").useRouteURL();var n;b[0]!==e||b[1]!==f||b[2]!==a?(n={account_id:e,category_name:f,return_uri:a},b[0]=e,b[1]=f,b[2]=a,b[3]=n):n=b[3];a=c("useCometEntryPointDialog")(g,n);var o=a[0],p=j(!0);b[4]!==e||b[5]!==f||b[6]!==h||b[7]!==k||b[8]!==l||b[9]!==m||b[10]!==o?(g=function(){p.current&&o({accountID:e,categoryName:f,onCancel:h,onExit:k,onFailure:l,onSuccess:m}),p.current=!1},n=[o,e,f,k,m,h,l],b[4]=e,b[5]=f,b[6]=h,b[7]=k,b[8]=l,b[9]=m,b[10]=o,b[11]=g,b[12]=n):(g=b[11],n=b[12]);i(g,n)}g["default"]=a}),98);
__d("Xfac_XFACAppealType",[],(function(a,b,c,d,e,f){a=Object.freeze({ADS_ABUSE:0,ACTA_SANCTION_PROPAGATION:1,SOAP_PI_UNPUBLISH:2,SPAM:3,USER_DATA_SCRAPING:4,IDES_APPEAL:5,LEGAL_VERIFICATION:6,CHECKPOINT_EPSILON:7,DEV_PLATFORM_ABUSE:8,FB_UFAC:9,IG_UFAC:10,FRL_UFAC:11,BUSINESS_VERIFICATION_STANDALONE_EMAIL:12,BUSINESS_VERIFICATION_CLASSIC:13,SIGNAL_GATHERING:14,IG_MEMORIALIZATION_APPEAL:15,MARKETPLACE_IDV_APPEAL:16,BUSINESS_VERIFICATION_PAYOUTS:17,AUTHENTICITY_REGULATION:18,AUTHENTICITY_REGULATION_SG:19,WA_BIZ_ACCOUNT_CREATION:20,BUSINESS_VERIFICATION_FOX_CBD:21,BUSINESS_VERIFICATION_FOX_CRYPTO:22,BUSINESS_VERIFICATION_FOX_DATING:23,BUSINESS_VERIFICATION_FOX_REHAB:24,BUSINESS_VERIFICATION_FOX_RMG:25,BUSINESS_VERIFICATION_FOX_RXDRUGS:26,BUSINESS_VERIFICATION_MANDATORY_SELLERS:27,THREADS_UFAC:28,BUSINESS_VERIFICATION_MV4B:29,BUSINESS_VERIFICATION_CHINA_AGENCY:30,FINANCIAL_INTEGRITY:31,BUSINESS_VERIFICATION_ADVERTISER_VETTING:32,BUSINESS_VERIFICATION_CLASSIC_GENERIC:33,AUTHENTICITY_COMPROMISE:34,AUTHENTICITY_REGULATION_AU_FINSERV:35,AUTHENTICITY_REGULATION_TW_ANTI_SCAMS:36,ORGANIC_SENSITIVE_ACTIONS:37,WA_U13:38,BUSINESS_VERIFICATION_PAID_ACTOR_ONBOARDING:39,BUSINESS_VERIFICATION_TAIWAN_FINANCIAL_SERVICES:40,MARKETPLACE_XFAC_SELFIE_APPEAL:41,MARKETPLACE_XFAC_IDV_APPEAL:42,AUTHENTICITY_REGULATION_CN:43,BUSINESS_VERIFICATION_WABA:44,BUSINESS_VERIFICATION_APP_REVIEW:45,BUSINESS_VERIFICATION_PAGE_RELATIONSHIP_TRANSPARENCY:46,BUSINESS_VERIFICATION_VR_DEVELOPER_ORGANIZATION:47,BUSINESS_VERIFICATION_BILLING_HUB:48,BUSINESS_VERIFICATION_LOW_TRUST_TIER:49,BUSINESS_VERIFICATION_NEWS_PUBLISHER:50,BUSINESS_VERIFICATION_ADS_BANHAMMERED:51,BUSINESS_VERIFICATION_MARKETING_PARTNER_PROGRAM:52,BUSINESS_VERIFICATION_AUDIENCE_NETWORK_APP:53,BUSINESS_VERIFICATION_DOMAIN_DISPUTE:54,BUSINESS_VERIFICATION_ASP_AGENCY:55,BUSINESS_VERIFICATION_SIGNAL_CONSUMPTION_WITHOUT_ONBOARD:56,BUSINESS_VERIFICATION_UNIVERSAL_PARTNER_PLATFORM:57,OCULUS_FINANCIAL_INTEGRITY:58,ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS_WITH_BUSINESS_VERIFICATION:59,AUTHENTICITY_COMPROMISE_SIGNALS_BASED_VERIFICATION:60,XFAC_DEMO:1e4});f["default"]=a}),66);
__d("useIXTXfacUniversalTriggerDialog",["cr:8544","cr:8592"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){return b("cr:8592")(b("cr:8544"),a,void 0,void 0,{baseModalProps:c,carryOverRelayEnvironment_EXPERIMENTAL:d})}g["default"]=a}),98);
__d("SecuredActionTriggerWithEncryptedContext.react",["Xfac_XFACAppealType","getGraphQLEnumSafe","nullthrows","react","react-compiler-runtime","useCometEntryPointDialog","useIXTXfacUniversalTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function k(a,b){var e=d("react-compiler-runtime").c(4),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("nullthrows")(c("getGraphQLEnumSafe")(c("Xfac_XFACAppealType"),37)),e[0]=f):f=e[0];e[1]!==b||e[2]!==a?(f={security_token:a,trigger_event_type:"XFAC_UNIVERSAL_ENTRY_ORGANIC_SENSITIVE_ACTIONS",xfac_appeal_type:f,xfac_config:b},e[1]=b,e[2]=a,e[3]=f):f=e[3];b=c("useIXTXfacUniversalTriggerDialog")(f);a=b[0];return a}function a(a){var b=d("react-compiler-runtime").c(12),e=a.encryptedContext,f=a.entrypoint,g=a.flow,h=a.onExit,l=a.onSuccess,m=a.useXFAC;a=a.xfacConfig;var n=m===void 0?!1:m,o=k(e,a);b[0]!==e||b[1]!==g?(m={encryptedContext:e,flow:g},b[0]=e,b[1]=g,b[2]=m):m=b[2];a=c("useCometEntryPointDialog")(f,m);var p=a[0],q=j(!0);b[3]!==e||b[4]!==g||b[5]!==h||b[6]!==l||b[7]!==p||b[8]!==o||b[9]!==n?(f=function(){q.current&&(n?o({flowCallbacks:{onComplete:l}}):p({routeProps:{encryptedContext:e,flow:g,onExit:h,onSuccess:l}})),q.current=!1},m=[p,e,g,h,l,o,n],b[3]=e,b[4]=g,b[5]=h,b[6]=l,b[7]=p,b[8]=o,b[9]=n,b[10]=f,b[11]=m):(f=b[10],m=b[11]);i(f,m)}g["default"]=a}),98);
__d("SecuredActionUtils",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._(/*BTDS*/"__JHASH__gSCggvUm6zi__JHASH__");function a(a){return a.message===i.toString()}g.SECURED_ACTION_REAUTH_CANCELED_ERROR=i;g.isSecuredActionError=a}),226);
__d("Ufac_Config",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,UNSUPPORTED:1,DEFAULT:2,SCAMS:3,COORDINATED_INAUTHENTIC_BEHAVIOR:4,CIVIC:5,SEXTORTION:6,FNRP:7,FNRP_V0:8,ID_CAPTURE_DEFAULT_V0:9,IG_DEFAULT:10,FRIEND_PHOTO_V0:11,FRIEND_PHOTO_V1:12,FRIEND_PHOTO_V2:13,IIC:14,SECOND_SELFIE_V0:15,PRIVATE_IMPERSONATION:16,PERSISTENT_VIOLATOR:17,HIGH_PROFILE_IMPERSONATION:18,LIVENESS_CHECK_DEFAULT_V0:19,DEFAULT_WITHOUT_DYI:20,HIGH_PROFILE_IMPERSONATION_LOW_PRECISION:21,HIGH_PROFILE_IMPERSONATION_MEDIUM_PRECISION:22,HIGH_PROFILE_IMPERSONATION_APPEALS:23,DEFAULT_WITH_OUTSOURCED_MANUAL_REVIEW:24,IIC_V2:25,CIVIC_ABUSIVE_ACCOUNTS_PROTOCOL:26,CIVIC_ABUSIVE_ACCOUNTS_ESCALATIONS:27,WORKPLACE_DEFAULT:28,PROFILE_WITH_BIZ_TOOLS_DEFAULT:29,FNRP_APPEALS:30,SEXTORTION_APPEALS:31,DANGEROUS_ORGANIZATIONS_AND_INDIVIDUALS:32,HATE_ORGS:33,ADS_ABUSE:34,ADS_ABUSE_HIGH_RISK:35,ADS_ABUSE_NON_BLOCKING:36,UNDERAGE:37,FAKE_ACCOUNT:38,BOT_ACCOUNT:39,CHILD_EXPLOITATION_IMAGES:40,PERSISTENT_VIOLATOR_GENERIC:41,FOREIGN_INAUTHENTIC_BEHAVIOR_ACCOUNT_HIGH_RISK:42,FOREIGN_INAUTHENTIC_BEHAVIOR_ACCOUNT_LOW_RISK:43,ADS_ABUSE_NON_BLOCKING_ALR:44,ADS_ABUSE_NON_BLOCKING_PREHARM:45,ADS_ABUSE_NON_BLOCKING_BUSINESS_PREHARM:46,INACTIVE_UNCONFIRMED_ACCOUNTS:47,DIGITAL_RIGHTS_OPERATIONS:48,ADS_ABUSE_NON_BLOCKING_USER_APPEALS:49,ADS_ABUSE_NON_BLOCKING_PAGE_APPEALS:50,ACTOR_ACCOUNTABILITY:51,IG_DEFAULT_WITH_SELFIE:52,IG_USER_DATA_SCRAPING:53,AUTHENTICITY_ADVERTISER_VERIFICATION_NON_BLOCKING_V1:54,AUTHENTICITY_ADVERTISER_VERIFICATION_NON_BLOCKING_V2:55,AUTHENTICITY_ADVERTISER_VERIFICATION_NON_BLOCKING_V3:56,IG_USER_DATA_SCRAPING_V2:57,IG_DEFAULT_WITH_SELFIE_V2:58,PERSISTENT_VIOLATOR_GENERIC_V2:59,IG_DEFAULT_WITHOUT_RECAPTCHA:60,ADS_ABUSE_NON_BLOCKING_ADACCOUNT_PREHARM:61,PERSISTENT_VIOLATOR_HIGH_SEVERITY:62,SCRIPTED_YOUNG_ABUSIVE_ACCOUNT:63,ACTA_SANCTION_PROPAGATION_NON_BLOCKING:64,IG_ACTOR_ACCOUNTABILITY:65,CEI_EPD:66,XFAC_ADS_ABUSE:67,IG_UNDERAGE:68,XFAC_ADS_ABUSE_ALR:69,XFAC_ADS_ABUSE_ADACCOUNT_PREHARM:70,XFAC_ADS_ABUSE_USER_APPEALS:71,XFAC_ADS_ABUSE_PAGE_APPEALS:72,XFAC_ADS_ABUSE_GENERIC:73,XFAC_ADS_ABUSE_BUSINESS_PREHARM:74,I3_NOTIFICATION_AND_APPEALS:75,IG_I3_NOTIFICATION_AND_APPEALS:76,IG_FAKE_ACCOUNT:77,FRL_FAKE_ACCOUNT:78,FRL_UNDERAGE:79,MESSAGING_ADULT_SEXUAL_EXPLOITATION:80,MESSAGING_DANGEROUS_ORGS_AND_INDIVIDUALS:81,MESSAGING_FRAUD_AND_DECEPTION:82,MESSAGING_HUMAN_EXPLOITATION:83,XFAC_BI_PAGE_IMPERSONATION:84,IG_SPAM:85,XFAC_BI_AD_PUBLISH:86,LEI_NOTIFICATION_AND_APPEALS:87,IG_LEI_NOTIFICATION_AND_APPEALS:88,UEM_DEFAULT:89,XFAC_ID_BI_PAGE_IMPERSONATION:90,XFAC_ID_BI_AD_PUBLISH:91,XFAC_PRIVATE_IMPERSONATION:92,IG_FAKE_ACCOUNT_V2:93,UEM_IG_DEFAULT:94,IG_DIRECT_APPEALS:95,XFAC_USER_SCRAPING_RATE_LIMIT:96,XFAC_SPAM_GROUP_READ_ONLY:97,IG_USER_DATA_SCRAPING_V3:98,IG_EDM_AUTO_DISABLE_APPEALS:99,IG_HEX:100,IG_FRAUD_AND_DECEPTION:101,XFAC_ADS_ABUSE_ALR_UNIFIED_REMEDIATION:102,XFAC_ADS_ABUSE_PAGE_UNIFIED_REMEDIATION:103,XFAC_ADS_ABUSE_USER_UNIFIED_REMEDIATION:104,XFAC_ADS_ABUSE_BM_UNIFIED_REMEDIATION:105,IG_HIGH_PROFILE_IMPERSONATION:106,IG_PRIVATE_IMPERSONATION:107,XFAC_CONTENT_TAKEDOWN:108,XFAC_BUSINESS_VERIFICATION:109,XFAC_LEGAL_VERIFICATION:110,XFAC_ADS_ACTOR_ABUSE_MIN_FRICTION:111,XFAC_ADS_ACTOR_ABUSE_MED_FRICTION:112,XFAC_ADS_ACTOR_ABUSE_MAX_FRICTION:113,IG_XFAC_FEATURE_LIMITS_SPAM:114,XFAC_ADS_ACTOR_CLOAKING_ABUSE_MIN_FRICTION:115,XFAC_ADS_ACTOR_CLOAKING_ABUSE_MED_FRICTION:116,XFAC_ADS_ACTOR_CLOAKING_ABUSE_MAX_FRICTION:117,FRL_DELEGATED_APPEAL:118,FRL_DELEGATED_APPEAL_SALSA_U10:119,XFAC_ADS_ACTOR_ABUSE_SCRIPTED_FOR_USER:120,XFAC_ADS_ACTOR_ABUSE_SCRIPTED_FOR_AD_ACCOUNT:121,XFAC_ADS_ACTOR_ABUSE_SCRIPTED_FOR_PAGE:122,XFAC_ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS:123,XFAC_ADS_ACTOR_ABUSE_GENERIC_FOR_USER:124,XFAC_ADS_ACTOR_ABUSE_GENERIC_FOR_AD_ACCOUNT:125,XFAC_ADS_ACTOR_ABUSE_GENERIC_FOR_PAGE:126,XFAC_ADS_ACTOR_ABUSE_GENERIC_FOR_BUSINESS:127,XFAC_AUTHENTICITY_CHECKPOINT_EPSILON:128,XFAC_ADS_ACTOR_ABUSE_PSCV_AD_ACCOUNT:129,XFAC_DEVELOPER_ACCESS:130,XFAC_AUTHENTICITY_CHECKPOINT_EPSILON_FOR_CONTACT_POINT_COLLECTED_IN_XFAC:131,XFAC_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_USER:132,XFAC_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_AD_ACCOUNT:133,XFAC_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_PAGE:134,XFAC_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_BUSINESS:135,XFAC_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_USER:136,XFAC_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_AD_ACCOUNT:137,XFAC_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_PAGE:138,XFAC_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_BUSINESS:139,FRL_REGIONAL_AGE_VERIFICATION:140,XFAC_ADS_ACTOR_ABUSE_VAN_FOR_AD_ACCOUNT:141,XFAC_ADS_ACTOR_ABUSE_VAN_FOR_USER:142,XFAC_ADS_ACTOR_ABUSE_VAN_FOR_PAGE:143,XFAC_ADS_ACTOR_ABUSE_VAN_FOR_BUSINESS:144,XFAC_BUSINESS_VERIFICATION_STANDALONE_EMAIL:145,XFAC_SIGNAL_COLLECTION_PAGE_CREATION:146,XFAC_FINANCIAL_INTEGRITY_IMPERSONATION:147,XFAC_EPSILON_CONTACT_POINT_SELFIE:148,XFAC_BUSINESS_MESSAGING_CONVERSATIONS_VIOLATING_CONTENT_FOR_PAGE:149,XFAC_IG_MEMORIALIZATION_APPEAL:150,XFAC_IG_SIGNAL_COLLECTION_SPAM:151,XFAC_MARKETPLACE_IDV_SCAM_SELLER_APPEAL:152,XFAC_FOX_AUTHORIZATIONS_AND_VERIFICATIONS:153,XFAC_ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS_WITH_BUSINESS_VERIFICATION:154,FRL_REJECTED_CONSENT:155,XFAC_ADS_ACTOR_ABUSE_VAN_FF_FOR_AD_ACCOUNT:156,FRL_GUARDIAN_INITIATED_CHILD_ACCOUNT_DELETION:157,XFAC_EPSILON_CREDIT_CARD:158,XFAC_BUSINESS_VERIFICATION_PAYOUTS:159,XFAC_AUTHENTICITY_REGULATION:160,XFAC_IG_ADS_ACTOR_ABUSE_SCRIPTED_FOR_USER:161,XFAC_IG_ADS_ACTOR_ABUSE_SCRIPTED_FOR_AD_ACCOUNT:162,XFAC_IG_ADS_ACTOR_ABUSE_SCRIPTED_FOR_PAGE:163,XFAC_IG_ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS:164,XFAC_IG_ADS_ACTOR_ABUSE_SCRIPTED_FOR_BUSINESS_WITH_BUSINESS_VERIFICATION:165,XFAC_IG_ADS_ACTOR_ABUSE_GENERIC_FOR_USER:166,XFAC_IG_ADS_ACTOR_ABUSE_GENERIC_FOR_AD_ACCOUNT:167,XFAC_IG_ADS_ACTOR_ABUSE_GENERIC_FOR_PAGE:168,XFAC_IG_ADS_ACTOR_ABUSE_GENERIC_FOR_BUSINESS:169,XFAC_IG_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_USER:170,XFAC_IG_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_AD_ACCOUNT:171,XFAC_IG_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_PAGE:172,XFAC_IG_ADS_ACTOR_ABUSE_SEVERELY_VIOLATING_CONTENT_FOR_BUSINESS:173,XFAC_IG_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_USER:174,XFAC_IG_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_AD_ACCOUNT:175,XFAC_IG_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_PAGE:176,XFAC_IG_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_CONTENT_FOR_BUSINESS:177,XFAC_IG_ADS_ACTOR_ABUSE_VAN_FOR_AD_ACCOUNT:178,XFAC_IG_ADS_ACTOR_ABUSE_VAN_FOR_USER:179,XFAC_IG_ADS_ACTOR_ABUSE_VAN_FOR_PAGE:180,XFAC_IG_ADS_ACTOR_ABUSE_VAN_FOR_BUSINESS:181,XFAC_IG_ADS_ACTOR_ABUSE_VAN_FF_FOR_AD_ACCOUNT:182,FRL_AWAITING_CONSENT:183,FRL_PARENTAL_CONSENT_REVOKED:184,XFAC_EPSILON_EMAIL_OTP:185,XFAC_AUTHENTICITY_REGULATION_SG:186,XFAC_FOX_AUTHORIZATIONS_RXDRUGS:187,XFAC_FOX_AUTHORIZATIONS_CBD:188,XFAC_FOX_AUTHORIZATIONS_REHAB:189,XFAC_FOX_AUTHORIZATIONS_DATING:190,XFAC_FOX_AUTHORIZATIONS_CRYPTO:191,XFAC_FOX_AUTHORIZATIONS_RMG:192,XFAC_EPSILON_CONTACT_POINT_ID:193,XFAC_ADS_ACTOR_ABUSE_VAN_FF_FOR_AD_ACCOUNT_WITHOUT_HUMAN_REVIEW:194,XFAC_WA_BIZ_ACCOUNT_CREATION:195,XFAC_EPSILON_EXISTING_WHATSAPP_OTP:196,XFAC_EPSILON_EXISTING_SMS_OTP:197,XFAC_MANDATORY_SELLER_VERIFICATION:198,XFAC_EPSILON_CONTACT_POINT_ID_WITH_UNLOCK:199,XFAC_ADS_ACTOR_ABUSE_CIRCUMVENTION_FOR_AD_ACCOUNT:200,XFAC_ADS_ACTOR_ABUSE_CIRCUMVENTION_FOR_BUSINESS:201,XFAC_IG_ADS_ACTOR_ABUSE_CIRCUMVENTION_FOR_AD_ACCOUNT:202,XFAC_IG_ADS_ACTOR_ABUSE_CIRCUMVENTION_FOR_BUSINESS:203,XFAC_BUSINESS_VERIFICATION_MV4B:204,XFAC_BUSINESS_VERIFICATION_CHINA_AGENCY:205,XFAC_BUSINESS_VERIFICATION_ADVERTISER_VETTING:206,XFAC_BUSINESS_VERIFICATION_CLASSIC_GENERIC:207,XFAC_AUTHENTICITY_COMPROMISE:208,XFAC_AUTHENTICITY_REGULATION_AU_FINSERV:209,XFAC_AUTHENTICITY_REGULATION_TW_ANTI_SCAMS:210,XFAC_MARKETPLACE_MANDATORY_IDV_APPEAL:211,XFAC_MARKETPLACE_MANDATORY_SELFIE_APPEAL:212,XFAC_ADDITIONAL_PROFILE_PLUS_BUSINESS_IMPERSONATION:213,XFAC_LIGHTWEIGHT_INTERVENTION_IG:214,XFAC_WA_U13:215,XFAC_ORGANIC_SENSITIVE_ACTIONS:216,XFAC_BUSINESS_VERIFICATION_PAID_ACTOR_ONBOARDING:217,XFAC_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_AUTHORIZATION_POLICIES_FOR_USER:218,XFAC_BUSINESS_VERIFICATION_TAIWAN_FINANCIAL_SERVICES:219,XFAC_IG_ADS_ACTOR_ABUSE_REPEATEDLY_VIOLATING_AUTHORIZATION_POLICIES_FOR_USER:220,XFAC_AUTHENTICITY_GCR_ID_VERIFICATION:221,XFAC_ADS_ACTOR_ABUSE_VAN_FF_FOR_AD_ACCOUNT_WITHOUT_HUMAN_REVIEW_WITH_PENNYDROP:222,FRL_AWAITING_PARENTAL_CONSENT:223,XFAC_BUSINESS_VERIFICATION_WABA:224,XFAC_BUSINESS_VERIFICATION_APP_REVIEW:225,XFAC_BUSINESS_VERIFICATION_PAGE_RELATIONSHIP_TRANSPARENCY:226,XFAC_BUSINESS_VERIFICATION_VR_DEVELOPER_ORGANIZATION:227,XFAC_BUSINESS_VERIFICATION_BILLING_HUB:228,XFAC_BUSINESS_VERIFICATION_LOW_TRUST_TIER:229,XFAC_BUSINESS_VERIFICATION_NEWS_PUBLISHER:230,XFAC_BUSINESS_VERIFICATION_ADS_BANHAMMERED:231,XFAC_BUSINESS_VERIFICATION_MARKETING_PARTNER_PROGRAM:232,XFAC_BUSINESS_VERIFICATION_AUDIENCE_NETWORK_APP:233,XFAC_BUSINESS_VERIFICATION_DOMAIN_DISPUTE:234,XFAC_BUSINESS_VERIFICATION_ASP_AGENCY:235,XFAC_BUSINESS_VERIFICATION_SIGNAL_CONSUMPTION_WITHOUT_ONBOARD:236,XFAC_BUSINESS_VERIFICATION_UNIVERSAL_PARTNER_PLATFORM:237,XFAC_DECEPTIVE_IDENTITY_LIGHTWEIGHT_INTERVENTION_IG:238,XFAC_OC_FINANCIAL_INTEGRITY_IMPERSONATION:239,XFAC_ADS_ACTOR_ABUSE_SCRIPTED_FOR_AD_ACCOUNT_WITH_IDV:240,XFAC_I3_DOI_BES_SOFT_ACTIONS:241,XFAC_AUTHENTICITY_COMPROMISE_SIGNALS_BASED_VERIFICATION:242,XFAC_BUSINESS_VERIFICATION_MV4B_FB:243,XFAC_BUSINESS_VERIFICATION_MV4B_IG:244,XFAC_BUSINESS_VERIFICATION_MV4B_WA:245,XFAC_FINANCIAL_INTEGRITY_ADS_COUNTRY_SPOOFING:246,XFAC_BILLING_BUSINESS_VERIFICATION_SPEND_MORE:247,XFAC_WA_U13_ID_ONLY:248,XFAC_WA_U13_FBAP_ONLY:249,XFAC_DECEPTIVE_IDENTITY_MESSAGE_REQUEST_LIMIT_IG:250,XFAC_EPSILON_CHALLENGE_CHOOSER:251,XFAC_BILLING_BUSINESS_VERIFICATION_SPEND_MORE_IG:252,FRL_EXIT_MARKETPLACE:253,FRL_C50_CONTENT_VIOLATION:254,FRL_ACTOR_VIOLATION:255,FRL_VIOLATING_ACTOR_NETWORK:256,XFAC_BUSINESS_VERIFICATION_ADVERTISER_VETTING_IG:257,XFAC_SENSITIVE_ACTIONS_2FA:258,XFAC_DIGITAL_ID_ID_ME:259,TEST_ONLY_SMS:100001,TEST_ONLY_SMS_SCARCE:100002,TEST_ONLY_SELFIE:100003,TEST_ONLY_ID_CAPTURE:100004,TEST_ONLY_FRIEND_PHOTO:100005,TEST_SECOND_SELFIE_WITH_MANUAL_REVIEW:100006,TEST_ONLY_OUTSOURCED_ABUSIVENESS_MANUAL_REVIEW:100007,TEST_ONLY_SMS_CONFIRMATION:100008,TEST_ONLY_IIC_MANUAL_REVIEW:100009,TEST_ONLY_LIVENESS_CHECK:100010,TEST_ONLY_SMS_SCARCE_V2:100011,TEST_ONLY_CAAP_MANUAL_REVIEW:100012,TEST_ONLY_EMAIL:100013,TEST_ONLY_BOT_CAPTCHA:100014,TEST_ONLY_SMS_REVERIFICATION:100015,TEST_ONLY_ACCOUNT_CONFIRMATION:100016,TEST_ID_UPLOAD_WITH_AUTHENTICITY_PLATFORM_REVIEW:100017,TEST_ONLY_AUTHENTICITY_PLATFORM_REVIEW:100018,TEST_ONLY_PERSISTENT_VIOLATOR_APPEAL:100019,TEST_ONLY_SELFIE_SALUTE:100020,TEST_ONLY_ACCOUNT_CONFIRMATION_OUTRO:100021,TEST_ONLY_SMS_TRANSACTIONAL:100022,TEST_ONLY_AWAITING_CUSTOMER_SUPPORT_ENGAGEMENT:100023,TEST_ONLY_UFAC_FB_ENFORCEMENT_PROTOCOL:100024,TEST_ONLY_SMS_VALIDATION:100025,TEST_ONLY_AWAITING_REVIEW:100026,TEST_ONLY_UEM_FB_DEFAULT:100027,TEST_IG_EXPERIMENTAL:200001,TEST_ONLY_IG_RECAPTCHA:200002,TEST_ONLY_IG_SMS_CAPTCHA:200003,TEST_ONLY_IG_SELFIE_CAPTCHA:200004,TEST_ONLY_IG_WWW:200005,TEST_ONLY_IG_OUTRO:200006,TEST_ONLY_UEM_IG_DEFAULT:200007,TEST_ONLY_XFAC_APPEAL_EXPERIMENTAL:300001,TEST_ONLY_IG_XFAC_APPEAL_EXPERIMENTAL:300002,TEST_ONLY_EPSILON_CONTACT_POINT_SELFIE:300003,TEST_ONLY_IV_BV_XFAC_INTEROP:300004,TEST_ONLY_EPSILON_EMAIL_OTP:300005,TEST_ONLY_FB_XFAC_TRUSTLY:300006,TEST_ONLY_OC_XFAC_APPEAL_EXPERIMENTAL:300007,TEST_ONLY_TWO_FACTOR_AUTHENTICATION:300008,TEST_ONLY_IG_XFAC_TRUSTLY:300009});f["default"]=a}),66);
__d("securedActionChallengeToEntrypoints",["SecuredActionBlockDialog.entrypoint","SecuredActionChallengeCDSPasswordDialog.entrypoint","SecuredActionChallengePasswordDialog.entrypoint","SecuredActionNoChallengeAvailableCDSDialog.entrypoint","SecuredActionReauthDialog.entrypoint"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case"block":return{CDS:c("SecuredActionBlockDialog.entrypoint"),"default":c("SecuredActionBlockDialog.entrypoint")};case"no_challenge_available":return{CDS:c("SecuredActionNoChallengeAvailableCDSDialog.entrypoint"),"default":c("SecuredActionNoChallengeAvailableCDSDialog.entrypoint")};case"password":return{CDS:c("SecuredActionChallengeCDSPasswordDialog.entrypoint"),"default":c("SecuredActionChallengePasswordDialog.entrypoint")};case"captcha_cardnumber":case"captcha_comment":case"captcha_email":case"captcha_security_key":case"captcha_sms":case"captcha_smsscarce":case"captcha_templar":case"captcha_whatsapp":case"captcha_work_email":case"established_device":case"fido":case"first_factor":case"mfs_totp":case"mwa_business":case"password_continue_only":case"password_redirect":case"post_login_delta":case"reauth":case"step_up":case"test":case"two_fac_with_password_fallback":case"2fac":case"2fac_for_biz":case"2fac_setup":case"work_sso":case"work_sso_embedded":return null}}function b(a){switch(a){case"reauth":return{CDS:c("SecuredActionReauthDialog.entrypoint"),"default":c("SecuredActionReauthDialog.entrypoint")};case"block":case"captcha_cardnumber":case"captcha_comment":case"captcha_email":case"captcha_security_key":case"captcha_sms":case"captcha_smsscarce":case"captcha_templar":case"captcha_whatsapp":case"captcha_work_email":case"established_device":case"fido":case"first_factor":case"mfs_totp":case"mwa_business":case"no_challenge_available":case"password":case"password_continue_only":case"password_redirect":case"post_login_delta":case"step_up":case"test":case"two_fac_with_password_fallback":case"2fac":case"2fac_for_biz":case"2fac_setup":case"work_sso":case"work_sso_embedded":return null}}g.securedActionChallengeToEntrypointsWithAccountID=a;g.securedActionChallengeToEntrypointsWithEncryptedContext=b}),98);
__d("securedActionTriggerChallenge",["CometErrorOverlay","CometRelayEnvironmentProvider","CometTransientDialogProvider.react","FBLogger","OutsideExceptionKeyCommandListener.react","SecuredActionDialogRoot.entrypoint","deferredLoadComponent","react","requireDeferredForDisplay","securedActionChallengeToEntrypoints"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("SecuredActionTriggerWithEncryptedContext.react").__setRef("securedActionTriggerChallenge")),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("SecuredActionTriggerWithAccountID.react").__setRef("securedActionTriggerChallenge"));function l(){var a;return(a=document.location.href)==null?void 0:a.includes("accountscenter")}function m(a,b){b=(b=b.force_cds)!=null?b:!1;return l()||b?a.CDS||a["default"]:a["default"]}function n(a,b){b=(b=b.force_cds)!=null?b:!1;return l()||b?a.CDS||a["default"]:a["default"]}function a(a,b){a.challenge_type==="2fac"?r(b,a):o(b,a)}function o(a,b){return s(a,function(a){var c=a.onCancel,d=a.onExit,e=a.onFailure;a=a.onSuccess;var f=b.challenge_type;switch(f){case"reauth":return p(f,b,d,a);default:return q(f,b,d,a,c,e)}})}function p(a,b,e,f){var g=d("securedActionChallengeToEntrypoints").securedActionChallengeToEntrypointsWithEncryptedContext(a);if(g===null){e();throw c("FBLogger")("secured_action").mustfixThrow('unsuported challenge type "%s"',a)}return i.jsx(j,{encryptedContext:(a=b.encrypted_context)!=null?a:"",entrypoint:n(g,b),flow:"secured_action",onExit:e,onSuccess:f,useXFAC:(a=b.use_xfac)!=null?a:!1,xfacConfig:"XFAC_ORGANIC_SENSITIVE_ACTIONS"})}p.displayName=p.name+" [from "+f.id+"]";function q(a,b,e,f,g,h){var j=d("securedActionChallengeToEntrypoints").securedActionChallengeToEntrypointsWithAccountID(a);if(j===null){e();throw c("FBLogger")("secured_action").mustfixThrow('unsuported challenge type "%s"',a)}return i.jsx(k,{accountID:b.account_id,categoryName:b.category_name,entrypoint:m(j,b),onCancel:g,onExit:e,onFailure:h,onSuccess:f})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){return s(a,function(a){var d=a.onExit;a=a.onSuccess;var e=b.encrypted_context;if(e===void 0){d();throw c("FBLogger")("secured_action").mustfixThrow("two_factor challenge was thrown without a context")}return i.jsx(j,{encryptedContext:e,entrypoint:c("SecuredActionDialogRoot.entrypoint"),flow:"secured_action",onExit:d,onSuccess:a,useXFAC:(e=b.use_xfac)!=null?e:!1,xfacConfig:"XFAC_SENSITIVE_ACTIONS_2FA"})})}function s(a,b){var e=a.onCancel,f=a.onExit,g=a.onFailure,h=a.onSuccess;return d("CometErrorOverlay").injectComponent(function(a){return i.jsx(c("CometRelayEnvironmentProvider"),{children:i.jsx(c("OutsideExceptionKeyCommandListener.react"),{children:i.jsx(c("CometTransientDialogProvider.react"),{children:b({onCancel:function(){e==null?void 0:e()},onExit:function(){f(),a()},onFailure:function(){g==null?void 0:g()},onSuccess:function(){h(),a()}})})})})})}g["default"]=a}),98);
__d("handleCometReauthenticationSideEffects",["errorCode","FBLogger","SecuredActionUtils","cr:3096","cr:5888","err","json-bigint","securedActionTriggerChallenge"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("json-bigint")({storeAsString:!0}),j=new Set(),k=new Set();function l(){var a=c("err")(d("SecuredActionUtils").SECURED_ACTION_REAUTH_CANCELED_ERROR.toString());a.type="info";for(var b=k,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;g=g.onError;g(a)}}function m(){for(var a=k,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d=d.onSuccess;d()}}function n(a){try{return i.parse(a)}catch(a){a instanceof Error&&c("FBLogger")("secured_action").catching(a)}return{account_id:"",challenge_type:"password"}}function a(a,d,e){var f,g=a==null?void 0:a.source,h=(f=(f=g==null?void 0:g.errorCode)!=null?f:g==null?void 0:g.code)!=null?f:g==null?void 0:g.error;if(h!==2136001&&h!==3490037)return!1;k.add({onError:e,onSuccess:d});if(j.has(h))return!0;j.add(h);var i=function(){j["delete"](h),k.clear()};f=b("cr:5888")==null?void 0:b("cr:5888")({error:a,onCleanup:i,onError:l,onSuccess:m});if(f===!0)return!0;e=b("cr:3096")==null?void 0:b("cr:3096")({error:a,onCleanup:i,onError:l,onSuccess:m});if(e===!0)return!0;try{f=n((d=g==null?void 0:g.description)!=null?d:"");c("securedActionTriggerChallenge")(f,{onExit:function(){l(),i()},onSuccess:function(){m(),i()}})}catch(a){j["delete"](h);if(a instanceof Error)throw c("FBLogger")("secured_action").mustfixThrow("Something when wrong while triggering the dialog: %s",a.message);return!1}return!0}g["default"]=a}),98);
__d("useCAALoggedOutDialogWrapperHookNoop",["emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("emptyFunction")}g["default"]=a}),98);
__d("useIXTFacebookEntryPointDialog",["cr:7443","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,c,d,e,f){d=d===void 0?"button":d;return b("cr:7443")(a,c,d,e,f)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BPlusTree",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]};a=function(){function a(a,b){b===void 0&&(b=32),this.$3={children:[],isLeaf:!0,keys:[]},this.$4=this.$3,this.$5=this.$3,this.$1=a,this.$2=b}a.fromSorted=function(a,b,c){b=new this(b,c);c=a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();a=c.next();while(!a.done){var d=[],e=b.$5,f;while(!e.isLeaf)d.push([e,-1]),f=e.keys.length,e=e.children[f];f=(b.$2-1)*2;f=f-e.keys.length;while(!a.done&&f>0)e.keys.push(a.value[0]),e.children.push(a.value[1]),f--,a=c.next();b.$6(e,d,!0)}return b};var b=a.prototype;b.$7=function(a,b){var c=this.$5,d=-1;while(!c.isLeaf)b==null?void 0:b.push([c,d]),d=this.$8(c.keys,a,h.gt),d===-1&&(d=c.keys.length),c=c.children[d];return[c,d]};b.$8=function(a,b,c){var d=0,e=a.length-1;while(d<=e){var f=d+e>>1;(c[0]?this.$1(a[f],b)<0:this.$1(a[f],b)<=0)?d=f+1:e=f-1}f=[d,e][c[1]];return f===a.length?-1:f};b.$9=function(a,b){if(!a.length){a.push(b);return[0,0]}var c=this.$8(a,b,h.gte);if(c===-1)return[a.push(b)-1,0];else if(this.$1(a[c],b)===0)return[c,1];a.splice(c,0,b);return[c,0]};b.$6=function(a,b,c){for(var a=a,d;a.keys.length>=this.$2;a=d){var d=b.pop()||[this.$5={children:[a],isLeaf:!1,keys:[]}];d=d[0];var e=Math.floor(a.keys.length/2),f=void 0;a.isLeaf?(f=a.next={children:a.children.slice(e),isLeaf:!0,keys:a.keys.slice(e),next:a.next,prev:a},f.next?f.next.prev=f:this.$4=f):f={children:a.children.slice(e+1),isLeaf:!1,keys:a.keys.slice(e+1)};if(c)d.keys.push(a.keys[e]),d.children.push(f);else{var g=this.$9(d.keys,a.keys[e]);g=g[0];d.children.splice(g+1,0,f)}a.keys.length=e;a.children.length=e+(a.isLeaf?0:1)}};b.clear=function(){this.$5=this.$3=this.$4={children:[],isLeaf:!0,keys:[]}};b.delete=function(a){var b=Math.floor(this.$2/2),d=[],e=this.$7(a,d),f=e[0];e=e[1];var g=this.$8(f.keys,a,h.gte);if(g===-1||this.$1(f.keys[g],a)!==0)return!1;f.keys.splice(g,1);f.children.splice(g,1);for(var a=f,g=e,e,f;a.keys.length<b&&d.length;o=[e,f],a=o[0],g=o[1],o){f=d.pop();e=f[0];f=f[1];var i=[[e.children[g-1],a,g-1],[a,e.children[g+1],g]].filter(function(a){var b=a[0];a=a[1];return b&&a});for(var j of i){var k=j[0],l=j[1],m=j[2];if(k.keys.length+l.keys.length>=b*2){if(a.isLeaf){var n=[].concat(k.children,l.children),o=[].concat(k.keys,l.keys);k.children=(l.children=n).splice(0,b);k.keys=(l.keys=o).splice(0,b);e.keys[m]=o[0]}else{n=[].concat(k.children,l.children);o=[].concat(k.keys,[e.keys[m]],l.keys);k.children=(l.children=n).splice(0,b+1);e.keys[m]=o.splice(b,1)[0];k.keys=(l.keys=o).splice(0,b)}return!0}}for(n of i){m=n[0];k=n[1];l=n[2];m.children=[].concat(m.children,k.children);a.isLeaf?(m.keys=[].concat(m.keys,k.keys),k.keys.length=0,k.next?k.next.prev=m:this.$4=m,m.next=k.next):m.keys=[].concat(m.keys,[e.keys[l]],k.keys);e.keys.splice(l,1);e.children.splice(l+1,1);break}}if(!this.$5.keys.length&&this.$5.children.length){j=this.$5;if(j.isLeaf)throw c("unrecoverableViolation")("cannot be leaf","maw_db");this.$5=j.children[0]}return!0};b.entries=function*(a){a=a===void 0?{}:a;var b=a.dir;b=b===void 0?"asc":b;a=babelHelpers.objectWithoutPropertiesLoose(a,["dir"]);if(Object.prototype.hasOwnProperty.call(a,"gt")&&Object.prototype.hasOwnProperty.call(a,"gte"))throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","maw_db");if(Object.prototype.hasOwnProperty.call(a,"lt")&&Object.prototype.hasOwnProperty.call(a,"lte"))throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","maw_db");if(b==="asc"){if(Object.prototype.hasOwnProperty.call(a,"gt")){b=this.$7(a.gt);b=b[0]}else if(Object.prototype.hasOwnProperty.call(a,"gte")){var d=this.$7(a.gte);b=d[0]}else b=this.$3;d=Object.prototype.hasOwnProperty.call(a,"gt")?this.$8(b.keys,a.gt,h.gt):Object.prototype.hasOwnProperty.call(a,"gte")?this.$8(b.keys,a.gte,h.gte):0;while(b){var e=b;while(d!==-1&&d<e.keys.length){var f=e.keys[d];if(Object.prototype.hasOwnProperty.call(a,"lt")&&this.$1(f,a.lt)>=0||Object.prototype.hasOwnProperty.call(a,"lte")&&this.$1(f,a.lte)>0)return;var g=(yield [e.keys[d],e.children[d]]);if(g!=null){if(this.$1(g,f)<=0)throw c("unrecoverableViolation")("key must be greater than current key","maw_db");d=this.$8(e.keys,g,h.gte);if(d===-1){var i=this.$7(g);e=i[0];d=this.$8(e.keys,g,h.gte)}}else{i=e.keys[d]!==f;if(i){d=this.$8(e.keys,f,h.lte);if(d===-1){g=this.$7(f);e=g[0];d=this.$8(e.keys,f,h.lte)}}d++}}b=e.next;d=0}}else{if(Object.prototype.hasOwnProperty.call(a,"lt")){i=this.$7(a.lt);b=i[0]}else if(Object.prototype.hasOwnProperty.call(a,"lte")){g=this.$7(a.lte);b=g[0]}else b=this.$4;f=Object.prototype.hasOwnProperty.call(a,"lt")?this.$8(b.keys,a.lt,h.lt):Object.prototype.hasOwnProperty.call(a,"lte")?this.$8(b.keys,a.lte,h.lte):b.keys.length-1;while(b){e=b;while(f!==-1&&f>=0){d=e.keys[f];if(Object.prototype.hasOwnProperty.call(a,"gt")&&this.$1(d,a.gt)<=0||Object.prototype.hasOwnProperty.call(a,"gte")&&this.$1(d,a.gte)<0)return;i=(yield [e.keys[f],e.children[f]]);if(i!=null){if(this.$1(i,d)>=0)throw c("unrecoverableViolation")("key must be less than current key","maw_db");f=this.$8(e.keys,i,h.lte);if(f===-1){g=this.$7(i);e=g[0];f=this.$8(e.keys,i,h.lte)}}else{g=e.keys[f]!==d;if(g){f=this.$8(e.keys,d,h.gte);if(f===-1){i=this.$7(d);e=i[0];f=this.$8(e.keys,d,h.gte)}}f--}}b=e.prev;f=b!=null?b.keys.length-1:-1}}};b.get=function(a){var b=this.$7(a);b=b[0];var d=this.$8(b.keys,a,h.gte);if(d===-1||this.$1(b.keys[d],a)!==0)throw c("unrecoverableViolation")("key not found: "+String(a),"maw_db");return b.children[d]};b.getWithDefault=function(a,b){var c=this.$7(a);c=c[0];var d=this.$8(c.keys,a,h.gte);return d===-1||this.$1(c.keys[d],a)!==0?b:c.children[d]};b.has=function(a){var b=this,c=this.$7(a);c=c[0];return c.keys.findIndex(function(c){return b.$1(a,c)===0})!==-1};b.set=function(a,b){var c=[],d=this.$7(a,c);d=d[0];a=this.$9(d.keys,a);var e=a[0];a=a[1];d.children.splice(e,a,b);this.$6(d,c,!1);return this};return a}();g.default=a}),98);
__d("I64MigrationHelper",["I64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return c("nullthrows")((h||(h=d("I64"))).cast(a))}g.cast=a}),98);
__d("LSAuthorityLevel",[],(function(a,b,c,d,e,f){a=Object.freeze({OPTIMISTIC:20,CLIENT_PARTIAL:40,SERVER_PARTIAL:60,AUTHORITATIVE_PENDING_REPLACEMENT:75,AUTHORITATIVE:80,CLIENT_AUTHORITATIVE_DELETE:100});f["default"]=a}),66);
__d("LSClientSchemaType",[],(function(a,b,c,d,e,f){"use strict";a="maw";f.MAW_SCHEMA_NAME=a}),66);
__d("LSConstants",[],(function(a,b,c,d,e,f){"use strict";a="ls";f.LS_SCHEMA_NAME=a}),66);
__d("LSContactBlockedByViewerStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNBLOCKED:0,MESSAGE_BLOCKED:1,FULLY_BLOCKED:2});f["default"]=a}),66);
__d("LSDbForeignKeys",[],(function(a,b,c,d,e,f){"use strict";a={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]};b=a;f["default"]=b}),66);
__d("MAWDbVersionList",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}b={V21:21,V22:22,V23:23,V24:24,V25:25,V26:26,V27:27,V28:28,V29:29,V30:30,V31:31,V32:32,V33:33,V34:34,V35:35,V36:36,V37:37,V38:38,V39:39,V40:40,V41:41,V42:42,V43:43,V44:44,V45:45,V46:46,V47:47,V48:48,V49:49,V50:50,V51:51,V52:52,V53:53,V54:54,V55:55,V56:56,V57:57,V58:58,V59:59,V60:60,V61:61,V62:62,V63:63,V64:64,V65:65,V66:66,V67:67,V68:68,V69:69,V70:70,V71:71,V72:72,V73:73,V74:74,V75:75,V76:76,V77:77,V78:78,V79:79,V80:80,V81:81,V82:82,V83:83,V84:84,V85:85,V86:86,V87:87,V88:88,V89:89,V90:90,V91:91,V92:92,V93:93,V94:94,V95:95,V96:96,V97:97,V98:98,V99:99,V100:100,V101:101,V102:102,V103:103,V104:104,V105:105,V106:106,V107:107,V108:108,V109:109,V110:110,V111:111,V112:112,V113:113,V114:114,V115:115,V116:116,V117:117,V118:118,V119:119,V120:120,V121:121};f.toVersion=a;f.VERSION=b}),66);
__d("MAWDbSchema",["MAWDbVersionList"],(function(a,b,c,d,e,f,g){"use strict";a=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"]}},name:"e2ee_appData",primaryKey:["appDataId"]},{autoIncrement:!1,indexes:{},name:"e2ee_meta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_appMeta",primaryKey:["key"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_prekeyGeneration",primaryKey:["generationId"]},{autoIncrement:!1,indexes:{},name:"e2ee_session",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_signedPrekey",primaryKey:["keyId"]},{autoIncrement:!1,indexes:{},name:"e2ee_tasks",primaryKey:["taskName"]},{autoIncrement:!1,indexes:{groupJid:{columns:["groupJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_senderKeySessions",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_personalSenderKeyStatuses",primaryKey:["groupJid"]},{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_contacts",primaryKey:["contactJid"]},{autoIncrement:!1,indexes:{},name:"e2ee_receipts",primaryKey:["msgId"]},{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_media",primaryKey:["mediaId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{hashedPlaintextHash:{columns:["hashedPlaintextHash"]}},name:"e2ee_chunk",primaryKey:["chunkId"]},{autoIncrement:!0,indexes:{jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]},{autoIncrement:!1,indexes:{},name:"e2ee_existingUsers",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_pendingReceipts",primaryKey:["id"]},{autoIncrement:!0,indexes:{version:{columns:["version"]}},name:"e2ee_browserEncryptionMeta",primaryKey:["id"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]},{autoIncrement:!0,indexes:{uniqKey:{columns:["uniqKey"]}},name:"e2ee_jobs",primaryKey:["jobId"]},{autoIncrement:!1,indexes:{},name:"e2ee_identity",primaryKey:["deviceJid"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}];b=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];c=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}];e=[{autoIncrement:!0,indexes:{},name:"e2ee_isDualSend",primaryKey:["rowId"]}];f=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeSecretKey",primaryKey:["key"]}];var h=[{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],i=[{autoIncrement:!0,indexes:{altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],j=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId"]}],k=[{autoIncrement:!0,indexes:{deleteTs:{columns:["deleteTs"],unique:!1},externalIdWithType:{columns:["externalIdWithType"],unique:!1}},name:"e2ee_pendingStanzas",primaryKey:["rowId"]}],l=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"]},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"]}},name:"e2ee_media",primaryKey:["mediaId"]}],m=[{autoIncrement:!0,indexes:{},name:"e2ee_dualSendMedia",primaryKey:["id"]}],n=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],o=[{autoIncrement:!1,indexes:{},name:"e2ee_historySyncQRCodeData",primaryKey:["rowId"]}],p=[{autoIncrement:!0,indexes:{associatedMessageId:{columns:["associatedMessageId"],unique:!1},defaultPreviewMediaId:{columns:["defaultPreviewMediaId"],unique:!1},externalId:{columns:["externalId"],unique:!1},faviconMediaId:{columns:["faviconMediaId"],unique:!1},headerMediaId:{columns:["headerMediaId"],unique:!1},targetExpiringAtSec:{columns:["targetExpiringAtSec"],unique:!1}},name:"e2ee_xma",primaryKey:["xmaId"]}],q=[{autoIncrement:!0,indexes:{},name:"e2ee_dyiBatch",primaryKey:["batchId"]}],r=[{autoIncrement:!1,indexes:{correspondingOpenThreadKey:{columns:["correspondingOpenThreadKey"],unique:!1},threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],s=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"],removed:!0}],t=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],u=[{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]},{autoIncrement:!0,indexes:{"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteForMeTs:{columns:["messageDeleteForMeTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_unrenderedMessages",primaryKey:["rowId"]}],v=[{autoIncrement:!1,indexes:{"[modelId+modelType+actionState]":{columns:["modelId","modelType","actionState"],unique:!1},action:{columns:["action"],unique:!1},actionState:{columns:["actionState"],unique:!1},collection:{columns:["collection"],unique:!1},indexMac:{columns:["indexMac"],unique:!1}},name:"e2ee_syncActions",primaryKey:["index"]}],w=[{autoIncrement:!1,indexes:{},name:"e2ee_missingKeys",primaryKey:["keyHex"]}],x=[{autoIncrement:!0,indexes:{action:{columns:["action"],unique:!1},collection:{columns:["collection"],unique:!1},index:{columns:["index"],unique:!1}},name:"e2ee_pendingMutations",primaryKey:["id"]}],y=[{autoIncrement:!0,indexes:{collection:{columns:["collection"]}},name:"e2ee_collectionVersions",primaryKey:["id"]}],z=[{autoIncrement:!0,indexes:{keyEpoch:{columns:["keyEpoch"],unique:!1},keyId:{columns:["keyId"]}},name:"e2ee_syncKeys",primaryKey:["id"]}],A=[{autoIncrement:!1,indexes:{userJid:{columns:["userJid"],unique:!1}},name:"e2ee_identity",primaryKey:["deviceJid"]}],B=[{autoIncrement:!1,indexes:{externalId:{columns:["externalId"],unique:!1},lastRetryTs:{columns:["lastRetryTs"],unique:!1},traceId:{columns:["traceId"],unique:!1}},name:"e2ee_uploadRetryStatus",primaryKey:["externalId","lastRetryTs"]}],C=[{autoIncrement:!0,indexes:{jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],D=[{autoIncrement:!0,indexes:{},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]}],E=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"]}],F=[{autoIncrement:!0,indexes:{deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],G=[{autoIncrement:!0,indexes:{mediaId:{columns:["mediaId"],unique:!1},msgId:{columns:["msgId"],unique:!1},objectId:{columns:["objectId"]}},name:"e2ee_mediaBackup",primaryKey:["mediaBackupId"]}],H=[{autoIncrement:!0,indexes:{authoritativeThreadKey:{columns:["authoritativeThreadKey"]},deduplicationKey:{columns:["deduplicationKey"],predicate:function(a){return a.deduplicationKey!=null}},jid:{columns:["jid"]},threadOrder:{columns:["threadOrder"],unique:!1}},name:"e2ee_threads",primaryKey:["chatId"]}],I=[{autoIncrement:!0,indexes:{"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],J=[{autoIncrement:!0,indexes:{originalMsgExternalId:{columns:["originalMsgExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],K=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"],removed:!0},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"],removed:!0},{autoIncrement:!0,indexes:{},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],L=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],M=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],N=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]},{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],O=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},thread:{columns:["thread"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],P=[{autoIncrement:!0,indexes:{},name:"e2ee_jobs",primaryKey:[],removed:!0}],Q=[{autoIncrement:!0,indexes:{},name:"e2ee_danglingQueue",primaryKey:["queueId"]}],R=[{autoIncrement:!0,indexes:{dbVersion:{columns:["dbVersion"],unique:!1}},name:"e2ee_staleQueue",primaryKey:["staleQueueId"]}],S=[{autoIncrement:!0,indexes:{"[offlineThreadingId+backupActionType]":{columns:["offlineThreadingId","backupActionType"],unique:!1},"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},offlineThreadingId:{columns:["offlineThreadingId"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],T=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsBackloggedMessages",primaryKey:["rowId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsEncryptionMeta",primaryKey:["key"]},{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"]}],U=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},threadId:{columns:["threadId"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],V=[{autoIncrement:!0,indexes:{},name:"e2ee_pendingMessageStanzaQueue",primaryKey:["pendingMessageStanzaQueueId"]}],W=[{autoIncrement:!0,indexes:{author:{columns:["author"],unique:!1},chat:{columns:["chat"],unique:!1},externalId:{columns:["externalId"],unique:!1}},name:"e2ee_deletedMessages",primaryKey:["rowId"]}],X=[{autoIncrement:!0,indexes:{threadJid:{columns:["threadJid"],unique:!1}},name:"e2ee_ebMsgRanges",primaryKey:["rangeId"]}],Y=[{autoIncrement:!1,indexes:{inviterJid:{columns:["inviterJid"],unique:!1},threadJid:{columns:["threadJid","inviteeJid"],unique:!1}},name:"e2ee_groupInvites",primaryKey:["invitedParticipantId","inviterJid"]}],Z=[{autoIncrement:!1,indexes:{waMsgId:{columns:["waMsgId"]}},name:"e2ee_receipts",primaryKey:["msgId"]}],$=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},"[jid+type]":{columns:["jid","type"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1},stanzaId:{columns:["stanzaId"],unique:!1},type:{columns:["type"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],aa=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],unique:!1},revokedExternalId:{columns:["revokedExternalId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ba=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[thread+sortOrderMs]":{columns:["thread","sortOrderMs"],unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ca=[{autoIncrement:!1,dexieOnly_primaryKeyUnique:!0,indexes:{ts:{columns:["ts"],unique:!1}},name:"e2ee_sentBytesCache",primaryKey:["waMsgId"]}],da=[{autoIncrement:!0,indexes:{"[thread+serverTs]":{columns:["thread","serverTs"],predicate:function(a){return a.serverTs!=null},unique:!1},"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ea=[{autoIncrement:!0,indexes:{"[originalMsgExternalId+threadJid]":{columns:["originalMsgExternalId","threadJid"],unique:!1}},name:"e2ee_editMsgHistory",primaryKey:["editMsgHistoryId"]}],fa=[{autoIncrement:!0,indexes:{deviceJid:{columns:["deviceJid"],unique:!1},displayOrder:{columns:["isArchived","ts"],unique:!1},isConfirmedActionTs:{columns:["isConfirmed","action","ts"],unique:!1},isNotifiedTs:{columns:["isNotified","ts"],unique:!1}},name:"e2ee_deviceChangeAlerts",primaryKey:["deviceChangeAlertsId"]},{autoIncrement:!1,indexes:{threadId:{columns:["threadId"],unique:!1}},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],ga=[{autoIncrement:!0,indexes:{"[uploadStatus+uploadTsSec]":{columns:["uploadStatus","uploadTsSec"],unique:!1},backupActionType:{columns:["backupActionType"],unique:!1},msgIdKey:{columns:["msgIdKey"],unique:!1},uploadStatus:{columns:["uploadStatus"],unique:!1},uploadTsSec:{columns:["uploadTsSec"],unique:!1}},name:"e2ee_ebUploadQueue",primaryKey:["queueId"]}],ha=[{autoIncrement:!1,indexes:{},name:"e2ee_ephemeralSettings",primaryKey:["userJid"]}],ia=[{autoIncrement:!1,indexes:{ebClientRequired:{columns:["ebClientRequired","timestampMs"],unique:!1},restorable:{columns:["restorable","timestampMs"],unique:!1}},name:"e2ee_ebMessageRestoreTasks",primaryKey:["messageId"]}],ja=[{autoIncrement:!1,indexes:{},name:"e2ee_igMessageAuxiliaryInfo",primaryKey:["messageId"]}],ka=[{autoIncrement:!1,indexes:{plaintextHash:{columns:["plaintextHash"],unique:!1}},name:"e2ee_mediaKeys",primaryKey:["ciphertextHash"]}],la=[{autoIncrement:!0,indexes:{"[jid+priority]":{columns:["jid","priority"],unique:!1},jid:{columns:["jid"],unique:!1},priority:{columns:["priority"],unique:!1}},name:"e2ee_stanzaQueue",primaryKey:["stanzaQueueId"]}],ma=[{autoIncrement:!1,indexes:{"[threadJid+userJid]":{columns:["threadJid","userJid"],unique:!1},userJid:{columns:["userJid"],unique:!1}},name:"e2ee_participants",primaryKey:["id"]}],na=[{autoIncrement:!1,indexes:{},name:"e2ee_groupInfo",primaryKey:["groupJid"]}],oa=[{autoIncrement:!0,indexes:{},name:"e2ee_ebRestoreQueue",primaryKey:["queueId"]}],pa=[{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeBacklog",primaryKey:["externalId"]},{autoIncrement:!1,indexes:{},name:"e2ee_ftsPurgeThreadBacklog",primaryKey:["chatJid"]}],qa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],ra=[{autoIncrement:!0,indexes:{"*prefixes":{columns:["prefixes"],multiEntry_DO_NOT_USE:!0,unique:!1},chatId:{columns:["chatId"],unique:!1},id:{columns:["id"],unique:!1}},name:"e2ee_ftsIndexV3",primaryKey:["ftsRowId"],removed:!0}],sa=[{autoIncrement:!0,indexes:{fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ta=[{autoIncrement:!1,indexes:{},name:"e2ee_retroactiveBackupsState",primaryKey:["threadId"],removed:!0}],ua=[{autoIncrement:!1,indexes:{},name:"e2ee_uploadRetryStatus",primaryKey:[],removed:!0}],va=[{autoIncrement:!1,indexes:{},name:"e2ee_receiverFetchInfo",primaryKey:["receiverFetchId"]}],wa=[{autoIncrement:!0,indexes:{"[threadJid+ts]":{columns:["threadJid","ts"],unique:!1},externalId:{columns:["externalId"],unique:!1},reactionId:{columns:["reactionId"],unique:!1},reactToExternalId:{columns:["reactToExternalId"],unique:!1},reactToMsgId:{columns:["reactToMsgId"],unique:!1},threadJid:{columns:["threadJid"],unique:!1},ts:{columns:["ts"],unique:!1}},name:"e2ee_reactions",primaryKey:["rowId"]}],xa=[{autoIncrement:!0,indexes:{"*msgIds":{columns:["msgIds"],multiEntry_DO_NOT_USE:!0},fbid:{columns:["fbid"],unique:!1},hashedPlaintextHash:{columns:["hashedPlaintextHash"]},objectId:{columns:["objectId"],unique:!1}},name:"e2ee_media",primaryKey:["mediaId"]}],ya=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],za=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Aa=[{autoIncrement:!0,indexes:{"[threadJid+sortOrderMs]":{columns:["threadJid","sortOrderMs"],unique:!1},ack:{columns:["ack"],unique:!1},altIndex:{columns:["altIndex"],predicate:function(a){return a.altIndex!=null},unique:!1},externalId:{columns:["externalId"],unique:!1},messageDeleteTs:{columns:["messageDeleteTs"],predicate:function(a){return a.messageDeleteTs!=null},unique:!1},messageExpirationTs:{columns:["messageExpirationTs"],predicate:function(a){return a.messageExpirationTs!=null},unique:!1},msgId:{columns:["msgId"],unique:!1},protocolMsgId:{columns:["protocolMsgId"],unique:!0},quoteExpirationTs:{columns:["quoteExpirationTs"],predicate:function(a){return a.quoteExpirationTs!=null},unique:!1},quoteExternalId:{columns:["quoteExternalId"],predicate:function(a){return a.quoteExternalId!=null},unique:!1},revokedExternalId:{columns:["revokedExternalId"],predicate:function(a){return a.revokedExternalId!=null},unique:!1},threadJid:{columns:["threadJid"],unique:!1},unsendMsgContentDeleteTs:{columns:["unsendMsgContentDeleteTs"],predicate:function(a){return a.unsendMsgContentDeleteTs!=null},unique:!1}},name:"e2ee_messages",primaryKey:["rowId"]}],Ba=[{autoIncrement:!0,indexes:{version:{columns:["version"],unique:!0}},name:"e2ee_encryptionMetaV3",primaryKey:["id"]}];a=new Map([[(d=d("MAWDbVersionList")).VERSION.V21,a],[d.VERSION.V22,b],[d.VERSION.V23,c],[d.VERSION.V24,e],[d.VERSION.V25,f],[d.VERSION.V30,h],[d.VERSION.V31,i],[d.VERSION.V32,j],[d.VERSION.V33,k],[d.VERSION.V34,l],[d.VERSION.V35,m],[d.VERSION.V36,n],[d.VERSION.V37,o],[d.VERSION.V38,p],[d.VERSION.V39,q],[d.VERSION.V40,r],[d.VERSION.V41,s],[d.VERSION.V42,t],[d.VERSION.V45,u],[d.VERSION.V48,v],[d.VERSION.V49,w],[d.VERSION.V50,x],[d.VERSION.V51,y],[d.VERSION.V52,z],[d.VERSION.V57,A],[d.VERSION.V59,B],[d.VERSION.V61,C],[d.VERSION.V62,D],[d.VERSION.V63,E],[d.VERSION.V64,F],[d.VERSION.V65,G],[d.VERSION.V67,H],[d.VERSION.V69,I],[d.VERSION.V70,J],[d.VERSION.V73,K],[d.VERSION.V74,L],[d.VERSION.V75,M],[d.VERSION.V77,N],[d.VERSION.V78,O],[d.VERSION.V79,P],[d.VERSION.V80,Q],[d.VERSION.V81,R],[d.VERSION.V83,S],[d.VERSION.V84,T],[d.VERSION.V85,U],[d.VERSION.V86,V],[d.VERSION.V88,W],[d.VERSION.V89,X],[d.VERSION.V90,Y],[d.VERSION.V91,Z],[d.VERSION.V92,$],[d.VERSION.V93,aa],[d.VERSION.V94,ba],[d.VERSION.V95,ca],[d.VERSION.V96,da],[d.VERSION.V97,ea],[d.VERSION.V98,fa],[d.VERSION.V99,ga],[d.VERSION.V100,ha],[d.VERSION.V102,ia],[d.VERSION.V103,ja],[d.VERSION.V104,ka],[d.VERSION.V105,la],[d.VERSION.V106,ma],[d.VERSION.V107,na],[d.VERSION.V108,oa],[d.VERSION.V109,pa],[d.VERSION.V110,qa],[d.VERSION.V111,ra],[d.VERSION.V112,sa],[d.VERSION.V113,ta],[d.VERSION.V114,ua],[d.VERSION.V115,va],[d.VERSION.V116,wa],[d.VERSION.V117,xa],[d.VERSION.V118,ya],[d.VERSION.V119,za],[d.VERSION.V120,Aa],[d.VERSION.V121,Ba]]);b=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","mediaBackup","media","reactions","groupInvites","dyiBatch","syncActions","missingKeys","pendingMutations","collectionVersions","syncKeys","deviceChangeAlerts","xma","editMsgHistory","deletedMessages","ebMsgRanges","receiverFetchInfo"];g.dbSchema=a;g.TABLES_TO_ENCRYPT=b}),98);
__d("MAWGetDbVersion",["MAWDbVersionList","justknobx","objectValues"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){var a;return(a=h)!=null?a:d("MAWDbVersionList").toVersion(c("justknobx")._("1716"))}function b(a){if(!c("justknobx")._("1495"))return;if(a==null){h=null;return h}if(a==="current"){h=null;return h}var b=Math.max.apply(Math,c("objectValues")(d("MAWDbVersionList").VERSION));if(a==="latest"){h=d("MAWDbVersionList").toVersion(b);return h}if(!Number.isInteger(a))return h;if(a<0){h=d("MAWDbVersionList").toVersion(b+a);return h}h=d("MAWDbVersionList").toVersion(a)}g.getArmadilloDbVersion=a;g.setArmadilloDbVersionForTest=b}),98);
__d("sortBy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.map(function(a,c){return{index:c,sortValue:b(a),value:a}});a.sort(function(a,b){var c=a.sortValue,d=b.sortValue;if(c>d)return 1;return c<d?-1:a.index-b.index});return a.map(function(a){return a.value})}f["default"]=a}),66);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(a,b,c,d,e,f,g){"use strict";a={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_isDualSend:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function h(a){var b=Object.fromEntries(c("objectEntries")(a.indexes).filter(function(a){a=a[1];return a.multiEntry_DO_NOT_USE!==!0}).map(function(b){var c=b[0];b=b[1];return[c,{columns:[].concat(b.columns,b.unique!==!1?[]:a.primaryKey),predicate:b.predicate}]}));b={auto_increment:a.autoIncrement===!0,indexes:b,name:a.name,primary_key:a.primaryKey};return b}var i=c("sortBy")(Array.from(d("MAWDbSchema").dbSchema.entries()),function(a){a=a[0];return a}).map(function(a){var b=a[0];a=a[1];return{schema:a,version:b}});b=function(a){return Array.from(i.filter(function(b){return b.version<=a&&b.schema!=null}).reduce(function(a,b){(b=b.schema)==null?void 0:b.forEach(function(b){if(b.removed===!0){a["delete"](b.name);return}a.set(b.name,h(b))});return a},new Map()).values())};e=b(d("MAWGetDbVersion").getArmadilloDbVersion());g.msgrDbStores=a;g.getSchemaForVersion=b;g.clientSchema=e}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(a,b,c,d,e,f){"use strict";a=importNamespace("MAWDbSchema.restore").clientSchema;f.clientSchema=a}),66);
__d("PromiseOrValue",["isPromise","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if((h||(h=c("isPromise")))(a)&&(h||(h=c("isPromise")))(b))return a.then(function(a){return b.then(function(b){return[a,b]})});if((h||(h=c("isPromise")))(a))return a.then(function(a){return[a,b]});return(h||(h=c("isPromise")))(b)?b.then(function(b){return[a,b]}):[a,b]}function b(a){var b=a.find(h||(h=c("isPromise")));return!b?a:Promise.all(a)}function d(a,b){return(h||(h=c("isPromise")))(a)?a.then(b):b(a)}function i(a,b){b=b;while(!0){var d=a(b);if((h||(h=c("isPromise")))(d))return d.then(function(b){return b.action==="break"?b.value:i(a,b.value)});if(d.action==="break")return d.value;b=d.value}throw c("unrecoverableViolation")("just for flow","messenger_web_product")}g.all2=a;g.all=b;g.map=d;g.loop=i}),98);
__d("ReStoreKeyComparer",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){if((h||(h=d("I64"))).isI64(a))return"I64";else if(Array.isArray(a))return"Array";else if(typeof a==="string")return"String";else if(typeof a==="number")return"Number";else if(typeof a==="boolean")return"Boolean";else if(a instanceof Date)return"Date";else if(typeof a==="object"&&a!=null)return"Object";else if(a==="undefined")return"Undefined";else if(a===null)return"Null";return"Unknown"}var j=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a="Expected types to be the same but got "+i(a)+" and "+i(c);return b.call(this,a)||this}return a}(babelHelpers.wrapNativeSuper(Error)),k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){a="Unexpected type "+i(a);return b.call(this,a)||this}return a}(babelHelpers.wrapNativeSuper(Error)),l=[[]];function m(a,b){var c=a===l,d=b===l;if(c&&d)return 0;if(c)return 1;if(d)return-1;if(a===null)return b===null?0:-1;else if(b===null)return 1;if(a===void 0)return b===void 0?0:-1;else if(b===void 0)return 1;if(Array.isArray(a)){if(!Array.isArray(b)){if(typeof b==="string")return 1;throw new j(a,b)}c=a[0];d=b[0];if(c<d)return-1;if(c>d)return 1;c=a[1];d=b[1];if(c<d)return-1;if(c>d)return 1}else if(typeof a==="string"){if(typeof b!=="string"){if(typeof b==="number"||b instanceof Date)return 1;if(Array.isArray(b))return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(typeof b!=="number"){if(typeof b==="string")return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date)){if(typeof b==="string")return-1;throw new j(a,b)}if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(typeof b!=="boolean")throw new j(a,b);if(!a&&b)return-1;if(a&&!b)return 1}else throw new k(a);return 0}function n(a,b){var c;for(c=0;c<a.length&&c<b.length;c++){var d=m(a[c],b[c]);if(d!==0)return d}if(c<a.length)return 1;return c<b.length?-1:0}a=function(a,b){return n(b,a)};g.MAX_KEY=l;g.compareValue=m;g.compareKey=n;g.compareKeyDesc=a}),98);
__d("ReQLBounds",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return b.length<a?[].concat(b,[c]):b}function j(a,b){b===void 0&&(b=-1);return i(b,a,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY)}function k(a,b,c){if(a!=null&&b!=null)return(h||(h=d("ReStoreKeyComparer"))).compareKey(a[1],b[1])*c>0?a[0]:b[0];if(a!=null)return a[0];if(b!=null)return b[0]}function l(a,b){return k((a==null?void 0:a.gt)!=null?[{gt:a.gt},j(a.gt)]:(a==null?void 0:a.gte)!=null?[{gte:a.gte},a.gte]:void 0,(b==null?void 0:b.gt)!=null?[{gt:b.gt},j(b.gt)]:(b==null?void 0:b.gte)!=null?[{gte:b.gte},b.gte]:void 0,1)}function m(a,b){return k((a==null?void 0:a.lt)!=null?[{lt:a.lt},a.lt]:(a==null?void 0:a.lte)!=null?[{lte:a.lte},j(a.lte)]:void 0,(b==null?void 0:b.lt)!=null?[{lt:b.lt},b.lt]:(b==null?void 0:b.lte)!=null?[{lte:b.lte},j(b.lte)]:void 0,-1)}function a(a,b){if(a==null)return void 0;a=babelHelpers.extends({},a);a.gt!=null&&(a.gt=i(b,a.gt,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY));a.lte!=null&&(a.lte=i(b,a.lte,(h||(h=d("ReStoreKeyComparer"))).MAX_KEY));return a}function b(a,b,c){a.forEach(function(a){var e=a[0];a=a[1];var f=(e==null?void 0:e.gt)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.gt)>0:(e==null?void 0:e.gte)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.gte)>=0:!0;e=(e==null?void 0:e.lt)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.lt)<0:(e==null?void 0:e.lte)!=null?(h||(h=d("ReStoreKeyComparer"))).compareKey(b,e.lte)<=0:!0;if(f&&e)return c(a)})}function c(a,b){if(b==null)return a;var c=l(b,a);b=m(b,a);if(c!=null&&b!=null)return babelHelpers.extends({},c,b);if(c!=null)return c;if(b!=null)return b}g.nextKey=j;g.getLowerLimit=l;g.getUpperLimit=m;g.extendBounds=a;g.forEachMatchingBounds=b;g.mergeBounds=c}),98);
__d("ReQLGlobalQueryContext",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return a.get(g)}function b(a,b){a.set(g,b)}var h={contents:void 0,withinSupportedContext:!1};function c(a){var b=h.withinSupportedContext;h.withinSupportedContext=!0;try{return a()}finally{h.withinSupportedContext=b}}f.getDependencies=a;f.setDependencies=b;f.globalQueryContext=h;f.runFromContextThatHandlesThrownPromise=c}),66);
__d("ReQL",["BPlusTree","PromiseOrValue","ReQLBounds","ReQLGlobalQueryContext","ReStoreKeyComparer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={bounds:b,filter:f,getKeyRange:o,map:q,take:u};function m(a,b){try{var c=(h||(h=d("ReQLGlobalQueryContext"))).globalQueryContext.contents,e=h.getDependencies(b);e==null&&(h||(h=d("ReQLGlobalQueryContext"))).setDependencies(b,[]);h.globalQueryContext.contents=b;var f,g;try{f=(h||(h=d("ReQLGlobalQueryContext"))).runFromContextThatHandlesThrownPromise(a),g=(h||(h=d("ReQLGlobalQueryContext"))).getDependencies(b)||[]}finally{(h||(h=d("ReQLGlobalQueryContext"))).setDependencies(b,e),h.globalQueryContext.contents=c}return[f,g]}catch(c){if(c instanceof Promise)return c.then(function(){return m(a,b)});throw c}}function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b}function b(a){var b=this;return Object.setPrototypeOf({direction:b.direction,iterator:function(c,e){return b.iterator(c,(i||(i=d("ReQLBounds"))).mergeBounds(a,e))},keyLength:b.keyLength,subscribe:function(c,e){return b.subscribe(c,(i||(i=d("ReQLBounds"))).mergeBounds(a,e))}},l)}var n=Object.setPrototypeOf({direction:"asc",iterator:function(){return{next:function(){return{done:!0}}}},keyLength:0,subscribe:function(){return function(){}}},l);function e(){return n}function f(a){var b=this,c=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(e,f){var g=b.iterator(e,f);return{next:function(b){return(j||(j=d("PromiseOrValue"))).loop(function(b){return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){if(b.done)return{action:"break",value:b};var e=b.value,f=e[0];e=e[1];if(a(e)){(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,f,function(a){a.add(JSON.stringify(f))});return{action:"break",value:b}}(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,f,function(a){a.delete(JSON.stringify(f))});return{action:"continue",value:void 0}})},b)}}},keyLength:b.keyLength,subscribe:function(e,f){var g={},h=new Set();c.set(g,[(i||(i=d("ReQLBounds"))).extendBounds(f,b.keyLength),h]);var j=b.subscribe(function(b,c,d){var f=JSON.stringify(b);if(c.operation==="add"&&a(c.value)){h.add(f);return e(b,c,d)}if(c.operation==="put"&&a(c.value)){if(h.has(f))return e(b,c,d);h.add(f);return e(b,{operation:"add",value:c.value},d)}if(c.operation==="put"&&h.has(f)){h.delete(f);return e(b,{operation:"delete"},d)}if(c.operation==="delete"&&h.has(f)){h.delete(f);return e(b,c,d)}},f);return function(){c.delete(g);return j()}}},l)}function o(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var e=this;function f(a){return a.gt!=null?{gt:[].concat(b,a.gt)}:{gte:[].concat(b,a.gte)}}function g(a){return a.lt!=null?{lt:[].concat(b,a.lt)}:{lte:[].concat(b,a.lte)}}function h(a){return a==null?{gte:b,lte:b}:babelHelpers.extends({},a.gte!=null||a.gt!=null?f(a):{gte:b},a.lte!=null||a.lt!=null?g(a):{lte:b})}return Object.setPrototypeOf({direction:e.direction,iterator:function(a,c){var f=e.iterator(a,h(c));return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(f.next(a==null?a:[].concat(b,a)),function(a){return a.done?{done:!0}:{done:!1,value:[a.value[0].slice(b.length),a.value[1]]}})}}},keyLength:e.keyLength-b.length,subscribe:function(a,c){return e.subscribe(function(c,d,e){return a(c.slice(b.length),d,e)},h(c))}},l)}function p(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","maw_db");return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g=a.iterator(e,f),h=b.iterator(e,f),i=h.next();function l(a){return(j||(j=d("PromiseOrValue"))).map(i,function(b){var c=b.done?!0:(k||(k=d("ReStoreKeyComparer"))).compareKey(a,b.value[0])<=0;c=c?b:h.next(a);i=c;return c})}return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(g.next(a),function(a){if(a.done)return{done:!0,value:void 0};var b=a.value;b=b[0];return(j||(j=d("PromiseOrValue"))).map(l(b),function(b){var e=a.value,f=e[0];e=e[1];if(b.done)return{done:!1,value:[f,[e,void 0]]};b=b.value;var g=b[0];b=b[1];g=(k||(k=d("ReStoreKeyComparer"))).compareKey(f,g);if(g>0)throw c("unrecoverableViolation")("Right iterable should always be equal to or ahead","maw_db");else if(g<0)return{done:!1,value:[f,[e,void 0]]};else return{done:!1,value:[f,[e,b]]}})})}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,e){var f=!0,g=a.subscribe(async function(a,e,g){return(j||(j=d("PromiseOrValue"))).map(b.iterator(g,{gte:a,lte:a}).next(),function(b){b=b.value;if(!f)return;return c(a,e.operation==="add"?{operation:"add",value:[e.value,b==null?void 0:b[1]]}:e.operation==="put"?{operation:"put",value:[e.value,b==null?void 0:b[1]]}:{operation:"delete"},g)})},e),h=b.subscribe(async function(b,e,g){return(j||(j=d("PromiseOrValue"))).map(a.iterator(g,{gte:b,lte:b}).next(),function(a){if(!f||a.done)return;return c(b,e.operation==="add"?{operation:"add",value:[a.value[1],e.value]}:e.operation==="put"?{operation:"put",value:[a.value[1],e.value]}:{operation:"delete"},g)})},e);return function(){f=!1,g(),h()}}},l)}function q(a){var b=this,c=new Map();function e(a,b,c,e,g){var h=JSON.stringify(c),i=a.get(h);i==null&&(i=[],a.set(h,i));i.forEach(function(a){return a()});i.length=0;var k=i;g.forEach(function(g){k.push(g.subscribe(function(g,h,i){return(j||(j=d("PromiseOrValue"))).map(f(a,b,c,e,i),function(a){return b(c,{operation:"put",value:a},i)})}))})}function f(b,c,f,g,h){return(j||(j=d("PromiseOrValue"))).map(m(function(){return a(g)},h),function(a){var d=a[0];a=a[1];e(b,c,f,g,a);return d})}function g(a,b){var c=JSON.stringify(b);if(!a.has(c))return;b=(b=a.get(JSON.stringify(b)))!=null?b:[];b.forEach(function(a){return a()});b.length=0;a.delete(c)}return Object.setPrototypeOf({direction:b.direction,iterator:function(f,g){var h=b.iterator(f,g);return{next:function(b){return(j||(j=d("PromiseOrValue"))).map(h.next(b),function(g){if(g.done)return g;g=g.value;var b=g[0],h=g[1];return(j||(j=d("PromiseOrValue"))).map(j.map(m(function(){return a(h)},f),function(a){var f=a[0],g=a[1];(i||(i=d("ReQLBounds"))).forEachMatchingBounds(c,b,function(a){var c=a[0];a=a[1];return e(c,a,b,h,g)});return f}),function(a){return{done:!1,value:[b,a]}})})}}},keyLength:b.keyLength,subscribe:function(a,e){var h={},k=new Map();c.set(h,[(i||(i=d("ReQLBounds"))).extendBounds(e,b.keyLength),[k,a]]);var l=b.subscribe(function(b,c,e){if(c.operation==="delete"){g(k,b);return a(b,c,e)}else if(c.operation==="add"){var h=c.value;return(j||(j=d("PromiseOrValue"))).map(f(k,a,b,h,e),function(c){return a(b,{operation:"add",value:c},e)})}else if(c.operation==="put"){h=c.value;return(j||(j=d("PromiseOrValue"))).map(f(k,a,b,h,e),function(c){return a(b,{operation:"put",value:c},e)})}},e);return function(){k.forEach(function(a){a.forEach(function(a){return a()})}),c.delete(h),l()}}},l)}function r(a,b){var c=s(a,b);for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return e.reduce(function(a,b){return s(a,b)},c)}function s(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("union requires iterables to be sorted in the same direction","maw_db");var e=Math.max(a.keyLength,b.keyLength);function f(a,b){return b===0||a.length===0?[]:a.slice(0,b)}function g(a){return a.gt!=null?{gt:f(a.gt,e)}:{gte:f(a.gte,e)}}function h(a){return a.lt!=null?{lt:f(a.lt,e)}:{lte:f(a.lte,e)}}function i(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?g(a):{},a.lte!=null||a.lt!=null?h(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(c,g){var h=a.iterator(c,i(g)),l=b.iterator(c,i(g)),m=h.next(),n=l.next();return{next:function(b){b!==void 0&&(m=h.next(f(b,e)),n=l.next(f(b,e)));return(j||(j=d("PromiseOrValue"))).map(j.all2(m,n),function(b){var c=b[0];b=b[1];function e(a,b){if(a.done)return{done:!0};a={done:!1,value:[[].concat(a.value[0],[b]),a.value[1]]};b?m=h.next():n=l.next();return a}if(c.done)return e(b,!1);if(b.done)return e(c,!0);var f=a.direction==="asc"?[c,b]:[b,c],g=f[0];f=f[1];f=(k||(k=d("ReStoreKeyComparer"))).compareKey((g=g.value)==null?void 0:g[0],(g=f.value)==null?void 0:g[0]);if(f<0)return e(c,!0);else return e(b,!1)})}}},keyLength:e+1,subscribe:function(c,d){var e=a.subscribe(function(a,b,d){return c([].concat(a,[!0]),b,d)},d),f=b.subscribe(function(a,b,d){return c([].concat(a,[!1]),b,d)},d);return function(){e(),f()}}},l)}function t(a,b){if(a.direction!==b.direction)throw c("unrecoverableViolation")("merge join requires iterables to be sorted in the same direction","maw_db");return Object.setPrototypeOf({direction:a.direction,iterator:function(c,e){var f=a.iterator(c,e),g=b.iterator(c,e);function h(a){return(j||(j=d("PromiseOrValue"))).loop(function(a){var b=a[0];a=a[1];if(b.done||a.done)return{action:"break",value:{done:!0}};var c=b.value,e=c[0];c=c[1];var h=a.value,i=h[0];h=h[1];var l=(k||(k=d("ReStoreKeyComparer"))).compareKey(e,i);if(l>0)return(j||(j=d("PromiseOrValue"))).map(j.all2(b,g.next(e)),function(a){return{action:"continue",value:a}});else if(l<0)return(j||(j=d("PromiseOrValue"))).map(j.all2(f.next(i),a),function(a){return{action:"continue",value:a}});return{action:"break",value:{done:!1,value:[e,[c,h]]}}},a)}return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(j.all2(f.next(a),g.next(a)),h)}}},keyLength:Math.max(a.keyLength,b.keyLength),subscribe:function(c,e){var f=!0;function g(a,b,e,g,h){return(j||(j=d("PromiseOrValue"))).map(a.iterator(h,{gte:e,lte:e}).next(),function(a){if(a.done||!f)return;a=a.value[1];a=g.operation==="add"?{operation:"add",value:b(g.value,a)}:g.operation==="put"?{operation:"put",value:b(g.value,a)}:g;return c(e,a,h)})}var h=a.subscribe(function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return g.apply(void 0,[b,function(a,b){return[a,b]}].concat(c))},e),i=b.subscribe(function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return g.apply(void 0,[a,function(a,b){return[b,a]}].concat(c))},e);return function(){f=!1,h(),i()}}},l)}function u(a){var b=this,e=new Map();return Object.setPrototypeOf({direction:b.direction,iterator:function(c,f){var g=b.iterator(c,f),h=0;return{next:function(b){if(h>=a)return{done:!0};else return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){b.done||(i||(i=d("ReQLBounds"))).forEachMatchingBounds(e,b.value[0],function(c){var d=c[0];c=c[1];c.contents<=a&&(d.has(b.value[0])||(c.contents+=1,d.set(b.value[0],void 0)))});h+=1;return b})}}},keyLength:b.keyLength,subscribe:function(f,g){var h={},l=b.direction==="asc"?1:-1,m=new(c("BPlusTree"))(function(a,b){return(k||(k=d("ReStoreKeyComparer"))).compareKey(a,b)*-l}),n={contents:0};e.set(h,[(i||(i=d("ReQLBounds"))).extendBounds(g,b.keyLength),[m,n]]);var o=b.subscribe(function(c,g,i){var o,p=(o=m.entries().next().value)==null?void 0:o[0];o=p==null?!0:(k||(k=d("ReStoreKeyComparer"))).compareKey(c,p)*l<=0;if(g.operation==="delete"&&o){var q;n.contents>0&&(m.delete(c),q=f(c,g,i));return(j||(j=d("PromiseOrValue"))).map(q,function(){return(j||(j=d("PromiseOrValue"))).map(b.iterator(i,p==null?void 0:l===1?{gt:p}:{lt:p}).next(),function(a){if(!a.done&&e.has(h)){m.set(a.value[0],void 0);return f(a.value[0],{operation:"add",value:a.value[1]},i)}n.contents>0&&(n.contents-=1)})})}if(g.operation==="add"&&n.contents<a){n.contents+=1;m.set(c,void 0);return f(c,g,i)}if(g.operation==="add"&&o){var r;p!=null&&(m.delete(p),r=f(p,{operation:"delete"},i));return(j||(j=d("PromiseOrValue"))).map(r,function(){m.set(c,void 0);return f(c,g,i)})}if(g.operation==="put"&&o)return f(c,g,i)},g);return function(){e.delete(h);return o()}}},l)}var v=new WeakMap();function w(a,b){var c=v.get(a);if(c!=null)return c;c=b.reduce(function(b,c,d){b[c]=a[d];return b},{});v.set(a,c);return c}function x(a,b,c,e,f){if(f==null||f.length>a.keyFields.length||f.some(function(b){return a.keyFields.indexOf(b)===-1}))return a.entries(b,c,e);var g=a.keys(b,c,e);return{next:function(b){return(j||(j=d("PromiseOrValue"))).map(g.next(b),function(b){return b.done?{done:!0}:{done:!1,value:[b.value,w(b.value,a.keyFields)]}})}}}function y(a,b){return Object.setPrototypeOf({direction:"asc",iterator:function(c,d){return x(a,c,"asc",d,b)},keyLength:a.keyFields.length,subscribe:function(c,d){return a.subscribe(c,d,b)}},l)}function z(a,b){return Object.setPrototypeOf({direction:"desc",iterator:function(c,d){return x(a,c,"desc",d,b)},keyLength:a.keyFields.length,subscribe:function(c,d){return a.subscribe(c,d,b)}},l)}function A(a){var b=[],c=a.iterator(new WeakMap());return Promise.resolve((j||(j=d("PromiseOrValue"))).loop(function(){return(j||(j=d("PromiseOrValue"))).map(c.next(),function(a){if(a.done)return{action:"break",value:b};b.push(a.value[1]);return{action:"continue",value:void 0}})}))}async function B(a){a=a.iterator(new WeakMap());a=await a.next();return a.done?void 0:a.value[1]}async function C(a){a=a.iterator(new WeakMap());a=await a.next();if(a.done)throw c("unrecoverableViolation")("expected result","maw_db");return a.value[1]}function D(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.slice(1)}:{gte:a.gte.slice(1)}}function f(a){return a.lt!=null?{lt:a.lt.slice(1)}:{lte:a.lte.slice(1)}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.gt=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)g.gte=h.slice(1);else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)h.length!==1&&(g.lte=h.slice(1));else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=(k||(k=d("ReStoreKeyComparer"))).compareValue(b,h[0]);if(i===0)if(h.length===1)return{next:function(){return{done:!0}}};else g.lt=h.slice(1);else if(i>0)return{next:function(){return{done:!0}}}}}var l=a.iterator(e,g);return{next:function(a){return(j||(j=d("PromiseOrValue"))).map(l.next(a==null?void 0:a.slice(1)),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d=[b].concat(a.value[0]),c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g=[b].concat(a),c.set(a,g));return d(g,e,f)},g(e))}},l)}g.prototype=l;g.key=a;g.empty=e;g.leftJoin=p;g.union=r;g.mergeJoin=t;g.fromTableAscending=y;g.fromTableDescending=z;g.toArrayAsync=A;g.firstAsync=B;g.firstExnAsync=C;g.prependKey=D}),98);
__d("LSSchemaProvider",["cr:2649","cr:2670"],(function(a,b,c,d,e,f,g){"use strict";var f=(a=b("cr:2670"))!=null?a:b("cr:2649");c=f.schemaProvider;g["default"]=c}),98);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={c:"string",t:"string"};for(var d in b){if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed default values data, missing key "%s"',d);return null}var e=a[d],f=b[d];e=typeof e;if(e!==f){c("FBLogger")("messenger_web_product").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',d,e,f);return null}}if(typeof a.c!=="string"||typeof a.t!=="string")return null;e=[];f=a.t;try{e=JSON.parse(a.c);for(d=0;d<e.length;d++){b=e[d];if(typeof b!=="string")return null}}catch(a){return null}return{columns:e,tableName:f}}function b(a){return{c:JSON.stringify(a.columns),t:a.tableName}}d="_db_defaults_meta";g.tryParseDefaultValuesData=a;g.defaultValuesColumnToValue=b;g.defaultValuesTableName=d}),98);
__d("ReStoreCommonUtils",["isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){function d(b){if(b.done)return b.value;return!(h||(h=c("isPromise")))(b.value)?d(a.next(b.value)):b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}g.gen=a}),98);
__d("ReStoreOperationLock",["ReStoreCommonUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a==="\u2757"}c=function(){function a(a){var b=this;this.isSync=!1;this.waitFor=null;this.waitFor=a.then(function(a){return b.waitFor=null})}var b=a.prototype;b.chainPromiseOrValue=function(a){if(this.waitFor!=null)return this.waitFor.then(function(){return a("\ud83d\udd12")});else return a("\ud83d\udd12")};return a}();e=function(){function a(){this.isSync=!0}var b=a.prototype;b.chainPromiseOrValue=function(a){return a("\u2757")};return a}();f=function(){function a(){this.isSync=!1,this.$1=Promise.resolve()}var b=a.prototype;b.chainPromiseOrValue=function(a){var b=this;return new Promise(function(c,d){b.$1=b.$1.then(async function(){try{c(await a("\ud83d\udd12"))}catch(a){d(a)}})})};return a}();function b(a,b){return{next:function(c){return b.chainPromiseOrValue(function(b){return d("ReStoreCommonUtils").gen(a.next(b,c))})}}}g.isNoopLockProof=a;g.WaitForPromiseLock=c;g.NoopLock=e;g.ReStoreOperationLock=f;g.lockIterator=b}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,c,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$5,a,g.$1,g.$3,b,c,g.$2),g.$4)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$5,new WeakMap(),g.$1.name,g.$3,b,a,g.$2)})};this.getKey=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$4.chainPromiseOrValue(function(a){return g.$6(g.$5,new WeakMap(),b,a)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$5,a,g.$1,g.$3,b,c),g.$4)};this.$3=a;this.keyFields=b.indexes[a];this.$1=b;this.$2=c;this.$4=e;this.$5=f}var b=a.prototype;b.$6=function(a,b,c,e){var f=this;a=d("ReStoreUtils").getLocked(a,b,this.$1.name,this.$3,c,e,this.$2);return a.then(function(a){return a===void 0?void 0:d("ReStoreUtils").searchKey(f.$1,a)})};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,i){var j;j=a.call(this,b,c,e,f,g)||this;j.subscribe=function(a,b,c){return j.$ReStoreIndex$p_3.subscribeIndex(j.$ReStoreIndex$p_1.name,j.$ReStoreIndex$p_2,a,(h||(h=d("ReQLBounds"))).extendBounds(b,j.$ReStoreIndex$p_1.indexes[j.$ReStoreIndex$p_2].length),c)};j.$ReStoreIndex$p_2=b;j.$ReStoreIndex$p_1=c;j.$ReStoreIndex$p_3=i;return j}return b}(a);g.ReStoreTransactionIndex=b;g.ReStoreIndex=c}),98);
__d("ReStoreTable",["I64","LSSynchronousPromise","PromiseOrValue","ReQLBounds","ReStoreCommonUtils","ReStoreIndex","ReStoreOperationLock","ReStoreUtils","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){a=(h||(h=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return h.to_float(a)}function l(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);a.set(b,[c==null?d:c[0],e])}a=function(){function a(a,b,e,f){var g=this;this.entries=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").entries(g.$4,a,g.$1,void 0,b,c,g.$2),g.$3)};this.get=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return g.$3.chainPromiseOrValue(function(a){return d("ReStoreUtils").getLocked(g.$4,new WeakMap(),g.$1.name,void 0,b,a,g.$2)})};this.keys=function(a,b,c){b===void 0&&(b="asc");return d("ReStoreOperationLock").lockIterator(d("ReStoreUtils").keys(g.$4,a,g.$1,void 0,b,c),g.$3)};this.peekNextAutoIncrementId=function(){return g.$5(g.$3.chainPromiseOrValue(function(a){a=g.$1.autoIncrement;if(!a)throw c("unrecoverableViolation")("only supported for auto-incrementing tables","maw_db");return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(d("ReStoreCommonUtils").gen(g.$4.table(g.$1.name).readSeed(new WeakMap()))).then(function(a){if(a===void 0)throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","maw_db");return(h||(h=d("I64"))).of_float(a)})}))};this.keyFields=a.primaryKeyIds;this.$1=a;this.$2=b;this.$3=e;this.$4=f}var b=a.prototype;b.$5=function(a){return this.$3.isSync?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a):Promise.resolve(a)};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g,h,j,k,l,m){var n;b=c.tableNames[b];n=a.call(this,b,e,f,g)||this;n.$ReStoreTransactionTable$p_1=new Map();n.$ReStoreTransactionTable$p_10=new Map();n.add=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforeAdd({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(n.$ReStoreTransactionTable$p_14(n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,b))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterAdd({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.delete=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeDelete({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e=babelHelpers.assertThisInitialized(n);return d("ReStoreCommonUtils").gen(function*(){var f;(f=e.$ReStoreTransactionTable$p_9)==null?void 0:f.recordLogicalWrite();yield* d("ReStoreUtils").deleteItemLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,b);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(e.$ReStoreTransactionTable$p_2,e.$ReStoreTransactionTable$p_10,c,new WeakMap(),e.$ReStoreTransactionTable$p_3.name,a,void 0,e.$ReStoreTransactionTable$p_4,b,e.$ReStoreTransactionTable$p_11)}())})}))};n.put=function(a){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(i.map(n.$ReStoreTransactionTable$p_4.beforePut({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(a){return n.$ReStoreTransactionTable$p_13(function(b,c){var e;(e=n.$ReStoreTransactionTable$p_9)==null?void 0:e.recordLogicalWrite();return d("ReStoreCommonUtils").gen(d("ReStoreUtils").putLocked(n.$ReStoreTransactionTable$p_2,n.$ReStoreTransactionTable$p_10,c,new WeakMap(),n.$ReStoreTransactionTable$p_3.name,a,n.$ReStoreTransactionTable$p_4,b,n.$ReStoreTransactionTable$p_11))})}),function(b){return(i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.afterPut({key:b,tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:a}),function(){return b})}))};n.upsert=function(a,b){return n.$ReStoreTransactionTable$p_12((i||(i=d("PromiseOrValue"))).map(n.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:n.$ReStoreTransactionTable$p_3.name,transaction:n.$ReStoreTransactionTable$p_8,value:b}),function(c){return n.$ReStoreTransactionTable$p_13(function(e,f){var g=babelHelpers.assertThisInitialized(n);return d("ReStoreCommonUtils").gen(function*(){var h;(h=g.$ReStoreTransactionTable$p_9)==null?void 0:h.recordLogicalWrite();yield* d("ReStoreUtils").upsertLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,c,g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11);yield* d("ReStoreUtils").cascadeKeyUpdatesLocked(g.$ReStoreTransactionTable$p_2,g.$ReStoreTransactionTable$p_10,f,new WeakMap(),g.$ReStoreTransactionTable$p_3.name,a,d("ReStoreUtils").searchKey(g.$ReStoreTransactionTable$p_3,b),g.$ReStoreTransactionTable$p_4,e,g.$ReStoreTransactionTable$p_11)}())})}))};n.index=function(a){return d("ReStoreUtils").getOrCreate(n.$ReStoreTransactionTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreTransactionIndex)(a,n.$ReStoreTransactionTable$p_3,n.$ReStoreTransactionTable$p_4,n.$ReStoreTransactionTable$p_5,n.$ReStoreTransactionTable$p_6)})};n.$ReStoreTransactionTable$p_3=b;n.$ReStoreTransactionTable$p_2=c;n.$ReStoreTransactionTable$p_4=e;n.$ReStoreTransactionTable$p_5=f;n.$ReStoreTransactionTable$p_6=g;n.$ReStoreTransactionTable$p_7=h;n.$ReStoreTransactionTable$p_8=j;n.$ReStoreTransactionTable$p_9=k;n.$ReStoreTransactionTable$p_10=l;n.$ReStoreTransactionTable$p_11=m;return n}var c=b.prototype;c.$ReStoreTransactionTable$p_12=function(a){return this.$ReStoreTransactionTable$p_5.isSync?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a):Promise.resolve(a)};c.$ReStoreTransactionTable$p_13=function(a){var b=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(c){var e=b.$ReStoreTransactionTable$p_6.createNested(b.$ReStoreTransactionTable$p_9);return(i||(i=d("PromiseOrValue"))).map(a(c,e),function(a){e.flush();return a})})};c.$ReStoreTransactionTable$p_14=function*(a,b,c,e,f,g){var i=b.table(e),j=this.$ReStoreTransactionTable$p_2.tableNames[e];if(j.autoIncrement){var m=f[j.primaryKeyIds[0]];m=(h||(h=d("I64"))).of_float(yield* i.incrementSeed(c,m===void 0?m:k(m)));f[j.primaryKeyIds[0]]=m}m=d("ReStoreUtils").appendDefaultValues(f,j.name,this.$ReStoreTransactionTable$p_11);f=d("ReStoreUtils").searchKey(j,m);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield* i.tableGet(c,f))==null){j=d("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(j.indexes),m);yield* d("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,a,b,c,e,j,this.$ReStoreTransactionTable$p_4,g,this.$ReStoreTransactionTable$p_11);g=(yield* i.tableSet(c,f,m));i=g[0];yield* d("ReStoreUtils").addIdToIndices(b,c,e,i,j);l(a,e,f,void 0,m)}return f};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e,f,g){var h;h=a.call(this,b,c,e,f)||this;h.$ReStoreTable$p_1=new Map();h.index=function(a){return d("ReStoreUtils").getOrCreate(h.$ReStoreTable$p_1,a,function(){return new(d("ReStoreIndex").ReStoreIndex)(a,h.$ReStoreTable$p_2,h.$ReStoreTable$p_3,h.$ReStoreTable$p_4,h.$ReStoreTable$p_5,h.$ReStoreTable$p_6)})};h.subscribe=function(a,b,c){return h.$ReStoreTable$p_6.subscribeTable(h.$ReStoreTable$p_2.name,a,(j||(j=d("ReQLBounds"))).extendBounds(b,h.$ReStoreTable$p_2.primaryKeyIds.length),c)};h.$ReStoreTable$p_2=b;h.$ReStoreTable$p_3=c;h.$ReStoreTable$p_4=e;h.$ReStoreTable$p_5=f;h.$ReStoreTable$p_6=g;return h}return b}(a);g.ReStoreTransactionTable=b;g.ReStoreTable=e}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b)===0}g.areKeysEqual=a}),98);
__d("ReStoreUtils",["I64","LSStorage","LSSynchronousPromise","Random","ReQLBounds","ReStoreCommonUtils","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","gkx","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=500;async function a(a){var b=[],c=await a.next();while(!c.done)b.push(c.value),c=await a.next();return b}function l(a,b,d){var e=a.indexes;a=a.primaryKeyIds;a=d==null?a:e[d];return a.map(function(a){if(b[a]!==void 0||d!=null)return b[a];throw c("unrecoverableViolation")("primary key must be defined on object","maw_db")})}function m(a,b,c){var d=c[b];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers.extends({},a))}function n(a,b,c,e,f,g,i){function j(){var k=a.table(c.name),l=babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}),m=e==null?k.tableEntries(b,l):k.indexEntries(b,e,l);return k={next:function*(a,b){a=(yield* m.next(b));if(a.done)return{done:!0};b=a.value[1];return{done:!1,value:[a.value[0],i==null?b:i.afterEntriesNext({tableName:c.name,value:b})]}}},k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=j,k}return j()}function b(a,b,c,e,f,g){function i(){var j=a.table(c.name),k=j.keys(b,e,babelHelpers.extends({},(h||(h=d("ReQLBounds"))).extendBounds(g,(e===void 0?c.primaryKeyIds:c.indexes[e]).length),{dir:f}));return j={next:function*(a,b){return yield* k.next(b)}},j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=i,j}return i()}function e(a,b,c,e,f,g,h){a=a.table(c);g=d("ReStoreOperationLock").isNoopLockProof(g)?d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise:Promise.resolve.bind(Promise);e!=null?e=g(d("ReStoreCommonUtils").gen(a.indexGet(b,e,f))):e=g(d("ReStoreCommonUtils").gen(a.tableGet(b,f)));return e.then(function(a){return a===void 0?void 0:h.afterGet({tableName:c,value:a})})}function o(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function p(a){a=(i||(i=d("I64"))).cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return i.to_float(a)}function q(a,b,c,d,e){b=JSON.stringify([b,c]);c=a.get(b);(c==null?d:c[0])==null&&e==null?a.delete(b):a.set(b,[c==null?d:c[0],e])}function* r(a,b,c,e,f,g,h,i,k,m){function o(a,b){return a.length>=b?a:[].concat(a,[(j||(j=d("ReStoreKeyComparer"))).MAX_KEY])}if(h!=null&&(j||(j=d("ReStoreKeyComparer"))).compareKey(g,h)===0)return;f=a.tableNames[f];var p=f.cascadeUpdates,q=f.primaryKeyIds;f=function*(d){var f=d.indexName;d=d.tableName;var j=a.tableNames[d],p=j.indexes,s=j.primaryKeyIds,v=f==null?s:p[f];s={gte:g,lte:o(g,v.length)};p=n(c,e,j,f,"asc",s);j=[];f=(yield* p.next(k));while(!f.done)j.push(f.value),f=(yield* p.next(k));for(s of j){s[0];p=s[1];f=l(a.tableNames[d],p);if(h===void 0)yield* u(a,b,c,e,d,f,k),yield* r(a,b,c,e,d,f,void 0,i,k,m);else{j=q.reduce(function(a,b,c){if(c>=h.length)return a;a[v[c]]=h[c];return a},babelHelpers.extends({},p));yield* t(a,b,c,e,d,f,j,i,k,m);yield* r(a,b,c,e,d,f,l(a.tableNames[d],j),i,k,m)}}};for(p of p)yield* f(p)}function* s(a,b,c,e,f,g,h,k,n){var o=c.table(f),r=a.tableNames[f];if(r.autoIncrement){var s=g[r.primaryKeyIds[0]];s=(i||(i=d("I64"))).of_float(yield* o.incrementSeed(e,s===void 0?s:p(s)));g[r.primaryKeyIds[0]]=s}s=l(r,g);var t={},u=(yield* o.tableGet(e,s)),y=g;u!==void 0?t=v(r,Object.keys(r.indexes),u):y=m(g,r.name,n);g=(yield* o.tableSet(e,s,y));var z=g[0];g=g[1];r=v(r,Object.keys(r.indexes),y);var A=babelHelpers.extends({},r);for(var B of Object.keys(A))t[B]!==void 0&&(j||(j=d("ReStoreKeyComparer"))).compareKey(t[B],A[B])===0&&(delete A[B],delete t[B]);yield* w(a,b,c,e,f,A,h,k,n);yield* x(c,e,f,z,g?r:A);for(B of Object.keys(t))yield* o.indexDelete(e,B,t[B]);q(b,f,s,u,y);return s}function* t(a,b,c,e,f,g,h,i,j,k){var m=l(a.tableNames[f],h);d("LSStorage").areKeysEqual(g,m)||(yield* u(a,b,c,e,f,g,j));yield* s(a,b,c,e,f,h,i,j,k)}function* u(a,b,c,d,e,f,g){g=c.table(e);c=a.tableNames[e];a=(yield* g.tableGet(d,f));if(a!==void 0){if(Object.keys(c.indexes).length)for(var h of Object.keys(c.indexes)){var i=l(c,a,h);i!=null&&(yield* g.indexDelete(d,h,i))}yield* g.tableDelete(d,f);q(b,e,f,a,void 0)}}function v(a,b,c){return b.reduce(function(b,d){var e;e=(e=a.indexPredicates)==null?void 0:e[d];if(e!=null&&!e(c))return b;e=l(a,c,d);b[d]=e;return b},{})}function* w(a,b,c,d,e,f,g,h,i){var j=c.table(e);for(var k of Object.keys(f)){var m=f[k];m=(yield* j.indexGet(d,k,m));if(m!=null){m=l(a.tableNames[e],m);yield* u(a,b,c,d,e,m,h);yield* r(a,b,c,d,e,m,void 0,g,h,i)}}}function* x(a,b,c,d,e){a=a.table(c);for(c of Object.keys(e)){var f=e[c];f===void 0?yield* a.indexDelete(b,c,f):yield* a.indexSet(b,c,f,d)}}function* f(a,b,d,e,f,g,h,i,j,l){var m=d.table(i),o=g.tableNames[i];for(var p of j)yield* m.clearIds(e,p);p=j.filter(function(a){return(o==null?void 0:o.indexes[a])!=null});if(p.length===0)return;j=n(d,e,o,void 0,"asc",void 0,f);var q=[],r=(yield* j.next(l));while(!r.done){while(!r.done&&q.length<=k)q.push(r.value),r=(yield* j.next(l));for(var s of q){var t=s[0],u=s[1];u=v(g.tableNames[i],p,u);yield* w(g,a,d,e,i,u,f,l,h);t=c("nullthrows")(yield* m.getId(e,t));yield* x(d,e,i,t,u)}q.length=0;b==null?void 0:b()}}var y="__internal__transaction_id";function z(a,b,e,f,g,h,i){var j=null,k=new(d("ReStoreOperationLock").NoopLock)(),l=new(d("ReStoreOperationLock").ReStoreOperationLock)(),m=i==null?void 0:i.qplFlow,n=new Map(),p=new Proxy((i={},i[y]=c("Random").uint32(),i.reportUsedTablesForSyncAccess=function(a){j=a&&a.every(function(a){return g.tablePermitsSynchronousIO(a)})&&j!==!1},i.table=function(c){return new(d("ReStoreTable").ReStoreTransactionTable)(c,a,e,l,g,f,p,m,h,b)},i),{get:function(i,q){var r=q.split("::"),s=r[0],t=r[1];return!Object.prototype.hasOwnProperty.call(a.tableNames,s)?Reflect.get.apply(Reflect,arguments):o(n,q,function(){return new(d("ReStoreTable").ReStoreTransactionTable)(s,a,e,j===!0&&t&&c("gkx")("2839")?k:l,g,f,p,m,h,b)})}});return p}function A(a){return a.types.includes("indexeddb")}g.collectIterator=a;g.searchKey=l;g.appendDefaultValues=m;g.entries=n;g.keys=b;g.getLocked=e;g.getOrCreate=o;g.cascadeKeyUpdatesLocked=r;g.putLocked=s;g.upsertLocked=t;g.deleteItemLocked=u;g.indicesWithKeyForValue=v;g.deconflictIndicesLocked=w;g.addIdToIndices=x;g.rebuildIndicesLocked=f;g.createReStoreTransaction=z;g.isPDB=A}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;b=d("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(e);if(b==null)continue;e=b.columns;b=b.tableName;c[b]=(f=c[b])!=null?f:new Set();for(f of e)c[b].add(f)}}return c});return i.apply(this,arguments)}function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){a=(yield h(a,b));b={};for(c in c.tableNames){var e=d[c];if(e!=null)for(var f in e){var g;g=(g=a[c])==null?void 0:g.has(f);if(!g){b[c]=(g=b[c])!=null?g:{};b[c][f]=e[f]}}}return b});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){for(b in b){var e=Object.keys(c[b]||{});e={columns:e,tableName:b};yield a[d("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(d("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(e))}});return m.apply(this,arguments)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=new WeakMap();d("LSPlatformLsInitLog").addPoint("default_values_update_start");var g=function(a,b){d("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:b,default_values_update_failure_reason:String(a)}})};try{b=(yield j(f,a,b,e));try{if(c===!1)for(c in b){var h=a[c].entries(f),i=(yield h.next());while(!i.done){var k=babelHelpers["extends"]({},i.value[1]);k=d("ReStoreUtils").appendDefaultValues(k,c,e);yield a[c].put(k);i=(yield h.next())}}yield l(a,b,e);d("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(a){g(a,"setDefaultValues")}}catch(a){g(a,"findDefaultValuesToUpdate")}});return n.apply(this,arguments)}g.runMigrationForTableDefaultValuesIfNeeded=a}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=typeof a==="string"?a:null;if(a==null)return null;try{a=JSON.parse(a);for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(typeof e!=="string")return null}return a}catch(a){return null}}function a(a){var b={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var d in b){var e=d.endsWith("?");if(e)e=a[d.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(a,d)||a[d]==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, missing key "%s"',d);return null}e=a[d]}var f=b[d],g=typeof e;if(e!=null&&g!==f){c("FBLogger")("messenger_web_product").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',d,g,f);return null}}e=h(a.keyIds);if(e==null){c("FBLogger")("messenger_web_product").warn('Malformed index data, key IDs "%s" are invalid',typeof a.keyIds==="string"?a.keyIds:"<"+typeof a.keyIds+">");return null}return typeof a.indexName!=="string"||typeof a.tableName!=="string"||typeof a.predicate!=="string"&&a.predicate!=null?null:babelHelpers["extends"]({data:e,indexName:a.indexName,tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}function b(a,b){if(a[0]==null)return!0;if(a[0].length!==b[0].length)return!0;for(var c=0;c<a[0].length;c++)if(a[0][c]!==b[0][c])return!0;return a[1]!==b[1]?!0:!1}function d(a){return babelHelpers["extends"]({indexName:a.indexName,keyIds:JSON.stringify(a.data),tableName:a.tableName},a.predicate==null?{}:{predicate:a.predicate})}e="_db_indices_meta";g.tryParseIndexData=a;g.indicesDiffer=b;g.indexDataToValue=d;g.indicesTableName=e}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c={};b=(yield d("ReStoreUtils").collectIterator(b[d("ReStoreIndexMetadata").indicesTableName].entries(a)));for(a of b){b=a[0];var e=a[1];if(b!=null){var f;e=d("ReStoreIndexMetadata").tryParseIndexData(e);if(e==null)continue;var g=e.indexName,h=e.tableName;c[h]=(f=c[h])!=null?f:{};c[h][g]=babelHelpers["extends"]({index:e.data,key:b},e.predicate==null?{}:{predicate:e.predicate})}}return c});return i.apply(this,arguments)}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield h(a,b));b={};for(var e in c.tableNames){var f=c.tableNames[e];for(var g in f.indexes){var i,j;i=[f.indexes[g],(i=f.indexPredicates)==null?void 0:(i=i[g])==null?void 0:i.toString()];j=(j=a[e])==null?void 0:j[g];if(d("ReStoreIndexMetadata").indicesDiffer([j==null?void 0:j.index,j==null?void 0:j.predicate],i)){b[e]=(j=b[e])!=null?j:{};b[e][g]=i}}}j={};for(i in c.tableNames)if(i in a){g=a[i];for(f in g){var k;e=g[f];k=(k=c.tableNames[i])==null?void 0:(k=k.indexes)==null?void 0:k[f];if(k==null){j[i]=(k=j[i])!=null?k:{};j[i][f]=e}}}return{toRemove:j,toUpdate:b}});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g=e[f],h=g[0];g=g[1];h=babelHelpers["extends"]({data:h,indexName:f,tableName:c},g==null?{}:{predicate:g});yield a[d("ReStoreIndexMetadata").indicesTableName].put(d("ReStoreIndexMetadata").indexDataToValue(h))}}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var c in b){var e=b[c];for(var f in e){var g,h=e[f].key;yield (g=a[d("ReStoreIndexMetadata").indicesTableName])["delete"].apply(g,h)}}});return o.apply(this,arguments)}function p(a,b,c,e,f){return new(d("ReStoreOperationLock").ReStoreOperationLock)().chainPromiseOrValue(function(g){return d("ReStoreCommonUtils").gen(d("ReStoreUtils").rebuildIndicesLocked(a.changedKeys,a.clearCache,a.storeTx,new WeakMap(),a.hooksManager,c,e,b,f,g))})}function a(a,c,e,f){var g=new WeakMap();d("LSPlatformLsInitLog").addPoint("index_migration_start");var h=function(a,b){d("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:b,index_migration_failure_reason:String(a)}})};return j(g,a.transaction,c).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.toRemove;b=b.toUpdate;var h=Array.from(new Set([].concat(Object.keys(b),Object.keys(g))));d("LSPlatformLsInitLog").addAnnotations({"int":{index_migration_rebuild_tables_count:h.length}});if(f===!1)for(h of h)if(c.tableNames[h]!=null){var i;i=Array.from(new Set([].concat(Object.keys((i=b[h])!=null?i:{}),Object.keys((i=g[h])!=null?i:{}))));yield p(a,h,c,e,i)}yield l(a.transaction,b);yield n(a.transaction,g);d("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(a){return g.apply(this,arguments)}}(),function(a){return h(a,"findIndicesToUpdateOrRemove")})["catch"](function(a){return h(a,"rebuildIndices")})}g.runMigrationForIndicesIfNeeded=a}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;f=b("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function a(a,b){b="V"+b;return b in a?b:null}function i(a,b){return j.apply(this,arguments)}function j(){j=babelHelpers.wrapAsyncGenerator(function*(a,b){a=a.iterator(new WeakMap());var c=[],d=(yield babelHelpers.awaitAsyncGenerator(a.next()));while(!d.done){var e=d.value;e[0];e=e[1];c.push(e);c.length===b&&(yield c,c=[]);d=(yield babelHelpers.awaitAsyncGenerator(a.next()))}c.length&&(yield c)});return j.apply(this,arguments)}function c(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=!0,g=!1,j;try{for(var k=babelHelpers.asyncIterator(i(d("ReQL").fromTableAscending(a),100)),l,l;l=(yield k.next()),f=l.done,l=(yield l.value),!f;f=!0){l=l;yield (h||(h=b("Promise"))).all(l.map(function(b){return c(b).then(a.put)}));e==null?void 0:e()}}catch(a){g=!0,j=a}finally{try{!f&&k["return"]!=null&&(yield k["return"]())}finally{if(g)throw j}}});return k.apply(this,arguments)}function e(a,b){function c(b){if(b==null)return void 0;var c={};for(var d in b)c[a+"_"+d]=b[d];return c}return{bool:c(b.bool),"int":c(b["int"]),string:c(b.string)}}g.ReStoreMigrateResult=f;g.getVersionFromNumber=a;g.fetchReQLBatch=i;g.upgradeTableEntries=c;g.prefixAnnotations=e}),98);
__d("ReStoreHashMigration",["ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Object.values(a.tableNames).map(function(a){return babelHelpers["extends"]({},a,{indexPredicates:Object.entries((a=a.indexPredicates)!=null?a:{}).map(function(a){var b=a[0];a=a[1];return[b,a.toString()]})})});return JSON.stringify(a)}function c(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f,g,h,i=e.loggers,j=i.logHistory;i=i.userFlow;var k=e.storeTx,l=e.transaction,m=d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(c),n=d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(b);i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{defaultValuesVersion:m,schemaVersion:n}}));var o=new(d("ReStorePersistedMetadata").ReStorePersistedSchemaVersion)(a),p=new(d("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion)(a);f=(f=(yield o.read(k)))==null?void 0:f.schemaVersion;g=(g=(yield p.read(k)))==null?void 0:g.defaultValuesVersion;j==null?void 0:j.debug("storeSchemaVersion: "+((h=f)!=null?h:"null"));j==null?void 0:j.debug("storeDefaultValuesVersion: "+((h=g)!=null?h:"null"));f!=null&&(i==null?void 0:i.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(a,{"int":{storeDefaultValuesVersion:g,storeSchemaVersion:f}})));if(f===n&&g===m)return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;h=f==null;yield d("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(l,b,h,c);j==null?void 0:j.debug("migration default values finished");yield d("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,b,c,h);j==null?void 0:j.debug("migration indices finished");o.write(k,{schemaVersion:n});p.write(k,{defaultValuesVersion:m});j==null?void 0:j.debug("version is written");j==null?void 0:j.debug("migration hash end");i==null?void 0:i.addPoint("migration_hash_end");if(h)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});return h.apply(this,arguments)}g.serializeTableData=a;g.runHashMigration=c}),98);
__d("ReStorePersistenceIds",[],(function(a,b,c,d,e,f){"use strict";b="nextId";c="seed";function a(a){return a}f.idForNextId=b;f.idForSeed=c;f.castPersistenceId=a}),66);
__d("ReStorePersistedMetadata",["ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(a,b,c,d,e,f,g){"use strict";var h="_db_schema_meta";a=function(){function a(a){this.$1=d("ReStorePersistenceIds").castPersistenceId(a)}var b=a.prototype;b.read=async function(a){a=await d("ReStoreCommonUtils").gen(a.table(h).readData(new WeakMap(),this.$1));return a};b.write=function(a,b){a.table(h).writeData(new WeakMap(),this.$1,b)};b.getId=function(){return this.$1};return a}();b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_schema_version")||this}b.hash=function(a){return c("hashString")(d("ReStoreHashMigration").serializeTableData(a))};return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"custom_migration_value_version")||this}return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b+"_default_value_version")||this}b.hash=function(a){return c("hashString")(JSON.stringify(a))};return b}(a);g.schemaMetadataTableName=h;g.ReStorePersistedMetadata=a;g.ReStorePersistedSchemaVersion=b;g.ReStorePersistedCustomMigrationVersion=e;g.ReStorePersistedDefaultValuesVersion=f}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!0}function a(a){var b=a.reduce(function(a,b){return function(c){return c[b]!=null&&a(c)}},h);b.toString=function(){return"dynamic predicate on ["+a.join(",")+"]"};return b}function b(a){return function(b){var c={},d={};for(var b=b,e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;for(var g=g,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(h){if(i>=g.length)break;k=g[i++]}else{i=g.next();if(i.done)break;k=i.value}k=k;k.id!=null&&(c[k.id]=k.name);d[k.name]={autoIncrement:(j=k.auto_increment)!=null?j:!1,cascadeUpdates:(j=a[k.name])!=null?j:[],indexes:(j=Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).map(function(a){var b=a[0];a=a[1].columns;return[b,a]})))!=null?j:{},indexPredicates:Object.fromEntries(Object.entries((j=k.indexes)!=null?j:{}).filter(function(a){a[0];a=a[1];return a.predicate}).map(function(a){var b=a[0];a=a[1];return[b,a.predicate]})),name:k.name,primaryKeyIds:k.primary_key}}}return{tableIds:c,tableNames:d}}}e=(c={},c[d("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},c[d("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},c[d("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:d("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},c);g.createPredicate=a;g.getBuildTableData=b;g.RESTORE_METADATA_TABLES=e}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){var e=b.tableIds;b=b.tableNames;c===void 0&&(c={});this.$1=a;this.tableNames=babelHelpers["extends"]({},b,d("ReStoreMetadata").RESTORE_METADATA_TABLES);this.tableIds=e;this.defaults=(a=c)!=null?a:{}}var c=a.prototype;c.migrate=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,c;(b=a.loggers.logHistory)==null?void 0:b.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration");(b=a.loggers.userFlow)==null?void 0:b.addAnnotations(d("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}}));(b=a.loggers.userFlow)==null?void 0:b.addPoint(this.$1+"_migration_hash_start");b=(yield d("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,a));(c=a.loggers.logHistory)==null?void 0:c.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+b);(c=a.loggers.userFlow)==null?void 0:c.addPoint(this.$1+"_migration_hash_end");return b});function c(b){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return{defaults:babelHelpers["extends"]({},a.defaults,c.defaults),migrate:function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield a.migrate(b));b=(yield c.migrate(b));if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE;else if(e===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||b===d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)return d("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA;else return d("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function f(a){return e.apply(this,arguments)}return f}(),tableIds:babelHelpers["extends"]({},a.tableIds,c.tableIds),tableNames:babelHelpers["extends"]({},a.tableNames,c.tableNames)}}g.mergeSchemaProviders=a}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReStoreSchemaProvider").mergeSchemaProviders(a,h)}var h=new(c("ReStoreHashSchemaProvider"))(d("LSClientSchemaType").MAW_SCHEMA_NAME,d("ReStoreMetadata").getBuildTableData({})([d("LSDbSchema").clientSchema]));b=a(c("LSSchemaProvider"));g.buildSchema=a;g.schema=b}),98);
__d("MAWBridge",["WABridge"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("WABridge").getBridge()}g.getBridge=a}),98);
__d("MAWCryptoConsts",[],(function(a,b,c,d,e,f){"use strict";a=60*60;b=24*a;c=32;d=new Uint8Array(0).buffer;e=128;a=256;var g=12,h=1,i=2,j=2,k=4;b=b*30*6;var l=3,m="AES-GCM",n="HKDF",o="SHA-256";f.HKDF_SEED_LENGTH_IN_BYTES=c;f.HKDF_INFO=d;f.AES_GCM_TAG_LENGTH=e;f.AES_GCM_KEY_LENGTH=a;f.AES_GCM_IV_LENGTH_IN_BYTES=g;f.VERSION=h;f.CIPHER_ID=i;f.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;f.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES=k;f.ENC_KEY_TTL=b;f.MAX_KEYCHAIN_SETUP_RETRIES=l;f.AES_GCM=m;f.HKDF=n;f.SHA256=o}),66);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function g(a,b){return new Uint8Array([a,b]).buffer}function c(a,b,c){var d=g(0,b);a=g(a,b);b=new Uint32Array([c]).buffer;c=new Uint8Array(d.byteLength+a.byteLength+b.byteLength);c.set(new Uint8Array(d),0);c.set(new Uint8Array(a),d.byteLength);c.set(new Uint8Array(b),d.byteLength+a.byteLength);return c.buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=g;f.makeAADWithRandomisedVersion=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWWebInitDataHelpers",["MessengerWebInitData","err"],(function(a,b,c,d,e,f,g){"use strict";function a(){return 2}function b(a){switch(a){case 2:return[c("MessengerWebInitData").accountKeyV2];case 1:return[c("MessengerWebInitData").accountKey].concat((a=c("MessengerWebInitData").additionalAccountKeysV1)!=null?a:[]);default:throw c("err")("Invalid format version, should never happen.")}}g.getLastAccountKeyFormatVersion=a;g.getAccountKeysString=b}),98);
__d("WABase64",["WACryptoDependencies","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""]);h=function(){return a};return a}var i=43,j=47,k=61,l=45,m=95,n=3e3,o="data:image/jpeg;base64,",p=function(a){return typeof a==="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};function q(a){return r(a,i,j,!0)}function a(a,b){b===void 0&&(b=!1);return r(a,l,m,b)}function r(a,b,c,d){a=Array.isArray(a)||a instanceof ArrayBuffer?new Uint8Array(a):a;if(a.length<=n)return s(a,b,c,d);else{var e=[];for(var f=0;f<a.length;f+=n)e.push(s(a.subarray(f,f+n),b,c,d));return e.join("")}}function s(a,b,c,d){var e=Math.ceil(a.length*4/3),f=4*Math.ceil(a.length/3),g=new Array(f);for(var h=0,i=0;h<f;h+=4,i+=3){var j=a[i]<<16|a[i+1]<<8|a[i+2];g[h]=j>>18;g[h+1]=j>>12&63;g[h+2]=j>>6&63;g[h+3]=j&63}for(j=0;j<e;j++){a=g[j];a<26?g[j]=65+a:a<52?g[j]=71+a:a<62?g[j]=a-4:a===62?g[j]=b:g[j]=c}for(h=e;h<f;h++)g[h]=61;i=String.fromCharCode.apply(String,g);return d?i:i.substring(0,e)}function t(a,b,c,e){var f=a.length,g=new Int32Array(f+f%4);for(var i=0;i<f;i++){var j=a.charCodeAt(i);if(65<=j&&j<=90)g[i]=j-65;else if(97<=j&&j<=122)g[i]=j-71;else if(48<=j&&j<=57)g[i]=j+4;else if(j===b)g[i]=62;else if(j===c)g[i]=63;else if(j===e){f=i;break}else{self.ERROR!=null&&d("WALogger").ERROR(h(),i,f,j);return null}}j=g.length/4;for(b=0,c=0;b<j;b++,c+=4)g[b]=g[c]<<18|g[c+1]<<12|g[c+2]<<6|g[c+3];e=Math.floor(f*3/4);i=new Uint8Array(e);a=0;b=0;for(;b+3<=e;a++,b+=3){j=g[a];i[b]=j>>16;i[b+1]=j>>8&255;i[b+2]=j&255}switch(e-b){case 2:i[b]=g[a]>>16;i[b+1]=g[a]>>8&255;break;case 1:i[b]=g[a]>>16}return i}function b(a){a=t(a,i,j,k);if(a)return a.buffer;else throw c("err")("Base64.decode given invalid string")}function e(a,b){b===void 0&&(b=!1);a=t(a,l,m,b?k:-1);if(a)return a.buffer;else throw c("err")("Base64.decode given invalid string")}function f(a){a=a instanceof ArrayBuffer?new Uint8Array(a):t(a,i,j,k);return a&&Array.from(a)}function u(a){return Math.floor(a.length*3/4)}function v(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return q(a)}g.BASE64_DATA_URL_SCHEME=o;g.isBase64=p;g.encodeB64=q;g.encodeB64UrlSafe=a;g.decodeB64=b;g.decodeB64UrlSafe=e;g.decodeB64ToJsArray=f;g.sizeWhenB64Decoded=u;g.randomBase64=v}),98);
__d("MAWKeychainCrypto",["FBLogger","MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MAWWebInitDataHelpers","Promise","WABase64","asyncToGeneratorRuntime","err","memoizeOneWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,e){var f=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),g=e?e:i;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({additionalData:g,iv:new Uint8Array(f),name:d("MAWCryptoConsts").AES_GCM,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([g,f,a]);return d("WABase64").encodeB64(a)})["catch"](function(b){throw c("FBLogger")("maw_ear").catching(b).mustfixThrow("Failed to encryptDataToStringBuffer",typeof a,a.constructor.name)})}function e(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;b=new Uint8Array(d("WABase64").decodeB64(b));var e=b.subarray(0,(c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES),f=b.subarray(c.ADDITIONAL_DATA_LENGTH_IN_BYTES,c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(c.AES_GCM_IV_LENGTH_IN_BYTES+c.ADDITIONAL_DATA_LENGTH_IN_BYTES);e=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({additionalData:e,iv:f,name:c.AES_GCM,tagLength:c.AES_GCM_TAG_LENGTH},a,b));return e});return j.apply(this,arguments)}function k(a){a=d("MAWWebInitDataHelpers").getAccountKeysString(a);return a.map(function(a){var b=d("MAWKeychainUtil").fromHexString(a);if(b==null)throw c("err")("Invalid value for account key. Is empty="+String(a.length===0)+";");return b.buffer})}function l(a){return(h||(h=b("Promise"))).all(k(a).map(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}))}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);try{a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"]));return a}catch(a){c("FBLogger")("maw_ear").catching(a).mustfix("Failed to importBrowserEncryptionKey");throw a}});return n.apply(this,arguments)}function o(){return d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES)}function p(a,b){var c;return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({hash:{name:(c=d("MAWCryptoConsts")).SHA256},info:c.HKDF_INFO,name:c.HKDF,salt:b},a,{length:c.AES_GCM_KEY_LENGTH,name:c.AES_GCM},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function q(a){var b=a.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=new DataView(b).getUint8(0);if(b===0){var c,e=a.slice((c=d("MAWCryptoConsts")).ADDITIONAL_DATA_LENGTH_IN_BYTES,c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2);return{aadLengthInBytes:c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2+c.EXTRA_ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:new DataView(e).getUint8(0),originRandomisedVersion:new DataView(a).getUint32(c.ADDITIONAL_DATA_LENGTH_IN_BYTES*2,!0)}}return{aadLengthInBytes:d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,keyVersion:b}}function r(a){return q(a)}var s=c("memoizeOneWithArgs")(function(a){return l(a)});function t(a){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=d("WABase64").decodeB64(a);a=(yield d("MAWSubtleCrypto").MAWSubtleCrypto.digest(d("MAWCryptoConsts").SHA256,a));return d("WABase64").encodeB64(a)});return u.apply(this,arguments)}g.ADDITIONAL_DATA=i;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=e;g.getAccountKeysBuffers=k;g.genAccountKeys=l;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=m;g.genDatabaseEncryptionSeed=o;g.genDatabaseEncryptionKey=p;g.getKeyVersionFromCipherData=q;g.getKeyVersionFromCipherDataString=r;g.getAccountKeys=s;g.generateHashString=t}),98);
__d("MAWKeychainNaClCrypto",["MAWKeychainCrypto","WABase64","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this,a)||this;c.name="EARError";c.message=a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function i(a,b,c){c=new Uint8Array(c);var e=d("tweetnacl").randomBytes(d("tweetnacl").secretbox.nonceLength);b=d("tweetnacl").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(c.length+e.length+b.length);a.set(c);a.set(e,c.length);a.set(b,c.length+e.length);return a.buffer}function j(a,b,c){return d("WABase64").encodeB64(i(a,b,c!=null?c:d("MAWKeychainCrypto").ADDITIONAL_DATA))}function k(a,b,c,e,f){b.slice(0,f);var g=b.slice(f,f+d("tweetnacl").secretbox.nonceLength);b=b.slice(f+d("tweetnacl").secretbox.nonceLength);f=d("tweetnacl").secretbox.open(new Uint8Array(b),new Uint8Array(g),new Uint8Array(a));if(f==null){throw new h("decryptTweetNaCl was unable to decrypt an entity. Attempting to use key version : "+((b=c)!=null?b:"non-provided")+". Format version "+((g=e)!=null?g:"unknown")+".")}return f}function l(a,b,c,e){return k(a,d("WABase64").decodeB64(b),c,void 0,e)}function a(a,b,c){return j(a,b,c)}function b(a,b,c,d){return l(a,b,c,d)}function c(a,b,c,d,e){return k(a,b,c,d,e)}g.EARDecryptionError=h;g.encryptTweetNaClArrayBuffer=i;g.encryptTweetNaCl=j;g.decryptTweetNaClArrayBuffer=k;g.decryptTweetNaCl=l;g.encrypt=a;g.decrypt=b;g.decryptArrayBuffer=c}),98);
__d("MAWSendQplToServer",["BrowserLockManager","ExecutionEnvironment","MAWEBSwitch","QPLUserFlow","WAExceededStorageQuota","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e){c("QPLUserFlow").start(a,{annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{},{is_eb_enabled:c("MAWEBSwitch").isEnabled(),isDev:0,isFromUIThread:(h||(h=c("ExecutionEnvironment"))).isInMainThread,isGifSearchEnbled:!0,isLockApiSupported:c("BrowserLockManager")!=null,processAcksInOneQueue:c("gkx")("23955"),useSharedWorker:"SharedWorkerGlobalScope"in self&&self instanceof self.SharedWorkerGlobalScope})}),instanceKey:d,timeoutInMs:e});return i(a,d)}function i(a,b){return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){e&&c("QPLUserFlow").addAnnotations(a,e,{instanceKey:b}),c("QPLUserFlow").addPoint(a,d,{instanceKey:b})},endCancel:function(e){var f;c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},e,{bool:babelHelpers["extends"]({},e==null?void 0:e.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},e==null?void 0:e.string,{threadID:e==null?void 0:(f=e.string)==null?void 0:f.jid})}),{instanceKey:b});c("QPLUserFlow").endCancel(a,{annotations:e,instanceKey:b})},endFail:function(e,f){var g;c("QPLUserFlow").addAnnotations(a,babelHelpers["extends"]({},f,{bool:babelHelpers["extends"]({},f==null?void 0:f.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}),string:babelHelpers["extends"]({},f==null?void 0:f.string,{threadID:f==null?void 0:(g=f.string)==null?void 0:g.jid})}),{instanceKey:b});c("QPLUserFlow").endFailure(a,e,{annotations:f,instanceKey:b})},endSuccess:function(e){c("QPLUserFlow").addAnnotations(a,{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota(),isRelaxedDurability:!0}},{instanceKey:b}),c("QPLUserFlow").endSuccess(a,{annotations:e,instanceKey:b})},markError:function(d,e,f){return c("QPLUserFlow").markError(a,d,{debugInfo:e,error:f,instanceKey:b})}}}g.startQplUserFlow=a;g.makeMAWQPLProxyForExistingQPLUserFlow=i}),98);
__d("MAWQplProxy",["Deferred","ExecutionEnvironment","MAWBridge","MAWSendQplToServer","QPLEvent","asyncToGeneratorRuntime","gkx","justknobx","performanceAbsoluteNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h=c("gkx")("23949"))!=null?h:!1,m=new Set([25313175,25310776,1056839232,1056840931,1056847537,521478596,521479468,521476165,521480391]),n=0,o=(j||(j=c("performanceAbsoluteNow")))()-Date.now();function p(){return Date.now()}var q=new(c("Deferred"))();h=function(){q.resolve()};function r(a,b,e,f,g){f===void 0&&(f=!1),c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"point"},annotations:e==null?void 0:e.annotations,event:a,instanceKey:e==null?void 0:e.instanceKey,performanceAndDateSkew:o,timestamp:f?p():void 0},!0,void 0,g)})}function a(a,b,c,d,e){t(a,{bool:(a={},a[b]=c,a)},d,e)}function e(a,b,c,d,e){t(a,{string:(a={},a[b]=c,a)},d,e)}function f(a,b,c,d,e){t(a,{"int":(a={},a[b]=c,a)},d,e)}function s(a,b,c,d){t(a,{"double":b},c,d)}function t(a,b,e,f){c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"annotations"},annotations:b,event:a,instanceKey:e},!0,void 0,f)})}function u(a,b,e,f,g){g===void 0&&(g=!1);var h=p();c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"failure"},annotations:e,event:a,instanceKey:f,timestamp:g?h:void 0},!0)})}function v(a,b,e,f){f===void 0&&(f=!1);var g=p();c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},annotations:b,event:a,instanceKey:e,timestamp:f?g:void 0},!0)})}function w(a,b,e,f){f===void 0&&(f=!1);var g=p();c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"cancel"},annotations:b,event:a,instanceKey:e,timestamp:f?g:void 0},!0)})}function x(a,b,e){c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{name:b,type:"error"},debugInfo:e==null?void 0:e.debugInfo,error:e==null?void 0:e.error,event:a,instanceKey:e==null?void 0:e.instanceKey},!0)})}function y(a,b,c,d,e){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d,e){r(a,b+"_start",{annotations:d,instanceKey:e});d=(yield c());r(a,b+"_end",{instanceKey:e});return d});return z.apply(this,arguments)}var A=c("justknobx")._("2596");function B(a,b,e,f,g){g===void 0&&(g=!1);e==null&&n++;var h=(e=e)!=null?e:n,i=(e=f)!=null?e:A;if(!(k||(k=c("ExecutionEnvironment"))).isInWorker||!D(a))return d("MAWSendQplToServer").startQplUserFlow(a,b,h,i);c("promiseDone")(q.getPromise(),function(){return d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},annotations:babelHelpers["extends"]({},b||{},{bool:babelHelpers["extends"]({},(b==null?void 0:b.bool)||{})}),event:a,instanceKey:h,timeoutInMs:i,timestamp:g?p():void 0},!0)});return{addAnnotations:function(b){return t(a,b,h)},addPoint:function(b,c){return r(a,b,{annotations:c,instanceKey:h})},endCancel:function(b){return w(a,b,h)},endFail:function(b,c){return u(a,b,c,h)},endSuccess:function(b){return v(a,b,h)},markError:function(b,c,d){return x(a,b,{debugInfo:c,error:d,instanceKey:h})}}}function C(a,b){return!(k||(k=c("ExecutionEnvironment"))).isInWorker||!D(a)?d("MAWSendQplToServer").makeMAWQPLProxyForExistingQPLUserFlow(a,b):{addAnnotations:function(c){return t(a,c,b)},addPoint:function(c,d){return r(a,c,{annotations:d,instanceKey:b})},endCancel:function(c){return w(a,c,b)},endFail:function(c,d){return u(a,c,d,b)},endSuccess:function(c){return v(a,c,b)},markError:function(c,d,e){return x(a,c,{debugInfo:d,error:e,instanceKey:b})}}}function D(a){return l||m.has((i||(i=d("QPLEvent"))).getMarkerId(a))}g.performanceAbsoluteNow=p;g.resolveWorkerBridge=h;g.sendQplPointThroughBridge=r;g.sendQPLBoolAnnotationThroughBridge=a;g.sendQPLStringAnnotationThroughBridge=e;g.sendQPLIntAnnotationThroughBridge=f;g.sendQPLDoubleAnnotationsThroughBridge=s;g.sendQPLAnnotationsThroughBridge=t;g.sendQPLFailThroughBridge=u;g.sendQPLSuccessThroughBridge=v;g.sendQPLCancelThroughBridge=w;g.sendQPLErrorThroughBridge=x;g.measurePerfInQPL=y;g.DEFAULT_WORKER_QPL_TIMEOUT_MS=A;g.startQplUserFlow=B;g.makeQplUserFlowFromExistedInstance=C}),98);
__d("ReStoreProvider.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.db;var e;b[0]!==c||b[1]!==a?(e=i.jsx(j.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.context=j;g.ReStoreProvider=a}),98);
__d("WAArrayBufferUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=new ArrayBuffer(a.length);b=new Uint8Array(b);var c,d;for(c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c);return b.buffer}function d(a,c){c===void 0&&(c=5e5);return new(h||(h=b("Promise")))(function(b,d){var e=a.length,f=new ArrayBuffer(e),g=new Uint8Array(f),h=0;setTimeout(i,0);function i(){var d=Math.min(h+c,e);while(h<d)g[h]=a.charCodeAt(h),h++;if(h===e){b(f);return}setTimeout(i,16)}})}function e(a){return String.fromCharCode.apply(null,new Uint8Array(a))}var i=8388607;function f(a,b){a=new Uint8Array(a);if(b>i)throw c("err")("Divisor is too big");var d=0;for(var e=0;e<a.length;++e)d=((d<<8)+a[e])%b;return d}function j(a){a=a.map(function(a){return new Uint8Array(a)});var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(b,a);return a+b.byteLength},0);return c.buffer.slice(c.byteOffset,c.byteOffset+c.byteLength)}function k(a,b){a=new Uint8Array(a);b=new Uint8Array(b);return l(a,b)}function l(a,b){if(a.byteLength!==b.byteLength)return!1;for(var c=0;c!==a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}g.stringToArrayBuffer=a;g.largeStringToArrayBuffer=d;g.arrayBufferToString=e;g.arrayBufferMod=f;g.concatBuffers=j;g.arrayBuffersEqualUNSAFE=k;g.uint8ArraysEqualUNSAFE=l}),98);
__d("MAWVaultMaterials",["FBLogger","WAArrayBufferUtils","randomInt","tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null;function k(a){i=a}function l(){return h}function m(a){h=a}function a(){h=null,i=null}function n(){return p()!=null&&l()!=null}function b(){return j}function o(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function p(){return i}function q(){if(!n())throw c("FBLogger")("maw_ear").mustfixThrow("Vault materials are null");return{encryptionKey:h,prefixAndSuffix:i}}function e(a,b){var d=n();c("FBLogger")("maw_ear").debug("Setting vault materials -- vaultMaterials=%s, previouslySetup=%s",Boolean(a).toString(),d);if(!d){s((d=a)!=null?d:r());j=(d=b)!=null?d:a!=null?"existing":"newly-generated"}return q()}function r(){return{encryptionKey:d("tweetnacl").randomBytes(32).buffer,prefixAndSuffix:o()}}function s(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null)throw c("FBLogger")("maw_ear").mustfixThrow("Cannot set null values for encryption key and prefix");m(b);k(a)}function f(){return t(q())}function t(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(a!=null&&b!=null){b=d("WAArrayBufferUtils").arrayBufferToString(b);return JSON.stringify({encryptionKey:b,prefixAndSuffix:a})}else return""}function u(a){if(a==="")return null;else{a=JSON.parse(a);if(a.encryptionKey==null||a.prefixAndSuffix==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault materials were not in correct format");var b=d("WAArrayBufferUtils").stringToArrayBuffer(a.encryptionKey);a=a.prefixAndSuffix;return{encryptionKey:b,prefixAndSuffix:a}}}g.TEST_ONLY_clearVaultMaterials=a;g.hasVaultBeenSetup=n;g.getVaultMaterialsSource=b;g.getVaultPrefixAndSuffix=p;g.getVaultMaterials=q;g.initializeVaultMaterials=e;g.generateNewVaultMaterials=r;g.materialsToString=f;g.fromMaterialsToString=t;g.fromStringToMaterials=u}),98);
__d("MAWVaultMaterialsStorageStatus",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){return g}function b(){g=!0}f.isCurrentContextHoldingLock=a;f.setIsCurrentContextHoldingLock=b}),66);
__d("MAWVault",["ExecutionEnvironment","FBLogger","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWVaultMaterials","MAWVaultMaterialsStorageStatus","gkx","hasMultipleTabs","promiseDone","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map();function k(a){return new RegExp("^[0-9]{10}##[0-9]{10}.*[0-9]{10}##[0-9]{10}$").test(a)}var l=c("gkx")("23909");function m(a){if(!l)return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();b=b==null?!1:new RegExp(b+".*"+b).test(a);return b}function n(a,b){b===void 0&&(b=!1);if(!l)return a;if(m(a)){var e=d("MAWVaultMaterials").getVaultMaterials(),f=e.encryptionKey;e=e.prefixAndSuffix;if(e==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault prefix and suffix should not be null when unvaulting");var g=new RegExp(e+"(.*)"+e);g=a.match(g);if(g==null||g.length!=2)throw c("FBLogger")("maw_ear").mustfixThrow("Could not retrieve inner value to unvault");if(f==null)throw c("FBLogger")("maw_ear").mustfixThrow("Vault encryption key was null before unvault");g=g[1];e=""+e+g+e;var i=p(f,g);return a.replace(e,function(){return i})}if(k(a))if(b)throw c("FBLogger")("maw_ear").mustfixThrow("Encountered vaulted value with incorrect key.");else c("promiseDone")(d("hasMultipleTabs").hasMultipleTabs().then(function(a){c("FBLogger")("maw_ear").mustfix("Encountered vaulted value with incorrect key. Vault material source: %s, environment: %s, hasMultipleTabs: %s, isSharedWorker: %s, isCurrentContextHoldingLock: %s",d("MAWVaultMaterials").getVaultMaterialsSource(),(h||(h=c("ExecutionEnvironment"))).isInMainThread?"main":"worker",a==null?"unknown_multi_tab":a?"multi_tab":"single_tab",d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()?"shared_worker":"dedicated_worker",d("MAWVaultMaterialsStorageStatus").isCurrentContextHoldingLock()?"holding_lock":"not_holding_lock")}));return a}function a(a){if(a==="")return a;if(!l)return a;if(!d("MAWVaultMaterials").hasVaultBeenSetup()){c("FBLogger")("maw_ear").mustfix("Attempted to vault value while materials were not setup");return a}if(m(a)){c("FBLogger")("maw_ear").warn("Attempted to vault value that's already been vaulted");return a}k(a)&&c("FBLogger")("maw_ear").mustfix("Attempted to vault value that's already been vaulted with a different key");var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null)throw c("FBLogger")("maw_ear").mustfixThrow("Cannot vault before vault materials are set");e=o(e,a);return""+b+e+b}function b(a){if(!l)return a;if(!m(a))throw c("FBLogger")("maw_ear").mustfixThrow("Value should be vaulted");return n(a)}function o(a,b){var c=i==null?void 0:i.get(b);if(c!=null)return c;c=new TextEncoder().encode(b).buffer;a=d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(c));i==null?void 0:i.set(b,a);j==null?void 0:j.set(a,b);return a}function p(a,b){var c=j==null?void 0:j.get(b);if(c!=null)return c;c=new TextDecoder().decode(d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b,void 0,d("MAWKeychainCrypto").ADDITIONAL_DATA.byteLength));i==null?void 0:i.set(c,b);j==null?void 0:j.set(b,c);return c}g.isVaulted=m;g.unvault=n;g.vault=a;g.unvaultOrThrow=b}),98);
__d("isObject",[],(function(a,b,c,d,e,f){function a(a){var b=typeof a;return b==="function"||b==="object"&&!!a}f["default"]=a}),66);
__d("isPlainObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Object.prototype.toString.call(a)==="[object Object]"}f["default"]=a}),66);
__d("MAWVaultDb",["MAWQplProxy","MAWVault","err","gkx","isObject","isPlainObject","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=1/1e3,i=new WeakMap();function j(a,b){return b[a]!=null}var k=c("gkx")("23909");function a(a,b,e){if(!c("isPlainObject")(a)||!k||!j(b,e)||a==null)return a;var f=i.get(a);if(f!=null)return f;f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301509,"119")):null;try{e=e[b];e=l(a,e,d("MAWVault").vault);f==null?void 0:f.endSuccess();i.set(a,e);return e}catch(a){f==null?void 0:f.endFail("vault_fail");throw c("err")(a.message+" - Failed to vault an entity in the table: "+b)}}function b(a,b,e){if(!c("isPlainObject")(a)||!k||!j(b,e)||a==null)return a;var f=Math.random()<h?d("MAWQplProxy").startQplUserFlow(c("qpl")._(741087294,"2028")):null;try{a=l(a,e[b],d("MAWVault").unvault);f==null?void 0:f.endSuccess();return a}catch(a){f==null?void 0:f.endFail("unvault_fail");throw c("err")(a.message+" - Unvaulting failed for an entity in the table: "+b)}}function l(a,b,d){if(a==null)return a;b=Object.entries(b).filter(function(b){b=b[0];return a[b]!=null});return b.length===0?a:b.reduce(function(a,b){var e=b[0];b=b[1];typeof b!=="boolean"&&c("isObject")(b)?a[e]=l(a[e],b,d):b===!0&&(a[e]=d(a[e]));return a},babelHelpers["extends"]({},a))}g.vaultDbRow=a;g.unvaultDbRow=b;g.setInPath=l}),98);
__d("MAWVaultDefinitions",[],(function(a,b,c,d,e,f){"use strict";a={editMsgHistory:{msgContent:{content:!0}},messages:{msgContent:{content:!0},quote:{content:{msgContent:{content:!0}}}},unrenderedMessages:{msgContent:!0}};b={edit_message_history:{messageContent:!0},messages:{replyMessageText:!0,text:!0},threads:{snippet:!0}};f.ARMADILLO_IDB_VAULT_DEFINITIONS=a;f.PERSISTED_DB_VAULT_DEFINITIONS=b}),66);
__d("MAWVerifyThreadCutoverDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("MAWVerifyThreadCutoverDeferred");g["default"]=a}),98);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="ReStore DB closed";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;b=(b=b)!=null?b:h;e=a.call(this,b)||this;e.message=b;switch(d("MAWCurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh","restore_db_closed");break;default:c("ClientConsistencyEventEmitter").emit("softRefresh","restore_db_closed")}return e}return b}(babelHelpers.wrapNativeSuper(Error));g["default"]=a}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("cr:2075")!=null?b("cr:2075").vault(a):a}function c(a){return b("cr:2075")!=null?b("cr:2075").unvault(a):a}function d(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").unvaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}function e(a,c){return b("cr:2151")!=null&&b("cr:2203")!=null?b("cr:2151").vaultDbRow(a,c,b("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):a}g.maybeVault=a;g.maybeUnvault=c;g.maybeUnvaultDbRow=d;g.maybeVaultDbRow=e}),98);
__d("useAsyncReStore",["LSDatabaseSingleton","Promise","ReStoreProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;c=i||d("react");var l=c.useContext;c.useMemo;function a(){var a=d("react-compiler-runtime").c(2),c=l((k||(k=d("ReStoreProvider.react"))).context);bb0:{if(c!=null){var e;a[0]!==c?(e=(h||(h=b("Promise"))).resolve(c),a[0]=c,a[1]=e):e=a[1];c=e;break bb0}c=(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}return c}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("Box.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={box:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};b=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(13),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];var g,i;if(e[2]!==f){a=f;g=a.as;i=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["as","xstyle"]);e[2]=f;e[3]=a;e[4]=g;e[5]=i}else a=e[3],g=e[4],i=e[5];f=g===void 0?"div":g;e[6]!==i?(g=(h||(h=c("stylex")))(k.box,i),e[6]=i,e[7]=g):g=e[7];e[8]!==f||e[9]!==a||e[10]!==b||e[11]!==g?(i=j.jsx(f,babelHelpers["extends"]({},a,{className:g,ref:b})),e[8]=f,e[9]=a,e[10]=b,e[11]=g,e[12]=i):i=e[12];return i}e=b;g["default"]=e}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("ChatMuteStore",[],(function(a,b,c,d,e,f){"use strict";b={EightHours:288e5,FifteenMinutes:9e5,Indefinitely:-1,OneDay:864e5,OneHour:36e5};c={Both:"bothMuteScope",Call:"callMuteScope",Message:"messageMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("FBIconBellNullCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.33 1076.878 2.524-2.525a.5.5 0 0 0-.707-.707l-2.323 2.323a3.606 3.606 0 0 0-1.838-1.322c.006-.048.014-.096.014-.147a1 1 0 0 0-2 0c0 .05.008.099.015.148-1.432.435-2.509 1.801-2.646 3.526l-.04.906c0 .273-.243.607-.502.96-.372.508-.834 1.14-.827 1.963.003.385.175.887.589 1.201l-1.442 1.442a.5.5 0 1 0 .707.707l1.853-1.853h.024l6.605-6.606-.007-.016m.141 6.622c1.115 0 1.526-.895 1.53-1.495.007-.824-.455-1.457-.827-1.965-.258-.353-.502-.686-.503-.981l-.04-.903c-.003-.043-.01-.083-.015-.126l-5.47 5.47h5.325zm-1.92 1h-3.1a.203.203 0 0 0-.138.352c.435.4 1.031.648 1.688.648s1.253-.247 1.687-.648a.204.204 0 0 0-.137-.352"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCautionTriangleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"m104.999 920.516-.25 2.833c-.033.368-.358.65-.748.65s-.715-.282-.748-.65l-.25-2.833a.969.969 0 0 1 .998-1.016.969.969 0 0 1 .998 1.016zM104 926.5a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1zm1.114-8.877a1.26 1.26 0 0 0-1.094-.623h-.002a1.26 1.26 0 0 0-1.096.62l-4.746 7.996c-.23.388-.235.853-.012 1.245.228.4.641.639 1.106.639h9.46c.464 0 .877-.238 1.105-.637.223-.39.22-.856-.009-1.244l-4.712-7.996z",transform:"translate(-450 -1073) translate(352 157)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconDots3HorizontalOutline20.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M458 408a2 2 0 1 1-4 0 2 2 0 0 1 4 0m6 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-12 0a2 2 0 1 1-4 0 2 2 0 0 1 4 0"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconGroupFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSForceImmediateSync"),e.dbType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticFetchPendingGroupInvite",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("link_hash",a[0]),d[0].set("image_width",a[1]),d[0].set("image_height",a[2]),d[0].set("has_vanity_name",!1),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_pending_group_invite",c.i64.cast([0,434]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(235).put({linkHash:a[0],threadTitle:"",lastThreadActivityMs:c.i64.cast([0,0]),groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:c.i64.cast([0,0]),joinExplainerText:"",numberOfMembers:c.i64.cast([0,0]),isInApprovalQueue:!1,isSubscribed:!1,canJoin:!1,fbGroupDescription:"",communityImageUrl:"",communityImageUrlFallback:"",communityImageUrlExpirationTimestampMs:c.i64.cast([0,0]),linkJoinType:c.i64.cast([0,1]),fbGroupVisibility:c.i64.cast([0,1]),communityId:c.i64.cast([0,0])})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticFetchPendingGroupInviteStoredProcedure";a.__tables__=["group_invitations_pending"];e.exports=a}),null);
__d("LSOptimisticFetchPendingGroupInviteStoredProcedure",["LSOptimisticFetchPendingGroupInvite","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticFetchPendingGroupInvite"),e.linkHash,e.imageWidth,e.imageHeight);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMAWUnrecoverableDbError",["MAWUnrecoverableDbErrors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("MAWUnrecoverableDbErrors").getError(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("MAWUnrecoverableDbErrors").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);return c}g["default"]=a}),98);
__d("useWAExceededStorageQuota",["MAWUnrecoverableDbErrors","WAExceededStorageQuota","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;var j=b.useState;function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("WAExceededStorageQuota").getExceededStorageQuota(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("WAExceededStorageQuota").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);a[3]!==c?(b=c?new(d("MAWUnrecoverableDbErrors").WAExceededStorageQuotaError)():null,a[3]=c,a[4]=b):b=a[4];f=b;return f}g["default"]=a}),98);
__d("MAWUnrecoverableErrorBoundary.react",["react","react-compiler-runtime","useMAWUnrecoverableDbError","useWAExceededStorageQuota"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.fallback;var f=c("useMAWUnrecoverableDbError")(),g=c("useWAExceededStorageQuota")();f=(f=f)!=null?f:g;if(f!=null&&a!=null){b[0]!==f||b[1]!==a?(g=a(f),b[0]=f,b[1]=a,b[2]=g):g=b[2];return g}else return e}g["default"]=a}),98);
__d("MAWWasmFeatureSupport",["Promise","react","react-compiler-runtime","wasm-feature-detect"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");var j=c.useEffect,k=c.useState,l={bigInt:!1,bulkMemory:!1,referenceTypes:!1};function a(){var a=d("react-compiler-runtime").c(2),c=k(l),e=c[0],f=c[1],g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){(h||(h=b("Promise"))).all([d("wasm-feature-detect").bulkMemory(),d("wasm-feature-detect").bigInt(),d("wasm-feature-detect").referenceTypes()]).then(function(a){var b=a[0],c=a[1];a=a[2];f({bigInt:c,bulkMemory:b,referenceTypes:a});l={bigInt:c,bulkMemory:b,referenceTypes:a}})},g=[f],a[0]=c,a[1]=g):(c=a[0],g=a[1]);j(c,g);return e}g.useWasmFeatureSupport=a}),98);
__d("MDSButton.react",["cr:5940","cr:7445","cr:7568","cr:7658","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");c=i.forwardRef(a);function a(a,c){var e=d("react-compiler-runtime").c(14),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];if(b("cr:5940")!=null&&b("cr:7658")!=null&&b("cr:7568")!=null){if(e[2]!==f){a=f;var g=a.addOnStart;a.icon;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnStart","icon"]);g=g;a=a;e[2]=f;e[3]=g;e[4]=a}else g=e[3],a=e[4];g=Boolean(g);var h;e[5]!==a||e[6]!==g?(h=b("cr:7658")(babelHelpers["extends"]({},a,{loading:g}),b("cr:7568")),e[5]=a,e[6]=g,e[7]=h):h=e[7];a=h;e[8]!==a||e[9]!==c?(g=i.jsx(b("cr:5940"),babelHelpers["extends"]({ref:c},a)),e[8]=a,e[9]=c,e[10]=g):g=e[10];return g}if(b("cr:7445")!=null){e[11]!==c||e[12]!==f?(h=i.jsx(b("cr:7445"),babelHelpers["extends"]({ref:c},f)),e[11]=c,e[12]=f,e[13]=h):h=e[13];return h}return null}e=c;g["default"]=e}),98);
__d("MDSButtonImpl.react",["BaseStyledButton.react","BaseTheme.react","CometContainerPressableContext","FDSIcon.react","MDSText.react","emptyFunction","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useRef,m={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",height:"x1fgtraw",$$css:!0}},n={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},o={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},p={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function q(a){switch(a){case"secondary":return p;case"destructive":case"primary":default:return o}}function r(a,b){var c=b.disabled;b=b.reduceEmphasis;a=q(a);return(c?a[":disabled"]:null)||(b?a[":deemphasized"]:null)||a}e=i.forwardRef(a);function a(a,b){a=babelHelpers["extends"]({},a);var d=a.addOnStart,e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.isContainerTarget,h=g===void 0?!1:g;g=a.label;var o=a.labelIsHidden;o=o===void 0?!1:o;var p=a.linkProps,q=a.onFocusIn,s=a.onFocusOut,t=a.onHoverIn,u=a.onHoverOut,v=a.onPress,w=a.onPressIn,x=a.onPressOut,y=a.padding;y=y===void 0?"normal":y;var z=a.reduceEmphasis;z=z===void 0?!1:z;var A=a.size;A=A===void 0?32:A;var B=a.suppressHydrationWarning;B=B===void 0?!1:B;var C=a.testid;C=a.type;C=C===void 0?"primary":C;a=babelHelpers.objectWithoutPropertiesLoose(a,["addOnStart","disabled","icon","isContainerTarget","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"]);var D=r(C,{disabled:e,reduceEmphasis:z}),E=D.iconColor;D=D.textColor;var F=l(null),G=l(null),H=j(c("CometContainerPressableContext"));k(function(){h&&H&&H.onMount({onContextMenu:c("emptyFunction"),onPress:function(a){a=F.current;a&&a.click()},target:p==null?void 0:p.target,url:p==null?void 0:p.url},G)},[H,h,p==null?void 0:p.url,p==null?void 0:p.target]);return i.jsx(c("BaseTheme.react"),{config:n,style:{width:"100%"},children:i.jsx(c("BaseStyledButton.react"),babelHelpers["extends"]({},a,{addOnStart:d,"aria-label":(d=a["aria-label"])!=null?d:g,content:o?null:i.jsx(c("MDSText.react"),{color:D,numberOfLines:1,type:"button2",children:g}),contentXstyle:[A===28&&m.sizeSmall,A===32&&m.sizeMedium,A===36&&m.sizeLarge],disabled:e,icon:f==null?null:i.jsx(c("FDSIcon.react"),{color:E,icon:f,size:24}),linkProps:p,onFocusIn:q,onFocusOut:s,onHoverIn:t,onHoverOut:u,onPress:v,onPressIn:w,onPressOut:x,padding:y,ref:c("mergeRefs")(F,b),suppressHydrationWarning:B,testid:void 0,xstyle:[C==="primary"&&m.primary,C==="secondary"&&m.secondary,C==="destructive"&&m.destructive,C==="secondary"&&z&&m.secondaryDeemphasized,C==="primary"&&z&&m.primaryDeemphasized,e&&m.disabled]}))})}a.displayName=a.name+" [from "+f.id+"]";d=e;g["default"]=d}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},l={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},m={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},n={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};e=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(42),f,g,h,o,p,q,r,t,u,v,w;e[0]!==a?(o=a.align,f=a.children,p=a.expanding,q=a.hasDividers,r=a.paddingHorizontal,g=a.paddingTop,t=a.paddingVertical,u=a.spacing,v=a.verticalAlign,w=a.xstyle,h=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h,e[4]=o,e[5]=p,e[6]=q,e[7]=r,e[8]=t,e[9]=u,e[10]=v,e[11]=w):(f=e[1],g=e[2],h=e[3],o=e[4],p=e[5],q=e[6],r=e[7],t=e[8],u=e[9],v=e[10],w=e[11]);a=o===void 0?null:o;o=p===void 0?!1:p;p=q===void 0?!1:q;q=r===void 0?null:r;r=t===void 0?0:t;t=u===void 0?null:u;u=v===void 0?"top":v;v=j(c("MDSColumnContext"));var x;e[12]!==a||e[13]!==p||e[14]!==q||e[15]!==t?(x={align:a,hasDividers:p,paddingHorizontal:q,spacing:t},e[12]=a,e[13]=p,e[14]=q,e[15]=t,e[16]=x):x=e[16];a=x;p=a;e[17]!==o?(q=o===!0&&[k.expanding,c("isIE11OrGreater")&&k.expandingIE11],e[17]=o,e[18]=q):q=e[18];t=m[r];x=g!=null&&l[g];e[19]!==q||e[20]!==t||e[21]!==x||e[22]!==w?(a=[k.root,q,t,x,w],e[19]=q,e[20]=t,e[21]=x,e[22]=w,e[23]=a):a=e[23];r=u!=="top"&&n[u];e[24]!==r?(g=[k.inner,r],e[24]=r,e[25]=g):g=e[25];e[26]!==f?(q=s(f),e[26]=f,e[27]=q):q=e[27];e[28]!==p||e[29]!==q?(t=i.jsx(c("MDSColumnContext").Provider,{value:p,children:q}),e[28]=p,e[29]=q,e[30]=t):t=e[30];e[31]!==g||e[32]!==t?(x=i.jsx(c("BaseView.react"),{xstyle:g,children:t}),e[31]=g,e[32]=t,e[33]=x):x=e[33];e[34]!==h||e[35]!==b||e[36]!==a||e[37]!==x?(w=i.jsx(c("BaseView.react"),babelHelpers["extends"]({},h,{ref:b,xstyle:a,children:x})),e[34]=h,e[35]=b,e[36]=a,e[37]=x,e[38]=w):w=e[38];u=w;if(v!=null){f=(r=o)!=null?r:void 0;e[39]!==u||e[40]!==f?(p=i.jsx(c("MDSColumnItem.react"),{expanding:f,children:u}),e[39]=u,e[40]=f,e[41]=p):p=e[41];return p}return u}f=e;var o={isFirst:!0,isLast:!1},p={isFirst:!1,isLast:!0},q={isFirst:!0,isLast:!0},r={isFirst:!1,isLast:!1};function s(a){return i.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?q:e?o:d?p:r;return i.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=f}),98);
__d("MDSTextConfig",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";a={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},disabledButton:{color:"x1x80s81",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}};var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={"default":function(a){switch(a){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(a){switch(a){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}};b=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[h.segoe,i.segoe];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[h.apple,c("UserAgent").isEngine("Gecko")?i.sfGecko:i.sfWebkit]:[h["default"],i["default"]]}();d=b[0];e=b[1];f={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}};b={colors:{blueLink:a.blueLink,disabled:a.disabled,disabledButton:a.disabledButton,highlight:a.highlight,negative:a.negative,positive:a.positive,primary:a.primary,primaryButton:a.primaryButton,primaryDeemphasizedButton:a.primaryDeemphasizedButton,secondary:a.secondary,secondaryButton:a.secondaryButton,secondaryOnMedia:a.secondaryOnMedia,tertiary:a.tertiary,white:a.white},defaultFontFamily:d,offsets:e,styles:{body1:{lineHeight:24,style:f.body1},body2:{lineHeight:20,style:f.body2},body3:{lineHeight:19.9995,style:f.body3},body4:{lineHeight:16,style:f.body4},bodyLink1:{lineHeight:24,style:f.bodyLink1},bodyLink2:{lineHeight:20,style:f.bodyLink2},bodyLink3:{lineHeight:19.9995,style:f.bodyLink3},bodyLink4:{lineHeight:16,style:f.bodyLink4},button1:{lineHeight:20,style:f.button1},button2:{lineHeight:19.9995,style:f.button2},entityHeaderHeadline1:{lineHeight:38,style:f.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:f.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:f.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:f.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:f.entityHeaderMeta3},headline3:{lineHeight:20,style:f.headline3},headline4:{lineHeight:19.9995,style:f.headline4},headlineEmphasized1:{lineHeight:28,style:f.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:f.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:f.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:f.headlineEmphasized5},meta1:{lineHeight:16,style:f.meta1},meta2:{lineHeight:16,style:f.meta2},meta3:{lineHeight:16,style:f.meta3},meta4:{lineHeight:15,style:f.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:f.body2ForDenseMode},body3:{lineHeight:20,style:f.body3ForDenseMode},body4:{lineHeight:16,style:f.body4ForDenseMode},bodyLink2:{lineHeight:20,style:f.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:f.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:f.bodyLink4ForDenseMode},button1:{lineHeight:18,style:f.button1ForDenseMode},button2:{lineHeight:18,style:f.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:f.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:f.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:f.headline3ForDenseMode},headline4:{lineHeight:20,style:f.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:f.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:f.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:f.meta1ForDenseMode},meta2:{lineHeight:14,style:f.meta2ForDenseMode},meta3:{lineHeight:14,style:f.meta3ForDenseMode},meta4:{lineHeight:15,style:f.meta4ForDenseMode}}};a=b;g["default"]=a}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(a,b,c,d,e,f,g){"use strict";function a(){}e=(d=b("cr:2099"))!=null?d:{useTranslationKeyForTextParent:a};var h=e.useTranslationKeyForTextParent;function c(){return h()}g["default"]=c}),98);
__d("MDSTextImpl.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","MDSTextConfig","react","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo,l=d("BaseText.react").createBaseTextComponent(c("MDSTextConfig")),m={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},n={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function o(a,b){return b?(b=n[a])!=null?b:a:a}var p=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];e=i.forwardRef(a);function a(a,b){var e=a.align;e=e===void 0?"auto":e;var f=a.children,g=a.color,h=a.dir;h=h===void 0?"auto":h;var n=a.id,q=a.isPrimaryHeading;q=q===void 0?!1:q;var r=a.isSemanticHeading;r=r===void 0?!1:r;var s=a.numberOfLines,t=a.testid,u=a.type;t=k(function(){return p.includes(u)?"secondary":"primary"},[u]);g=o((a=g)!=null?a:t,u==="button1"||u==="button2");a=c("useXPlatReactTranslationKeyForTextParent")();t=d("BaseTextContext").useBaseTextContext();var v=j(c("CometDensityModeContext"));v=v[0];t=(t==null?void 0:t.nested)===!0;e=i.jsx(l,{alignment:(e=e)!=null?e:void 0,colorName:g,dir:t?void 0:h,id:n,isDenseModeEnabled:v,lines:s||0,ref:d("xplatToDOMRef").xplatToDOMRef(b),styleName:u,testid:void 0,xstyle:m.text,children:f},a);return r||q?i.jsx(c("BaseHeading.react"),{isPrimaryHeading:q,xstyle:m.heading,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";b=e;e.displayName="MDSText";g["default"]=b}),98);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("getLSMediaCommunityFolderPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.pictureUrlFallback:a.pictureUrl}g["default"]=a}),98);
__d("MWCMThreadPictureCustomThreadCommunity.react",["BaseView.react","FDSProfilePhoto_EXPERIMENTAL.react","MWXGlimmer.react","getLSMediaCommunityFolderPictureUrl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={base:{height:"x1auzw0x",position:"x10l6tqk",width:"xqu606t",$$css:!0},circle:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},community:{end:"xds687c",left:null,right:null,top:"x13vifvy",$$css:!0},glimmer:{borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x178xt8z",borderEndWidth:"xm81vs4",borderBottomWidth:"xso031l",borderStartWidth:"xy80clv",height:"x5yr21d",width:"xh8yej3",$$css:!0},rounded:{borderTopStartRadius:"x12myldv",borderTopEndRadius:"x1udsgas",borderBottomEndRadius:"xrc8dwe",borderBottomStartRadius:"xxxhv2y",$$css:!0},thread:{backgroundColor:"x1jx94hy",borderTopColor:"x6zyg47",borderEndColor:"x1xm1mqw",borderBottomColor:"xpn8fn3",borderStartColor:"xtct9fg",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xamhcws",borderEndWidth:"xol2nv",borderBottomWidth:"xlxy82",borderStartWidth:"x19p7ews",bottom:"x1ey2m1c",boxSizing:"x1afcbsf",start:"x17qophe",left:null,right:null,marginTop:"x1kgmq87",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x8182xy",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.community,f=a.photoSize;a=a.threadPictureUrl;var g;b[0]!==e?(g=c("getLSMediaCommunityFolderPictureUrl")(e),b[0]=e,b[1]=g):g=b[1];e=g;b[2]!==f?(g={height:f,width:f},b[2]=f,b[3]=g):g=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=[j.base,j.community],b[4]=f):f=b[4];b[5]!==e?(f=i.jsx(c("BaseView.react"),{xstyle:f,children:e==null?i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmer,j.rounded]}):i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"rounded",size:"fill",source:e})}),b[5]=e,b[6]=f):f=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.base,j.thread,j.circle],b[7]=e):e=b[7];b[8]!==a?(e=i.jsx(c("BaseView.react"),{xstyle:e,children:i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"circle",size:"fill",source:a})}),b[8]=a,b[9]=e):e=b[9];b[10]!==g||b[11]!==f||b[12]!==e?(a=i.jsxs(c("BaseView.react"),{role:"img",style:g,children:[f,e]}),b[10]=g,b[11]=f,b[12]=e,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("useMWEBMobileOnboardingDeviceList",["WABridgedAPI","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).use,j=null;function k(){j==null&&(j=c("WABridgedAPI").getCurrentUserDeviceList());return j}function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=k(),a[0]=b):b=a[0];return i(b)}g["default"]=a}),98);
__d("MWEBMobileOnboardingEligibility",["CometErrorBoundary.react","CometPlaceholder.react","gkx","lazyLoadComponent","react","useMWEBMobileOnboardingDeviceList"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function j(a){var b=a.children;a=a.fallback;var d=c("useMWEBMobileOnboardingDeviceList")();d=d.some(k)&&c("gkx")("5255");d=d;return d?b:a}function k(a){return a.isCurrentDevice&&a.creationTime!=null&&a.creationTime.getTime()>Date.now()-6048e5}function a(a){var b=c("lazyLoadComponent")(a);return function(a){var d=a.fallback;a=a.props;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return d},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{fallback:d,children:i.jsx(b,babelHelpers["extends"]({},a))})})})}}g.requireMobileOnboardingIfEligible=a}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("MWEnsureCutoverOpenThreadExists",["Int64Hooks","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWGetChatTabOpenQPLEventTrace","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("ReQL").firstAsync(d("MAWThreadCutover").getMiActMappings(a,b)));if(b==null)return;b=(yield d("ReQL").firstAsync(d("MAWThreadCutover").getCutoverThreadsByJid(a,b.jid)));if(b==null)return;var e=b.openThreadId;b=(yield d("ReQL").firstAsync(d("MAWThreadCutover").getThreadByCutoverThread(a,b)));if(b==null)return a.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:e})},"readwrite",void 0,void 0,f.id+":54")});return j.apply(this,arguments)}function e(a){var b=d("react-compiler-runtime").c(10),e=(h||(h=c("useReStore")))(),g=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a),j,l;b[0]!==e||b[1]!==g?(j=function(){return g==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(g)},l=[e,g],b[0]=e,b[1]=g,b[2]=j,b[3]=l):(j=b[2],l=b[3]);var m=d("ReQLSuspense").useFirst(j,l,f.id+":68");b[4]!==m||b[5]!==e||b[6]!==g||b[7]!==a?(j=function(){m==null&&g!=null&&c("promiseDone")(e.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:g})},"readwrite",void 0,void 0,f.id+":78"),function(){c("MWGetChatTabOpenQPLEventTrace")(a,k)})},l=[m,e,g,a],b[4]=m,b[5]=e,b[6]=g,b[7]=a,b[8]=j,b[9]=l):(j=b[8],l=b[9]);d("Int64Hooks").useEffectInt64(j,l)}function k(a){a.addMarkerPoint("requested_cutover_open_thread","AppTiming")}g.ensureCutoverOpenThreadExists=a;g.useMWEnsureCutoverOpenThreadExists=e}),98);
__d("MWFacepile.react",["CometHeroHoldTrigger.react","FDSFacepilePhoto.react","MWXGlimmer.react","UNTRANSLATED_STRING_FIXME","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","translatedServerString","useMWFacepileGetContactsToShow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.actualBadge,f=a.ariaHidden,g=a.label,h=a.onlyAuthoratitiveContacts,k=a.photoSize,l=a.threadKey,m=a.threadType;a=a.withAltText;k=k===void 0?32:k;var n=a===void 0?!0:a;a=c("useMWFacepileGetContactsToShow")(l,m,h);if(a.length!==0){b[0]!==g||b[1]!==n?(l=n===!0&&g!=null?c("UNTRANSLATED_STRING_FIXME")(g):void 0,b[0]=g,b[1]=n,b[2]=l):l=b[2];if(b[3]!==a||b[4]!==n){b[6]!==n?(m=function(a){return{alt:n?c("translatedServerString")(a.name):void 0,disabled:!1,source:c("getLSMediaContactProfilePictureUrl")(a)}},b[6]=n,b[7]=m):m=b[7];h=a.map(m);b[3]=a;b[4]=n;b[5]=h}else h=b[5];b[8]!==e||b[9]!==f||b[10]!==a.length||b[11]!==k||b[12]!==l||b[13]!==h?(g=i.jsx(c("FDSFacepilePhoto.react"),{ariaHidden:f,badge:e,label:l,size:k,sources:h,totalItems:a.length}),b[8]=e,b[9]=f,b[10]=a.length,b[11]=k,b[12]=l,b[13]=h,b[14]=g):g=b[14];return g}b[15]!==k?(m={height:k,width:k},b[15]=k,b[16]=m):m=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmer}),f=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWFacepile photo",hold:!0}),b[17]=e,b[18]=f):(e=b[17],f=b[18]);b[19]!==m?(a=i.jsxs("div",{style:m,children:[e,f]}),b[19]=m,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){return k(e,a)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return d("Int64Hooks").useCallbackInt64(f,g)}g.sync=k;g.useSync=a}),98);
__d("MWReQLCMThreadPictureCustomThreadCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.photoSize,g=a.thread;a=a.threadPictureUrl;var i=(h||(h=c("useReStore")))(),k;b[0]!==i.tables.community_folders||b[1]!==g.parentThreadKey?(k=function(){return d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(g.parentThreadKey)},b[0]=i.tables.community_folders,b[1]=g.parentThreadKey,b[2]=k):k=b[2];var l;b[3]!==i||b[4]!==g.parentThreadKey?(l=[i,g.parentThreadKey],b[3]=i,b[4]=g.parentThreadKey,b[5]=l):l=b[5];k=d("ReQLSuspense").useFirst(k,l,f.id+":25");l=k==null?void 0:k.pictureUrl;var m=k==null?void 0:k.pictureUrlExpirationTimestampMs;k=k==null?void 0:k.pictureUrlFallback;var n;b[6]!==l||b[7]!==m||b[8]!==k?(n={pictureUrl:l,pictureUrlExpirationTimestampMs:m,pictureUrlFallback:k},b[6]=l,b[7]=m,b[8]=k,b[9]=n):n=b[9];b[10]!==e||b[11]!==n||b[12]!==a?(l=j.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:n,photoSize:e,threadPictureUrl:a}),b[10]=e,b[11]=n,b[12]=a,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MWReQLFacepile.react",["MWFacepile.react","MWFacepileBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.ariaHidden,f=a.badge,g=a.badgeSize,h=a.borderThemeColor,j=a.label,k=a.onlyAuthoratitiveContacts,l=a.photoSize,m=a.showBadge,n=a.thread;a=a.withAltText;k=k===void 0?!1:k;l=l===void 0?32:l;m=m===void 0?!0:m;a=a===void 0?!0:a;if(b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==m||b[4]!==n.threadKey){var o;o=m?(o=f)!=null?o:i.jsx(c("MWFacepileBadge.react"),{borderThemeColor:h,size:g,threadKey:n.threadKey}):null;b[0]=f;b[1]=g;b[2]=h;b[3]=m;b[4]=n.threadKey;b[5]=o}else o=b[5];f=o;b[6]!==f||b[7]!==e||b[8]!==j||b[9]!==k||b[10]!==l||b[11]!==n.threadKey||b[12]!==n.threadType||b[13]!==a?(g=i.jsx(c("MWFacepile.react"),{actualBadge:f,ariaHidden:e,label:j,onlyAuthoratitiveContacts:k,photoSize:l,threadKey:n.threadKey,threadType:n.threadType,withAltText:a}),b[6]=f,b[7]=e,b[8]=j,b[9]=k,b[10]=l,b[11]=n.threadKey,b[12]=n.threadType,b[13]=a,b[14]=g):g=b[14];return g}g["default"]=a}),98);
__d("MWThreadPictureCustomThread.react",["FDSFacepilePhoto.react","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","react-compiler-runtime","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(40),e=a.badge,g=a.badgeSize,i=a.borderThemeColor,k=a.photoSize,l=a.shape,m=a.showBadge,n=a.thread,o=a.threadPictureUrl;a=a.withAltText;var p=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor(),r;b[0]!==p.tables.contacts||b[1]!==p.tables.participants||b[2]!==n.threadKey?(r=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.tables.participants,["contactId","nickname"]).getKeyRange(n.threadKey),d("ReQL").fromTableAscending(p.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(d("MWPGetThreadTitle").amountToFetchForTitle)},b[0]=p.tables.contacts,b[1]=p.tables.participants,b[2]=n.threadKey,b[3]=r):r=b[3];var s;b[4]!==p||b[5]!==n.threadKey?(s=[p,n.threadKey],b[4]=p,b[5]=n.threadKey,b[6]=s):s=b[6];r=d("ReQLSuspense").useArray(r,s,f.id+":39");var t,u,v,w;if(b[7]!==q||b[8]!==e||b[9]!==g||b[10]!==i||b[11]!==r||b[12]!==k||b[13]!==l||b[14]!==m||b[15]!==n.threadKey||b[16]!==n.threadType||b[17]!==a){s=d("MWPGetThreadTitle").computeThreadTitle(void 0,n.threadType,r.slice(0,d("MWPGetThreadTitle").amountToFetchForTitle),q);if(b[24]!==e||b[25]!==g||b[26]!==i||b[27]!==m||b[28]!==n.threadKey){var x;x=m===!0?(x=e)!=null?x:j.jsx(c("MWFacepileBadge.react"),{borderThemeColor:i,size:g,threadKey:n.threadKey}):null;b[24]=e;b[25]=g;b[26]=i;b[27]=m;b[28]=n.threadKey;b[29]=x}else x=b[29];x=x;t=c("FDSFacepilePhoto.react");x=x;u=a===!0&&s!=null?c("translatedServerString")(s):void 0;v=l;w=k;s=a===!0&&s!=null?c("translatedServerString")(s):void 0;b[7]=q;b[8]=e;b[9]=g;b[10]=i;b[11]=r;b[12]=k;b[13]=l;b[14]=m;b[15]=n.threadKey;b[16]=n.threadType;b[17]=a;b[18]=t;b[19]=s;b[20]=x;b[21]=u;b[22]=v;b[23]=w}else t=b[18],s=b[19],x=b[20],u=b[21],v=b[22],w=b[23];b[30]!==s||b[31]!==o?(q=[{alt:s,disabled:!1,source:o}],b[30]=s,b[31]=o,b[32]=q):q=b[32];b[33]!==t||b[34]!==x||b[35]!==u||b[36]!==v||b[37]!==w||b[38]!==q?(e=j.jsx(t,{badge:x,label:u,shape:v,size:w,sources:q,totalItems:1}),b[33]=t,b[34]=x,b[35]=u,b[36]=v,b[37]=w,b[38]=q,b[39]=e):e=b[39];return e}g["default"]=a}),98);
__d("MWThreadPicture.react",["MWReQLCMThreadPictureCustomThreadCommunity.react","MWReQLFacepile.react","MWThreadPictureCustomThread.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","mwCMIsAnyCMThread","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={borderThemeColor:{borderTopColor:"xwi95zy",borderEndColor:"x1s86mek",borderBottomColor:"xt1txi7",borderStartColor:"x1pskuwm",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(4),e=a.withCommunityPicture;if(e===!0){b[0]!==a?(e=j.jsx(c("MWReQLCMThreadPictureCustomThreadCommunity.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(e=j.jsx(c("MWThreadPictureCustomThread.react"),babelHelpers["extends"]({},a)),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=d("react-compiler-runtime").c(27),e=a.ariaHidden,g=a.badge,i=a.badgeSize,m=a.onlyAuthoratitiveContacts,n=a.photoSize,o=a.showBadge,p=a.showFacepiles,q=a.threadKey,r=a.threadTitle,s=a.withAltText;a=a.withCommunityPicture;m=m===void 0?!1:m;o=o===void 0?!0:o;p=p===void 0?!1:p;s=s===void 0?!0:s;a=a===void 0?!1:a;var t=(h||(h=c("useReStore")))(),u;b[0]!==t.tables.threads||b[1]!==q?(u=function(){return d("ReQL").fromTableAscending(t.tables.threads,["parentThreadKey","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadName","threadType"]).getKeyRange(q)},b[0]=t.tables.threads,b[1]=q,b[2]=u):u=b[2];var v;b[3]!==t||b[4]!==q?(v=[t,q],b[3]=t,b[4]=q,b[5]=v):v=b[5];u=d("ReQLSuspense").useFirst(u,v,f.id+":62");if(u==null)return null;v=c("mwCMIsAnyCMThread")(u.threadType);o=o&&!v;b[6]!==u?(v=c("getLSMediaThreadPictureUrl")(u),b[6]=u,b[7]=v):v=b[7];v=v;if(v!=null&&p!==!0){b[8]!==g||b[9]!==i||b[10]!==n||b[11]!==o||b[12]!==u||b[13]!==v||b[14]!==s||b[15]!==a?(p=j.jsx(l,{badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,photoSize:n,showBadge:o,thread:u,threadPictureUrl:v,withAltText:s,withCommunityPicture:a}),b[8]=g,b[9]=i,b[10]=n,b[11]=o,b[12]=u,b[13]=v,b[14]=s,b[15]=a,b[16]=p):p=b[16];return p}a=(v=r)!=null?v:u.threadName;b[17]!==e||b[18]!==g||b[19]!==i||b[20]!==m||b[21]!==n||b[22]!==o||b[23]!==a||b[24]!==u||b[25]!==s?(p=j.jsx(c("MWReQLFacepile.react"),{ariaHidden:e,badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,label:a,onlyAuthoratitiveContacts:m,photoSize:n,showBadge:o,thread:u,withAltText:s}),b[17]=e,b[18]=g,b[19]=i,b[20]=m,b[21]=n,b[22]=o,b[23]=a,b[24]=u,b[25]=s,b[26]=p):p=b[26];return p}g["default"]=a}),98);
__d("MWXButtonGroup.react",["cr:227","cr:5028","cr:6106","cr:8931","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(39),e=a.align,f=a.direction,g=a.expanding,h=a.paddingHorizontal,j=a.primary;a=a.secondary;f=f===void 0?"backward":f;g=g===void 0?!1:g;h=h===void 0?0:h;if(b("cr:6106")!=null){var k,l,m,n,o;c[0]!==j?(n=j.icon,l=j.loading,o=j.type,m=babelHelpers.objectWithoutPropertiesLoose(j,["icon","loading","type"]),c[0]=j,c[1]=l,c[2]=m,c[3]=n,c[4]=o):(l=c[1],m=c[2],n=c[3],o=c[4]);o=o==="destructive"?"fdsOverride_negative":o;var p=h===10?8:h;k=(k=e)!=null?k:"end";var q;c[5]!==l?(q=l===!0&&b("cr:8931")?i.jsx(b("cr:8931"),{color:"disabled_DEPRECATED",size:16}):void 0,c[5]=l,c[6]=q):q=c[6];n=(l=n)==null?void 0:l.component;c[7]!==m||c[8]!==q||c[9]!==n||c[10]!==o?(l=babelHelpers["extends"]({},m,{addOnPrimary:q,icon:n,type:o}),c[7]=m,c[8]=q,c[9]=n,c[10]=o,c[11]=l):l=c[11];if(c[12]!==a){q=a!=null?babelHelpers["extends"]({},a,{icon:(m=a.icon)==null?void 0:m.component,reduceEmphasis:!0,type:"secondary"}):null;c[12]=a;c[13]=q}else q=c[13];c[14]!==f||c[15]!==g||c[16]!==p||c[17]!==k||c[18]!==l||c[19]!==q?(n=i.jsx(b("cr:6106"),{align:k,direction:f,expanding:g,paddingHorizontal:p,primary:l,secondary:q}),c[14]=f,c[15]=g,c[16]=p,c[17]=k,c[18]=l,c[19]=q,c[20]=n):n=c[20];return n}if(b("cr:227")!=null){c[21]!==j?(o=j.icon,m=j.loading,g=babelHelpers.objectWithoutPropertiesLoose(j,["icon","loading"]),c[21]=j,c[22]=m,c[23]=g,c[24]=o):(m=c[22],g=c[23],o=c[24]);c[25]!==m?(p=m===!0&&b("cr:5028")?i.jsx(b("cr:5028"),{color:"grey",size:24}):void 0,c[25]=m,c[26]=p):p=c[26];l=(k=o)==null?void 0:k.originalComponent;c[27]!==g||c[28]!==p||c[29]!==l?(q=babelHelpers["extends"]({},g,{addOnStart:p,icon:l}),c[27]=g,c[28]=p,c[29]=l,c[30]=q):q=c[30];if(c[31]!==a){j=a!=null?babelHelpers["extends"]({},a,{icon:(n=a.icon)==null?void 0:n.originalComponent}):null;c[31]=a;c[32]=j}else j=c[32];c[33]!==e||c[34]!==f||c[35]!==h||c[36]!==q||c[37]!==j?(m=i.jsx(b("cr:227"),{align:e,direction:f,paddingHorizontal:h,primary:q,secondary:j}),c[33]=e,c[34]=f,c[35]=h,c[36]=q,c[37]=j,c[38]=m):m=c[38];return m}return null}g["default"]=a}),98);
__d("MWXCardedDialogLoadingState.react",["cr:9908","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9908")}),98);
__d("MWXIconBellCross",["MWXSvgIcon","SVGIcon","cr:12320","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12320")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:12457","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12457")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXScrollableAreaStyles",["MDSScrollableAreaStyles"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSScrollableAreaStyles")}),98);
__d("MessagingCommunityChatsPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,PAUSED_BY_SOFT_ACTION:2,PAUSED_BY_ADMINLESS_STANDALONE_COMMUNITY:3});f["default"]=a}),66);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4971536746285420"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:c},params:{id:b("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,d,e){return new(i||(i=b("Promise")))(function(f,g){var i;b("cr:1012418").commitMutation(a,{mutation:h!==void 0?h:h=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b,c,d;b=a==null?void 0:(b=a.create_video_meetup_link)==null?void 0:(b=b.meetup_link)==null?void 0:b.is_audio_only;c=a==null?void 0:(c=a.create_video_meetup_link)==null?void 0:(c=c.meetup_link)==null?void 0:c.link_url;d=a==null?void 0:(d=a.create_video_meetup_link)==null?void 0:(d=d.meetup_link)==null?void 0:d.link_hash;a=a==null?void 0:(a=a.create_video_meetup_link)==null?void 0:(a=a.meetup_link)==null?void 0:a.id;return c!=null&&d!=null&&b!=null?f({isAudioOnly:b,linkHash:d,linkId:a,linkUrl:c}):g({error:"Failed to create linkurl."})},onError:function(a){g(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{availability_settings_options:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?{join_permission:d==null?void 0:d.joinPermission,visibility_mode:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}:void 0,chat_mode:(i=d==null?void 0:d.chatMode)!=null?i:null,is_audio_only:(i=d==null?void 0:d.isAudioOnly)!=null?i:null,is_live_enabled:(i=d==null?void 0:d.isLiveEnabled)!=null?i:null,is_room_join_requestable:(i=d==null?void 0:d.joinRequestable)!=null?i:null,link_surface:(i=d==null?void 0:d.linkSurface)!=null?i:c("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(i=d==null?void 0:d.revocationBehavior)!=null?i:null,should_allow_anonymous_guests:(i=d==null?void 0:d.allowAnonymousGuests)!=null?i:!0,supports_pages:(i=d==null?void 0:d.supportsPages)!=null?i:!1,supports_profile_plus:(i=d==null?void 0:d.supportsProfilePlus)!=null?i:!1,visibility_mode:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?void 0:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}}}})})}g["default"]=a}),98);
__d("MessengerDesktopPresenceInfo",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__fb_messenger_desktop_presence_info";function a(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();return JSON.parse((a=a==null?void 0:a.getItem(i))!=null?a:"null")}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a==null){c("FBLogger")("desktop_messenger_deeplink_presence","local_storage_not_found").warn("Messenger Desktop Presence Token cannot be created if local storage doesn't exist");return null}var b={lastActiveTimestamp:Date.now()};a=h.setItemGuarded(a,i,JSON.stringify(b));a!=null&&c("FBLogger")("desktop_messenger_deeplink_presence","create_presence_info_error").warn(a.toString());return b}g.getPresenceInfo=a;g.createPresenceInfo=b}),98);
__d("MessengerDesktopLocalServerRequest",["ConstUriUtils","MessengerDesktopPresenceInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3;a=function(){function a(a,b){var c=this;this.$1=function(){c.request.status===200&&d("MessengerDesktopPresenceInfo").createPresenceInfo()};b="http://localhost:"+b+a;this.uri=(a=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.toString())!=null?a:b;this.request=new XMLHttpRequest();this.request.timeout=h;this.request.onloadend=this.$1}var b=a.prototype;b.setOnLoadEndHandler=function(a){var b=this;this.request.onloadend=function(){b.$1(),a(b.request.status)};return this};b.setErrorHandler=function(a){var b=this;this.request.onerror=function(){b.request.status===500&&d("MessengerDesktopPresenceInfo").createPresenceInfo(),a(b.request.status)};return this};b.setTimeoutHandler=function(a){this.request.ontimeout=a;return this};b.send=function(){this.request.open("GET",this.uri),this.request.send()};return a}();g["default"]=a}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744027");b=d("FalcoLoggerInternal").create("messenger_desktop_promo",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerDesktopDeepLinkUtils",["fbt","MessengerDesktopLocalServerRequest","MessengerDesktopPresenceInfo","MessengerDesktopPromoEventLogger","Promise","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");k.useCallback;var l=k.useEffect,m=k.useRef,n="messenger";k=3103;var o=1e3*60*60*24*28,p="https://www.messenger.com/desktop/";function a(a){return n+"://room?joinurl="+a}function e(a){return new(i||(i=b("Promise")))(function(b){new(c("MessengerDesktopLocalServerRequest"))("/ping",a).setOnLoadEndHandler(function(a){return b(a)}).setTimeoutHandler(function(a){return b(!1)}).setErrorHandler(function(a){return b(!1)}).send()})}function f(){var a=d("MessengerDesktopPresenceInfo").getPresenceInfo();return a==null?!1:Date.now()-a.lastActiveTimestamp<=o}function q(){var a=c("gkx")("23666"),b=c("gkx")("23667");if(b){b=c("gkx")("23668");return a||b}else return a}function r(){return c("gkx")("23669")}function s(){if(c("gkx")("23670")||!q())return!1;switch(u()){case"Windows":return!1;case"Mac":return c("gkx")("23671");default:return!1}}var t={openMessengerForDesktop:h._(/*BTDS*/"__JHASH__XxNs-oGUpT___JHASH__"),openMessengerForMac:h._(/*BTDS*/"__JHASH__tlUlAHzvu6R__JHASH__"),openMessengerForWindows:h._(/*BTDS*/"__JHASH__3NgfF3NHofM__JHASH__"),tryMessengerForDesktop:h._(/*BTDS*/"__JHASH___P6bnngRU_E__JHASH__"),tryMessengerForMac:h._(/*BTDS*/"__JHASH__3Fm9-zbx5PN__JHASH__"),tryMessengerForWindows:h._(/*BTDS*/"__JHASH__56Y2Um9FCTk__JHASH__")};function u(){if(c("UserAgent").isPlatform("Windows"))return"Windows";else if(c("UserAgent").isPlatform("Mac OS X"))return"Mac";return"Desktop"}function v(a){return(a=c("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:a}).setDomain("www.messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function w(a){return(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri(a).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function x(){var a=q()?"open":"try",b=u();return t[a+"MessengerFor"+b]}function y(a){var b;return q()?(b=w(a))!=null?b:p:(b=v(a.funnel_session_id))!=null?b:p}function z(a,b){var c=d("react-compiler-runtime").c(7),e=m(!1),f,g;c[0]!==a||c[1]!==b?(f=function(){e.current||(e.current=!0,d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b}))},g=[a,b],c[0]=a,c[1]=b,c[2]=f,c[3]=g):(f=c[2],g=c[3]);l(f,g);c[4]!==a||c[5]!==b?(f=function(){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b})},c[4]=a,c[5]=b,c[6]=f):f=c[6];return f}g.PORT=k;g.getRoomDeepLink=a;g.isMessengerDesktopRunning=e;g.isMessengerDesktopProbablyInstalled=f;g.isMessengerDesktopDeeplinkEligible=q;g.isMessengerDesktopPromoEligible=r;g.isMessengerDesktopDeeplinkEnabled=s;g.getDeeplinkButtonLabel=x;g.getDeeplinkButtonURI=y;g.useMessengerDesktopPromoEventLogger=z}),226);
__d("MessengerDesktopDeeplinkEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856945");b=d("FalcoLoggerInternal").create("messenger_desktop_deeplink_event",a);e=b;g["default"]=e}),98);
__d("MessengerMuteUtils",["fbt","ChatMuteStore","DateStrings","I64","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){if(a<=0){if(a===d("ChatMuteStore").ChatMuteOptions.Indefinitely)return h._(/*BTDS*/"__JHASH__Qqz4BaNxhpZ__JHASH__");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._(/*BTDS*/"__JHASH__oudW1xi6NTV__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._(/*BTDS*/"__JHASH__so9VkYDJtTA__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]):h._(/*BTDS*/"__JHASH__8p1YQCn8sSf__JHASH__",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._(/*BTDS*/"__JHASH__mE99UrtEjlr__JHASH__");function b(a,b){if(a==null)return b===!0?h._(/*BTDS*/"__JHASH__4c66vwlOre0__JHASH__"):h._(/*BTDS*/"__JHASH__f_P00nfKfsd__JHASH__");switch(a.type){case"messageMuteScope":return h._(/*BTDS*/"__JHASH__wGzDdDLdmM0__JHASH__");case"callMuteScope":return h._(/*BTDS*/"__JHASH__aevOqU7QNLm__JHASH__");case"bothMuteScope":return h._(/*BTDS*/"__JHASH__e9DezvV_scv__JHASH__")}}function e(a){var b=a.muteCallsExpireTimeMs;a=a.muteExpireTimeMs;var c=Math.min((i||(i=d("I64"))).to_float(a),i.to_float(b));a=Math.max(i.to_float(a),i.to_float(b));return c===-1?-1:a}g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.muteDialogTitle=b;g.calcMuteUntilMs=e}),226);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("ConstUriUtils").getUri(a);var b=a==null?void 0:a.getDomain();a=a==null?void 0:(a=a.stripTrailingSlash())==null?void 0:a.getPath();if(a==null)return null;if(b==="msngr.com")return a.substring(1);var c=/^\/v(id)?\//;if(b==="m.me"&&c.test(a))return a.replace(c,"");b=/^\/groupcall\/LINK:/;return b.test(a)?a.replace(b,""):null}g.getRoomsLinkHash=a}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(d("Random").uint32()+1)}g.generateZenonClientSessionID=a}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=6,j=36,k=2176782336;function a(){var a="";for(var b=0;b<h;b++){var c=Math.floor(d("Random").random()*k).toString(j);while(c.length<i)c="0"+c;a+=c}return a}g["default"]=a}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","Promise","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","asyncToGeneratorRuntime","gkx","nullthrows","randomZenonNonce"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var e=a.callInviteModel;a=a.callWindowController;var f=e.getCurrentInvite();if(f===null)throw new(d("ZenonCallWindowErrors").InviteNotFoundError)();if(f.type!=="ringing"||f.context.type!=="thread")throw new(d("ZenonCallWindowErrors").CannotAcceptInviteError)();var g=c("randomZenonNonce")(),h=f.context.thread;a=a.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},hideE2eeAttributions:b,isE2eeMandated:f.isE2eeMandated,joinContext:{thread:h!=null?h:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g,representedID:f.receiverUserId});b=a[0];h=a[1];e.accept(g,{isPopupBlocked:b===null});yield h});return i.apply(this,arguments)}function e(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){h===void 0&&(h={allowAnonymousGuests:!c("gkx")("20836")});if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();p(g,e,f).setEvent("meetup_attempt_create_meetup").log();try{a=(yield c("MessengerCreateVideoMeetupLinkMutation")(b,h,g));b=a.linkUrl;if(b!=null){p(g,e,f).setEvent("meetup_create_success").setVideoCallLinkURLRaw(b).log();return b}else p(g,e,f).setEvent("meetup_create_failed").log();return b}catch(a){p(g,e,f).setEvent("meetup_create_failed").log();p(g,e,f).setEvent("error").setErrorType("LinkCreationError "+a.name).setErrorDetails(a.description).log();throw a}});return j.apply(this,arguments)}function f(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.actorID,f=a.callback_users,g=a.context,i=a.forceSkipChildLobby;i=i===void 0?!1:i;var j=a.funnelSessionID;j=j===void 0?null:j;var k=a.hasVideo;k=k===void 0?!0:k;var l=a.linkUrl,m=a.referrerContext;m=m===void 0?null:m;var p=a.skipLinkUrlRewrite;p=p===void 0?!1:p;var q=a.startCallImmediately;q=q===void 0?!1:q;a=a.trigger;if(g===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var r=g.callWindowController;g=g.incomingRingSDK;var s=c("randomZenonNonce")(),t=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),u=l;if(!p){p=(p=d("ConstUriUtils").getUri(l))==null?void 0:p.getQueryParam("funnel_session_id");l=n(l);u=o(l,q?s:null,f,p!=null?String(p):j,i,m,e,a,k)}if(u==null)return(h||(h=b("Promise"))).reject("An invalid URI was provided");l=r.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:t},joinContext:{linkUrl:u,type:"link"},mediaType:"video",nonce:s,representedID:d("ZenonActorHooks").ZenonActor.getID()});q=l[0];f=l[1];g.startCallIntent(s,{callTrigger:(p=a)!=null?p:"meetup_join",isE2eeMandated:!1,isPopupBlocked:q===null,isVideo:k,peerID:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:t});yield f});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.existingCall,f=b.extra,g=b.hideE2eeAttributions,h=b.invitees,i=b.isE2eeMandated,j=b.mediaType,k=b.representedID,l=b.thread;b=b.trigger;if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var m=a.callWindowController;a=a.incomingRingSDK;var n=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),o=c("randomZenonNonce")();e=m.initCall({context:{existingCall:e,intent:"start or join",invitees:h,signalingID:n},extra:f,hideE2eeAttributions:g,isE2eeMandated:i,joinContext:{thread:l,type:"thread"},mediaType:j,nonce:o,representedID:(m=k)!=null?m:d("ZenonActorHooks").ZenonActor.getID()});h=e[0];f=e[1];a.startCallIntent(o,{callTrigger:b,isE2eeMandated:(g=i)!=null?g:!1,isPopupBlocked:h===null,isVideo:j==="video",peerID:l.type===1?l.id:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:n});yield f});return m.apply(this,arguments)}function n(a){var b=d("RoomsLinkUtils").getRoomsLinkHash(a);b==null&&c("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return b}function o(a,b,d,e,f,g,h,i,j){if(a==null)return"";a={call_context:"LINK:"+a,call_trigger:(a=i)!=null?a:"",has_video:j,users_to_ring:(i=d)!=null?i:[]};b!=null&&(a.nonce=b);e!=null&&(a.funnel_session_id=e);f===!0&&(a.auto_join=!0);g!=null&&(a.referrer_context=g);h!=null&&(a.av=h);return c("nullthrows")(c("XGroupCallControllerRouteBuilder").buildUri(a).getQualifiedUri()).toString()}function p(a,b,d){return new(c("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(b).setComponent(d)}g.acceptCall=a;g.createMeetup=e;g.joinMeetup=f;g.startCall=l}),98);
__d("useZenonCallInvite",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c;b[0]!==a?(c=function(){return a?a.getCurrentInvite():null},b[0]=a,b[1]=c):c=b[1];c=j(c);var e=c[0],f=c[1],g;b[2]!==a?(c=function(){if(a){var b=a.addListener("callInvite",f);return function(){b.remove()}}else f(null)},g=[a],b[2]=a,b[3]=c,b[4]=g):(c=b[3],g=b[4]);i(c,g);return e}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","react-compiler-runtime","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");j.useCallback;var k=j.useContext,l=j.useDebugValue,m=j.useEffect,n=6e4;function a(a){function b(b){var c=d("react-compiler-runtime").c(3),e=k(a),f;c[0]!==e||c[1]!==b?(f=function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(e,b)},c[0]=e,c[1]=b,c[2]=f):f=c[2];return f}return b}function e(a){function b(){var b=k(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);l(b);return b}return b}function f(a,b){return function(e,f){function g(){var g=d("react-compiler-runtime").c(5),h=k(a),i=e(),j=f(),l=b(),m;g[0]!==h||g[1]!==i||g[2]!==j||g[3]!==l?(m=function(a){if(!c("gkx")("24231"))return;var b=a.existingCall,d=a.thread;if(!h||!h.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))j(a);else bb8:switch(d.type){case 1:c("promiseDone")(l(babelHelpers["extends"]({},a,{invitees:[d.id]})));break bb8;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(l(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break bb8;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?i(a,function(b){c("promiseDone")(l(babelHelpers["extends"]({},a,{invitees:b})))}):c("promiseDone")(l(babelHelpers["extends"]({},a,{invitees:[]})));break bb8;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},g[0]=h,g[1]=i,g[2]=j,g[3]=l,g[4]=m):m=g[4];return m}return g}}function o(a,b){function c(){var c=d("react-compiler-runtime").c(4),e=k(a),f=b(),g,h;c[0]!==e||c[1]!==f?(g=function(){if(e&&f&&f.type==="ringing"){var a=window.setTimeout(function(){e.callInviteModel.decline("NoAnswerTimeout")},n);return function(){window.clearTimeout(a)}}},h=[e,f],c[0]=e,c[1]=f,c[2]=g,c[3]=h):(g=c[2],h=c[3]);m(g,h)}return c}function p(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a){var e=a.existingCall,g=a.extra,i=a.hideE2eeAttributions,j=a.invitees,k=a.isE2eeMandated,l=a.mediaType,m=a.representedID,n=a.thread;a=a.trigger;return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve():d("ZenonPreCallHookBuilderHelper").startCall(f,{existingCall:e,extra:g,hideE2eeAttributions:i,invitees:j,isE2eeMandated:k,mediaType:l,representedID:m,thread:n,trigger:a})},e[0]=f,e[1]=g):g=e[1];return g}return e}function q(a){function e(){var e=d("react-compiler-runtime").c(3),f=k(a),g=d("CometRelay").useRelayEnvironment(),i;e[0]!==f||e[1]!==g?(i=function(a,e,i,j){return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(f,g,a,e,i,j)},e[0]=f,e[1]=g,e[2]=i):i=e[2];return i}return e}function r(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a,e){e=e===void 0?{}:e;if(!c("gkx")("24231"))return(h||(h=b("Promise"))).resolve();e=(e=e)!=null?e:{};var g=e.actorID,i=e.callbackUsers,j=e.mediaType,k=e.referrerContext,l=e.startCallImmediately;e=e.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:i,context:f,forceSkipChildLobby:!1,hasVideo:j!=null?j==="video":!0,linkUrl:a,referrerContext:k,startCallImmediately:l,trigger:e})},e[0]=f,e[1]=g):g=e[1];return g}return e}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=o;g.createStartCallCallbackHook=p;g.createCreateMeetupCallbackHook=q;g.createJoinMeetupCallbackHook=r}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";e=(a=d("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(b=c("RTWebPreCallContext"));f=a.createCallInviteHook(b);d=a.createNoAnswerTimeoutHook(b,f);c=a.createStartCallCallbackHook(b);var h=a.createCreateMeetupCallbackHook(b),i=a.createJoinMeetupCallbackHook(b);a=a.createInviteAndStartCallCallbackHookFactory(b,c);g.useAcceptCallCallback=e;g.useCallInvite=f;g.useNoAnswerTimeout=d;g.useStartCallCallback=c;g.useCreateMeetupCallback=h;g.useJoinMeetupCallback=i;g.createInviteAndStartCallCallbackHook=a}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMAWHasUserVisibleErrors",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.user_visible_errors?(e=function(){return d("ReQL").fromTableDescending(b.tables.user_visible_errors).filter(i)},a[0]=b.tables.user_visible_errors,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];a=d("ReQLSuspense").useFirst(e,g,f.id+":24");return a!=null}function i(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMAWUnsupportedBrowserNUX",["MAWIsIDBOperational","MAWWasmFeatureSupport","WebStorage","gkx","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(3),b=d("MAWIsIDBOperational").useIsIDBOperational(),e=d("MAWWasmFeatureSupport").useWasmFeatureSupport(),f=e.bigInt,g=e.bulkMemory;e=e.referenceTypes;f=f&&g&&e;g=!b||!f||(h||(h=c("WebStorage"))).getLocalStorage()==null;e=c("gkx")("1778")||g;a[0]!==g||a[1]!==e?(b={shouldHideEBFlow:g,shouldShowQP:e},a[0]=g,a[1]=e,a[2]=b):b=a[2];return b}g.useMAWUnsupportedBrowserNUX=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=d("react-compiler-runtime").c(10),g=a.entrypoint;a=a.query;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),j=(k||(k=c("useReStore")))();e[0]!==j||e[1]!==(i==null?void 0:i.viewer.backup_state)?(a=function(){return(i==null?void 0:i.viewer.backup_state)==null?d("ReQL").fromTableAscending(j.tables.secure_encrypted_backups_client_state).filter(l):d("ReQL").empty()},e[0]=j,e[1]=i==null?void 0:i.viewer.backup_state,e[2]=a):a=e[2];var m=i==null?void 0:i.viewer.backup_state,n;e[3]!==j||e[4]!==m?(n=[j,m],e[3]=j,e[4]=m,e[5]=n):n=e[5];m=d("ReQLSuspense").useArray(a,n,f.id+":57");a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();n=a.shouldHideEBFlow;a=c("useMAWHasUserVisibleErrors")();n=n||a;if(!c("isMWEBEntrypointEnabled")(g))return 0;e[6]!==m||e[7]!==n||e[8]!==i?(a=(i==null?void 0:i.viewer.backup_state)!=null?i.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:m,hasArmadilloError:n,xfb_backup:i==null?void 0:i.xfb_backup}),e[6]=m,e[7]=n,e[8]=i,e[9]=a):a=e[9];return a}function l(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useMAWGetUserVisibleErrors",["MAWIssueNewUserVisibleErrors","Promise","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(10),e=(i||(i=c("useReStore")))(),g;a[0]!==e.tables.user_visible_errors?(g=function(){return d("ReQL").fromTableDescending(e.tables.user_visible_errors).filter(k)},a[0]=e.tables.user_visible_errors,a[1]=g):g=a[1];var j;a[2]!==e?(j=[e],a[2]=e,a[3]=j):j=a[3];var l=d("ReQLSuspense").useFirst(g,j,f.id+":37");a[4]!==e||a[5]!==l?(g=function(){return l!=null&&l.errorId!=null?d("MAWIssueNewUserVisibleErrors").deleteUserVisibleError(e,l.errorId):(h||(h=b("Promise"))).resolve()},a[4]=e,a[5]=l,a[6]=g):g=a[6];j=g;a[7]!==j||a[8]!==l?(g=[l,j],a[7]=j,a[8]=l,a[9]=g):g=a[9];return g}function k(a){a=a.presentationStyle;return a==="banner"}g["default"]=a}),98);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b=c("getRequestConstUri")();b=c("isMessengerDotComURI")(b)||c("isFacebookMessengerInboxURI")(b);a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(6),b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==e||a[1]!==b.tables.messaging_privacy_settings?(g=function(){return d("ReQL").fromTableAscending(b.tables.messaging_privacy_settings).getKeyRange(e)},a[0]=e,a[1]=b.tables.messaging_privacy_settings,a[2]=g):g=a[2];var j;a[3]!==e||a[4]!==b?(j=[b,e],a[3]=e,a[4]=b,a[5]=j):j=a[5];a=d("ReQLSuspense").useFirst(g,j,f.id+":23");if(a==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;g=a.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return g===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,i);var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}function i(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","react-compiler-runtime","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];return b}var l=(h=b("cr:2865"))!=null?h:a;function e(a,e){var g,h=d("react-compiler-runtime").c(6),k=(i||(i=c("useReStore")))(),m=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(m==null)throw c("unrecoverableViolation")("Tried to get a thread key when there was none","messenger_web_messaging");g=l();var n=g.setIsPassive,o=c("MessengerWebUXLogger").useInteractionLogger();h[0]!==k||h[1]!==a||h[2]!==o||h[3]!==n||h[4]!==m?(e=function(){o==null?void 0:o({eventName:"mark_thread_as_read"}),n!=null&&n(!1),c("promiseDone")(k.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(m)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((j||(j=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:m,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:m})}});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))},h[0]=k,h[1]=a,h[2]=o,h[3]=n,h[4]=m,h[5]=e):e=h[5];return e}g["default"]=e}),98);
__d("useOpenThreadAfterJoin",["I64","MWLSThreadDisplayContext","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWChatOpenTabForGroup","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMWChatOpenTabForGroup")("jewel"),e=b[0],f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("useAsyncReStore")(),h=c("useMWNavigation")();a[0]!==g||a[1]!==f||a[2]!==h||a[3]!==e?(b=function(a){if(f==="ChatTab"){e(a);return}c("promiseDone")(g,function(b){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(a))),function(b){b!=null&&h.openInbox({clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(a),threadType:b.threadType},"deepLink")})})},a[0]=g,a[1]=f,a[2]=h,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("usePublicChatShortlinkCallback",["ConstUriUtils","I64","JSResourceForInteraction","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");b.useCallback;var l=b.useEffect,m=b.useRef,n=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("usePublicChatShortlinkCallback");function o(a){a=d("ConstUriUtils").getUri(a);if(a==null?void 0:a.isSubdomainOfDomain("m.me")){a=a==null?void 0:(a=a.getPath())==null?void 0:a.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}function a(a){var b=d("react-compiler-runtime").c(6),e=a.onSuccess,f=m(!1),g=m(),k=m(),p=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(n);var q=a[0],r;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return function(){g.current==null?void 0:g.current(),k.current==null?void 0:k.current()}},r=[],b[0]=a,b[1]=r):(a=b[0],r=b[1]);l(a,r);b[2]!==p||b[3]!==e||b[4]!==q?(a=function(a){var b=o(a);b!=null&&(c("promiseDone")(p.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:b})},"readwrite")),g.current=d("ReQL").fromTableAscending(p.tables.group_invitations_pending).getKeyRange(b).subscribe(function(a,c){if(c.operation!=="delete"){var h=c.value;if((h==null?void 0:h.isSubscribed)&&(h==null?void 0:h.threadId)!=null){e==null?void 0:e((i||(i=d("I64"))).to_string(h.threadId));return}else if((h==null?void 0:h.linkJoinType)!=null&&(i||(i=d("I64"))).equal(h==null?void 0:h.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(6))&&(h==null?void 0:h.threadId)!=null){e==null?void 0:e((i||(i=d("I64"))).to_string(h==null?void 0:h.threadId));return}(h==null?void 0:h.threadTitle.length)>0&&!f.current&&(f.current=!0,q({linkHash:b,onClick:function(){Boolean(h.needsAdminApprovalForNewParticipant)||(k.current=d("ReQL").fromTableAscending(p.tables.threads).subscribe(function(a,c){c.operation!=="delete"&&(c.value.threadInviteLink!=null&&o(c.value.threadInviteLink)===b&&(e==null?void 0:e((i||(i=d("I64"))).to_string(c.value.threadKey)),k.current==null?void 0:k.current()))}))}},function(){f.current=!1}),g.current==null?void 0:g.current())}}))},b[2]=p,b[3]=e,b[4]=q,b[5]=a):a=b[5];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseCalloutReducer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case"addCallout":return a.calloutID==null?babelHelpers["extends"]({},a,b.payload):a;case"removeCallout":if(a.calloutID!=null&&a.calloutID===b.payload){var d=a.anchorRootRefContext,e=a.animationContext,f=a.contextualLayerProps,g=a.scrollableAreaContext;return{anchorRootRefContext:d,animationContext:e,contextualLayerProps:f,scrollableAreaContext:g}}return a;default:throw c("unrecoverableViolation")(b.type+" is not a supported action type","comet_ui")}}g.BaseCalloutReducer=a}),98);
__d("BaseCalloutManager.react",["BaseCalloutReducer","BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useReducer,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(14),e=a.anchorRefOverride,f=a.children,g=a.context,h=a.implementation;a=a.initialState;e=e===void 0?!1:e;a=j(d("BaseCalloutReducer").BaseCalloutReducer,a);var l=a[0],m=a[1],n=k(null);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){m({payload:a,type:"addCallout"})},b[0]=a):a=b[0];a=a;var o;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){m({payload:a,type:"removeCallout"})},b[1]=o):o=b[1];o=o;var p;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){var a;(a=n.current)==null?void 0:a.reposition()},b[2]=p):p=b[2];p=p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={addCallout:a,removeCallout:o,repositionCallout:p},b[3]=a):a=b[3];o=a;p=o;b[4]!==f?(a=i.jsx(c("BaseView.react"),{children:f}),b[4]=f,b[5]=a):a=b[5];b[6]!==h||b[7]!==e||b[8]!==l?(o=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(h,babelHelpers["extends"]({},l,{anchorRefOverride:e,imperativeRef:n}))})}),b[6]=h,b[7]=e,b[8]=l,b[9]=o):o=b[9];b[10]!==g.Provider||b[11]!==a||b[12]!==o?(f=i.jsxs(g.Provider,{value:p,children:[a,o]}),b[10]=g.Provider,b[11]=a,b[12]=o,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("BaseToasterStateManagerProvider.react",["BaseToasterStateManager","BaseToasterStateManagerContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("BaseToasterStateManager").getInstance();function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(c("BaseToasterStateManagerContext.react").Provider,{value:j,children:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CheckpointCometLayout.react",["gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={contentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},negativeMarginMobile:{marginTop:"xtpmymd","@media (min-width: 584px)_marginTop":"x1nggv71",$$css:!0},paddingDefault:{"@media (min-width: 584px)_paddingTop":"x1ia4mhz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=c("gkx")("22855");b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=c("stylex"))).props([k.contentContainer,e?k.negativeMarginMobile:k.paddingDefault]),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:a})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometAccessibilityAlertProvider.react",["CometTriggerAccessibilityAlertContext","react","react-compiler-runtime","useCometAccessibilityAlerts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.children;var e=c("useCometAccessibilityAlerts")(),f=e.accessibilityAlerts;e=e.triggerAccessibilityAlert;var g;b[0]!==f||b[1]!==a||b[2]!==e?(g=i.jsxs(c("CometTriggerAccessibilityAlertContext").Provider,{value:e,children:[a,f]}),b[0]=f,b[1]=a,b[2]=e,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("CometAppNavigationEndSection.react",["fbt","FDSTooltipGroup.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.children;var e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__bGEsEiRYp-X__JHASH__"),f={className:"x6s0dn4 x78zum5 x1s65kcs x1n2onr6 x1ja2u2z"},b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=j.jsx(c("FDSTooltipGroup.react"),{children:j.jsx("div",babelHelpers["extends"]({"aria-label":e},f,{role:"navigation",children:a}))}),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("CometAppNavigationEndSectionItem.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={displayNone:{display:"x1s85apg",$$css:!0},layoutEndButton:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",marginEnd:"x1emribx",$$css:!0},widePivotLink:{"@media (max-width: 1260px)_display":"xfff67h","@media (max-width: 1379px)_maxWidth":"xu1161g","@media (min-width: 1380px) and (max-height: 789px)_maxWidth":"x12ca73t","@media (min-width: 1380px) and (min-height: 790px)_maxWidth":"x5vlmd",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.displayNone,g=a.noWrapper;a=a.widePivotLink;f=f===void 0?!1:f;g=g===void 0?!1:g;a=a===void 0?!1:a;if(g)return e;b[0]!==f||b[1]!==a?(g=(h||(h=c("stylex"))).props([k.layoutEndButton,a&&k.widePivotLink,f&&k.displayNone]),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(f=j.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[3]=e,b[4]=g,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("CometNUXManager.react",["CometNUXManagerContext","emptyFunction","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useRef;function a(a){var b=a.children,d=a.disableAuction,e=l(null),f=c("useStable")(function(){return new Set()}),g=c("useStable")(function(){return new Map()}),h=j(function(a,b,h){var i;h===void 0&&(h=!1);if(!h&&g.has(a)||f.has(a))return c("emptyFunction");g.has(a)||g.set(a,[]);(i=g.get(a))==null?void 0:i.push(b);(d===!0||e.current==null||h&&a===e.current)&&(e.current=a,b(!0));return function(){var c;e.current===a&&(e.current=null);g.set(a,(c=(c=g.get(a))==null?void 0:c.filter(function(a){return a!==b}))!=null?c:[]);((c=g.get(a))==null?void 0:c.length)===0&&g["delete"](a)}},[g,f,d]),m=j(function(a){f.add(a);var b=g.get(a);b!=null&&b.forEach(function(a){return a(!1)});e.current===a&&(e.current=null)},[f,g]);a=k(function(){return{registerNUX:h,removeNUX:m}},[m,h]);return i.jsx(c("CometNUXManagerContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometNUXTourContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometNUXTourCardFooter.react",["CometRow.react","CometRowItem.react","FDSButtonGroup.react","FDSProgressStepper.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="center",k={expand:{flexBasis:"xdl72j9",$$css:!0},shrink:{flexShrink:"xs83m0k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.primaryButton,f=a.secondaryButton,g=a.tourIndex;a=a.tourLength;var h;b[0]!==g||b[1]!==a?(h=a>1?i.jsx(c("FDSProgressStepper.react"),{step:g+1,totalSteps:a,type:"spaced-out"}):null,b[0]=g,b[1]=a,b[2]=h):h=b[2];b[3]!==h?(g=i.jsx(c("CometRowItem.react"),{verticalAlign:j,xstyle:k.shrink,children:h}),b[3]=h,b[4]=g):g=b[4];b[5]!==e||b[6]!==f?(a=i.jsx(c("CometRowItem.react"),{expanding:!0,verticalAlign:j,xstyle:k.expand,children:i.jsx(c("FDSButtonGroup.react"),{align:"end",direction:"backward",paddingHorizontal:0,paddingTop:0,primary:e,secondary:f,size:"medium",verticalAlign:j})}),b[5]=e,b[6]=f,b[7]=a):a=b[7];b[8]!==g||b[9]!==a?(h=i.jsxs(c("CometRow.react"),{align:"center",columns:2,paddingHorizontal:0,paddingTop:0,spacingHorizontal:32,verticalAlign:j,children:[g,a]}),b[8]=g,b[9]=a,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("CometNUXInlineSurvey.react",["fbt","BaseMiddot.react","BaseNonBreakingSpace.react","CometLink.react","FDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.bodyColor,f=a.hasAnsweredSurvey,g=a.linkColor,i=a.onAnswer,k=a.onHelpful,l=a.onNotHelpful;a=e===void 0?"secondary":e;e=f===void 0?!1:f;f=g===void 0?"highlight":g;c("vulture")("Y2t0ZzNsk0");b[0]!==e||b[1]!==f||b[2]!==i||b[3]!==k||b[4]!==l?(g=e?h._(/*BTDS*/"__JHASH__1CNg5KuEhpK__JHASH__"):j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"__JHASH__vE0j78fjPfz__JHASH__"),j.jsx(c("BaseNonBreakingSpace.react"),{size:1}),j.jsx(c("CometLink.react"),{color_DEPRECATED:f,onClick:function(){i==null?void 0:i(),k==null?void 0:k()},children:h._(/*BTDS*/"__JHASH__JbNKuxJzAoE__JHASH__")}),j.jsx(c("BaseMiddot.react"),{}),j.jsx(c("CometLink.react"),{color_DEPRECATED:f,onClick:function(){i==null?void 0:i(),l==null?void 0:l()},children:h._(/*BTDS*/"__JHASH__ND9qfdRQnD9__JHASH__")})]}),b[0]=e,b[1]=f,b[2]=i,b[3]=k,b[4]=l,b[5]=g):g=b[5];b[6]!==a||b[7]!==g?(e=j.jsx(c("FDSText.react"),{color:a,type:"body4",children:g}),b[6]=a,b[7]=g,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("CometNUXTourInlineSurvey.react",["CometNUXInlineSurvey.react","CometNUXTourContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=a.target;b[0]!==e.storageRef.current.hasAnsweredSurvey?(a=function(){return e.storageRef.current.hasAnsweredSurvey},b[0]=e.storageRef.current.hasAnsweredSurvey,b[1]=a):a=b[1];a=k(a);var f=a[0],g=a[1],h=j(c("CometNUXTourContext")),l;b[2]!==h||b[3]!==e.key?(a=function(){g(!0),h==null?void 0:h.onHelpful==null?void 0:h.onHelpful(e.key)},l=function(){g(!0),h==null?void 0:h.onNotHelpful==null?void 0:h.onNotHelpful(e.key)},b[2]=h,b[3]=e.key,b[4]=a,b[5]=l):(a=b[4],l=b[5]);var m;b[6]!==f||b[7]!==a||b[8]!==l?(m=i.jsx(c("CometNUXInlineSurvey.react"),{hasAnsweredSurvey:f,onHelpful:a,onNotHelpful:l}),b[6]=f,b[7]=a,b[8]=l,b[9]=m):m=b[9];return m}g["default"]=a}),98);
__d("CometNUXTourCard.react",["fbt","ix","CometBackgroundImage.react","CometColumn.react","CometColumnItem.react","CometNUXTourCardFooter.react","CometNUXTourContext","CometNUXTourInlineSurvey.react","CometPopover_DEPRECATED.react","FDSIcon.react","FDSTextPairing.react","Random","fbicon","react","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useRef,o={container:{maxWidth:"x1j9u4d2",minWidth:"x13o0s5z",position:"x1n2onr6",$$css:!0}},p={above:{marginBottom:"x1e56ztr",$$css:!0},below:{marginTop:"x1xmf6yo",$$css:!0},end:{marginStart:"x1i64zmx",$$css:!0},start:{marginEnd:"x1emribx",$$css:!0}};function a(a){var b=a.inlineSurveySampleRate,e=a.primaryButton,f=a.secondaryButton,g=a.target,k=a.tour,q=a.tourIndex,r=a.tourLength;a=a.withArrow;var s=n(function(){var a;if(((a=k.callbacks)==null?void 0:a.onHelpful)==null||((a=k.callbacks)==null?void 0:a.onNotHelpful)==null)return!1;if(g==null||g.storageRef.current.hasAnsweredSurvey===!0)return!1;if(g.storageRef.current.inlineSurveyCoinflipResult==null){a=d("Random").coinflip(b);g.storageRef.current.inlineSurveyCoinflipResult=a}return g.storageRef.current.inlineSurveyCoinflipResult}()).current,t=m(c("CometNUXTourContext")),u=g.contextualLayerOptions,v=g.description,w=g.title;if(t==null)throw c("unrecoverableViolation")("No provider in nux tour card","comet_ui");u=(u=u.position)!=null?u:"below";u=p[u];return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.container,!a&&u),{children:l.jsxs(c("CometPopover_DEPRECATED.react"),{"aria-label":w,withArrow:a,children:[g.image!=null?l.jsx(c("CometBackgroundImage.react"),babelHelpers["extends"]({displayBlock:!0},g.image)):null,l.jsxs(c("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:20,children:[l.jsx(c("CometColumnItem.react"),{children:l.jsx(c("FDSTextPairing.react"),{body:l.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu x11161qp x1iorvi4"},{children:v})),headline:w,headlineAddOn:l.jsx(c("FDSIcon.react"),{"aria-label":h._(/*BTDS*/"__JHASH__tnRfHlva-bL__JHASH__"),icon:d("fbicon")._(i("478232"),16),onPress:function(){t.endTour()},size:16,testid:void 0}),isSemanticHeading:!0,level:2})}),s!==!0?null:l.jsx(c("CometColumnItem.react"),{paddingTop:12,children:l.jsx(c("CometNUXTourInlineSurvey.react"),{target:g})}),l.jsx(c("CometColumnItem.react"),{verticalAlign:"center",children:l.jsx(c("CometNUXTourCardFooter.react"),{primaryButton:e,secondaryButton:f,tourIndex:q,tourLength:r})})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometNuxTourHighlight.react",["CometVisualCompletionAttributes","FDSPulseEffectBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useDeferredValue,k=b.useMemo,l=b.useRef;function m(a){var b=a.outerElementRef;a=a.target;var c=a.contextRef;a=a.isTargetFixed;var e=c==null?void 0:c.current;c=b.current;b=j(a?q(e):r(e,c));var f=k(function(){return n(e)},[e]);a=k(function(){return o(f)},[f]);return i.jsx("div",{style:(c=b)!=null?c:{display:"none"},children:i.jsx(d("FDSPulseEffectBase.react").FDSPulseEffectBase,{height:f.height,radii:f.radii,width:f.width,children:i.jsx("div",{style:a})})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(3);a=a.target;var e=l(null),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x1n2onr6 xoegz02",b[0]=f):f=b[0];b[1]!==a?(f=i.jsx("div",babelHelpers["extends"]({className:f,ref:e},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:i.jsx(m,{outerElementRef:e,target:a})})),b[1]=a,b[2]=f):f=b[2];return f}function n(a){if(a==null)return{height:null,radii:null,width:null};var b=window.getComputedStyle(a),c=b.borderBottomLeftRadius,d=b.borderBottomRightRadius,e=b.borderTopLeftRadius;b=b.borderTopRightRadius;return{height:a.offsetHeight,radii:{borderBottomLeftRadius:c,borderBottomRightRadius:d,borderTopLeftRadius:e,borderTopRightRadius:b},width:a.offsetWidth}}function o(a){var b=a.height,c=a.radii;a=a.width;if(b==null||c==null||a==null)return{borderBottomLeftRadius:"",borderBottomRightRadius:"",borderTopLeftRadius:"",borderTopRightRadius:"",height:"",width:""};var d={borderBottomLeftRadius:"",borderBottomRightRadius:"",borderTopLeftRadius:"",borderTopRightRadius:"",height:b+"px",width:a+"px"};Object.keys(c).forEach(function(a){var b=c[a];b!=null&&(d[a]=b+"px")});return d}function p(a,b){return Number.isNaN(b)||Number.isNaN(a)||!Number.isFinite(b)||!Number.isFinite(a)}function q(a){if(a==null)return null;a=a.getBoundingClientRect();var b=a.top;a=a.left;return p(a,b)?null:{left:a+"px",position:"fixed",top:b+"px"}}function r(a,b){if(a==null||b==null)return null;var c=a.offsetParent;if(c==null)return null;c=c.getBoundingClientRect();b=b.getBoundingClientRect();var d=b.top-c.top;b=b.left-c.left;c=a.offsetTop-d;d=a.offsetLeft-b;return p(d,c)?null:{left:d+"px",position:"absolute",top:c+"px"}}g["default"]=a}),98);
__d("CometNUXTourOverlay.react",["fbt","BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","BaseThemeProvider.react","CometLayerKeyCommandWrapper.react","CometNUXTourCard.react","CometNuxTourHighlight.react","CometVisualCompletionAttributes","FocusRegion.react","focusScopeQueries","getComputedStyle","react","react-compiler-runtime","scrollIntoView","stylex","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;e.useCallback;var m=e.useEffect,n=e.useId,o=e.useLayoutEffect,p=e.useState;function q(a,b){if(a.endsWith("px"))return parseInt(a,10);return a.endsWith("%")?parseInt(a,10)*b/100:0}function b(b){var e=d("react-compiler-runtime").c(56),f=b.inlineSurveySampleRate,g=b.onNext,k=b.onPrev,s=b.target,t=b.themeConfig,u=b.tour;b=b.tourIndex;var v=n(),w=c("useSetAttributeRef")("id",v),x="url(#"+v+")",y=c("useSetAttributeRef")("mask",x),z=p(r),A=z[0],B=z[1];z=p(null);var C=z[0],D=z[1];e[0]!==s?(z=function(){B([a.innerWidth,a.innerHeight]);var b=s?s.contextRef.current:null;if(b!=null){var d=b.getBoundingClientRect(),e=d.height,f=d.left,g=d.top;d=d.width;b=(b=(i||(i=c("getComputedStyle")))(b))!=null?b:{};var h=b.borderBottomLeftRadius,j=b.borderBottomRightRadius,k=b.borderRadius,l=b.borderTopLeftRadius;b=b.borderTopRightRadius;D({borderRadius:{bottomLeft:(h=(h=h)!=null?h:k)!=null?h:"0px",bottomRight:(j=(h=j)!=null?h:k)!=null?j:"0px",topLeft:(j=(h=l)!=null?h:k)!=null?j:"0px",topRight:(h=(l=b)!=null?l:k)!=null?h:"0px"},height:e,left:f,top:g,width:d})}},e[0]=s,e[1]=z):z=e[1];var E=z,F;e[2]!==E?(z=function(){var a={capture:!0,passive:!0};window.addEventListener("scroll",E,a);window.addEventListener("resize",E,a);return function(){window.removeEventListener("scroll",E,a),window.removeEventListener("resize",E,a)}},F=[E],e[2]=E,e[3]=z,e[4]=F):(z=e[3],F=e[4]);m(z,F);e[5]!==E||e[6]!==s?(z=function(){if((s==null?void 0:s.contextRef.current)==null)return;c("scrollIntoView")(s.contextRef.current,{behavior:"smooth",verticalAlign:"center"});E()},F=[E,s],e[5]=E,e[6]=s,e[7]=z,e[8]=F):(z=e[7],F=e[8]);o(z,F);z=b===0;F=b>=u.targets.length-1;var G=C!=null&&C.borderRadius.topLeft===C.borderRadius.topRight&&C.borderRadius.topLeft===C.borderRadius.bottomLeft&&C.borderRadius.topLeft===C.borderRadius.bottomRight,H;e[9]!==f||e[10]!==z||e[11]!==F||e[12]!==g||e[13]!==k||e[14]!==s||e[15]!==u||e[16]!==b?(H=s&&l.jsx(c("CometNUXTourCard.react"),{inlineSurveySampleRate:f,primaryButton:{label:F?h._(/*BTDS*/"__JHASH__RY8ihB-AncI__JHASH__"):h._(/*BTDS*/"__JHASH__vVNuK-7xkTl__JHASH__"),onPress:g,padding:"wide",testid:"nux-tour-primary-button"},secondaryButton:z?null:{label:h._(/*BTDS*/"__JHASH__sqTeJmgA5ut__JHASH__"),onPress:k,reduceEmphasis:!0,testid:"nux-tour-secondary-button"},target:s,tour:u,tourIndex:b,tourLength:u.targets.length,withArrow:s.withArrow},s.key),e[9]=f,e[10]=z,e[11]=F,e[12]=g,e[13]=k,e[14]=s,e[15]=u,e[16]=b,e[17]=H):H=e[17];var I=H;if(e[18]!==I||e[19]!==s||e[20]!==t){z=s!=null?l.jsx(c("BaseContextualLayer.react"),babelHelpers["extends"]({contextRef:s.contextRef},(f=s.contextualLayerOptions)!=null?f:{},{children:t!=null?l.jsx(c("BaseThemeProvider.react"),{config:t,children:function(a,b){return l.jsx("div",{className:(j||(j=c("stylex")))(a),style:b,children:I})}}):I})):null;e[18]=I;e[19]=s;e[20]=t;e[21]=z}else z=e[21];F=z;if(u.DISABLE_ANCHOR_ROOT_DO_NOT_USE!==!0&&s!=null){e[22]!==F||e[23]!==s.anchorRootRef?(g=l.jsx(c("BaseContextualLayerAnchorRootContext").Provider,{value:s.anchorRootRef,children:F}),e[22]=F,e[23]=s.anchorRootRef,e[24]=g):g=e[24];F=g}e[25]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x1dr59a3 x17qophe xixxii4 x13vifvy xn9wirt xhtitgo"},e[25]=k):k=e[25];e[26]!==A?(b=[0,0].concat(A),e[26]=A,e[27]=b):b=e[27];H=b.join(" ");e[28]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("rect",{fill:"white",height:"100%",width:"100%",x:"0",y:"0"}),e[28]=f):f=e[28];e[29]!==C||e[30]!==G?(t=C!=null&&G&&l.jsx("rect",{fill:"black",height:C.height,rx:q(C.borderRadius.topLeft,C.width),ry:q(C.borderRadius.topLeft,C.height),width:C.width,x:C.left,y:C.top}),e[29]=C,e[30]=G,e[31]=t):t=e[31];e[32]!==C||e[33]!==G?(z=C!=null&&!G&&l.jsxs(l.Fragment,{children:[l.jsx("rect",{fill:"black",height:C.height*.75,rx:q(C.borderRadius.topLeft,C.width),ry:q(C.borderRadius.topLeft,C.height),width:C.width*.75,x:C.left,y:C.top}),l.jsx("rect",{fill:"black",height:C.height*.75,rx:q(C.borderRadius.topRight,C.width),ry:q(C.borderRadius.topRight,C.height),width:C.width*.75,x:C.left+C.width*.25,y:C.top}),l.jsx("rect",{fill:"black",height:C.height*.75,rx:q(C.borderRadius.bottomLeft,C.width),ry:q(C.borderRadius.bottomLeft,C.height),width:C.width*.75,x:C.left,y:C.top+C.height*.25}),l.jsx("rect",{fill:"black",height:C.height*.75,rx:q(C.borderRadius.bottomRight,C.width),ry:q(C.borderRadius.bottomRight,C.height),width:C.width*.75,x:C.left+C.width*.25,y:C.top+C.height*.25})]}),e[32]=C,e[33]=G,e[34]=z):z=e[34];e[35]!==v||e[36]!==w||e[37]!==t||e[38]!==z?(u=l.jsx("defs",{children:l.jsxs("mask",{id:v,ref:w,suppressHydrationWarning:!0,children:[f,t,z]})}),e[35]=v,e[36]=w,e[37]=t,e[38]=z,e[39]=u):u=e[39];e[40]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x4xt3t0"},e[40]=g):g=e[40];e[41]!==y||e[42]!==x?(A=l.jsx("rect",babelHelpers["extends"]({},g,{height:"100%",mask:x,ref:y,suppressHydrationWarning:!0,width:"100%",x:"0",y:"0"})),e[41]=y,e[42]=x,e[43]=A):A=e[43];e[44]!==H||e[45]!==u||e[46]!==A?(b=l.jsxs("svg",babelHelpers["extends"]({viewBox:H},c("CometVisualCompletionAttributes").IGNORE,{children:[u,A]})),e[44]=H,e[45]=u,e[46]=A,e[47]=b):b=e[47];e[48]!==s?(C=s&&l.jsx(c("CometNuxTourHighlight.react"),{target:s}),e[48]=s,e[49]=C):C=e[49];e[50]!==F?(G=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsx(c("CometLayerKeyCommandWrapper.react"),{debugName:"nux tour layer",children:F})}),e[50]=F,e[51]=G):G=e[51];e[52]!==b||e[53]!==C||e[54]!==G?(f=l.jsxs("div",babelHelpers["extends"]({},k,{children:[b,C,G]})),e[52]=b,e[53]=C,e[54]=G,e[55]=f):f=e[55];return f}function r(){if(a.innerWidth!=null&&a.innerHeight!=null)return[a.innerWidth,a.innerHeight];else return[100,100]}g["default"]=b}),226);
__d("useCometNUXTourManagerReducer",["react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useReducer,j=function(a,b){switch(b.type){case"next":if(a.tourIndex==null||a.tour==null){c("recoverableViolation")("Active Target or Tour is null which should not be possible when advancing in a NUXTour","comet_ui");return a}return a.tourIndex>=a.tour.targets.length-1?{tour:null,tourIndex:null}:babelHelpers["extends"]({},a,{tourIndex:a.tourIndex+1});case"prev":if(a.tourIndex==null||a.tour==null){c("recoverableViolation")("Active Target or Tour is null which should not be possible when going to the previous step in a NUXTour","comet_ui");return a}if(a.tourIndex<=0){c("recoverableViolation")("Cannot go to the previous step when the tourIndex is 0","comet_ui");return a}return babelHelpers["extends"]({},a,{tourIndex:a.tourIndex-1});case"start_tour":return a.tour!=null?a:{themeConfig:b.themeConfig,tour:b.tour,tourIndex:0};case"end_tour":return{tour:null,tourIndex:null}}},k={tour:null,tourIndex:null};function a(){return i(j,k)}g["default"]=a}),98);
__d("CometNUXTourManager.react",["CometNUXTourConsumerContext","CometNUXTourContext","CometNUXTourInProgressConsumerContext","CometNUXTourOverlay.react","react","useCometNUXTourManagerReducer","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=100;function a(a){var b=a.children;a=a.inlineSurveySampleRate;a=a===void 0?o:a;var d=m(new Map()),e=c("useCometNUXTourManagerReducer")(),f=e[0],g=f.themeConfig,h=f.tour,p=f.tourIndex,q=e[1],r=j(function(){return h!=null&&p!=null?d.current.get(h.targets[p]):null},[h,p]);f=n(r());var s=f[0],t=f[1],u=m(null);u.current!==(h==null?void 0:h.callbacks)&&(u.current=h==null?void 0:h.callbacks);var v=m(function(){var a;a=(a=u.current)==null?void 0:a.onClose;a==null?void 0:a();u.current=null});e=l(function(){return{endTour:function(){q({type:"end_tour"}),v.current()},registerTarget:function(a,b){d.current.set(a,b),t(r())},startTour:function(a,b){q({themeConfig:b,tour:a,type:"start_tour"})},unregisterTarget:function(a){d.current["delete"](a),t(r())}}},[q,r,d]);f=l(function(){return{endTour:function(){q({type:"end_tour"}),v.current()},onHelpful:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=u.current)==null?void 0:a.onHelpful==null?void 0:a.onHelpful.apply(a,c)},onNotHelpful:function(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=u.current)==null?void 0:a.onNotHelpful==null?void 0:a.onNotHelpful.apply(a,c)}}},[q]);var w=c("usePrevious")(p);k(function(){s===void 0&&v.current()});k(function(){var a=r();if(p!=null&&p!==w&&(a==null?void 0:a.key)!=null){var b;(b=u.current)==null?void 0:b.onStepVisible==null?void 0:b.onStepVisible(a==null?void 0:a.key,p)}},[r,w,p]);var x=j(function(){q({type:"next"})},[q]),y=j(function(){q({type:"prev"})},[q]);a=h!=null&&p!=null&&s!==void 0?i.jsx(c("CometNUXTourOverlay.react"),{inlineSurveySampleRate:a,onNext:x,onPrev:y,target:s,themeConfig:g,tour:h,tourIndex:p}):null;var z=a!=null,A=c("usePrevious")(z);k(function(){if(z===!0&&A!==!0){var a;a=(a=u.current)==null?void 0:a.onOpen;a==null?void 0:a()}else z===!1&&A!==!1&&v.current()},[A,z]);return i.jsxs(i.Fragment,{children:[i.jsx(c("CometNUXTourConsumerContext").Provider,{value:e,children:i.jsx(c("CometNUXTourInProgressConsumerContext").Provider,{value:z,children:b})}),a==null?null:i.jsx(c("CometNUXTourContext").Provider,{value:f,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSCalloutManager.react",["BaseCalloutManager.react","ExecutionEnvironment","FDSCalloutContext","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("FDSCalloutImpl.react").__setRef("FDSCalloutManager.react")),l={anchorRef:null,anchorRootRefContext:{current:(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.body:null},animationContext:null,calloutID:null,scrollableAreaContext:[]};function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.initialState;a=a===void 0?l:a;var f;b[0]!==e||b[1]!==a?(f=j.jsx(c("BaseCalloutManager.react"),{context:c("FDSCalloutContext"),implementation:k,initialState:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("GlobalVideoPorts.react",["CometErrorBoundary.react","FBLogger","GlobalVideoPortsContexts","Promise","emptyFunction","gkx","react","react-compiler-runtime","requireDeferredForDisplay","requireWeak","useEmptyFunction","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useRef,m=e.useState,n=c("requireDeferredForDisplay")("GlobalVideoPortsImpl.react").__setRef("GlobalVideoPorts.react");f=c("emptyFunction");function o(a){var c=a.debugLoadDelayMs,d=a.onError,e=a.onLoaded,f=null;return function(){if(f!=null)return f;var a=n.getModuleIfRequireable();f=(a?(h||(h=b("Promise"))).resolve(a):n.load()).then(function(a){return a}).then(function(a){e(a)})["catch"](function(a){d(a)});return f}}var p=c("useEmptyFunction"),q=3e4;function a(a){var b=d("react-compiler-runtime").c(21),e=a.children,f=a.debugLoadDelayMs;a=a.debugLoadImmediately;var g=m(s),h=g[0],i=g[1];g=m(null);var n=g[0],t=g[1];g=m(null);var u=g[0],v=g[1],w=l(i),x=l(t),y;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){w.current===null&&(w.current=i);x.current===null&&(x.current=t);return function(){w.current=null,x.current=null}},y=[],b[0]=g,b[1]=y):(g=b[0],y=b[1]);k(g,y);b[2]!==n?(g=n!=null?function(){n.collectGarbage()}:null,b[2]=n,b[3]=g):g=b[3];b[4]!==n?(y=[n],b[4]=n,b[5]=y):y=b[5];c("useInterval")(g,q,y);b[6]!==f?(g=function(){return o({debugLoadDelayMs:f,onError:r,onLoaded:function(a){v(function(){return a})}})},b[6]=f,b[7]=g):g=b[7];y=m(g);g=y[0];p(a,v);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(a){var b=x.current;if(b){a=a(function(a){var b=w.current;b&&b(a)});b(a)}},b[8]=y):y=b[8];a=y;b[9]!==u?(y=u?j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(u,{setGlobalVideoPortsManager:a})}):null,b[9]=u,b[10]=y):y=b[10];b[11]!==e||b[12]!==h||b[13]!==y?(a=j.jsxs(d("GlobalVideoPortsContexts").GlobalVideoPortsStateContextProvider,{value:h,children:[y,e]}),b[11]=e,b[12]=h,b[13]=y,b[14]=a):a=b[14];b[15]!==n||b[16]!==a?(u=j.jsx(d("GlobalVideoPortsContexts").GlobalVideoPortsManagerContextProvider,{value:n,children:a}),b[15]=n,b[16]=a,b[17]=u):u=b[17];b[18]!==g||b[19]!==u?(e=j.jsx(d("GlobalVideoPortsContexts").GlobalVideoPortsLoaderContextProvider,{value:g,children:u}),b[18]=g,b[19]=u,b[20]=e):e=b[20];return e}function r(a){c("FBLogger")("video").catching(a).warn("GlobalVideoPortsImpl failed to load")}function s(){return{places:new Map(),placesSequenceNumberNext:0,videos:new Map()}}g["default"]=a}),98);
__d("VideoPlayerGlobalComponents.react",["CometAudioManager.react","GlobalVideoPorts.react","VideoAutoplayManagerX.react","cr:992073","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h.Fragment;var j=(f=b("cr:992073"))!=null?f:e;function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(c("GlobalVideoPorts.react"),{children:i.jsx(c("CometAudioManager.react"),{children:i.jsx(c("VideoAutoplayManagerX.react"),{children:i.jsx(j,{children:a})})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CometAppShell.react",["BaseToasterStateManagerProvider.react","CometNUXManager.react","CometNUXTourManager.react","FDSCalloutManager.react","VideoPlayerGlobalComponents.react","cr:2099","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");f=(e=b("cr:2099"))!=null?e:{DocumentTranslationStatusProvider:i.Fragment};var j=f.DocumentTranslationStatusProvider;function a(a){var b=d("react-compiler-runtime").c(6),e=a.ToasterStateManagerProvider,f=a.children;a=a.toaster;e=e===void 0?c("BaseToasterStateManagerProvider.react"):e;c("vulture")("G0u7MPiGsH");var g;b[0]!==f?(g=i.jsx(c("FDSCalloutManager.react"),{children:i.jsx(c("CometNUXTourManager.react"),{children:i.jsx(c("CometNUXManager.react"),{children:i.jsx(c("VideoPlayerGlobalComponents.react"),{children:f})})})}),b[0]=f,b[1]=g):g=b[1];b[2]!==e||b[3]!==g||b[4]!==a?(f=i.jsx(j,{children:i.jsxs(e,{children:[g,a]})}),b[2]=e,b[3]=g,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("CometBaseAppNavigation.react",["CometContextualLayerAnchorRoot.react","CometProductAttributionContextProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.endSection,f=a.searchSection,g=a.startButtons;a=a.tabBar;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x6s0dn4 x9f619 x78zum5 x1iyjqo2 x1s65kcs x17qophe x1d52u69 xixxii4 x13vifvy xzkaem6"},b[0]=h):h=b[0];b[1]!==g?(h=i.jsx("div",babelHelpers["extends"]({},h,{children:i.jsx(c("CometContextualLayerAnchorRoot.react"),{children:g})})),b[1]=g,b[2]=h):h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xds687c x1pi30zi x1e558r4 xixxii4 x13vifvy xzkaem6"},b[3]=g):g=b[3];b[4]!==e?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("CometContextualLayerAnchorRoot.react"),{children:e})})),b[4]=e,b[5]=g):g=b[5];b[6]!==f||b[7]!==h||b[8]!==g||b[9]!==a?(e=i.jsx("div",{role:"banner",children:i.jsxs(c("CometProductAttributionContextProvider.react"),{value:"topnav",children:[h,f,a,g]})}),b[6]=f,b[7]=h,b[8]=g,b[9]=a,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("CometClientConsistency",["fbt","ix","BaseToasterStateManager","ClientConsistency","ClientConsistencyEventEmitter","CometErrorOverlay","CometExceptionDialog.react","CometTimeSpentNavigation","FDSIcon.react","OutsideExceptionKeyCommandListener.react","cometPushToast","fbicon","justknobx","react","react-compiler-runtime","requireDeferred","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));a=j;var l=a.useEffect,m=a.useRef,n=c("requireDeferred")("ClientConsistencyFalcoEvent").__setRef("CometClientConsistency"),o=c("BaseToasterStateManager").getInstance(),p=!1,q=null,r=null,s=function(a){n.onReady(function(b){b.log(function(){var b;return babelHelpers["extends"]({revs:Array.from(c("ClientConsistency").getAdditionalRevisions()).map(function(a){return a.toString()}),trace_policy:(b=c("CometTimeSpentNavigation").getPathInfo())==null?void 0:b.name},a)})})},t=function(a){return(a!=null?Date.now()-a:-1).toString()};function u(a){var b=d("react-compiler-runtime").c(4),e=a.reason,f;b[0]!==e?(a=function(){r=Date.now(),s({action:2,event:"impression",reason:e})},f=[e],b[0]=e,b[1]=a,b[2]=f):(a=b[1],f=b[2]);l(a,f);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("FDSIcon.react"),{color:"warning",icon:d("fbicon")._(i("502062"),20)}),b[3]=a):a=b[3];return a}function v(a){var b=d("react-compiler-runtime").c(8),e=a.reason;c("vulture")("8jY0JIiSQgO");var f=m(null),g;b[0]!==e?(a=function(){f.current=Date.now(),s({action:3,event:"impression",reason:e})},g=[e],b[0]=e,b[1]=a,b[2]=g):(a=b[1],g=b[2]);l(a,g);var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"__JHASH__ITdZE8FVnv1__JHASH__"),g=h._(/*BTDS*/"__JHASH__JZ_cnbet5Qa__JHASH__"),i=h._(/*BTDS*/"__JHASH__Obip5oOzxbP__JHASH__"),b[3]=a,b[4]=g,b[5]=i):(a=b[3],g=b[4],i=b[5]);b[6]!==e?(a=k.jsx(c("OutsideExceptionKeyCommandListener.react"),{children:k.jsx(c("CometExceptionDialog.react"),{closeButtonText:a,errorDescription:g,errorSummary:i,onClose:function(){s({action:3,duration:t(f.current),event:"click",reason:e}),p=!1,f.current=null,window.location.reload(!0)},withCloseButton:!1})}),b[6]=e,b[7]=a):a=b[7];return a}var w=function(a){if(p)return;if(q!=null)return;q=d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"__JHASH__ITdZE8FVnv1__JHASH__"),onPress:function(){s({action:2,duration:t(r),event:"click",reason:a}),q=null,r=null,window.location.reload(!0)}},icon:k.jsx(u,{reason:a}),message:h._(/*BTDS*/"__JHASH__UmQdCpWvrAZ__JHASH__"),supressCloseButton:!0},Infinity);o.stopTimer(q)},x=function(a){if(p)return;q&&o["delete"](q);p=!0;d("CometErrorOverlay").injectComponent(function(b){return k.jsx(v,{reason:a})})},y=!1;b={init:function(){if(y)return;if(!c("justknobx")._("2743"))return;c("ClientConsistency").init();c("ClientConsistencyEventEmitter").addListener("softRefresh",w);c("ClientConsistencyEventEmitter").addListener("hardRefresh",x);y=!0},logRefreshOnNav:function(a){s({action:1,event:"impression",reason:a})}};e=b;g["default"]=e}),226);
__d("CometDarkModeRootClass",["ExecutionEnvironment","StyleXSheet"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){c?a.classList.add(b):a.classList.remove(b)}function a(a){j(a?"ENABLED":"DISABLED")}function j(a){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM)return;var b=window.document.documentElement;i(b,c("StyleXSheet").DARK_MODE_CLASS_NAME,a==="ENABLED");i(b,c("StyleXSheet").LIGHT_MODE_CLASS_NAME,a==="DISABLED"||a==="UNDECLARED")}g.toggleDarkModeRootClass=a;g.updateDarkModeRootClass=j}),98);
__d("CometSetDarkModeSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5657317347705261"}),null);
__d("CometSetDarkModeSettingMutation.graphql",["CometSetDarkModeSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"input"},c={defaultValue:null,kind:"LocalArgument",name:"setting"},d=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"},{kind:"Variable",name:"setting",variableName:"setting"}],concreteType:"SetDarkModeSettingResponsePayload",kind:"LinkedField",name:"set_dark_mode_setting",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"product",value:"COMET"}],kind:"ScalarField",name:"dark_mode_setting",storageKey:'dark_mode_setting(product:"COMET")'}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometSetDarkModeSettingMutation",selections:d,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometSetDarkModeSettingMutation",selections:d},params:{id:b("CometSetDarkModeSettingMutation_facebookRelayOperation"),metadata:{},name:"CometSetDarkModeSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometDarkMode",["CometDarkModeRootClass","CometDarkModeSetting","CometRelay","CometRelayEnvironment","CometSetDarkModeSettingMutation.graphql","Env","ExecutionEnvironment","ODS","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("gkx")("22823")&&(i||(i=c("Env"))).isCometOnMobile!==!0,l="(prefers-color-scheme: dark)",m={product:"COMET"},n=d("CometDarkModeSetting").initialSetting,o=new Set();function a(a){o.add(a);return function(){o["delete"](a)}}function p(a){n=a;var b=q();o.forEach(function(a){return a(b)});k&&d("CometDarkModeRootClass").updateDarkModeRootClass(b)}function q(){return!k?"DISABLED":n}function b(){return q()==="ENABLED"}function e(a,b){var e=b.onRevert;if(!(j||(j=c("ExecutionEnvironment"))).canUseDOM)return;var f=n;if(f===a)return;p(a);function g(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null)return;var c=b.getValue("dark_mode_setting",m);if(c===a)return;b.setValue("dark_mode_setting",a,m)}d("CometRelay").commitMutation(c("CometRelayEnvironment"),{mutation:c("CometSetDarkModeSettingMutation.graphql"),onError:function(){p(f),e(f)},optimisticUpdater:g,variables:{input:m,setting:a}})}function f(){d("CometDarkModeRootClass").updateDarkModeRootClass(q());if(window.matchMedia!=null){var a="comet.dark_mode_audit",b=window.matchMedia(l).matches;(h||(h=d("ODS"))).bumpFraction(4929,a,"system_setting_is_dark_mode",b?1:0,1);h.bumpFraction(4929,a,"initial_setting_is_use_system",d("CometDarkModeSetting").initialSetting==="USE_SYSTEM"?1:0,1);b=b!==d("CometDarkModeSetting").initialGuessForDarkModeOnClient;h.bumpFraction(4929,a,"server_guess_is_incorrect",b?1:0,1);window.__invalidateSSR!=null&&d("CometDarkModeSetting").initialSetting==="USE_SYSTEM"&&b&&window.__invalidateSSR("Incorrect guess for client dark mode state")}}g.toggleDarkModeRootClass=d("CometDarkModeRootClass").toggleDarkModeRootClass;g.updateDarkModeRootClass=d("CometDarkModeRootClass").updateDarkModeRootClass;g.onDarkModeChange=a;g.getDarkModeSetting=q;g.getDarkModePreference=b;g.saveDarkModeSetting=e;g.initDarkMode=f}),98);
__d("useCometSetDarkModeMetaContent",["CometStyleXDarkTheme","CometStyleXDefaultTheme","DspFDSWebLegacyThemeUsage","ExecutionEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useLayoutEffect,k="color-scheme",l="theme-color",m="nav-bar-background";function n(a){var b=document.querySelector('meta[name="'+k+'"]');a=a?"dark":"light";if(b==null){var c,d=document.createElement("meta");d.setAttribute("name",k);d.setAttribute("content",a);(c=document.querySelector("head"))==null?void 0:c.appendChild(d)}else b==null?void 0:b.setAttribute("content",a)}function o(a){var b=document.querySelector('meta[name="'+l+'"]');if(b==null){var c,d=document.createElement("meta");d.setAttribute("name",l);d.setAttribute("content",a);(c=document.querySelector("head"))==null?void 0:c.appendChild(d)}else b==null?void 0:b.setAttribute("content",a)}function p(a){n(a);if((h||(h=c("ExecutionEnvironment"))).canUseDOM){var b=getComputedStyle(document.documentElement).getPropertyValue("--"+m);if(b!==""){o(b);return}}if(a){b=babelHelpers["extends"]({},c("CometStyleXDarkTheme"));Object.assign(b,c("DspFDSWebLegacyThemeUsage").dark);o(b[m])}else{a=babelHelpers["extends"]({},c("CometStyleXDefaultTheme"));Object.assign(a,c("DspFDSWebLegacyThemeUsage").light);o(a[m])}}function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){p(a)},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);j(c,e)}g.setDarkModeMetaColorScheme=n;g.setMetaThemeColor=o;g.setDarkModeMetaContent=p;g.useCometSetDarkModeMetaContent=a}),98);
__d("useSystemPrefersDarkMode",["CometDarkModeSetting","ExecutionEnvironment","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState,l="(prefers-color-scheme: dark)",m=new Set();if(window.matchMedia){e=function(a){m.forEach(function(b){return b(a)})};f=window.matchMedia(l);f.addListener(e)}function n(a){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM){a=a();return a==="ENABLED"||a==="USE_SYSTEM"&&d("CometDarkModeSetting").initialGuessForDarkModeOnClient}return window.matchMedia!=null&&window.matchMedia(l).matches}function a(a){var b=d("react-compiler-runtime").c(4),c;b[0]!==a?(c=function(){return n(a)},b[0]=a,b[1]=c):c=b[1];c=k(c);var e=c[0],f=c[1],g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){var a=function(a){f(a.matches)};m.add(a);return function(){m["delete"](a)}},g=[],b[2]=c,b[3]=g):(c=b[2],g=b[3]);j(c,g);return e}g.getSystemPrefersDarkMode=n;g.useSystemPrefersDarkMode=a}),98);
__d("makeCometDarkModeStateProvider.react",["fbt","BaseThemeConfigContext","BaseThemeDisplayModeContext","CometDarkModeContext","CometDarkModeRootClass","CometStyleXSheet","DSPDisplayModeContext","cometGetKeyCommandConfig","gkx","isRouteTransparent","react","react-compiler-runtime","requireDeferredForDisplay","useCometRouterState","useCometSetDarkModeMetaContent","useGlobalKeyCommands","useSystemPrefersDarkMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useLayoutEffect;b.useMemo;var l=b.useState,m=c("requireDeferredForDisplay")("cometPushToast").__setRef("makeCometDarkModeStateProvider.react"),n={darkClassName:d("CometStyleXSheet").DARK_MODE_CLASS_NAME,darkVariables:{},lightClassName:d("CometStyleXSheet").LIGHT_MODE_CLASS_NAME,lightVariables:{}};function a(a){var b=a.getDarkModeSetting,e=a.saveDarkModeSetting;function f(a){var f=d("react-compiler-runtime").c(27);a=a.children;var g=d("useSystemPrefersDarkMode").useSystemPrefersDarkMode(b),i=l(b),o=i[0],p=i[1],q=o==="ENABLED"||o==="USE_SYSTEM"&&g;d("useCometSetDarkModeMetaContent").useCometSetDarkModeMetaContent(q);i=c("useCometRouterState")();bb0:{if(i==null?void 0:i.pushViewStack)for(g=i.pushViewStack.length-1;g>=0;g--){var r=i.pushViewStack[g].route;if(c("isRouteTransparent")(r))continue;if(((r=r.theme)==null?void 0:r.forceDarkMode)===!0){r=!0;break bb0}else{r=!1;break bb0}}else{if((i==null?void 0:(g=i.main)==null?void 0:(i=g.route)==null?void 0:(g=i.theme)==null?void 0:g.forceDarkMode)===!0){r=!0;break bb0}}r=!1}var s=r;bb1:{if(s){i="dark";break bb1}if(o==="USE_SYSTEM"){i="auto";break bb1}i=o==="ENABLED"?"dark":"light"}g=i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=function(a){p(a),e(a,{onRevert:p})},f[0]=r):r=f[0];var t=r;f[1]!==o||f[2]!==s?(i=function(){if(s){d("CometDarkModeRootClass").updateDarkModeRootClass("ENABLED");return function(){d("CometDarkModeRootClass").updateDarkModeRootClass(o)}}},r=[s,o],f[1]=o,f[2]=s,f[3]=i,f[4]=r):(i=f[3],r=f[4]);k(i,r);f[5]!==q?(i=function(){t(q?"DISABLED":"ENABLED")},f[5]=q,f[6]=i):i=f[6];var u=i;f[7]!==o||f[8]!==u?(r={currentSetting:o,onDarkModeToggle:u,setDarkModeSetting:t},f[7]=o,f[8]=u,f[9]=r):r=f[9];i=r;r=i;i=q||s?"dark":"light";var v;f[10]!==q||f[11]!==u?(v=function(){u();var a=q?h._(/*BTDS*/"__JHASH__mZUSsgKzhwX__JHASH__"):h._(/*BTDS*/"__JHASH__5t1YIaW-UDE__JHASH__");m.onReady(function(b){b=b.cometPushToast;b({message:a})})},f[10]=q,f[11]=u,f[12]=v):v=f[12];v=v;bb2:{if(!c("gkx")("22802")){var w;f[13]===Symbol["for"]("react.memo_cache_sentinel")?(w=[],f[13]=w):w=f[13];w=w;break bb2}var x;f[14]!==v?(x=d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","toggleDarkMode",v),f[14]=v,f[15]=x):x=f[15];v=x;f[16]!==v?(x=[v],f[16]=v,f[17]=x):x=f[17];w=x}v=w;c("useGlobalKeyCommands")(v);f[18]!==a||f[19]!==g?(x=j.jsx(c("DSPDisplayModeContext").Provider,{value:g,children:a}),f[18]=a,f[19]=g,f[20]=x):x=f[20];f[21]!==r||f[22]!==x?(w=j.jsx(c("CometDarkModeContext").Provider,{value:r,children:x}),f[21]=r,f[22]=x,f[23]=w):w=f[23];f[24]!==i||f[25]!==w?(v=j.jsx(c("BaseThemeConfigContext").Provider,{value:n,children:j.jsx(c("BaseThemeDisplayModeContext").Provider,{value:i,children:w})}),f[24]=i,f[25]=w,f[26]=v):v=f[26];return v}return f}g["default"]=a}),226);
__d("CometDarkModeStateProvider.react",["CometDarkMode","makeCometDarkModeStateProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("makeCometDarkModeStateProvider.react")({getDarkModeSetting:d("CometDarkMode").getDarkModeSetting,saveDarkModeSetting:d("CometDarkMode").saveDarkModeSetting});g["default"]=a}),98);
__d("currentCometRouterInstance",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(){h==null&&c("FBLogger")("CometRouter").warn("Something attempted to access the Comet router before it was initialized.");return h}function b(a){h=a}g.get=a;g.register=b}),98);
__d("CometErrorLogging",["ClientConsistency","Env","ErrorGuard","ErrorSetup","ErrorTransport","JSErrorLoggingConfig","SiteData","WebSession","currentCometRouterInstance","getTopMostRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){(h||(h=c("ErrorGuard"))).skipGuardGlobal((i||(i=c("Env"))).nocatch);b=a;if(c("JSErrorLoggingConfig").sampleWeight!=null){c("ErrorSetup").setup({appId:(a=c("JSErrorLoggingConfig")).appId,cavalry_lid:b,client_revision:c("SiteData").client_revision,extra:a.extra,loggingFramework:"comet",projectBlocklist:a.projectBlocklist,push_phase:c("SiteData").push_phase,report_source:a.report_source,report_source_ref:a.report_source_ref,sample_weight:(a=c("JSErrorLoggingConfig").sampleWeight)!=null?a:0,script_path:"/comet",server_revision:c("SiteData").server_revision,spin:c("SiteData").spin,web_session_id:d("WebSession").getId()},d("ErrorTransport").log,function(){var a,b="/comet";a=(a=d("currentCometRouterInstance").get())==null?void 0:a.getCurrentRouterState();if(a!=null){a=c("getTopMostRoute")(a);b=(a=a.tracePolicy)!=null?a:b}return{additional_client_revisions:c("ClientConsistency").getAdditionalRevisions(),script_path:b}})}}c("ErrorSetup").preSetup();g.init=a}),98);
__d("CometErrorSystem",["CometErrorLogging","QuickMarkersComet","cr:1267207","cr:4345"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("CometErrorLogging").init(a),b("cr:4345")&&b("cr:4345").init(),b("cr:1267207")&&b("cr:1267207")(),d("QuickMarkersComet").init()}g.init=a}),98);
__d("CometFBUncaughtErrorDeferred.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("deferredLoadComponent")(c("requireDeferred")("CometFBUncaughtError.react").__setRef("CometFBUncaughtErrorDeferred.react"));b=a;g["default"]=b}),98);
__d("CometIconLogo.react",["CometIconAppFacebookCircleFilled.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.color;e=(e=e)!=null?e:"fb-logo";var f;b[0]!==a||b[1]!==e?(f=i.jsx(c("CometIconAppFacebookCircleFilled.react"),babelHelpers["extends"]({},a,{color:e})),b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometLazyToasterView_DO_NOT_USE.react",["CometPlaceholder.react","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useToasterStateManager"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;e=c("requireDeferred")("CometToasterView_DO_NOT_USE.react").__setRef("CometLazyToasterView_DO_NOT_USE.react");var l=c("deferredLoadComponent")(e);function m(a){a=a.getState();return Object.keys(a).length>0}function a(a){var b=d("react-compiler-runtime").c(8),e=c("useToasterStateManager")(),f;b[0]!==e?(f=function(){return m(e)},b[0]=e,b[1]=f):f=b[1];f=k(f);var g=f[0],h=f[1],n;b[2]!==e||b[3]!==g?(f=function(){if(g)return;var a=m(e);if(a){h(!0);return}var b=e.addListener(function(){b.remove(),h(!0)});return b.remove},n=[e,g],b[2]=e,b[3]=g,b[4]=f,b[5]=n):(f=b[4],n=b[5]);j(f,n);if(g){b[6]!==a?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(l,babelHelpers["extends"]({loadImmediately:!0},a))}),b[6]=a,b[7]=f):f=b[7];return f}return null}g["default"]=a}),98);
__d("CometLoggedInFacebookLogo.react",["fbt","CometIconLogo.react","CometPressable.react","XCometHomeControllerRouteBuilder","react","react-compiler-runtime","useTopNavigationLogging"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("XCometHomeControllerRouteBuilder").buildURL({});function a(a){var b=d("react-compiler-runtime").c(10),e=a["aria-hidden"],f=a.withShadow;a=a.xstyle;f=f===void 0?!1:f;var g=d("useTopNavigationLogging").useLogoLoggingCallbacks(),i=g[0];g=g[1];var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"__JHASH__TlJCmSOrUbl__JHASH__"),b[0]=l):l=b[0];var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m={prefetchQueriesOnHover:!0,productAttribution:{tap_point:"logo"},traceParams:{navigation_source:"logo_click"},url:k},b[1]=m):m=b[1];var n;b[2]!==f?(n=j.jsx(c("CometIconLogo.react"),{shadow:f,size:40}),b[2]=f,b[3]=n):n=b[3];b[4]!==e||b[5]!==i||b[6]!==g||b[7]!==n||b[8]!==a?(f=j.jsx(c("CometPressable.react"),{"aria-hidden":e,"aria-label":l,expanding:!0,linkProps:m,onPress:i,overlayDisabled:!0,ref:g,testid:void 0,xstyle:a,children:n}),b[4]=e,b[5]=i,b[6]=g,b[7]=n,b[8]=a,b[9]=f):f=b[9];return f}g["default"]=a}),226);
__d("CometRootContainer.react",["cr:1119068","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useEffect,k=c.useRef;function a(a){var c=d("react-compiler-runtime").c(5);a=a.children;var e=k(null),f,g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){b("cr:1119068")!=null&&e.current!=null&&b("cr:1119068").init(e.current);return l},g=[],c[0]=f,c[1]=g):(f=c[0],g=c[1]);j(f,g);c[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 xdt5ytf x1n2onr6 x1ja2u2z"},c[2]=f):f=c[2];c[3]!==a?(g=i.jsx("div",babelHelpers["extends"]({},f,{ref:e,children:a})),c[3]=a,c[4]=g):g=c[4];return g}function l(){b("cr:1119068")!=null&&b("cr:1119068").clear()}g["default"]=a}),98);
__d("CometMainContentWrapper.react",["BaseDocumentScrollView.react","BaseViewportMarginsContext","CometAppNavigationConstants","CometContextualLayerAnchorRoot.react","CometPlaceholder.react","CometRootContainer.react","CometRouterUIComponentContext","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;var l=c("gkx")("22787"),m={base:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},innerHiddenTopNav:{minHeight:"xg6iff7",top:"x13vifvy",$$css:!0},innerHiddenTopNavDvh:{"@supports (min-height: 100dvh)_minHeight":"xippug5",$$css:!0},innerHiddenTopNavWithFirstThatWorks:{minHeight:"x1wjobn4",top:"x13vifvy",$$css:!0},innerWithTopNav:{minHeight:"xat3117",top:"xxzkxad",$$css:!0},innerWithTopNavDvh:{"@supports (min-height: 100dvh)_minHeight":"x4m6w61",$$css:!0},innerWithTopNavWithFirstThatWorks:{minHeight:"xpvvgw5",top:"xxzkxad",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(38),e,f,g,i,n;b[0]!==a?(e=a.children,g=a.headerHeight,i=a.shouldRenderTopNav,n=a.shouldUseDvhMinHeight,f=babelHelpers.objectWithoutPropertiesLoose(a,["children","headerHeight","shouldRenderTopNav","shouldUseDvhMinHeight"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=n):(e=b[1],f=b[2],g=b[3],i=b[4],n=b[5]);a=g===void 0?d("CometAppNavigationConstants").HEADER_HEIGHT:g;g=i===void 0?!0:i;i=n===void 0?!1:n;n=k(c("CometRouterUIComponentContext"));n=n.FallbackRoot;a=g?a:0;var o;b[6]!==a?(o={bottom:0,left:0,right:0,top:a},b[6]=a,b[7]=o):o=b[7];a=o;o=a;a=l===!0?g?m.innerWithTopNavWithFirstThatWorks:m.innerHiddenTopNavWithFirstThatWorks:void 0;var p,q,r,s,t;if(b[8]!==f||b[9]!==g||b[10]!==i||b[11]!==a||b[12]!==o){var u=l===!1?[g?m.innerWithTopNav:m.innerHiddenTopNav,i?g?m.innerWithTopNavDvh:m.innerHiddenTopNavDvh:void 0]:void 0;r=c("BaseDocumentScrollView.react");t=f;q=c("CometRootContainer.react");p=c("BaseViewportMarginsContext").Provider;s=o;u=(h||(h=c("stylex"))).props(m.base,a,u);b[8]=f;b[9]=g;b[10]=i;b[11]=a;b[12]=o;b[13]=p;b[14]=q;b[15]=r;b[16]=u;b[17]=s;b[18]=t}else p=b[13],q=b[14],r=b[15],u=b[16],s=b[17],t=b[18];b[19]!==n?(f=n?j.jsx(n,{}):j.jsx("div",{}),b[19]=n,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(g=j.jsx(c("CometContextualLayerAnchorRoot.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:f,children:e})}),b[21]=e,b[22]=f,b[23]=g):g=b[23];b[24]!==g||b[25]!==u?(i=j.jsx("div",babelHelpers["extends"]({},u,{children:g})),b[24]=g,b[25]=u,b[26]=i):i=b[26];b[27]!==p||b[28]!==i||b[29]!==s?(a=j.jsx(p,{value:s,children:i}),b[27]=p,b[28]=i,b[29]=s,b[30]=a):a=b[30];b[31]!==q||b[32]!==a?(o=j.jsx(q,{children:a}),b[31]=q,b[32]=a,b[33]=o):o=b[33];b[34]!==r||b[35]!==o||b[36]!==t?(n=j.jsx(r,babelHelpers["extends"]({},t,{children:o})),b[34]=r,b[35]=o,b[36]=t,b[37]=n):n=b[37];return n}g["default"]=a}),98);
__d("CometOneTraceSetup",["OneTraceQPLLogger","cr:975","gkx","one-trace","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("21034"),i=c("gkx")("23410"),j=!1;function k(a){if(h)return l(a);switch(a.traceType){case"IMAGE":return c("qpl")._(1505636832,"4069");case"SCROLL":return c("gkx")("23409")?c("qpl")._(101652143,"586"):null;case"INP":return i?c("qpl")._(101657509,"3966"):null;case"LONGTASK":return i?c("qpl")._(101648941,"8675"):null;case"RESPONSIVENESS":return c("qpl")._(101657336,"3585");case"TYPING":return c("qpl")._(899355574,"7887")}return null}function l(a){switch(a.traceType){case"IMAGE":return c("qpl")._(487986843,"985");case"SCROLL":return c("gkx")("22445")?c("qpl")._(487984335,"986"):null;case"INP":return c("gkx")("22447")?c("qpl")._(487995565,"988"):null;case"LONGTASK":return null;case"RESPONSIVENESS":return c("qpl")._(487986888,"990");case"TYPING":return c("qpl")._(487985093,"991")}return null}function m(){var a;c("one-trace").setup({Image:{enableTracking:!1},INP:{enableTracking:(a=c("gkx"))("22447")},Longtask:{enableTracking:a("22447")},Responsiveness:{enableTracking:a("22447")},Scroll:{enableTracking:a("22448")},Typing:{enableTracking:!1}})}function a(){j||(j=!0,h?m():c("one-trace").setup({Image:{enableTracking:!1},INP:{enableTracking:i,getReactComponentStackFromDOMElement:b("cr:975")},Longtask:{enableTracking:i},Responsiveness:{enableTracking:i},Scroll:{enableTracking:c("gkx")("23411")},Typing:{enableTracking:c("gkx")("23408")}}),c("one-trace").subscribe("trace-start",function(a){d("OneTraceQPLLogger").initQPL(k(a),a)}),c("one-trace").subscribe("trace-end",function(a){d("OneTraceQPLLogger").logQPL(k(a),a)}))}g["default"]=a}),98);
__d("CometPixelRatioDetector",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometPixelRatioUpdater").__setRef("CometPixelRatioDetector");function a(){h.onReady(function(a){return a.startDetecting()})}g.initDetecting=a}),98);
__d("CometSetKeyCommandWrapperDialogs.react",["CometKeyCommandContext","CometKeyCommandSettingsContext","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect,k=c("JSResourceForInteraction")("CometModifiedKeyCommandWrapperDialog.react").__setRef("CometSetKeyCommandWrapperDialogs.react"),l=c("JSResourceForInteraction")("CometKeyCommandWrapperDialog.react").__setRef("CometSetKeyCommandWrapperDialogs.react");function a(){var a,b=d("react-compiler-runtime").c(10),e=i(c("CometKeyCommandSettingsContext"));a=(a=i(c("CometKeyCommandContext")))!=null?a:{};var f=a.setShowModifiedKeyCommandWrapperDialogRef,g=a.setShowSingleCharacterKeyCommandWrapperDialogRef;a=c("useCometLazyDialog")(k);var h=a[0];a=c("useCometLazyDialog")(l);var m=a[0],n;b[0]!==e.setModifiedKeyboardShortcutsPreference||b[1]!==f||b[2]!==h?(a=function(){var a=c("emptyFunction");f&&(a=f(function(a,b){h({command:a,setModifiedKeyboardShortcutsPreference:e.setModifiedKeyboardShortcutsPreference,singleCharDescription:b},c("emptyFunction"))}));return a},n=[f,h,e.setModifiedKeyboardShortcutsPreference],b[0]=e.setModifiedKeyboardShortcutsPreference,b[1]=f,b[2]=h,b[3]=a,b[4]=n):(a=b[3],n=b[4]);j(a,n);b[5]!==e.setAreSingleKeysDisabled||b[6]!==g||b[7]!==m?(a=function(){var a=c("emptyFunction");g&&(a=g(function(a,b){m({command:a,setAreSingleKeysDisabled:e.setAreSingleKeysDisabled,singleCharDescription:b},c("emptyFunction"))}));return a},n=[g,m,e.setAreSingleKeysDisabled],b[5]=e.setAreSingleKeysDisabled,b[6]=g,b[7]=m,b[8]=a,b[9]=n):(a=b[8],n=b[9]);j(a,n);return null}g["default"]=a}),98);
__d("TimeSpentArray",["Banzai","TimeSlice","clearTimeout","pageID","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){var h=2,i=h*32,j,k,l,m,n,o,p,q,r,s,t,u={},v,w=null;function x(){return{timeoutDelayMap:u,nextDelay:v,timeoutInSeconds:n}}function y(){if(j){var a=Date.now();a>p&&(r=Math.min(i,Math.ceil(a/1e3-o)));a=D();a&&j(a,v)}C()}function z(){A(),m=c("setTimeoutAcrossTransitions")(c("TimeSlice").guard(y,"TimeSpentArray Timeout",{propagationType:c("TimeSlice").PropagationType.ORPHAN}),n*1e3)}function A(){m&&(c("clearTimeout")(m),m=null)}function B(a){o=a;p=o*1e3;q=[1];for(a=1;a<h;a++)q.push(0);r=1;s+=1;t+=1;a=t.toString()+"_delay";v=u[a];v===void 0&&(v=u.delay);a=t.toString()+"_timeout";a=u[a];a===void 0&&(a=u.timeout);a=Math.min(a,i);n=a||i;w=l?l():null;z()}function C(){A(),q=null}function D(){return!q?null:{tos_id:c("pageID"),start_time:o,tos_array:q.slice(0),tos_len:r,tos_seq:t,tos_cum:s,start_endpoint:w}}function E(a){if(a>=p&&a-p<1e3)return;k&&k(a);F(Math.floor(a/1e3))}function F(a){var b=a-o;(b<0||b>=i)&&y();!q?B(a):(q[b>>5]|=1<<(b&31),r=b+1,s+=1,p=a*1e3)}function a(a,b,d,e,f){s=0,t=-1,j=a,k=e,l=f,typeof b==="object"&&b!==null?u=b:u={},B(Math.floor((d===void 0||d===null||d===0?Date.now():d)/1e3)),c("Banzai").subscribe(c("Banzai").SHUTDOWN,y)}function b(a){E(a)}function d(){return D()}function e(){y()}function f(){C()}function G(){return x()}g.init=a;g.update=b;g.get=d;g.ship=e;g.reset=f;g.testState=G}),98);
__d("TimeSpentImmediateActiveSecondsLogger",["cr:844180"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:844180")}),98);
__d("WebTimeSpentBitArrayFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1829320");b=d("FalcoLoggerInternal").create("web_time_spent_bit_array",a);e=b;g["default"]=e}),98);
__d("CometTimeSpentBitArrayLogger",["ODS","Random","TimeSpentArray","TimeSpentImmediateActiveSecondsLogger","TimeSpentWWWCometConfig","WebSession","WebTimeSpentBitArrayFalcoEvent","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i="",j=null;function k(a,b){a.sid_raw=i,c("WebTimeSpentBitArrayFalcoEvent").logImmediately(function(){return{sid_raw:a.sid_raw,start_endpoint:a.start_endpoint,start_time:a.start_time,tos_array:a.tos_array,tos_cum:a.tos_cum,tos_id:a.tos_id,tos_len:a.tos_len,tos_seq:a.tos_seq}})}function l(a){a=n();a!==i&&(d("TimeSpentArray").ship(),i=a)}function m(){return j}function n(){d("WebSession").extend();return d("WebSession").getId()}function o(a){return a==="XWorkPostPluginCometController"||a==="XWorkGroupFeedPluginCometController"||a==="XWorkMSTeamsAppFeedCometController"||(a==null?void 0:a.startsWith("comet.commerce_partner_hub.commerce_extension"))?!0:!1}function a(a){if(c("isInIframe")()&&!o(a))return;j=a;a=Date.now();d("TimeSpentArray").init(k,c("TimeSpentWWWCometConfig").CONFIG,a,l,m);i=n();c("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(a);a=772;d("Random").coinflip(a)&&(h||(h=d("ODS"))).bumpEntityKey(2966,"ms.time_spent.qa.www","time_spent.bits.js_initialized",a)}function b(a){d("TimeSpentArray").update(a),c("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(a)}function e(a){j=a}g.init=a;g.updateTimeSpentArray=b;g.changeEndpoint=e}),98);
__d("CometTimeSpentBitArrayLoggerUpdater",["CometThrottle","CometTimeSpentBitArrayLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){d("CometTimeSpentBitArrayLogger").updateTimeSpentArray(Date.now())}a=c("CometThrottle")(function(a){if(a instanceof MouseEvent){if(/^mouse(enter|leave|move|out|over)$/.test(a.type)&&a.pageX===h&&a.pageY===i)return;h=a.pageX;i=a.pageY}j()},500,{leading:!0,trailing:!1});b={capture:!0,passive:!0};g.updateTimeSpentArrayWithCurrentTimestamp=j;g.updateTimeSpentArrayThrottled=a;g.LISTENER_OPTIONS=b}),98);
__d("CometTimeSpentEventListener.react",["CometTimeSpentBitArrayLoggerUpdater","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b;(b=c("useGlobalEventListener"))("click",(a=d("CometTimeSpentBitArrayLoggerUpdater")).updateTimeSpentArrayWithCurrentTimestamp,a.LISTENER_OPTIONS);b("focus",a.updateTimeSpentArrayWithCurrentTimestamp,a.LISTENER_OPTIONS);b("keydown",a.updateTimeSpentArrayWithCurrentTimestamp,a.LISTENER_OPTIONS);b("mousemove",a.updateTimeSpentArrayThrottled,a.LISTENER_OPTIONS);b("scroll",a.updateTimeSpentArrayThrottled,a.LISTENER_OPTIONS);return null}g["default"]=a}),98);
__d("shouldUseNonReactTSListeners",["qex"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("qex")._("889"))!=null?a:!1;d=b;g["default"]=d}),98);
__d("CometPlatformAppWrapper.react",["CometAccessibilityAlertProvider.react","CometErrorBoundary.react","CometErrorProjectContext","CometPlaceholder.react","CometSSRMultipassBoundary.react","CometSetKeyCommandWrapperDialogs.react","CometTimeSpentEventListener.react","CometTransientDialogProvider.react","TopLevelKeyCommandListener.react","hero-tracing-placeholder","react","react-compiler-runtime","recoverableViolation","shouldUseNonReactTSListeners"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function j(a){a=(a=d("hero-tracing-placeholder").HeroPlaceholderUtils.createThenableDescription(a))!=null?a:"";c("recoverableViolation")("Top level suspense boundary triggered, a component suspended outside of a CometPlaceholder, description: "+a,"comet_infra")}function a(a){var b=d("react-compiler-runtime").c(19),e=a.KeyboardSettingsStateProvider,f=a.UncaughtErrorFallback,g=a.children;a=a.disableTimeSpentLogging;a=a===void 0?!1:a;e=(e=e)!=null?e:i.Fragment;var h;b[0]!==f?(h=function(){return f==null?null:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(f,{})})},b[0]=f,b[1]=h):h=b[1];h=h;var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k={project:"comet_platform_root_boundary"},b[2]=k):k=b[2];var l;b[3]!==g?(l=i.jsx(c("CometAccessibilityAlertProvider.react"),{children:g}),b[3]=g,b[4]=l):l=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("CometSetKeyCommandWrapperDialogs.react"),{}),b[5]=g):g=b[5];b[6]!==l?(g=i.jsx(c("TopLevelKeyCommandListener.react"),{children:i.jsxs(c("CometTransientDialogProvider.react"),{children:[l,g]})}),b[6]=l,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(l=i.jsx(e,{children:g}),b[8]=e,b[9]=g,b[10]=l):l=b[10];b[11]!==a?(e=a!==!0&&c("shouldUseNonReactTSListeners")!==!0&&i.jsx(c("CometTimeSpentEventListener.react"),{}),b[11]=a,b[12]=e):e=b[12];b[13]!==l||b[14]!==e?(g=i.jsxs(c("CometSSRMultipassBoundary.react"),{children:[l,e]}),b[13]=l,b[14]=e,b[15]=g):g=b[15];b[16]!==g||b[17]!==h?(a=i.jsx(c("CometErrorProjectContext").Provider,{value:"comet_root",children:i.jsx(i.Suspense,{fallback:null,suspenseCallback:j,children:i.jsx(c("CometErrorBoundary.react"),{context:k,fallback:h,type:"fatal",children:g})})}),b[16]=g,b[17]=h,b[18]=a):a=b[18];return a}g["default"]=a}),98);
__d("CometPreloaderInit",["RelayAPIConfig","RelayPrefetchedStreamCache"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&&a.length)for(var a=a,b=Array.isArray(a),e=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(b){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;d("RelayPrefetchedStreamCache").registerPreloader(f.preloaderID,f.queryID,f.variables,(f=f.actorID)!=null?f:c("RelayAPIConfig").actorID)}}g.initPreloaders=a}),98);
__d("CometSSRHydrationHelpers",["CometSSRClientRender","CometSSRMergedContentInjector","cr:2602","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a){h=a};b=c("gkx")("4161");e=function(a,b){if(a!=null&&typeof a.message==="string"){var c=a.message;if(c.indexOf("Minified React error #421;")!==-1){var e;(e=h)==null?void 0:e.addAnnotationBoolean("ssr_suspense_boundary_received_update",!0);return}if(c.indexOf("The server could not finish this Suspense boundary")!==-1||c.indexOf("Minified React error #419;")!==-1||c.indexOf("This Suspense boundary received an update")!==-1||c.indexOf("The render was aborted by the server without a reason")!==-1||c.indexOf("The server did not finish this Suspense boundary")!==-1||c.indexOf(d("CometSSRClientRender").CometSSRClientRenderErrorSentinel)!==-1)return;if(c.indexOf("Minified React error #418;")!==-1||c.indexOf("Hydration failed because the initial UI does not match what was rendered on the server.")!==-1||c.indexOf("Minified React error #425;")!==-1||c.indexOf("Text content does not match server-rendered HTML.")!==-1){(e=h)==null?void 0:e.addAnnotationBoolean("hadSSRMismatch",!0)}typeof reportError==="function"&&((b==null?void 0:b.componentStack)&&(a.componentStack=b.componentStack),reportError(a));(c=h)==null?void 0:c.addAnnotationBoolean("hadSSRError",!0)}};g.initHydrationHelperTraceAPIObj=a;g.onRecoverableError=e}),98);
__d("getPaintTime",["cancelAnimationFrame","clearTimeout","performanceNow","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var d=null,e,f,g,i=function(){var a;(a=d)==null?void 0:a.disconnect();c("clearTimeout")(e);c("clearTimeout")(f);c("cancelAnimationFrame")(g)};e=c("setTimeout")(function(){e=c("setTimeout")(function(){e=c("setTimeout")(function(){i(),a(null,(h||(h=c("performanceNow")))())},100)},0)},16);if(IntersectionObserver){var j={};d=new IntersectionObserver(function(b){b=(b=(b=b[0])==null?void 0:b.time)!=null?b:(h||(h=c("performanceNow")))();i();a(b,b)},j);d.observe((j=b)!=null?j:window.document.body)}else c("requestAnimationFrame")&&c("cancelAnimationFrame")?g=c("requestAnimationFrame")(function(){f=c("setTimeout")(function(){i(),a(null,(h||(h=c("performanceNow")))())},0)}):(i(),a(null,(h||(h=c("performanceNow")))()))}g["default"]=a}),98);
__d("CometSSRLogger",["getPaintTime","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{logPayloadReceivedFromInlineInjector:function(){},logSSRInjection:function(){},logSSRPageVisibleAfterFirstPayload:function(){},logSSRPayloadQueued:function(){},logSSRShown:function(){},logSSRSplashScreenRemoved:function(){},logSSRUnhideRoot:function(){},logViewportGuess:function(){}}}function b(a){return{logPayloadReceivedFromInlineInjector:function(b){var c=b.clickEvents,d=b.msg,e=b.processedPayloads;b=b.status;a.addMetadata("ssr_inline_status",b+" "+(d||""));a.addMetadata("ssr_inline_click_events",c.total);e&&e.forEach(function(b){var c;c=(c=b.id)!=null?c:"global_failure";a.addMetadata("ssr_status_"+c,b.status)})},logSSRInjection:function(b){a.addMetadata("ssr_injected",b?1:0);if(b){var d=(b=a.getTrace())==null?void 0:b.vcTracker;d==null?void 0:d.addMarkerPoint("ssr_shown",(h||(h=c("performanceNow")))());c("getPaintTime")(function(a,b){var c;d==null?void 0:d.addMarkerPoint("ssr_paint",(c=a)!=null?c:b,{estimatedPaintTime:a==null})})}},logSSRPageVisibleAfterFirstPayload:function(){a.addMarkerPoint("ssr_page_visible_after_first_payload","AppTiming")},logSSRPayloadQueued:function(b){a.addMetadata("ssr_payload_queued",b?0:1)},logSSRShown:function(b){a.addMarkerPoint("ssr_shown_"+b,"AppTiming")},logSSRSplashScreenRemoved:function(){a.addMarkerPoint("ssr_splash_screen_removed","AppTiming")},logSSRUnhideRoot:function(){a.addMarkerPoint("ssr_unhide_root","AppTiming")},logViewportGuess:function(b){a.addAnnotationInt("ssr_viewport_width",b.width_px),a.addAnnotationInt("ssr_viewport_height",b.height_px),a.addAnnotation("ssr_viewport_guess_source",b.guess_source)}}}g.initNoopLogger=a;g.initLogger=b}),98);
__d("jestOnlyViolation",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d=d===void 0?{}:d;d=d.error;b=c("FBLogger")(b);d&&(b=b.catching(d));b.blameToPreviousFrame().fatal("Jest-Only Fatal: "+a);return null}g["default"]=a}),98);
__d("CometSSRMergedContentInjector",["CometSSRHydrationHelpers","CometSSRLogger","FBLogger","gkx","jestOnlyViolation","justknobx","qplTimingsServerJS"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=function(){},j={total:0},k=!1,l=!1,m=null,n=!1,o=!1,p=!1,q=[],r={},s=[],t=[],u=[],v=null,w=0;function x(){var a;return h==null?!1:h.gks.use_content_visibility_hidden&&((a=window.CSS)==null?void 0:a.supports)&&window.CSS.supports("content-visibility","hidden")}function y(){return c("justknobx")._("3457")&&c("gkx")("8019")}function z(a){if(A())return;l=!0;K.emit("PAYLOADINJECTED","ERROR");I(!1);J(a,"ERROR")}function A(){return!!m&&m.status==="ERROR"||l}function B(){if(h==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");z(h.disabled_status)}function C(a){if(h==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");c("qplTimingsServerJS")(h.cavalry_get_lid,a)}function a(a,b){D(a)||z("Checks for useMatchViewport failed"),b!=null&&M.logViewportGuess(b)}function D(a){return!window.matchMedia?!1:a.every(function(a){var b=a.dimension,c=a.numPixels,d=a.operation;a=a.result;d=E(d,b,c);return window.matchMedia(d).matches===a})}function E(a,b,c){return"("+a+"-"+b+": "+c+"px)"}function F(a){q.push(a);var b,c="no_error",d="success";if(a.status==="success")b="content_injected";else{var e=ga(a.status);a.status!=="fail_ssr_disabled"&&$(e);c=e;b="client_rendered";d="error";Q=Q===null||Q==="unknown"?e:Q}e={readyPreloaders:(e=a.readyPreloaders)!=null?e:[],wallTime:0};a=a.renderPassCount;r[a]={debug:e,errorStatus:c,renderStatus:b,status:d};w=a}function G(a){var b=a.onAllPayloadsInjected,c=a.onFirstPayloadInjected,d=a.onPayloadInjected;return{onSSRFinished:function(a){b&&b(a)},onSSRPayloadInjected:function(a){d&&d(a,function(){return X()})},startHydration:function(a){c&&c(a)}}}function b(a,b){if(A())return;F(a);aa(a);if(!p&&y()){t.push(a);return}H(a)}function H(a){if(h==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");var b=a.fizzRootId,d=a.payloadType,e=a.status;if(b===null||!d||e!==h.success_status){if(e===h.disabled_status||e===h.bad_preloaders_status){B();return}z("Error processing SSR payload "+(a.id||"Global")+": "+e);return}n||(ba(b||""),n=!0);if(y()){if(d==="LAST"){C("ssr_injected");C("ssr_inline_injector_ready");(a=R)==null?void 0:a.onSSRPayloadInjected("INJECTED");J("","INJECTED")}else{(e=R)==null?void 0:e.onSSRPayloadInjected("PENDING")}U()}else d==="LAST"?(C("ssr_injected"),C("ssr_inline_injector_ready"),K.emit("PAYLOADINJECTED","INJECTED"),J("","INJECTED")):K.emit("PAYLOADINJECTED","PENDING")}function aa(a){C("ssr_received_"+a.id)}function ba(a){if(h==null||v==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");while((b=v)==null?void 0:b.firstChild){var b;((b=v)==null?void 0:b.lastChild)&&v.removeChild((b=v)==null?void 0:b.lastChild)}b=document.getElementById(a);if(v&&b){a=b.childNodes;while(a.length){if(h==null||v==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");v.appendChild(a[0])}b.remove()}if(h==null||v==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");h.gks.comet_ssr_wait_for_dev||I(!0)}function I(a){K.emitOnce("FIRSTPAYLOADINJECTED",a)}function e(){return{onSSRFinished:i,onSSRPayloadInjected:i,startHydration:i}}function ca(){if(v==null)return;var a=v;x()?a.style["content-visibility"]="hidden":a.style.display="none"}function J(a,b){var c;if(o)return;o=!0;((c=h)==null?void 0:c.gks.comet_ssr_wait_for_dev)||I(!0);m={clickEvents:j,msg:a,processedPayloads:q,status:b,unbindListeners:i};c=m;y()&&c.status==="INJECTED"?(X(),R.onSSRFinished(c.status),M.logPayloadReceivedFromInlineInjector(c),M.logSSRInjection(c.status==="INJECTED"),c.status==="INJECTED"?c.processedPayloads&&c.processedPayloads.forEach(function(a){a=a.id;a&&M.logSSRShown(a)}):(V==null?void 0:V(),Z()),U()):K.emitOnce("ALLPAYLOADSINJECTED",c)}function f(a){h=a;v=document.getElementById(a.eid);var b=["success_status","eid"].filter(function(b){return!a[b]});b.length>0&&z("Error receiving SSRData: missing keys "+b.toString());v?h.gks.mwp_ssr_enabled&&h.enabled||h.gks.stop_render_at_splashscreen?h.is_in_crawler_mode||ca():h.enabled&&!h.gks.mwp_ssr_enabled&&B():z("Error locating root element: "+a.eid);window.__invalidateSSR=z;a.gks.comet_ssr_wait_for_dev&&(window.__comet_ssr_continue=function(){I(!0)});typeof window.requireLazy==="function"&&window.requireLazy(["ReactDOM"],function(a){C("ssr_reactdom_ready")})}var K={emit:function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=K.listeners[a])==null?void 0:b.map(function(a){return a.apply(void 0,d)});a in K.eventsEmitted||(K.eventsEmitted[a]=[]);K.eventsEmitted[a].push(d)},emitOnce:function(a){if(!(a in K.eventsEmitted)){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];K.emit.apply(K,[a].concat(c))}},eventsEmitted:{},listeners:{},on:function(a,b){a in K.eventsEmitted&&K.eventsEmitted[a].forEach(function(a){b.apply(void 0,a)}),K.listeners[a]||(K.listeners[a]=[]),K.listeners[a].push(b)}};function L(){var a;return(a=(a=h)==null?void 0:a.is_in_crawler_mode)!=null?a:!1}function da(a){window.__onSSRError&&window.__onSSRError(a)}function ea(a){window.__SSRFailJestOnError&&window.__SSRFailJestOnError(a)}function fa(){window.__receivedSSRErrors=window.__receivedSSRErrors||[],window.__onSSRError=window.__onSSRError||function(a){window.__receivedSSRErrors.push(a)}}var M=d("CometSSRLogger").initNoopLogger(),N=!1,O=!1,P=null,Q=null,R=e();function ga(a){switch(a){case"fail_js_error":return"server_js_error";case"fail_infra_error":return"server_infra_error";case"fail_ssr_disabled":return"ssr_disabled";case"fail_feed_module_not_supported":return"feed_module_not_supported";case"fail_bad_preloaders":return"bad_preloaders";case"fail_timed_out":return"timed_out";default:return"unknown"}}var ha=0,S=new Map();function T(){return{globalBoundaryErrorStatus:Q,ignoredHydrationErrors:u,lastPayloadArrived:o,sampleProfiles:s,ssrRenderPassStatuses:babelHelpers["extends"]({},r)}}function U(){if(S.size===0)return;var a=T();S.forEach(function(b){return b(a)})}function ia(){return T()}var V=null,W=!1;function ja(a){if(W)return;V=a;A()&&(V(),W=!0)}function ka(a,b){a=document.getElementById("caa-reg-fb-welcome-content");a!=null&&(b.addAnnotationInt("enable_caa_welcome_screen_delay",1),P!=null&&window.clearTimeout(P),P=window.setTimeout(function(){window.clearTimeout(P),P=null,O&&X()},2e3))}function X(){if(la())return;if(ma())return;na();if(v==null)return;oa(v)}function la(){return c("justknobx")._("957")||L()}function ma(){var a=document.getElementById("caa-reg-fb-welcome-content");if(P!=null&&a!=null&&!O){O=!0;return!0}return!1}function na(){if(!N&&c("gkx")("24263")){var a=document.getElementById("splash-screen");a!==null&&(N=!0)}if(!N){a=document.getElementById("splash-screen");a!==null&&(a.remove(),N=!0,M.logSSRSplashScreenRemoved())}}function oa(a){x()&&(a.style["content-visibility"]=""),a.style.visibility="",a.style.display="",k||M.logSSRUnhideRoot(),k=!0}function pa(a){var b=ha++;S.set(b,a);return{release:function(){S["delete"](b)}}}function qa(a,b){p=!0;a&&(M=d("CometSSRLogger").initLogger(a),d("CometSSRHydrationHelpers").initHydrationHelperTraceAPIObj(a),Y(v,a));var c=b.onAllPayloadsInjected,e=b.onFirstPayloadInjected,f=b.onPayloadInjected;R=G(b);M.logSSRPayloadQueued(t.length===0);while(t.length>0&&y()){a=t.shift();a!=null&&H(a)}K.on("FIRSTPAYLOADINJECTED",function(a){e==null?void 0:e(a);!N&&((a=h)==null?void 0:a.gks.comet_ssr_unhide_early)&&(X(),M.logSSRPageVisibleAfterFirstPayload())});K.on("PAYLOADINJECTED",function(a){f==null?void 0:f(a,function(){return X()}),U()});K.on("ALLPAYLOADSINJECTED",function(a){X();c==null?void 0:c(a.status);if(!a)return;M.logPayloadReceivedFromInlineInjector(a);M.logSSRInjection(a.status==="INJECTED");a.status==="INJECTED"?a.processedPayloads&&a.processedPayloads.forEach(function(a){a=a.id;a&&M.logSSRShown(a)}):(V==null?void 0:V(),Z());U()})}function Y(a,b){if(a==null)return;b.onComplete(function(){b.addMetadata("ssr_root_node_visible",a.style.display!=="none"),b.addMetadata("ssr_total_page_element_count",document.querySelectorAll("*").length),b.addMetadata("ssr_splash_screen_removed_on_complete",N===!0)})}function Z(){Q=Q===null||Q==="unknown"?"ssr_disabled":Q}function $(a){c("gkx")("23415")&&c("jestOnlyViolation")("Encountered error during server rendering: "+a+"! See slog for error details. (client rendering prevented since comet_ssr_fatal_on_error is enabled)","comet_infra")}function ra(a,b,c){u.push({error:b,errorInfo:c,message:a});U();return}function sa(a){if(A())return;if(h==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");var b=r[w];if(b==null){c("FBLogger")("comet_ssr").warn("Error finding the corresponding render pass status.");return}b.debug==null?b.debug={readyPreloaders:[],wallTime:a}:b.debug.wallTime=a;U()}function ta(a){if(A())return;if(h==null)return c("FBLogger")("comet_ssr").mustfix("Fizz init did NOT run");a.length>0&&s.push(a);U()}window.__SSRFailJestOnError=$;g.logQPLPoint=C;g.onViewportGuessValidation=a;g.onPayloadReceived=b;g.ssrInit=f;g.eventEmitter=K;g.isInCrawlerMode=L;g.onSSRError=da;g.onSSRFailJestOnError=ea;g.injectOnSSRErrorHandlerDefaultOnWindow=fa;g.__getDebugState=ia;g.onForceHydration=ja;g.maybeInitTimerForCaaRegistrationWelcomeScreen=ka;g.__onDebugStateChange=pa;g.initFizz=qa;g.initTraceOnCompleteTracker=Y;g.logIgnoredHydrationError=ra;g.updateSSRRequestTime=sa;g.updateSampleProfile=ta}),98);
__d("CometSSRForceHydrationContainer.react",["CometSSRMergedContentInjector","ReactDOM","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=i.createContext(0);function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=k(0),e=c[0],f=c[1],g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){d("CometSSRMergedContentInjector").onForceHydration(function(){d("ReactDOM").flushSync(function(){f(1)})})},g=[],b[0]=c,b[1]=g):(c=b[0],g=b[1]);j(c,g);b[2]!==a||b[3]!==e?(c=i.jsx(l.Provider,{value:e,children:a}),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("CometSettingsDropdownLoadingState.react",["fbt","BaseDivider.react","FDSCard.react","FDSListCellGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={divider:{marginTop:"xdj266r",marginEnd:"xktsk01",marginBottom:"xat24cr",marginStart:"x1d52u69",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.iconSize;a=a.shouldShowSimpleDropdownHeader;e=e===void 0?"large":e;a=a===void 0?!1:a;var f,g,i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1ok221b"},g=h._(/*BTDS*/"__JHASH__ZmV7RuEynfV__JHASH__"),i={className:"x1jx94hy x1qpq9i9 xdney7k xu5ydu1 xt3gfkd x8ii3r7 x9f619 x6ikm8r x10wlt62"},b[0]=f,b[1]=g,b[2]=i):(f=b[0],g=b[1],i=b[2]);b[3]!==e||b[4]!==a?(f=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx("div",babelHelpers["extends"]({"aria-label":g},i,{role:"status",children:a===!0?j.jsxs("div",babelHelpers["extends"]({className:"x1cvmir6"},{children:[j.jsx("div",babelHelpers["extends"]({className:"x14vqqas xktsk01 x1yztbdb x1d52u69"},{children:j.jsxs(c("FDSCard.react"),{dropShadow:2,children:[j.jsx("div",babelHelpers["extends"]({className:"xw7yly9 xq8finb x1e56ztr x16n37ib"},{children:j.jsx(c("FDSListCellGlimmer.react"),{imageSize:36,imageStyle:"circle",numberOfItems:1,paddingHorizontal:0})})),j.jsx(c("BaseDivider.react"),{xstyle:k.divider}),j.jsx("div",babelHelpers["extends"]({className:"xw7yly9 xq8finb xod5an3 x16n37ib"},{children:j.jsx(c("FDSListCellGlimmer.react"),{numberOfItems:1,paddingHorizontal:0})}))]})})),j.jsx(c("FDSListCellGlimmer.react"),{imageSize:36,imageStyle:"circle",numberOfItems:5,removeFirstItemPadding:!1}),j.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo x11i5rnm x1e56ztr x1mh8g0r"},{children:j.jsx(c("FDSListCellGlimmer.react"),{numberOfItems:1,removeFirstItemPadding:!1})}))]})):j.jsxs("div",babelHelpers["extends"]({className:"x1y1aw1k x4uap5 xwib8y2 xkhd6sd x1cvmir6"},{children:[j.jsx(c("FDSListCellGlimmer.react"),{imageSize:e==="large"?60:36,imageStyle:"circle",numberOfItems:e==="large"?1:2}),j.jsx(c("FDSListCellGlimmer.react"),{imageSize:36,imageStyle:"circle",numberOfItems:6})]}))}))})),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("WebTimeSpentNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1829321");b=d("FalcoLoggerInternal").create("web_time_spent_navigation",a);e=b;g["default"]=e}),98);
__d("CometTimeSpentNavigationLogger",["Banzai","CometTimeSpentBitArrayLogger","CometTimeSpentNavigation","ConstUriUtils","Env","WebSession","WebTimeSpentNavigationFalcoEvent","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1;function j(a){c("WebTimeSpentNavigationFalcoEvent").logImmediately(function(){return{cause:a.cause,custom_data_json:JSON.stringify(a.extra_data),dest_path:a.dest_path,sid_raw:a.sid_raw,source_path:a.source_path}})}function k(a,b,e){d("WebSession").extend();if(!i||c("isInIframe")())return;if((a==null?void 0:a.should_remove_navigation)===!0&&(b==null?void 0:b.should_remove_navigation)===!0)return;var f={cause:e,extra_data:{},sid_raw:d("WebSession").getId()};a&&((a==null?void 0:a.should_remove_navigation)===!0?(f.source_path=null,f.cause="load"):(f.source_path=a.name,Object.entries(a.extraData).forEach(function(a){var b=a[0];a=a[1];return f.extra_data["source_"+b]=a})));b&&((b==null?void 0:b.should_remove_navigation)===!0?(f.dest_path=null,f.cause="unload"):(f.dest_path=b.name,Object.entries(b.extraData).forEach(function(a){var b=a[0];a=a[1];return f.extra_data["dest_"+b]=a})));(h||(h=c("Env"))).isCometOnMobile===!0&&(f.extra_data.comet_on_mobile="1");j(f)}function l(){var a=c("CometTimeSpentNavigation").getPathInfo();if(!a)return;a=babelHelpers["extends"]({},a,{extraData:babelHelpers["extends"]({},a.extraData,{referrer:document.referrer,subdomain:(a=d("ConstUriUtils").getUri(document.location.href))==null?void 0:a.subdomain})});k(c("CometTimeSpentNavigation").getSourcePathInfo(),a,"load")}function m(){k(c("CometTimeSpentNavigation").getPathInfo(),null,"unload"),i=!1}function n(a,b){k(a,b,"transition")}function o(a){var b=a.sourcePathInfo;a=a.destPathInfo;if(!i||!b||!a)return;d("CometTimeSpentBitArrayLogger").changeEndpoint(a==null?void 0:a.name);n(b,a)}function a(a,b,d){b===void 0&&(b=null),i=!0,c("CometTimeSpentNavigation").changePath(a,d,b),l(),c("CometTimeSpentNavigation").listenToPathChange(o),c("Banzai").subscribe(c("Banzai").SHUTDOWN,m)}g.init=a}),98);
__d("CometToasterRoot.react",["CometErrorBoundary.react","CometLazyToasterView_DO_NOT_USE.react","react","recoverableViolation","useHideNotificationsToasts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k=new Set(["CometToastNotification"]);function l(a){c("recoverableViolation")("The toaster is broken","CometAppShell",{error:a})}function a(a){var b=a.align,d=a.maxWidth,e=a.position,f=c("useHideNotificationsToasts")();return j(function(){return i.jsx(c("CometErrorBoundary.react"),{onError:l,children:i.jsx(c("CometLazyToasterView_DO_NOT_USE.react"),{align:b,filterToasts:f===!0?k:null,maxWidth:d,position:e})})},[b,f,d])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTopNavLogoWithBackButton.react",["fbt","ix","CometLoggedInFacebookLogo.react","FDSCircleButton.react","FDSTooltip.react","Locale","fbicon","react","react-compiler-runtime","stylex","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m=d("Locale").isRTL(),n=40,o={backButton:{start:"x10ja8i0",opacity:"x1hc1fzr",position:"x10l6tqk",transform:"xcd74o5",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"xbxq160",$$css:!0},backButtonHidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},backButtonVisibleLTR:{transform:"xtzu7as",$$css:!0},backButtonVisibleRTL:{transform:"x61iya9",$$css:!0},logo:{opacity:"x1hc1fzr",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"xbxq160",$$css:!0},logoHidden:{opacity:"xg01cxk",pointerEvents:"x47corl",$$css:!0},logoWithBackButtonLTR:{transform:"xtzu7as",$$css:!0},logoWithBackButtonRTL:{transform:"x61iya9",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__mq0TtI3_EPy__JHASH__"),b[0]=e):e=b[0];b[1]!==a?(e=l.jsx(c("FDSTooltip.react"),{position:"below",tooltip:e,children:a}),b[1]=a,b[2]=e):e=b[2];return e}function q(a){a=a.children;c("vulture")("7UO8Nsbqndw");return a}function a(a){var b=d("react-compiler-runtime").c(30),e=a.logoHidden,f=a.logoWithShadow,g=a.onPressBackButton,k=a.shouldUseCloseButton;a=a.showBackButton;e=e===void 0?!1:e;f=f===void 0?!1:f;k=k===void 0?!1:k;a=a===void 0?!1:a;c("vulture")("Ts52lcbqmT");var r=k?p:q,s;b[0]!==a?(s=(j||(j=c("stylex"))).props([o.backButton,a?m?o.backButtonVisibleRTL:o.backButtonVisibleLTR:o.backButtonHidden]),b[0]=a,b[1]=s):s=b[1];var t=!a,u=k?"white":"primary",v=!a,w;b[2]!==k?(w=k?d("fbicon")._(i("478233"),20):m?d("fbicon")._(i("514454"),20):d("fbicon")._(i("512647"),20),b[2]=k,b[3]=w):w=b[3];var x;b[4]!==k?(x=k?h._(/*BTDS*/"__JHASH__a_qj__uOTBG__JHASH__"):h._(/*BTDS*/"__JHASH__PS-q9pFoZzf__JHASH__"),b[4]=k,b[5]=x):x=b[5];k=k?"dark-overlay":void 0;var y;b[6]!==g||b[7]!==x||b[8]!==k||b[9]!==t||b[10]!==u||b[11]!==v||b[12]!==w?(y=l.jsx(c("FDSCircleButton.react"),{"aria-hidden":t,color_DEPRECATED:u,disabled:v,icon:w,label:x,onPress:g,size:n,testid:void 0,type_DEPRECATED:k}),b[6]=g,b[7]=x,b[8]=k,b[9]=t,b[10]=u,b[11]=v,b[12]=w,b[13]=y):y=b[13];b[14]!==r||b[15]!==y?(g=l.jsx(r,{children:y}),b[14]=r,b[15]=y,b[16]=g):g=b[16];b[17]!==g||b[18]!==s?(x=l.jsx("div",babelHelpers["extends"]({},s,{children:g})),b[17]=g,b[18]=s,b[19]=x):x=b[19];k=e&&o.logoHidden;t=a&&(m?o.logoWithBackButtonRTL:o.logoWithBackButtonLTR);b[20]!==k||b[21]!==t?(u=[o.logo,k,t],b[20]=k,b[21]=t,b[22]=u):u=b[22];b[23]!==e||b[24]!==f||b[25]!==u?(v=l.jsx(c("CometLoggedInFacebookLogo.react"),{"aria-hidden":e,withShadow:f,xstyle:u}),b[23]=e,b[24]=f,b[25]=u,b[26]=v):v=b[26];b[27]!==x||b[28]!==v?(w=l.jsxs(l.Fragment,{children:[x,v]}),b[27]=x,b[28]=v,b[29]=w):w=b[29];return w}g["default"]=a}),226);
__d("HostnameRewriter",["ConstUriUtils","Env","URI","isFacebookURI"],(function(a,b,c,d,e,f,g){var h,i,j=function(a){return String(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},k=null,l=null,m=new RegExp("facebook\\.com$"),n=new RegExp("^www\\.(|.*\\.)facebook\\.com$"),o=null,p="facebook.com",q=null,r=new RegExp("fbcdn\\.net$"),s=new RegExp("^www\\."),t=new RegExp("(^|\\.)(facebook\\.com|workplace\\.com)$","i");function u(){k=null;var a="(^|\\.)";o=a+j(p)+"$";l=null}function v(){if(o==null)return null;if(k)return k;k=new RegExp(o,"i");return k}function w(){if(l)return l;l=new RegExp("(^|\\.)("+j(p)+"|facebook\\.com)$","i");return l}function x(a){if(w().test(a)&&p!=null)return a.replace(m,p);else if(q!=null&&a!==null)return a.replace(r,q);return a}function y(a){return n.test(a)?a.replace(s,"web."):a}function z(a){return function(b){b=new(h||(h=c("URI")))(b);b.setDomain(a(b.getDomain()));return b}}function A(a,b){p=a,q=b,u(),c("isFacebookURI").setRegex(v()),(h||(h=c("URI"))).registerFilter(z(x)),d("ConstUriUtils").registerDomainFilter(x)}function a(a,b){p=a,(h||(h=c("URI"))).registerFilter(z(y))}function b(){var a=(i||(i=c("Env"))).hostnameRewriterConfig;if(a==null)return;switch(a.site){case"onion":A(a.inboundName,a.cdnDomainName);break}}function e(){c("isFacebookURI").setRegex(t)}g.registerFacebookOverTorFilters=A;g.registerInternetDotOrgFilters=a;g.maybeRegisterFilters=b;g.treatWorkplaceAsFacebookURI=e}),98);
__d("WebImmediateActiveSecondsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843988");b=d("FalcoLoggerInternal").create("web_immediate_active_seconds",a);e=b;g["default"]=e}),98);
__d("TimeSpentImmediateActiveSecondsLoggerComet",["CometTimeSpentNavigation","ImmediateActiveSecondsConfig","WebImmediateActiveSecondsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=0;function i(a){if(c("ImmediateActiveSecondsConfig").sampling_rate<=0)return!1;a=Math.floor(a/1e3)%c("ImmediateActiveSecondsConfig").sampling_rate;return a===c("ImmediateActiveSecondsConfig").ias_bucket}function a(a){if(a>=h&&a-h<1e3)return;var b=i(a);if(b){var d=c("CometTimeSpentNavigation").getPathInfo();c("WebImmediateActiveSecondsFalcoEvent").logImmediately(function(){return{activity_time_ms:a,last_activity_time_ms:h,script_path:d?d.name:""}})}h=Math.floor(a/1e3)*1e3}g.maybeReportActiveSecond=a}),98);
__d("cometFBBaseCSS",["cx"],(function(a,b,c,d,e,f,g,h){"use strict"}),34);
__d("initCometTimeSpentLogger",["CometTimeSpentBitArrayLoggerUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h={fullscreenchange:["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]},i=!1;function j(){var a;k("click",(a=d("CometTimeSpentBitArrayLoggerUpdater")).updateTimeSpentArrayWithCurrentTimestamp,a.LISTENER_OPTIONS);k("focus",a.updateTimeSpentArrayWithCurrentTimestamp,a.LISTENER_OPTIONS);k("keydown",a.updateTimeSpentArrayWithCurrentTimestamp,a.LISTENER_OPTIONS);k("mousemove",a.updateTimeSpentArrayThrottled,a.LISTENER_OPTIONS);k("scroll",a.updateTimeSpentArrayThrottled,a.LISTENER_OPTIONS);return null}function k(a,b,c){var d;d=(d=h[a])!=null?d:a;window.addEventListener(d,b,c)}function a(){i!==!0&&(j(),i=!0)}g["default"]=a}),98);
__d("initCometPlatformWebPage",["CometClientConsistency","CometErrorSystem","CometPixelRatioDetector","CometTimeSpentBitArrayLogger","CometTimeSpentNavigationLogger","CometVisitationManager","FBLogger","HostnameRewriter","WebPerformanceDeviceInfo","cr:1033","cr:11192","cr:1132918","cr:2654","cr:4001","cr:7941","cr:866","initCometTimeSpentLogger","justknobx","requireDeferred","shouldUseNonReactTSListeners"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("CometBrowserDimensionsLogger").__setRef("initCometPlatformWebPage"),i=c("requireDeferred")("CometChromeDome").__setRef("initCometPlatformWebPage");function a(a,e,f){var g=e.disableTimeSpentLogging,j=e.productAttribution,k=e.timeSpentMetadata;e=e.timeSpentRoute;d("CometErrorSystem").init(a);if(!((a=f==null?void 0:f.disableDevTools)!=null?a:!1)){b("cr:2654")&&b("cr:2654").init({connectFromIFrame:(a=f==null?void 0:f.connectFromIFrame)!=null?a:!1})}b("cr:4001")&&b("cr:4001")();i.onReady(function(a){return a.init()});d("WebPerformanceDeviceInfo").initWebDevicePerfLoggingPassive();h.onReady(function(a){return a.init()});c("CometClientConsistency").init();d("CometPixelRatioDetector").initDetecting();g!==!0&&(d("CometVisitationManager").init(e.tracePolicy),d("CometTimeSpentNavigationLogger").init(e,k,j),d("CometTimeSpentBitArrayLogger").init(e.tracePolicy),c("shouldUseNonReactTSListeners")&&c("initCometTimeSpentLogger")());b("cr:866")&&b("cr:866")();b("cr:1132918")&&b("cr:1132918").handleServerErrors();b("cr:1033").onReady(function(a){return a.attach()});b("cr:7941")==null?void 0:b("cr:7941").onReady(function(a){return a()});b("cr:11192")&&b("cr:11192").init();d("HostnameRewriter").maybeRegisterFilters();c("justknobx")._("1849")&&window.addEventListener("DOMContentLoaded",function(){document.getElementById("has-finished-comet-page")==null&&c("FBLogger")("comet_infra").warn("Comet page did not finish loading correctly.")})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSPresenceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,ACTIVE:2});f["default"]=a}),66);
__d("MWBaseTheme",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};f.empty=c}),66);
__d("MWPMessageListColumn.react",["react","react-compiler-runtime","react-strict-dom","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:a==null?null:"x1f5funs",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(13),c=a.bubble,e=a.centered,f=a.children,g=a.grow,h=a.justifyContent,k=a.paint,l=a.profile,m=a.selfCentered,n=a.shrinkwrap;a=a.withGutters;g=g===!0?j.grow:!1;n=n===!0?j.shrinkwrap:!1;k=k===!0?j.paint:!1;l=l===!0?j.profile:!1;a=a===!0?j.withGutters:!1;c=c===!0?j.bubble:!1;e=e===!0?j.centered:!1;m=m===!0?j.selfCentered:!1;h=h==="flex-start"?j.justifyContentStart:!1;var o;b[0]!==g||b[1]!==n||b[2]!==k||b[3]!==l||b[4]!==a||b[5]!==c||b[6]!==e||b[7]!==m||b[8]!==h?(o=[j.root,g,n,k,l,a,c,e,m,h],b[0]=g,b[1]=n,b[2]=k,b[3]=l,b[4]=a,b[5]=c,b[6]=e,b[7]=m,b[8]=h,b[9]=o):o=b[9];b[10]!==f||b[11]!==o?(g=i.jsx(d("react-strict-dom").html.div,{role:"none",style:o,children:f}),b[10]=f,b[11]=o,b[12]=g):g=b[12];return g}function a(a){var b=d("react-compiler-runtime").c(4),c=a.children,e=a.grow;a=a.shrinkwrap;e=e!=null?e:!1;a=a!=null?a:!1;var f;b[0]!==c||b[1]!==e||b[2]!==a?(f=i.jsx(k,{grow:e,paint:!0,shrinkwrap:a,withGutters:!0,children:c}),b[0]=c,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function b(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.selfCentered;a=a!=null?a:!1;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k,{paint:!0,profile:!0,selfCentered:a,shrinkwrap:!0,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function e(a){var b=d("react-compiler-runtime").c(4),c=a.children,e=a.paint;a=a.profile;e=e!=null?e:!0;a=a!=null?a:!1;var f;b[0]!==c||b[1]!==e||b[2]!==a?(f=i.jsx(k,{paint:e,profile:a,selfCentered:!0,shrinkwrap:!0,children:c}),b[0]=c,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function f(a){var b=d("react-compiler-runtime").c(4),c=a.centered,e=a.children;a=a.paint;c=c!=null?c:!1;a=a!=null?a:!0;var f;b[0]!==e||b[1]!==c||b[2]!==a?(f=i.jsx(k,{centered:c,paint:a,shrinkwrap:!0,children:e}),b[0]=e,b[1]=c,b[2]=a,b[3]=f):f=b[3];return f}function l(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.paint;a=a===void 0?!0:a;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k,{grow:!0,paint:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function m(a){var b=d("react-compiler-runtime").c(2);a=a.children;var c;b[0]!==a?(c=i.jsx(k,{grow:!0,justifyContent:"flex-start",paint:!0,children:a}),b[0]=a,b[1]=c):c=b[1];return c}function n(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.paint;c("vulture")("3GBApTsbqvN");var f;b[0]!==e||b[1]!==a?(f=i.jsx(k,{bubble:!0,paint:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function o(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(d("react-strict-dom").html.div,{role:"none",style:j.spacer}),a[0]=b):b=a[0];return b}function p(a){var b=d("react-compiler-runtime").c(4);a=a.height;var c;b[0]!==a?(c=j.customHeight(a),b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.vr,c]}),b[2]=c,b[3]=a):a=b[3];return a}g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnSelfCentered=e;g.MWPMessageListColumnShrinkwrap=f;g.MWPMessageListColumnGrow=l;g.MWPMessageListColumnGrowJustified=m;g.MWPMessageListColumnBubble=n;g.MWPMessageListColumnHorizontalSpacer=o;g.MWPMessageListColumnVerticalRhythm=p}),98);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{filter:"x4xejrh",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;b=(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a&&!d("IGDWebUtils").isOnInstagramWeb();return b?j.deemphasize:null}g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","react-compiler-runtime","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.domElementRef;a=a.focusCellOnRender;var g=a===void 0?!1:a;a=c("useMAWEditMessageData")();var i=a!=null;a=c("useMWPEditMessageDeemphasizer")();var n=l(null),o,p;b[0]!==g?(o=function(){if(g){var a;(a=n.current)==null?void 0:a.focus();(a=n.current)==null?void 0:a.scrollIntoView()}},p=[g],b[0]=g,b[1]=o,b[2]=p):(o=b[1],p=b[2]);k(o,p);b[3]!==a?(o=(h||(h=c("stylex"))).props(a),b[3]=a,b[4]=o):o=b[4];b[5]!==e||b[6]!==i?(p=j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.row,b?m.rowFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:n,role:"gridcell",tabIndex:i?-1:0,children:[e,j.jsx(c("MWEditMessageOverlay.react"),{})]}))}})}),b[5]=e,b[6]=i,b[7]=p):p=b[7];b[8]!==f||b[9]!==o||b[10]!==p?(a=j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",babelHelpers["extends"]({},o,{ref:f,role:"row",children:p}))}),b[8]=f,b[9]=o,b[10]=p,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("MWXMessageBubbleCornerStyles.react",[],(function(a,b,c,d,e,f,g){"use strict";var h={flatBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},flatTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},rounded:{borderTopStartRadius:"xp5s12f",borderTopEndRadius:"x11ucwad",borderBottomEndRadius:"xgtuqic",borderBottomStartRadius:"x155c047",$$css:!0}},i={connectBottom:{borderBottomStartRadius:"x10y3i5r",$$css:!0},connectTop:{borderTopStartRadius:"x1lcm9me",$$css:!0}},j={connectBottom:{borderBottomEndRadius:"xrt01vj",$$css:!0},connectTop:{borderTopEndRadius:"x1yr5g0i",$$css:!0}};function a(a){var b,c,d,e;b=(b=a==null?void 0:a.align)!=null?b:"left";c=(c=a==null?void 0:a.connectBottom)!=null?c:!1;d=(d=a==null?void 0:a.connectTop)!=null?d:!1;e=(e=a==null?void 0:a.flatten)!=null?e:"none";a=(a=a==null?void 0:a.corners)!=null?a:"round";b=b==="right"?j:i;return[a==="round"&&h.rounded,d&&b.connectTop,c&&b.connectBottom,(e==="all"||e==="bottom")&&h.flatBottom,(e==="all"||e==="top")&&h.flatTop]}g.getMWXBubbleCornerStyles=a}),98);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("XPlatReactEnvironment").isWeb(),k={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},l={bubble:{color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingStart:"x12xxe5f",paddingEnd:"x1szedp3",paddingLeft:null,paddingRight:null,position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleOutline:{outline:"x1k4qllp",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},n={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderEndColor:"x154zaqr",borderBottomColor:"x12z03op",borderStartColor:"xyhp3ou",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x12lizq0",borderEndWidth:"xf766zg",borderBottomWidth:"x1ybe9c6",borderStartWidth:"x1ts5dru",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},o={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderEndColor:"x1lmq8lz",borderBottomColor:"xrrpcnn",borderStartColor:"x1xtl47e",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x19livfd",borderEndWidth:"x2t687o",borderBottomWidth:"x3p3xfz",borderStartWidth:"x5od304",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),c=a.align,e=a.children,f=a.color,g=a.connectBottom,h=a.connectTop,p=a.xmaLayout,q=a.xstyle,r=a.precedesXMA,s=a.testid,t=a.variant;a=a.isBackgroundTransparent;p=p===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:p;p=p!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&r===!0;r=p?"bottom":"none";var u;b[0]!==c||b[1]!==g||b[2]!==h||b[3]!==r?(u=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:c,connectBottom:g,connectTop:h,flatten:r}),b[0]=c,b[1]=g,b[2]=h,b[3]=r,b[4]=u):u=b[4];c=u;g=f==="incoming"?m:f==="outgoing"?n:o;h=p&&j&&k.precedes_xma_web;b[5]!==h?(r=[l.clip,h],b[5]=h,b[6]=r):r=b[6];f=(u=s)!=null?u:"solid-message-bubble";h=a!==!0&&l.bubbleOutline;s=p&&k.precedes_xma;u=p&&j&&k.precedes_xma_web;a=t==="opaque"&&g.opaque;b[7]!==g.background||b[8]!==c||b[9]!==a||b[10]!==h||b[11]!==s||b[12]!==u||b[13]!==q?(p=[l.bubble,h,j&&l.bubbleWeb,s,u,g.background,a,c,q],b[7]=g.background,b[8]=c,b[9]=a,b[10]=h,b[11]=s,b[12]=u,b[13]=q,b[14]=p):p=b[14];b[15]!==e||b[16]!==p||b[17]!==f?(t=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:p,children:e}),b[15]=e,b[16]=p,b[17]=f,b[18]=t):t=b[18];b[19]!==t||b[20]!==r?(g=i.jsx(d("react-strict-dom").html.div,{style:r,children:t}),b[19]=t,b[20]=r,b[21]=g):g=b[21];return g}g["default"]=a}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSSolidMessageBubble.react")}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometOverlappingFacepile_DEPRECATED.react","CometScreenReaderText.react","FBLogger","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","MWXMessageBubble.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","getLSMediaContactProfilePictureUrl","isEmpty","justknobx","react","react-compiler-runtime","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n,o=n||(n=d("react"));e=n;var p=e.useEffect,q=e.useMemo,r=e.useState,s=1e4,t=28,u={accessibilityText:{borderBottomColor:"xnezbuk",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},accessibilityTextTransparent:{borderBottomColor:"x16stqrj",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function v(a,b){a=a==null?void 0:a.nickname;return a!=null?a:(a=b.firstName)!=null?a:b.name}function w(a,b){var e=d("react-compiler-runtime").c(13),g=b===void 0?!1:b,h=(i||(i=c("useReStore")))();e[0]!==g||e[1]!==h.tables.contacts||e[2]!==h.tables.participants||e[3]!==h.tables.presence_states||e[4]!==h.tables.typing_indicator||e[5]!==a?(b=function(){return d("ReQL").fromTableAscending(h.tables.typing_indicator).getKeyRange(a).filter(x).map(function(b){var e=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.tables.presence_states).getKeyRange(b.senderId),f.id+":117");if(!g||e!=null&&(l||(l=d("I64"))).equal(e.status,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPresenceStatus").ACTIVE))){e=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.tables.participants).getKeyRange(a,b.senderId),f.id+":135");var i=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.tables.contacts).getKeyRange(b.senderId),f.id+":142");if(i!=null)return[e,i,b]}}).filter(Boolean).take(3)},e[0]=g,e[1]=h.tables.contacts,e[2]=h.tables.participants,e[3]=h.tables.presence_states,e[4]=h.tables.typing_indicator,e[5]=a,e[6]=b):b=e[6];var j;e[7]!==g||e[8]!==h||e[9]!==a?(j=[h,a,g],e[7]=g,e[8]=h,e[9]=a,e[10]=j):j=e[10];b=d("ReQLSuspense").useArray(b,j,f.id+":106");e[11]!==b?(j=b.filter(Boolean),e[11]=b,e[12]=j):j=e[12];return j}function x(a){return d("ServerTime").getMillis()<(l||(l=d("I64"))).to_float(a.expirationTimestampMs)}function y(a){return q(function(){if((j||(j=c("isEmpty")))(a))return"";var b=a[0],d=b[0],e=b[1];b[2];b=a.slice(1);return(j||(j=c("isEmpty")))(b)?h._(/*BTDS*/"__JHASH__Tbm_Qb_Y-B5__JHASH__",[h._param("The participants name",v(d,e))]):h._(/*BTDS*/"__JHASH__YLfbVFP1cLb__JHASH__")},[a])}function a(a){var b=d("react-compiler-runtime").c(7),e=a.length>0,f;b[0]!==e||b[1]!==a?(f=e?a.reduce(z,0):0,b[0]=e,b[1]=a,b[2]=f):f=b[2];var g=f;a=r(g>d("ServerTime").getMillis());f=a[0];var h=a[1],i;b[3]!==e||b[4]!==g?(a=function(){if(e){h(g>d("ServerTime").getMillis());var a=g-d("ServerTime").getMillis(),b=c("setTimeout")(function(){return h(!1)},a);return function(){c("clearTimeout")(b)}}},i=[g,h,e],b[3]=e,b[4]=g,b[5]=a,b[6]=i):(a=b[5],i=b[6]);p(a,i);return e&&f}function z(a,b){b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))}function A(a){var b=d("react-compiler-runtime").c(27),e=a.containerStyle,f=a.customTypingIndicatorComponent,g=a.facepileSize,h=a.isBackgroundTransparent,i=a.isMessageListColumnProfile,j=a.messageBubbleStyle,l=a.setIsParentTypingIndicatorVisible,m=a.threadType;a=a.typingParticipants;h=h===void 0?!1:h;var n=a.reduce(C,0),q;b[0]!==n?(q=function(){return n>d("ServerTime").getMillis()},b[0]=n,b[1]=q):q=b[1];q=r(q);var v=q[0],w=q[1],x;b[2]!==n?(q=function(){w(function(){return n>d("ServerTime").getMillis()});var a=n-d("ServerTime").getMillis();a>s&&(c("FBLogger")("messenger_typing_indicator").warn("Typing indicator is delaying for too long: %s ms",a),c("justknobx")._("2976")&&(a=s));var b=c("setTimeout")(function(){return w(!1)},a);return function(){c("clearTimeout")(b)}},x=[n,w],b[2]=n,b[3]=q,b[4]=x):(q=b[3],x=b[4]);p(q,x);if(v){l!=null&&l(!0);b[5]!==e?(q=(k||(k=c("stylex"))).props(u.root,e),b[5]=e,b[6]=q):q=b[6];x=!h;e=(v=i)!=null?v:!0;b[7]!==a?(i=a.map(B),b[7]=a,b[8]=i):i=b[8];a=(v=g)!=null?v:t;b[9]!==i||b[10]!==a?(g=o.jsx(c("CometOverlappingFacepile_DEPRECATED.react"),{items:i,size:a}),b[9]=i,b[10]=a,b[11]=g):g=b[11];b[12]!==g||b[13]!==x||b[14]!==e?(v=o.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnSelfCentered,{paint:x,profile:e,children:g}),b[12]=g,b[13]=x,b[14]=e,b[15]=v):v=b[15];b[16]!==f||b[17]!==m?(i=f?f:o.jsx(c("MWChatTypingIndicator.react"),{threadType:m}),b[16]=f,b[17]=m,b[18]=i):i=b[18];b[19]!==h||b[20]!==j||b[21]!==i?(a=o.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,isBackgroundTransparent:h,precedesXMA:!1,xstyle:j,children:i}),b[19]=h,b[20]=j,b[21]=i,b[22]=a):a=b[22];b[23]!==v||b[24]!==a||b[25]!==q?(g=o.jsxs("div",babelHelpers["extends"]({"aria-hidden":!0},q,{children:[v,a]})),b[23]=v,b[24]=a,b[25]=q,b[26]=g):g=b[26];return g}else{l!=null&&l(!1);return null}}function B(a){a=a[1];return{source:{uri:c("getLSMediaContactProfilePictureUrl")(a)}}}function C(a,b){b=b[2];return Math.max(a,(l||(l=d("I64"))).to_float(b.expirationTimestampMs))}function b(a){var b=d("react-compiler-runtime").c(24),e=a.checkPresenceSettings,f=a.containerStyle,g=a.customTypingIndicatorComponent,h=a.facepileSize,i=a.isBackgroundTransparent,j=a.isMessageListColumnProfile,l=a.messageBubbleStyle,m=a.setIsParentTypingIndicatorVisible,n=a.theme,p=a.threadKey;a=a.threadType;e=e===void 0?!1:e;h=h===void 0?t:h;i=i===void 0?!1:i;j=j===void 0?!0:j;n=n||d("MWBaseTheme").empty;p=w(p,e);e=y(p);if(p.length<=0){m!=null&&m(!1);return null}var q=!i,r;b[0]!==i?(r=(k||(k=c("stylex"))).props(i?u.accessibilityTextTransparent:u.accessibilityText),b[0]=i,b[1]=r):r=b[1];var s;b[2]!==e?(s=o.jsx(c("CometScreenReaderText.react"),{text:e}),b[2]=e,b[3]=s):s=b[3];b[4]!==r||b[5]!==s?(e=o.jsx("div",babelHelpers["extends"]({"aria-live":"polite"},r,{children:s})),b[4]=r,b[5]=s,b[6]=e):e=b[6];b[7]!==f||b[8]!==g||b[9]!==h||b[10]!==i||b[11]!==j||b[12]!==l||b[13]!==m||b[14]!==a||b[15]!==p?(r=o.jsx(A,{containerStyle:f,customTypingIndicatorComponent:g,facepileSize:h,isBackgroundTransparent:i,isMessageListColumnProfile:j,messageBubbleStyle:l,setIsParentTypingIndicatorVisible:m,threadType:a,typingParticipants:p}),b[7]=f,b[8]=g,b[9]=h,b[10]=i,b[11]=j,b[12]=l,b[13]=m,b[14]=a,b[15]=p,b[16]=r):r=b[16];b[17]!==q||b[18]!==e||b[19]!==r?(s=o.jsx(c("MWV2MessageRowSimple.react"),{children:o.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:q,children:[e,r]})}),b[17]=q,b[18]=e,b[19]=r,b[20]=s):s=b[20];b[21]!==s||b[22]!==n?(f=o.jsx(c("BaseTheme.react"),{config:n,role:"grid",children:s}),b[21]=s,b[22]=n,b[23]=f):f=b[23];return f}e=d("withCometPlaceholder").withCometPlaceholder(b,null,"MWPTypingIndicators");g.useTypingParticipants=w;g.useAccessibilityText=y;g.useShouldShowTypingIndicator=a;g.MWPTypingIndicators=e}),226);
__d("CSFBChatTypingIndicators.react",["MWPTypingIndicators.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),c=a.threadKey;a=a.threadType;var e;b[0]!==c||b[1]!==a?(e=i.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:c,threadType:a}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometContainerPressable.react",["CometContainerPressableContext","ReactHoverEvent.react","ReactPressEvent.react","react","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=a.children,e=a.disabled;e=e===void 0?!1:e;var f=a.forwardedRef,g=a.preventDefault,i=g===void 0?!1:g;g=a.tagName;g=g===void 0?"div":g;var p=a.testOnly_pressed;p=p===void 0?!1:p;a=a.xstyle;var q=m(p),r=q[0];q=q[1];var s=m(!1),t=s[0];s=s[1];var u=m(function(){return new Map()}),v=u[0];u=m(null);var w=u[0],x=u[1];u=l(null);d("ReactHoverEvent.react").useHover(u,{disabled:e,onHoverChange:s});d("ReactPressEvent.react").usePress(u,{disabled:e,onPressChange:q});s=function(a){var b=n(v);i&&a.preventDefault();a.button===2?b.onContextMenu(a):b.onPress(a)};q=function(a){var b=n(v);b.onContextMenu(a)};var y=k(function(){return{onMount:function(a,b){v.set(b,a),a.url!=null&&x([a.url,a.target])},onUnmount:function(a){v["delete"](a),x(null)}}},[v]),z=j.jsx("div",babelHelpers["extends"]({"aria-hidden":"true"},{className:"x1ey2m1c x9f619 x1ypdohk xds687c x17qophe x10l6tqk x13vifvy"},{"data-pressable-container":!0,onClick:s,onContextMenu:q,ref:u}));if(w!=null){var A=w[0];w=w[1];z=j.jsx("a",babelHelpers["extends"]({"aria-hidden":"true","aria-label":"ignore this"},{className:"x1ey2m1c x9f619 x1ypdohk xds687c x17qophe x10l6tqk x13vifvy"},{href:A,onClick:s,onContextMenu:q,ref:u,tabIndex:-1,target:w}))}return j.jsxs(g,babelHelpers["extends"]({},(h||(h=c("stylex"))).props(o.container,typeof a==="function"?a({disabled:e,focused:!1,focusVisible:!1,hovered:t,pressed:p||r}):a),{ref:f,children:[j.jsx(c("CometContainerPressableContext").Provider,{value:y,children:typeof b==="function"?b({disabled:e,focused:!1,focusVisible:!1,hovered:t,pressed:p||r}):b}),z]}))}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=Array.from(a.keys())[0];a=b&&a.get(b);if(!a)throw c("unrecoverableViolation")(p,"comet_ui");return a}var o={container:{display:"x78zum5",position:"x1n2onr6",zIndex:"x1ja2u2z",":not([disabled]) .x1ja2u2z_zIndex":"x12lw8ci",":not([disabled]) .x1nhjfyr_zIndex":"xvntqv7",":not([disabled]) .xlt5f95_zIndex":"x1prgb3j",$$css:!0}},p="CometContainerPressable clicked when it doesn't exactly one target pressable within";g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","EventCometCardImage_prefetchEventImage.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidthrelayprovider:b("CometFeedStoryDynamicResolutionPhotoAttachmentRenderer_experimentWidth.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__EventCometCardImage_prefetchEventImagerelayprovider:b("EventCometCardImage_prefetchEventImage.relayprovider")}}};e.exports=a}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={adminActivityID:c,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("firstx",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;return d}h(0,1145)}g["default"]=a}),98);
__d("LRUKeyedExpiringCache",["invariant","DateConsts","firstx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=15,j=1e3;a=function(){function a(a,b,c){b===void 0&&(b=j),c===void 0&&(c=i),this.$5=new Map(),b>0||h(0,18721),this.$1=b,this.$4=a,this.$2=c}var b=a.prototype;b.$6=function(){clearTimeout(this.$3);if(this.$2<=0)return;this.$3=setTimeout(this.$7.bind(this),this.$2*d("DateConsts").SEC_PER_MIN*d("DateConsts").MS_PER_SEC)};b.$7=function(){var a=this,b=Array.from(this.$5.keys());b.forEach(function(b){var c=a.$5.get(b);if(c==null)return;!c.hasBeenAccessed?a.$5["delete"](b):c.hasBeenAccessed=!1});this.$5.size>0&&this.$6()};b.get=function(a){a=this.$4(a);var b=this.$5.get(a);if(b==null)return void 0;b.hasBeenAccessed=!0;this.$5["delete"](a);this.$5.set(a,b);return b.data};b.set=function(a,b){this.$5.size===0&&this.$6();a=this.$4(a);this.$5["delete"](a);var d=!1;if(this.$1<=this.$5.size&&this.$5.size>0){var e=c("firstx")(this.$5.keys());this.$5["delete"](e);d=!0}this.$5.set(a,{data:b,hasBeenAccessed:!0});return d};b.size=function(){return this.$5.size};b.clear=function(){this.$5.clear(),clearTimeout(this.$3)};b.getCacheSnapshot_DEBUG=function(){return new Map(this.$5)};return a}();g["default"]=a}),98);
__d("LSContactReachabilityStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({REACHABLE:0,UNREACHABLE_USER_TYPE:1,UNREACHABLE_ADULT_TYPE:2,REACHABLE_INVITE_BANNER:3,UNREACHABLE_INVITE_BLOCK:4,UNREACHABLE_INTEROP_THIRD_PARTY_USER:5,UNREACHABLE_INTEROP_USER_OPT_OUT:6,UNREACHABLE_INTEROP_THIRD_PARTY_APP_NOT_SUPPORTED:7,UNREACHABLE_INTEROP_USER_REMOVED_THIRD_PARTY_APP:8,UNREACHABLE_NULL_INTEROP_USER:9,UNREACHABLE_MR_LIMIT_BLOCK:10,UNREACHABLE_RS_UPSELL_ELIGIBLE:11,REACHABLE_INVITE_MODEL_TEXT_ONLY:12,REACHABLE_INVITE_MODEL_TEXT_ONLY_AND_BANNER:13,UNREACHABLE_INVITE_MODEL_BLOCK_COMPOSER:14});f["default"]=a}),66);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.forEach(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[1]=d[5])})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",a[0]),d[3].set("message_id",a[1]),d[3].set("reaction_fbid",a[2]),d[3].set("cursor",a[3]),d[3].set("sync_group",d[1]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure";a.__tables__=["reactions_v2_details_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueReactionsV2DetailsUsersListFetch"),e.threadId,e.messageId,e.reactionFbid,e.nextPageCursor);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMoveThreadToInboxAndUpdateParent",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({folderName:"inbox",parentThreadKey:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMoveThreadToInboxAndUpdateParentStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMuteCallsFromThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("mailbox_type",a[1]),d[2].set("mute_calls_expire_time_ms",a[2]),d[2].set("request_id",a[3]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,229]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMuteCallsFromThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMuteCallsFromThreadStoredProcedure",["LSMuteCallsFromThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMuteCallsFromThread"),e.threadKey,e.mailboxType,e.muteCallsExpireTimeMs,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticMuteThread",["LSIssueNewTaskWithExtraOperationsAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({muteExpireTimeMs:a[2]})})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,144]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[0],threadKey:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMuteThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticMuteThreadStoredProcedure",["LSOptimisticMuteThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticMuteThread"),e.threadKey,e.mailboxType,e.muteExpireTimeMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRemoveParticipantFromThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(14).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[1])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxRemoveParticipantFromThreadStoredProcedure";a.__tables__=["participants"];e.exports=a}),null);
__d("LSOptimisticRemoveParticipantsFromGroupThread",["LSArrayGetObjectAt","LSIssueNewError","LSIssueNewTaskWithExtraOperations","LSRemoveParticipantFromThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=c.i64.of_int32(a[1].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[1]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[1],d[1]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=c.i64.cast([0,1]):(b=a.item,d[13]=b.syncGroup,c.i64.neq(d[13],void 0)?d[12]=d[13]:d[12]=c.i64.cast([0,1]),d[4]=d[12])})},function(e){return c.storedProcedure(b("LSRemoveParticipantFromThread"),a[0],d[2])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[6]=c.i64.cast([0,1]):(b=a.item,d[13]=b.syncGroup,c.i64.neq(d[13],void 0)?d[12]=d[13]:d[12]=c.i64.cast([0,1]),d[6]=d[12])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[8]=!1:(b=a.item,d[8]=b.errorShouldBeShown)})},function(a){return d[8]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[12]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[13]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[12],d[13],void 0,void 0)}]):c.resolve()},function(e){return d[10]=new c.Map(),d[10].set("thread_id",a[0]),d[10].set("contact_id",d[2]),d[10].set("sync_group",d[6]),d[11]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"remove_participant_v2",c.i64.cast([0,140]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])}):c.resolve()},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure";a.__tables__=["threads","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure",["LSOptimisticRemoveParticipantsFromGroupThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticRemoveParticipantsFromGroupThread"),e.threadKey,e.contactIds);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticUnarchiveThread",["LSIssueNewError","LSIssueNewTask","LSMoveThreadToInboxAndUpdateParent"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?0:(e.item,c.sequence([function(d){return c.storedProcedure(b("LSMoveThreadToInboxAndUpdateParent"),a[0],c.i64.cast([0,0]))},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[7]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[6],d[7],void 0,void 0)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_id",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"unarchive_thread",c.i64.cast([0,242]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUnarchiveThreadStoredProcedure";a.__tables__=["threads","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSOptimisticUnarchiveThreadStoredProcedure",["LSOptimisticUnarchiveThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticUnarchiveThread"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MDSPinMessageIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{clipRule:"evenodd",d:"M21.3905 21.9975C21.1611 21.9975 20.9611 22.1536 20.9054 22.3762L19.2424 29.0265C18.9197 30.319 17.0805 30.3185 16.7577 29.0265L15.0947 22.3762C15.039 22.1536 14.839 21.9975 14.6096 21.9975H10.1675C9.21767 21.9975 8.68955 20.933 9.19619 20.1815C9.61488 19.5605 10.7291 18.1525 12.7846 17.1415C13.0959 16.9885 13.2942 16.6755 13.3207 16.33C13.4196 15.046 13.6545 12.991 13.7564 11.669C13.7849 11.3 13.606 10.945 13.2912 10.751C12.1855 10.0695 11.526 9.2765 11.2157 8.837C10.6741 8.07 11.2122 7 12.163 7H23.8376C24.7879 7 25.3255 8.0705 24.7844 8.837C24.4741 9.2765 23.8141 10.0695 22.7089 10.751C22.3941 10.945 22.2158 11.3 22.2437 11.669C22.3457 12.991 22.5805 15.046 22.6794 16.33C22.7059 16.6755 22.9048 16.9885 23.216 17.1415C25.2711 18.1525 26.3853 19.5605 26.8039 20.1815C27.3101 20.933 26.783 21.9975 25.8327 21.9975H21.3905Z",fillRule:"evenodd"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWGetInboxNavigateQPLEventTrace",["I64","InteractionTracing","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=c("qpl")._(29818882,"2410"),f=c("InteractionTracing").getPendingInteractions();for(var f=f,g=Array.isArray(f),i=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j,k;if(g){if(i>=f.length)break;k=f[i++]}else{i=f.next();if(i.done)break;k=i.value}k=k;if(((j=k.getTrace())==null?void 0:j.qplEvent)===e){((j=k.getTrace())==null?void 0:(j=j.annotations.string)==null?void 0:j.thread_id)===(h||(h=d("I64"))).to_string(a)&&b(k)}}}g["default"]=a}),98);
__d("MWBlockedComposerLogging",["$InternalEnum","Int64Hooks","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWLSThreadDisplayContext","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({USER_BLOCKED_CANNOT_MESSAGE:"user_blocked_cannot_message",USER_BLOCKED_CANNOT_REPLY:"user_blocked_cannot_reply",USER_RESTRICTED:"user_restricted",GAMING_GAME_BOT:"gaming_game_bot",GAMING_GET_STARTED_CTA:"gaming_get_started_cta",FEATURE_LIMITED_TO_READONLY:"feature_limited_to_readonly",PAGE_THREAD_DISABLED:"page_thread_disabled",USER_BLOCKED:"user_blocked",USER_UNREACHABLE:"user_unreachable",ARMADILLO_THREAD_ALREADY_CUTOVER:"thread_already_cutover",ARMADILLO_GROUP_THREAD_CUTOVER:"cutover_group_thread",ARMADILLO_DEFAULT_E2EE_ONE_TO_ONE_BLOCK:"default_e2ee_one_to_one_block",ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:"receiver_non_addressable_on_wa",ARMADILLO_DUAL_THREAD_CUTOVER:"dual_thread_cutover",NOT_BLOCKED:"not_blocked",ON_DEMAND_CUTOVER:"on_demand_cutover"});function i(a,b){var c=a.getTrace();c=[].concat((c=c==null?void 0:(c=c.annotations.string_array)==null?void 0:c.blockedReasons)!=null?c:[],[b]);a.addAnnotationStringArray("blockedReasons",c);a.addMarkerPoint("composer_blocked_start","AppTiming")}function a(a,b){var e=d("react-compiler-runtime").c(7),f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g;e[0]!==b||e[1]!==a?(g=function(){if(a==null||b===h.NOT_BLOCKED)return;c("MWGetChatTabOpenQPLEventTrace")(a,function(a){i(a,b)});c("MWGetInboxNavigateQPLEventTrace")(a,function(a){i(a,b)});return function(){c("MWGetChatTabOpenQPLEventTrace")(a,k),c("MWGetInboxNavigateQPLEventTrace")(a,j)}},e[0]=b,e[1]=a,e[2]=g):g=e[2];var l;e[3]!==f||e[4]!==b||e[5]!==a?(l=[f,b,a],e[3]=f,e[4]=b,e[5]=a,e[6]=l):l=e[6];d("Int64Hooks").useEffectInt64(g,l)}function j(a){a.addMarkerPoint("composer_blocked_end","AppTiming")}function k(a){a.addMarkerPoint("composer_blocked_end","AppTiming")}g.ComposerBlockingReason=h;g.useLogMWBlockedComposerReason=a}),98);
__d("MWCMLinkShare.react",["fbt","C4gEngagementFalcoEvent","CommunityMessagingEnableState","I64","LSIntEnum","LSThreadBitOffset","MWCMThreadTypes.react","URI","XGroupsC4GThreadViewControllerRouteBuilder","react","react-compiler-runtime","useCommunityFolder","useCopyText","useMWXPushToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo;function o(a){var b=a.children,e=a.folder;a=a.thread;var f=(l||(l=d("I64"))).to_string(e.fbGroupId),g=l.to_string(e.folderId),j=l.to_string(a.threadKey),k=c("useMWXPushToast")();e=n(function(){return new(i||(i=c("URI")))(c("XGroupsC4GThreadViewControllerRouteBuilder").buildURL({idorvanity:f,thread_id:j})).setDomain("www.facebook.com").toString()},[f,j]);a=c("useCopyText")({value:e});a[0];e=a[1];var m=a[2];a=function(){m(),c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",community_id:g,event:"thread_user_copy_invite_link",group_id:f,source:"copy_link",surface:"thread_settings",thread_id:j}}),k({body:h._(/*BTDS*/"__JHASH__NNt0oNKP6tq__JHASH__")})};return b(e,a)}o.displayName=o.name+" [from "+f.id+"]";function p(a){return(l||(l=d("I64"))).equal((a=a)!=null?a:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED))}function a(a){var b=c("useCommunityFolder")(a);a=d("LSThreadBitOffset").has(108,a);bb0:{if(b!=null&&a){a=!p(b.enableState);break bb0}a=!1}return a}function b(a){var b=d("react-compiler-runtime").c(4),e=a.children;a=a.thread;var f=c("useCommunityFolder")(a),g=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType);g=d("LSThreadBitOffset").has(108,a)||g;if(f!=null&&g){b[0]!==e||b[1]!==f||b[2]!==a?(g=m.jsx(o,{folder:f,thread:a,children:e}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}return null}g.useShouldShowInviteLink=a;g.MWCMLinkShare=b}),226);
__d("MessengerSurfaceType",[],(function(a,b,c,d,e,f){"use strict";a="MESSENGER";b="WORK_QUIKCHAT";c="WORK_CHAT";d="WORKROOMS";e="WORKROOMS_IN_CALL";var g="WORK_MEETINGS_IN_CALL",h="OTHER";f.messenger=a;f.workQuickchat=b;f.workChat=c;f.workrooms=d;f.workroomsInCall=e;f.workMeetingsInCall=g;f.other=h}),66);
__d("MWCMLogMuteDuration.react",["C4gEngagementFalcoEvent","I64","MWCMGetValidId","MessengerSurfaceType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b;return{"1_hour":(b=a.oneHour)!=null?b:"0","15_min":(b=a.fifteenMin)!=null?b:"0","24_hour":(b=a.twentyFourHour)!=null?b:"0","8_hour":(b=a.eightHour)!=null?b:"0",until_i_turn_it_back_on:(b=a.always)!=null?b:"0"}}function j(a){switch(a){case 9e5:return i({fifteenMin:"1"});case 36e5:return i({oneHour:"1"});case 288e5:return i({eightHour:"1"});case 864e5:return i({twentyFourHour:"1"});case-1:return i({always:"1"});default:return i({})}}function a(a){var b=a.groupId,e=a.threadKey,f=a.communityId,g=a.eventType,i=a.surface,k=i===void 0?String(d("MessengerSurfaceType").messenger):i,l=a.source;i=a.duration;a=a.clientExtras;a=a===void 0?{}:a;var m=i===0||i==null?a:babelHelpers["extends"]({},a,j(i));return c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",client_extras:m,community_id:f==null?null:(h||(h=d("I64"))).to_string(f),event:g,group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(b)?(h||(h=d("I64"))).to_string(b):null,source:l,surface:k,thread_id:e==null?null:(h||(h=d("I64"))).to_string(e)}})}g.log=a}),98);
__d("MWCMShortLinkShare.react",["fbt","C4gEngagementFalcoEvent","I64","MWCMLinkShare.react","MetaConfig","ReQL","ReQLSuspense","react","react-compiler-runtime","useCommunityFolder","useCopyText","useMWXPushToast","useReStore","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react");function m(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.communityId,g=a.groupId,i=a.threadKey;a=a.url;var j;b[0]!==a?(j={value:a},b[0]=a,b[1]=j):j=b[1];a=c("useCopyText")(j);j=a[1];var k=a[2],l=c("useMWXPushToast")();b[2]!==f||b[3]!==g||b[4]!==k||b[5]!==l||b[6]!==i?(a=function(){k(),c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",community_id:f,event:"thread_user_copy_invite_link",group_id:g,source:"copy_link",surface:"thread_settings",thread_id:i}}),l({body:h._(/*BTDS*/"__JHASH__eNXhBWlfP6b__JHASH__")})},b[2]=f,b[3]=g,b[4]=k,b[5]=l,b[6]=i,b[7]=a):a=b[7];a=a;var m;b[8]!==e||b[9]!==a||b[10]!==j?(m=e(j,a),b[8]=e,b[9]=a,b[10]=j,b[11]=m):m=b[11];return m}function n(a){var b=d("react-compiler-runtime").c(9),e=a.children;a=a.folder;c("vulture")("389NAWB3Qph");var f=a.inviteLink,g;b[0]!==a.fbGroupId?(g=(k||(k=d("I64"))).to_string(a.fbGroupId),b[0]=a.fbGroupId,b[1]=g):g=b[1];g=g;var h;b[2]!==a.folderId?(h=(k||(k=d("I64"))).to_string(a.folderId),b[2]=a.folderId,b[3]=h):h=b[3];a=h;if(f==null)return null;b[4]!==e||b[5]!==a||b[6]!==g||b[7]!==f?(h=l.jsx(m,{children:e,communityId:a,groupId:g,url:f}),b[4]=e,b[5]=a,b[6]=g,b[7]=f,b[8]=h):h=b[8];return h}function o(a){var b=d("react-compiler-runtime").c(3);c("vulture")("8qBBa7NynFI");var e=c("useCommunityFolder")(a.thread),f;b[0]!==e||b[1]!==a?(f=e?l.jsx(p,babelHelpers["extends"]({},a,{folder:e})):null,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function p(a){var b=d("react-compiler-runtime").c(13),e=a.folder,g=a.children,h=a.thread,j=(i||(i=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.tables.threads,["threadInviteLink","threadInvitesEnabledV2"]).getKeyRange(h.threadKey)},[j,h.threadKey],f.id+":121"))!=null?a:{};var n=a.threadInviteLink;a=a.threadInvitesEnabledV2;var o;b[0]!==a?(o=a!=null&&(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(1)),b[0]=a,b[1]=o):o=b[1];a=o;b[2]!==e.fbGroupId?(o=(k||(k=d("I64"))).to_string(e.fbGroupId),b[2]=e.fbGroupId,b[3]=o):o=b[3];o=o;var p;b[4]!==e.folderId?(p=(k||(k=d("I64"))).to_string(e.folderId),b[4]=e.folderId,b[5]=p):p=b[5];e=p;b[6]!==g||b[7]!==e||b[8]!==o||b[9]!==a||b[10]!==h||b[11]!==n?(p=a&&n!=null&&n!==""&&c("MetaConfig")._("63")?l.jsx(m,{children:g,communityId:e,groupId:o,url:n}):l.jsx(d("MWCMLinkShare.react").MWCMLinkShare,{children:g,thread:h}),b[6]=g,b[7]=e,b[8]=o,b[9]=a,b[10]=h,b[11]=n,b[12]=p):p=b[12];return p}function a(a){var b=d("react-compiler-runtime").c(7),c=a.children,e=a.folder;a=a.thread;if(a==null&&e!=null){var f;b[0]!==c||b[1]!==e?(f=l.jsx(n,{children:c,folder:e}),b[0]=c,b[1]=e,b[2]=f):f=b[2];return f}if(a!=null){b[3]!==c||b[4]!==e||b[5]!==a?(f=e!=null?l.jsx(p,{children:c,folder:e,thread:a}):l.jsx(o,{children:c,thread:a}),b[3]=c,b[4]=e,b[5]=a,b[6]=f):f=b[6];return f}return null}g["default"]=a}),226);
__d("MWChatIsMessageRequest",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!=null)if(a==="pending")return!0;else if(a==="other")return!c("CurrentUser").isWorkUser();else return!1;else return!1}g.fn=a}),98);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("ReQL").fromTableAscending(a.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})}g["default"]=a}),98);
__d("getRTCCallStateOfLSRTCCallState",["FBLogger","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===2?!0:a===8}function a(a,b){switch(a){case c("LSRtcCallState").AUDIO_1TO1_CALL:return"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_1TO1_CALL:return"VIDEO_1TO1_CALL";case c("LSRtcCallState").NO_ONGOING_CALL:return"NO_ONGOING_CALL";case c("LSRtcCallState").AUDIO_GROUP_CALL:return h(b)?"AUDIO_GROUP_CALL":"AUDIO_1TO1_CALL";case c("LSRtcCallState").VIDEO_GROUP_CALL:return h(b)?"VIDEO_GROUP_CALL":"VIDEO_1TO1_CALL";default:c("FBLogger")("messenger_web_calling").mustfix("Unknown RTCCallState: %sL and threadType %sL",a,b);return"NO_ONGOING_CALL"}}g["default"]=a}),98);
__d("useMWLSGetOngoingCallState",["MWLSThread","MWThreadKey.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("MWLSThread").useThread(a,h)}function h(a){return a.ongoingCallState}g["default"]=a}),98);
__d("useRTWebOutgoingGroupCallDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef,j=c("JSResourceForInteraction")("RTWebCometOutgoingGroupCallContentLS.react").__setRef("useRTWebOutgoingGroupCallDialog");function a(){var a=d("react-compiler-runtime").c(2),b=i(!1),e=c("useMWXLazyDialog")(j),f=e[0];a[0]!==f?(e=function(a){b.current||(b.current=!0,f(a,function(){b.current=!1}))},a[0]=f,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useRTWebOutgoingUnsupportedBrowserDialog",["JSResourceForInteraction","react","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("JSResourceForInteraction")("RTWebOutgoingUnsupportedBrowserDialogWrapper.react").__setRef("useRTWebOutgoingUnsupportedBrowserDialog");function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometLazyDialog")(i),e=b[0];a[0]!==e?(b=function(a){e(a)},a[0]=e,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("useRTWebCometStartCallCallback",["Actor","RTWebPreCallHooks","react","react-compiler-runtime","useRTWebOutgoingGroupCallDialog","useRTWebOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;e=d("RTWebPreCallHooks").createInviteAndStartCallCallbackHook(a,b);function a(){var a=d("react-compiler-runtime").c(3),b=d("Actor").useActor(),e=b[0],f=c("useRTWebOutgoingGroupCallDialog")();a[0]!==f||a[1]!==e?(b=function(a,b){var c=a.thread;a=a.trigger;c=c.id;f({onCall:b,threadID:c,trigger:a,viewer:e})},a[0]=f,a[1]=e,a[2]=b):b=a[2];return b}function b(){var a=d("react-compiler-runtime").c(3),b=d("Actor").useActor(),e=b[0],f=c("useRTWebOutgoingUnsupportedBrowserDialog")();a[0]!==e||a[1]!==f?(b=function(a){a=a.thread;var b=a.id;a=a.type;f({actorID:e,threadID:b,threadType:a})},a[0]=e,a[1]=f,a[2]=b):b=a[2];return b}g["default"]=e}),98);
__d("MWLSStartPhoneCall",["$InternalEnum","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","MWPActor.react","MWThreadKey.react","Promise","ReQL","getMWLSOngoingCallServerInfoData","getRTCCallStateOfLSRTCCallState","promiseDone","react-compiler-runtime","recoverableViolation","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=b("$InternalEnum").Mirrored(["OngoingVideoCall","OngoingAudioCall"]);function a(){var a=d("react-compiler-runtime").c(10),e=(k||(k=c("useReStore")))(),f=c("useRTWebCometStartCallCallback")(),g=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),p=c("useMWLSGetOngoingCallState")(),q=d("MWPActor.react").useActor(),r,s;a[0]!==p||a[1]!==q||a[2]!==e||a[3]!==f||a[4]!==g?(r=function(a,k,l,r){var s=a?"video":"audio";c("promiseDone")((j||(j=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(g)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(g).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,q)}).map(o)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(g).map(n))]).then(function(a){var m=a[0],n=a[1],o=a[2];if(m==null){c("recoverableViolation")("Cannot find thread when trying to call someone","rtc_www");return}return d("ReQL").firstAsync(c("getMWLSOngoingCallServerInfoData")(e,g)).then(function(a){return(j||(j=b("Promise"))).resolve(f({existingCall:p!=null&&a!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((i||(i=d("LSIntEnum"))).unwrapIntEnum(p),(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),mediaType:s,representedID:r,thread:{e2eeThreadID:o==null?void 0:(h||(h=d("I64"))).to_string(o),id:k,secureOneToOneThreadPeerId:n!=null&&(h||(h=d("I64"))).equal(m.threadType,(i||(i=d("LSIntEnum"))).ofNumber(15))?n:void 0,type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(m.threadType)},trigger:l}))})}),void 0,m)},s=[q,f,g,e,p],a[0]=p,a[1]=q,a[2]=e,a[3]=f,a[4]=g,a[5]=r,a[6]=s):(r=a[5],s=a[6]);r=d("Int64Hooks").useCallbackInt64(r,s);s=void 0;p!=null&&(h||(h=d("I64"))).equal(p,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?s=l.OngoingAudioCall:p!=null&&(h||(h=d("I64"))).equal(p,(i||(i=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))&&(s=l.OngoingVideoCall);var t;a[7]!==s||a[8]!==r?(t=[r,s],a[7]=s,a[8]=r,a[9]=t):t=a[9];return t}function m(a){c("recoverableViolation")("Error making a phone call","rtc_www",{error:a.Error})}function n(a){return a.jid}function o(a){return(h||(h=d("I64"))).to_string(a.contactId)}g.useMakeRTCCall=a}),98);
__d("MWLSThreadCapabilities",["I64","LSBitOffset","LSIntEnum","LSThreadBitOffset","MWThreadKey.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(38),d("LSBitOffset").set(j.ofNumber(30),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(25),d("LSBitOffset").set(j.ofNumber(24),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(20),d("LSBitOffset").set(j.ofNumber(18),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(55),d("LSBitOffset").set(j.ofNumber(4),d("LSBitOffset").set(j.ofNumber(3),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").set(j.ofNumber(1),d("LSBitOffset").set(j.ofNumber(0),d("LSBitOffset").empty))))))))))))))))),l={capabilities:k,capabilities2:d("LSBitOffset").empty,capabilities3:d("LSBitOffset").empty,capabilities4:d("LSBitOffset").empty};function m(){var a=d("react-compiler-runtime").c(9),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoized(),g,i;a[0]!==b||a[1]!==e?(g=function(){return e!=null?d("ReQL").fromTableAscending(b.tables.threads,d("LSThreadBitOffset").threadCapabilityFields).getKeyRange(e):d("ReQL").empty()},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":132");if(g!=null){i=g.capabilities;var j=g.capabilities2,k=g.capabilities3;g=g.capabilities4;var m;a[4]!==i||a[5]!==j||a[6]!==k||a[7]!==g?(m={capabilities:i,capabilities2:j,capabilities3:k,capabilities4:g},a[4]=i,a[5]=j,a[6]=k,a[7]=g,a[8]=m):m=a[8];return m}return l}function n(a,b){a=(i||(i=d("I64"))).ge(a,(i||(i=d("I64"))).of_string("64"))?(i||(i=d("I64"))).mod_(a,(i||(i=d("I64"))).of_string("64")):a;a=(i||(i=d("I64"))).lsl_(i.one,i.to_int32(a));return i.equal(i.and_(b,a),a)}function a(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(88),a)}function b(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(172),a)}function e(a){a=a.capabilities4;return n((j||(j=d("LSIntEnum"))).ofNumber(238),a)}function o(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(7),a)}function p(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(9),a)}function q(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(6),a)}function r(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(35),a)}function s(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(24),a)}function t(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(25),a)}function u(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(27),a)}function v(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(60),a)}function w(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(32),a)}function x(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(95),a)}function y(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(19),a)}function z(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(85),a)}function A(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(108),a)}function B(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(74),a)}function C(){var a=d("react-compiler-runtime").c(2),b=m(),c;a[0]!==b?(c=v(b),a[0]=b,a[1]=c):c=a[1];return c}g.useCapabilities=m;g.canReportChatToAdmin=a;g.canPinMessage=b;g.canSwitchVoice=e;g.canCustomizeEmoji=o;g.canCustomizeNicknames=p;g.canCustomizeTheme=q;g.canCreateGroup=r;g.canRtcVideoCall=s;g.canRtcVoiceCall=t;g.canAddMember=u;g.canCustomizeThreadName=v;g.canIgnoreMessages=w;g.canSeeSharedLinks=x;g.canMuteThread=y;g.canRestrict=z;g.canCopyInviteLink=A;g.canDeleteThread=B;g.useCanCustomizeThreadNameCapability=C}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;b=20;c=3;d=9;e=180;var g=2;f.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=a;f.CM_MAX_REACTION_EMOJIS_ALLOWED=b;f.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=c;f.SPACING_PER_COUNT_CHARACTER=d;f.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=e;f.REACTION_BUTTON_BUBBLE_EASE_FACTOR=g}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,h))!=null?a:!1}function h(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef,s=m.useState,t=c("gkx")("24166")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=d("react-compiler-runtime").c(4),e=(i||(i=c("useReStore")))(),g,h;b[0]!==e.tables.reactions||b[1]!==a?(g=function(){if(a==null)return d("ReQL").empty();var b=a.messageId,c=a.threadKey;return d("ReQL").fromTableAscending(e.tables.reactions).getKeyRange(c,b).map(u)},h=[a,e.tables.reactions],b[0]=e.tables.reactions,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);b=p(d("ReQLSuspense").useArray(g,h,f.id+":64"));return b}function u(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:t,threadKey:a.threadKey,timestampMs:a.timestampMs}:a}function b(a){var b=d("react-compiler-runtime").c(8),e=(i||(i=c("useReStore")))(),g=a.messageId,h=a.threadKey;b[0]!==e.tables.reactions_v2||b[1]!==g||b[2]!==h?(a=function(){return d("ReQL").fromTableAscending(e.tables.reactions_v2).getKeyRange(h,g)},b[0]=e.tables.reactions_v2,b[1]=g,b[2]=h,b[3]=a):a=b[3];var j;b[4]!==e||b[5]!==g||b[6]!==h?(j=[e,h,g],b[4]=e,b[5]=g,b[6]=h,b[7]=j):j=b[7];b=d("ReQLSuspense").useArray(a,j,f.id+":91");return b}function e(a){var b=d("react-compiler-runtime").c(8),e=(i||(i=c("useReStore")))(),g=a.messageId,h=a.threadKey;b[0]!==e.tables.reactions_v2||b[1]!==g||b[2]!==h?(a=function(){return d("ReQL").fromTableAscending(e.tables.reactions_v2).getKeyRange(h,g).filter(v)},b[0]=e.tables.reactions_v2,b[1]=g,b[2]=h,b[3]=a):a=b[3];var j;b[4]!==e||b[5]!==g||b[6]!==h?(j=[e,h,g],b[4]=e,b[5]=g,b[6]=h,b[7]=j):j=b[7];b=d("ReQLSuspense").useArray(a,j,f.id+":105");return b}function v(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}function w(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._(/*BTDS*/"__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function x(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function y(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,t=g.messageId,u=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var v=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=s(!1);var A=a[0],B=a[1];a=function(){B(function(a){return!a})};var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(u),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(u),E=d("MWLSThread").useThread(u,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)}),F=D?d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,G=c("useIsReactionDialogEnabled")(u),H=r(new Map()),I=n(function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:u})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},[z,C,g.messageId,u]),J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(u,t).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":224");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[z,u,t,p],f.id+":218");d("MWReactionUtils").useSortReactionsForBroadcastChat(J,u);var K=Array.from(new Set(J.map(function(a){return(a=a.reactionLiteral)!=null?a:""})));E=D&&E===!0?K:K.slice(0,F);K=m!=null&&C?x(E):x(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,F));E=m!=null&&C?(j||(j=d("I64"))).to_int32(J.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;F=w(K,E);m=r(null);J=q(function(){return e!=null?e:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,C]);var L=q(function(){return{message:g,onLoadComplete:function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},thread:{threadKey:u}}},[g,u]),M=n(function(){y(function(){return!1}),v(function(){return!0})},[v,y]);J=c("useMWXLazyDialog")(J);var N=J[0],O=n(function(a){y(function(){return!0}),N(babelHelpers["extends"]({},L,{initialTab:a}),M),h==null?void 0:h(),I()},[L,M,h,y,N,I]);J={eventName:"open_message_reactions_dialog",threadKey:u};return D||!G?b(K,E,k,g,u,O,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":F,loggingEvent:J,onPress:function(){return O()},overlayDisabled:!0,ref:m,children:b(K,E,k,g,u,O,!1,c("emptyFunction"))})}y.displayName=y.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=y}),226);
__d("MWPinnedMessageRowFooterNUX.react",["fbt","MDSPinMessageIcon.react","MWLSThreadCapabilities","MWPMessageListColumn.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"__JHASH__UnoAJjMNsJN__JHASH__");function a(){var a=d("react-compiler-runtime").c(4),b=d("MWLSThreadCapabilities").useCapabilities(),e;a[0]!==b?(e=d("MWLSThreadCapabilities").canPinMessage(b),a[0]=b,a[1]=e):e=a[1];b=e;a[2]!==b?(e=b&&j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1q0g3np xr9ek0c"},{children:[j.jsx(c("MDSPinMessageIcon.react"),{color:"tertiary",size:16}),j.jsx("div",babelHelpers["extends"]({className:"x12mruv9"},{children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:k})}))]}))}),a[2]=b,a[3]=e):e=a[3];return e}g["default"]=a}),226);
__d("useMWSimpleNuxViewsCounter.react",["MWInboxPersistedUIState","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=3,k=24*60*60*1e3,l=function(a,b){return+new Date()<b+a},m=function(a){return l(k,a.lastViewDate)},n=function(a){return a.views>=j},o=function(a){return!!a&&!m(a)&&!n(a)},p=function(a){return{lastViewDate:+new Date(),views:a.views+1}},q={lastViewDate:0,views:0};function a(a,b,c){var e=d("react-compiler-runtime").c(8);a=d("MWInboxPersistedUIState").usePersistedUIState(q,"__MWSimpleNux."+a+"__");var f=a[0],g=a[1],h;e[0]!==f||e[1]!==c||e[2]!==g||e[3]!==b?(a=function(){if(!b||f===void 0)return;if(m(f))return;return function(){var a=p(f);n(a)?(g(void 0),c()):g(a)}},h=[b,c,f,g],e[0]=f,e[1]=c,e[2]=g,e[3]=b,e[4]=a,e[5]=h):(a=e[4],h=e[5]);i(a,h);e[6]!==f?(a=o(f),e[6]=f,e[7]=a):a=e[7];return a}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapper.react",["MWPinnedMessageRowFooterNUX.react","declareNUXRequireable","react","react-compiler-runtime","useMWSimpleNuxViewsCounter.react","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){function b(){var b=d("react-compiler-runtime").c(1),e=c("useSharedNUX")(a),f=e[0];e=e[1];e=e.onDismiss;e=c("useMWSimpleNuxViewsCounter.react")(a,f,e);if(f&&e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWPinnedMessageRowFooterNUX.react"),{}),b[0]=f):f=b[0];return f}return null}return b}b=c("declareNUXRequireable")(a);g["default"]=b}),98);
__d("logCallAttemptViaLocalhost",["MessengerDesktopDeeplinkEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.funnelSessionId;c("MessengerDesktopDeeplinkEventFalcoEvent").logImmediately(function(){return{event:"attempt_localhost_deeplink",eventLocation:"browser",eventType:"call",funnelSessionId:b,mobile_app_source:"unknown"}})}g["default"]=a}),98);
__d("MWStartRTCCallUtils",["$InternalEnum","I64","Int64Hooks","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatIsMessageRequest","MWPActor.react","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","ReQL","ReQLSuspense","ZenonRTWebBrowserFeatureSupport","gkx","isFeatureLimitEnabled","logCallAttemptViaLocalhost","promiseDone","react","react-compiler-runtime","useIsReadOnlyFeatureLimitedWithThreadType","useMWGetOtherUserContact","useReStore","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=j||d("react"),o=n.useCallback,p=n.useRef,q=b("$InternalEnum").Mirrored(["SECURE_VIDEO_UNSUPPORTED","SECURE_VOICE_UNSUPPORTED","VIDEO_SUPPORTED","VOICE_SUPPORTED","VIDEO_UNSUPPORTED","VOICE_UNSUPPORTED"]);function a(a){var e=p(c("uuidv4")()).current;return o(function(f,g,h){var j="/call?threadid="+g+"&isvideocall="+(f?1:0)+"&funnel_id="+e;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:e});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(b){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+b),a(f,g,h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),a(f,g,h)}).send()]))},[a,e])}function e(a,e,f){var g=p(c("uuidv4")()).current;return d("Int64Hooks").useCallbackInt64(function(h){var j=(k||(k=d("I64"))).to_string(a),l=e==="video"?1:0;j="/call?threadid="+j+"&isvideocall="+l+"&funnel_id="+g;(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");c("logCallAttemptViaLocalhost")({funnelSessionId:g});c("promiseDone")((i||(i=b("Promise"))).all([new(c("MessengerDesktopLocalServerRequest"))(j,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_loaded_successfully")}).setErrorHandler(function(a){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),f(h)}).setTimeoutHandler(function(){(m||(m=d("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),f(h)}).send()]))},[e,g,a,f])}function r(a,b,e){var f=d("react-compiler-runtime").c(12);a=u(a);var g,h=!1;if(a.length!==1)g=!1;else{var i,j=a[0];b=d("LSMessagingThreadTypeUtil").isOneToOne(b)&&j!=null&&!(k||(k=d("I64"))).equal(j.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(b){f[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[!1,!1],f[0]=b):b=f[0];return b}g=j!=null?(k||(k=d("I64"))).equal(j.contactType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;b=j!=null?(b=d("LSContactBitOffset").has(0,j))!=null?b:!0:!0;i=j!=null?(i=d("LSContactBitOffset").has(1,j))!=null?i:!0:!0;h=e&&j!=null&&j.blockedSinceTimestampMs==null&&!g&&(!b||!i)}if(!g){e=!h;j=!h;f[1]!==e||f[2]!==j?(b=[e,j],f[1]=e,f[2]=j,f[3]=b):b=f[3];return b}if(c("gkx")("23431")){f[4]!==a?(i=a.every(t),f[4]=a,f[5]=i):i=f[5];f[6]!==a?(g=a.every(s),f[6]=a,f[7]=g):g=f[7];f[8]!==i||f[9]!==g?(h=[i,g],f[8]=i,f[9]=g,f[10]=h):h=f[10];return h}f[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!1,!1],f[11]=e):e=f[11];return e}function s(a){return a==null?!0:d("LSContactBitOffset").has(16,a)}function t(a){return a==null?!0:d("LSContactBitOffset").has(17,a)}function u(a){var b=d("react-compiler-runtime").c(9),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i;b[0]!==g||b[1]!==e.tables.contacts||b[2]!==e.tables.participants||b[3]!==a?(i=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).take(2).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,g)}).map(function(a){return d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts,["contactType","blockedSinceTimestampMs","capabilities","capabilities2","blockedByViewerStatus"]).getKeyRange(a.contactId),f.id+":301")})},b[0]=g,b[1]=e.tables.contacts,b[2]=e.tables.participants,b[3]=a,b[4]=i):i=b[4];var j;b[5]!==g||b[6]!==e||b[7]!==a?(j=[e,a,g],b[5]=g,b[6]=e,b[7]=a,b[8]=j):j=b[8];return d("ReQLSuspense").useArray(i,j,f.id+":290")}function v(a){var b=d("react-compiler-runtime").c(22),e=a.folderName,g=a.threadKey,i=a.threadType,j=(h||(h=c("useReStore")))(),m=d("MWPActor.react").useActor(),n;b[0]!==j.tables.messages_ranges_v2__generated||b[1]!==g?(n=function(){return d("ReQL").fromTableDescending(j.tables.messages_ranges_v2__generated,["threadKey"]).getKeyRange(g)},b[0]=j.tables.messages_ranges_v2__generated,b[1]=g,b[2]=n):n=b[2];var o;b[3]!==j||b[4]!==g?(o=[j,g],b[3]=j,b[4]=g,b[5]=o):o=b[5];n=d("ReQLSuspense").useFirst(n,o,f.id+":322")!=null;b[6]!==m||b[7]!==j.tables.participants||b[8]!==g?(o=function(){return d("ReQL").fromTableAscending(j.tables.participants,["threadKey","contactId"]).getKeyRange(g,m)},b[6]=m,b[7]=j.tables.participants,b[8]=g,b[9]=o):o=b[9];var p;b[10]!==m||b[11]!==j||b[12]!==g?(p=[j,g,m],b[10]=m,b[11]=j,b[12]=g,b[13]=p):p=b[13];o=d("ReQLSuspense").useFirst(o,p,f.id+":331")!=null;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(p=["contactReachabilityStatusType"].concat(d("LSContactBitOffset").contactCapabilityFields),b[14]=p):p=b[14];p=c("useMWGetOtherUserContact")(g,i,p);var s=d("LSThreadBitOffset").has(25,a),t=d("LSThreadBitOffset").has(24,a),u;b[15]!==i?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i),b[15]=i,b[16]=u):u=b[16];u=u;var v=c("useIsReadOnlyFeatureLimitedWithThreadType")(i)&&(!u||c("isFeatureLimitEnabled")());a=r(g,a.threadType,u);var w=a[0];a=a[1];if(u&&(!d("ZenonRTWebBrowserFeatureSupport").isInsertableStreamsSupported()||!c("gkx")("23430"))){b[17]===Symbol["for"]("react.memo_cache_sentinel")?(u=[q.SECURE_VOICE_UNSUPPORTED,q.SECURE_VIDEO_UNSUPPORTED],b[17]=u):u=b[17];return u}u=(p==null?void 0:p.contactReachabilityStatusType)!=null?(k||(k=d("I64"))).equal(p.contactReachabilityStatusType,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE)):!0;var x=p!=null&&d("LSContactBitOffset").has(64,p)&&c("gkx")("7458");p=p==null&&(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(15));o=((k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(2))||(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(16)))&&o||(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(1))||(k||(k=d("I64"))).equal(i,(l||(l=d("LSIntEnum"))).ofNumber(15));i=d("MWChatIsMessageRequest").fn(e);e=!p&&!i&&n&&!v&&o&&u&&!x;if(e){p=w&&s?q.VOICE_SUPPORTED:q.VOICE_UNSUPPORTED;i=a&&t?q.VIDEO_SUPPORTED:q.VIDEO_UNSUPPORTED;b[18]!==p||b[19]!==i?(n=[p,i],b[18]=p,b[19]=i,b[20]=n):n=b[20];return n}b[21]===Symbol["for"]("react.memo_cache_sentinel")?(v=[q.VOICE_UNSUPPORTED,q.VIDEO_UNSUPPORTED],b[21]=v):v=b[21];return v}g.CanCallResult=q;g.useStartDesktopCall=a;g.useStartMessengerDesktopCall=e;g.useCanCall=v}),98);
__d("MWXComposerBanner.react",["CometAccessibilityAnnouncement.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={banner:{paddingBottom:"xjkvuk6",$$css:!0},block:{paddingBottom:"x1l90r2v",$$css:!0},button:{maxWidth:"x1va8c73",$$css:!0},composerRow:{marginBottom:"xmgb6t1",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmerButton:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6",height:"xxk0z11",marginTop:"x1xmf6yo",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x8182xy",width:"xvy4d1p",$$css:!0},glimmerButtonEmoji:{marginTop:"x1xmf6yo",marginEnd:"xwrv7xz",marginBottom:"xjpr12u",marginStart:"x12mruv9",$$css:!0},glimmerComposer:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",height:"xc9qbxq",marginTop:"xr9ek0c",marginEnd:"xwrv7xz",marginBottom:"xmgb6t1",marginStart:"x1mh8g0r",width:"xh8yej3",$$css:!0},loading:{borderTopWidth:"x972fbf",$$css:!0}};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(19),f=a.assertive,g=a.bodyText,h=a.buttons,l=a.headerText,m=a.loading,n=a.testid;a=a.variant;f=f===void 0?!1:f;m=m===void 0?!1:m;a=a===void 0?"block":a;var o=a==="banner"&&j.banner;a=a==="block"&&j.block;var p=m&&j.loading,q;e[0]!==o||e[1]!==a||e[2]!==p?(q=[j.container,o,a,p],e[0]=o,e[1]=a,e[2]=p,e[3]=q):q=e[3];e[4]!==m?(o=m===!0?i.jsx(c("MWXColumnItem.react"),{paddingVertical:0,children:i.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,children:[i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerButton})}),i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.composerRow,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmerComposer})}),i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmerButton,j.glimmerButtonEmoji]})})]})}):null,e[4]=m,e[5]=o):o=e[5];e[6]!==f||e[7]!==g||e[8]!==l?(a=l!=null||g!=null?i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("CometAccessibilityAnnouncement.react"),{assertive:f,isVisible:!0,children:i.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{headline:l,level:4,meta:g,textAlign:"center"})})})})}):null,e[6]=f,e[7]=g,e[8]=l,e[9]=a):a=e[9];e[10]!==h?(p=h?i.jsx(c("MWXRow.react"),{align:"center",spacing:8,children:Array.isArray(h)?h.map(k):i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.button,children:h},"button")}):null,e[10]=h,e[11]=p):p=e[11];e[12]!==b||e[13]!==p||e[14]!==q||e[15]!==o||e[16]!==a||e[17]!==n?(m=i.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:b,spacing:20,testid:void 0,xstyle:q,children:[o,a,p]}),e[12]=b,e[13]=p,e[14]=q,e[15]=o,e[16]=a,e[17]=n,e[18]=m):m=e[18];return m}function k(a,b){return i.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:j.button,children:i.jsx(c("MWXButton.react"),babelHelpers["extends"]({type:"secondary"},a))},b)}k.displayName=k.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("abstractMethod",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){h(0,1537,a,b)}g["default"]=a}),98);
__d("getLSContactHref",["CurrentEnvironment","I64","LSContactBlockedByViewerStatus","LSContactTypeExact","LSIntEnum","MWLSContactTypeExactUtils","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.blockedByViewerStatus,e=a.contactTypeExact,f=a.id;a=a.secondaryName;if((h||(h=d("I64"))).to_int32(b)===c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)return;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)))return;b=d("MWLSContactTypeExactUtils").isIgContact(e);return a!=null&&b?"https://www.instagram.com/"+a:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(h||(h=d("I64"))).to_string(f)}).toString()}g["default"]=a}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","react-compiler-runtime","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=d("react-compiler-runtime").c(10),g=(k||(k=c("useReStore")))(),l=c("useMWLSMarkThreadAsRead")(e,a.threadKey),m=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey);f[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"],f[0]=e):e=f[0];var n=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,e),o;f[1]!==n||f[2]!==g||f[3]!==m||f[4]!==l||f[5]!==a.authorityLevel||f[6]!==a.folderName||f[7]!==a.threadKey?(e=function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){l();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,a.threadKey,"useMAWMarkThreadAsRead",function(e,f){return a.folderName===c("MessagingFolderTag").SPAM||a.folderName===c("MessagingFolderTag").PENDING?(h||(h=b("Promise"))).resolve():d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,n&&d("MAWContactRelationshipType").getContactRelationshipType(n),n?d("LSContactUtils").isContactBlocked(n):!1,n?d("LSContactUtils").isContactRestricted(n):!1,void 0,m,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},o=[a.folderName,a.authorityLevel,a.threadKey,l,g,n,m],f[1]=n,f[2]=g,f[3]=m,f[4]=l,f[5]=a.authorityLevel,f[6]=a.folderName,f[7]=a.threadKey,f[8]=e,f[9]=o):(e=f[8],o=f[9]);return d("Int64Hooks").useCallbackInt64(e,o)}g["default"]=a}),98);
__d("useMAWPDeleteMessageForMe",["MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWJobDefinitions","MAWTimedJob","MessengerWebUXLogger","Promise","QPLUserFlow","Random","WAJobOrchestratorTypes","WebUserFlowLoggingDataContextProvider.react","promiseDone","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useContext;e.useMemo;function a(){var a=d("react-compiler-runtime").c(3),e=j(d("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),f=e.loggingDataRef,g=c("MessengerWebUXLogger").useInteractionLogger();a[0]!==g||a[1]!==f?(e=function(a,d){var e=[];d!=null?e.push.apply(e,d.messagesAndAttachments.map(k)):e.push(a);c("promiseDone")((h||(h=b("Promise"))).allSettled([e.map(function(a){return l(a,f,g)})]))},a[0]=g,a[1]=f,a[2]=e):e=a[2];a=e;return a}function k(a){return a.message}function l(a,b,e){var f=c("qpl")._(25308285,"2002"),g=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(f,{annotations:{string:{isEphemeralMessage:a.ephemeralDurationInSec!=null||a.ephemeralExpirationTs!=null?"true":"false",type:"secureDeleteMessageForMe"}},instanceKey:g});a=d("MAWDbMsg").toMsgId(a.messageId);if(a==null){c("QPLUserFlow").endFailure(f,"missing_msg_id",{instanceKey:g});return}return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a).then(function(a){if(a==null){e==null?void 0:e(babelHelpers["extends"]({},b.current,{eventName:"message_remove_failure",eventType:"backend",extraData:babelHelpers["extends"]({},b.current.extraData,{error:"missing_msg_id"})}));c("QPLUserFlow").endFailure(f,"missing_protocolMsgId",{instanceKey:g});return}return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.deleteMsgsForMe([a],{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION})).then(function(){e==null?void 0:e(babelHelpers["extends"]({},b.current,{eventName:"message_remove_success",eventType:"backend"})),c("QPLUserFlow").endSuccess(f,{instanceKey:g})})})}g["default"]=a}),98);
__d("useMWCMIsSenderAdModOrChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MWCMGetValidId","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g){var j=d("react-compiler-runtime").c(17),k=(i||(i=c("useReStore")))(),l,m;j[0]!==a||j[1]!==k||j[2]!==g||j[3]!==e?(l=function(){var i=function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWCMGetValidId").MWCMHasValidFbGroupId(a)&&(yield k.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:g,threadId:e})},"readwrite",void 0,void 0,f.id+":47"))});return function(){return i.apply(this,arguments)}}();c("promiseDone")(i())},m=[k,a,g,e],j[0]=a,j[1]=k,j[2]=g,j[3]=e,j[4]=l,j[5]=m):(l=j[4],m=j[5]);d("Int64Hooks").useEffectInt64(l,m);j[6]!==a||j[7]!==k||j[8]!==g?(l=function(){return a!=null?d("ReQL").fromTableAscending(k.tables.community_members.index("communityContact")).getKeyRange(a,g,c("pageID")):d("ReQL").empty()},m=[k,a,g],j[6]=a,j[7]=k,j[8]=g,j[9]=l,j[10]=m):(l=j[9],m=j[10]);l=d("ReQLSuspense").useFirst(l,m,f.id+":66");m=(l==null?void 0:l.isAdmin)==null?!1:l.isAdmin;var n=(l==null?void 0:l.isModerator)==null?!1:l.isModerator,o;j[11]!==l?(o=l!=null?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,l):!1,j[11]=l,j[12]=o):o=j[12];l=o;j[13]!==m||j[14]!==l||j[15]!==n?(o={isAdmin:m,isChatHost:l,isModerator:n},j[13]=m,j[14]=l,j[15]=n,j[16]=o):o=j[16];return o}g["default"]=a}),98);
__d("useMWChatUnmuteThread",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMuteCallsFromThreadStoredProcedure","LSOptimisticMuteThreadStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e=(i||(i=d("I64"))).zero,g;a[0]!==b?(g=function(a){(i||(i=d("I64"))).equal(a.muteExpireTimeMs,e)||c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticMuteThreadStoredProcedure")(c("LSFactory")(b),{mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),muteExpireTimeMs:(i||(i=d("I64"))).zero,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":36"));if(!(i||(i=d("I64"))).equal(a.muteCallsExpireTimeMs,e)){c("promiseDone")(b.runInTransaction(function(b){return c("LSMuteCallsFromThreadStoredProcedure")(c("LSFactory")(b),{mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),muteCallsExpireTimeMs:(i||(i=d("I64"))).zero,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":49"));return}},a[0]=b,a[1]=g):g=a[1];return g}g["default"]=a}),98);
__d("useMWLSUnarchiveThread",["LSFactory","LSOptimisticUnarchiveThreadStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticUnarchiveThreadStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite",void 0,void 0,f.id+":25"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("NullState404FailedLoading",["cr:2306"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2306")}),98);
__d("CometErrorRoot.react",["fbt","CometContentArea.react","CometLink.react","ConstUriUtils","FDSButton.react","FDSNullState.react","FDSText.react","InteractionTracingMetrics","NullState404FailedLoading","NullStateGeneral","NullStatePermissions","XCometHomeControllerRouteBuilder","XCometProfileReactivationControllerRouteBuilder","clearTimeout","cr:10677","gkx","hero-tracing-placeholder","qex","react","react-compiler-runtime","setTimeout","stylex","unrecoverableViolation","useCometRouterDispatcher","useRouteReferrer","useSetVideoShareDownstreamSignalTracking"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useEffect,n=e.useState,o={container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xvue9z","@media (max-width: 500px)_width":"x1ifrov1",$$css:!0},lo_container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xvue9z","@media (max-width: 990px)_width":"x12zc4pa",$$css:!0}},p=8460,q=6e3;function r(){var a=0,b=0;while(a===0)a=Math.random();while(b===0)b=Math.random();return Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*b)}function s(){return!!c("gkx")("8980")||!!c("qex")._("797")}function a(a){var e=d("react-compiler-runtime").c(44),f=a.overrideBackButtonComponent;a=a.routeProps;var g=c("gkx")("773");e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=g&&b("cr:10677")!==null&&s(),e[0]=g):g=e[0];g=g;var j=c("NullStateGeneral");(a==null?void 0:a.privacy)===!0&&(j=c("NullStatePermissions"));(a==null?void 0:a.fourZerofour)===!0&&(j=c("NullState404FailedLoading"));var v;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(v=c("XCometHomeControllerRouteBuilder").buildURL({}),e[1]=v):v=e[1];var w=v,x=c("useRouteReferrer")(),y=c("useCometRouterDispatcher")();e[2]!==y||e[3]!==(x==null?void 0:x.url)?(v=function(){((x==null?void 0:x.url)===""||(x==null?void 0:x.url)==null)&&c("gkx")("8453")?y==null?void 0:y.go(w,{}):y&&y.goBack&&y.goBack()},e[2]=y,e[3]=x==null?void 0:x.url,e[4]=v):v=e[4];x==null?void 0:x.url;v=v;c("useSetVideoShareDownstreamSignalTracking")(u);var z=l(d("hero-tracing-placeholder").HeroInteractionIDContext);z!=null&&c("InteractionTracingMetrics").addAnnotationInt(z,"isError",1);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx(c("FDSButton.react"),{label:h._(/*BTDS*/"__JHASH__nNZJp8LGg9-__JHASH__"),onPress:t,padding:"wide",size:"large"}),e[5]=z):z=e[5];z=z;if(e[6]===Symbol["for"]("react.memo_cache_sentinel")){var A;A=(A=d("ConstUriUtils").getUri("/help"))==null?void 0:(A=A.getQualifiedUri())==null?void 0:A.toString();e[6]=A}else A=e[6];A=A;if(A==null)throw c("unrecoverableViolation")("help URL was null","comet_infra");var B;if((a==null?void 0:a.isAdminViewingDeactivatedProfile)===!0){var C;e[7]===Symbol["for"]("react.memo_cache_sentinel")?(C=c("XCometProfileReactivationControllerRouteBuilder").buildURL({}),e[7]=C):C=e[7];C=C;var D;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"__JHASH__NK6FnSISf2B__JHASH__"),e[8]=D):D=e[8];e[9]!==C?(D=k.jsx(c("FDSButton.react"),{label:D,linkProps:{url:C},padding:"wide",size:"large"}),e[9]=C,e[10]=D):D=e[10];z=D;e[11]===Symbol["for"]("react.memo_cache_sentinel")?(C="x6s0dn4 x78zum5 xdt5ytf x9otpla",D="xw7yly9",e[11]=D,e[12]=C):(D=e[11],C=e[12]);e[13]===Symbol["for"]("react.memo_cache_sentinel")?(C=k.jsx("div",{className:C,children:k.jsx("div",{className:D,children:k.jsx(c("CometLink.react"),{href:w,target:"_blank",children:k.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink2",children:h._(/*BTDS*/"__JHASH__KRYnHqLgyWP__JHASH__")})})})}),e[13]=C):C=e[13];B=C}else if((a==null?void 0:a.fourZerofour)===!0||(a==null?void 0:a.privacy)===!0){e[14]===Symbol["for"]("react.memo_cache_sentinel")?(D=k.jsx(c("FDSButton.react"),{label:h._(/*BTDS*/"__JHASH__KRYnHqLgyWP__JHASH__"),linkProps:{url:w},padding:"wide",size:"large"}),e[14]=D):D=e[14];z=D;e[15]===Symbol["for"]("react.memo_cache_sentinel")?(C="x6s0dn4 x78zum5 xdt5ytf x9otpla",e[15]=C):C=e[15];e[16]!==v||e[17]!==f?(D=g?null:f!=null?f:k.jsx(c("CometLink.react"),{onClick:v,target:"_blank",children:k.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink2",children:h._(/*BTDS*/"__JHASH__NfCVWpfhCDL__JHASH__")})}),e[16]=v,e[17]=f,e[18]=D):D=e[18];e[19]===Symbol["for"]("react.memo_cache_sentinel")?(v="xw7yly9",e[19]=v):v=e[19];e[20]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:v,children:k.jsx(c("CometLink.react"),{href:A,target:"_blank",children:k.jsx(c("FDSText.react"),{color:"blueLink",type:"bodyLink2",children:h._(/*BTDS*/"__JHASH__cMm5duNHgCG__JHASH__")})})}),e[20]=f):f=e[20];e[21]!==D?(v=k.jsxs("div",{className:C,children:[D,f]}),e[21]=D,e[22]=v):v=e[22];B=v}A=n(null);C=A[0];var E=A[1],F=a==null?void 0:a.isBOC;e[23]!==F?(f=function(){if(F===!0){var a=Math.abs(p+r()*q),b=c("setTimeout")(function(){E(k.jsx("iframe",{className:"x972fbf xcfux6l x1qhh985 xm0m39n xqtp20y xnalus7"}))},a);return function(){return c("clearTimeout")(b)}}},D=[F],e[23]=F,e[24]=f,e[25]=D):(f=e[24],D=e[25]);m(f,D);e[26]===Symbol["for"]("react.memo_cache_sentinel")?(v=(i||(i=c("stylex")))(g?o.lo_container:o.container),e[26]=v):v=e[26];A=g?null:z;e[27]!==(a==null?void 0:a.body)?(f=(a==null?void 0:a.body)!=null&&(a==null?void 0:a.body)!==""?a==null?void 0:a.body:h._(/*BTDS*/"__JHASH__pXUti67uBgG__JHASH__"),e[27]=a==null?void 0:a.body,e[28]=f):f=e[28];e[29]!==(a==null?void 0:a.title)?(D=(a==null?void 0:a.title)!=null&&(a==null?void 0:a.title)!==""?a==null?void 0:a.title:h._(/*BTDS*/"__JHASH__o1L-SKvTHIY__JHASH__"),e[29]=a==null?void 0:a.title,e[30]=D):D=e[30];e[31]!==j||e[32]!==f||e[33]!==D||e[34]!==A?(z=k.jsx(c("FDSNullState.react"),{action:A,body:f,headline:D,icon:j}),e[31]=j,e[32]=f,e[33]=D,e[34]=A,e[35]=z):z=e[35];e[36]!==B||e[37]!==C||e[38]!==z?(a=k.jsxs("div",{className:v,"data-testid":void 0,children:[z,B,C]}),e[36]=B,e[37]=C,e[38]=z,e[39]=a):a=e[39];j=a;if(g&&b("cr:10677")){e[40]!==j?(f=k.jsx(b("cr:10677"),{error:j}),e[40]=j,e[41]=f):f=e[41];return f}e[42]!==j?(D=k.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j}),e[42]=j,e[43]=D):D=e[43];return D}function t(){return window.location.reload(!0)}function u(a){return a!=null&&a.indexOf("/share/")!==-1}g["default"]=a}),226);
__d("CometOrLabel.react",["fbt","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"__JHASH__bS0-tXMlcXh__JHASH__");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("FDSText.react"),{align:"center",type:"meta1",children:k}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("CometOrSeparator.react",["CometOrLabel.react","CometRow.react","CometRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"x1pjtg3p xjm9jq1"})}),a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometRowItem.react"),{expanding:!1,children:i.jsx(c("CometOrLabel.react"),{})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs(c("CometRow.react"),{paddingVertical:0,verticalAlign:"center",children:[b,e,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"x1pjtg3p xjm9jq1"})})]}),a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("CometFRXLegalReportingLink.react",["CometLoggedOutCTAStrings","CometOrSeparator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.legal_reporting_cta_type;a=a.legal_reporting_uri;var f;b[0]!==e||b[1]!==a?(f=a!=null?i.jsxs("div",babelHelpers["extends"]({className:"xaqh0s9"},{children:[i.jsx("div",babelHelpers["extends"]({className:"x1hq5gj4"},{children:i.jsx(c("CometOrSeparator.react"),{})})),i.jsxs("div",{children:[e==="netzdg"?c("CometLoggedOutCTAStrings").getNetzdgTextWithUrl(a):null,e==="french_law"?c("CometLoggedOutCTAStrings").getFrenchLawTextWithUrl(a):null,e==="cpa"?c("CometLoggedOutCTAStrings").getCPATextWithUrl(a):null,e==="dsa"?c("CometLoggedOutCTAStrings").getDSATextWithUrl(a):null,e==="ukosa"?c("CometLoggedOutCTAStrings").getUKOSATextWithUrl(a):null]})]})):i.jsx("div",{}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometLogInHiddenInputs_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLogInHiddenInputs_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefill_contactpoint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prefill_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idd_user_crypted_uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,concreteType:"LoginNameValue",kind:"LinkedField",name:"lsd",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"LoginNameValue",kind:"LinkedField",name:"jazoest",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lgnrnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"send_screen_dimensions",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sketch_seed1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sketch_seed2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rounds",storageKey:null}],type:"LoginData",abstractKey:null}}();e.exports=a}),null);
__d("ScreenDimensionsAutoSet",[],(function(a,b,c,d,e,f){function g(){if(!window.btoa)return"";var a={w:screen.width,h:screen.height,aw:screen.availWidth,ah:screen.availHeight,c:screen.colorDepth};return btoa(JSON.stringify(a))}function a(a){a.value=g()}f.getScreenDimensions=g;f.setInputValue=a}),66);
__d("Sketch",["asyncToGeneratorRuntime","cr:902965"],(function(a,b,c,d,e,f,g){a=babelHelpers["extends"]({},b("cr:902965"),{solveIntern:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e){yield b("cr:902965").solveIntern(a,c,d,e)});function c(b,c,d,e){return a.apply(this,arguments)}return c}(),solveAndCallAsyncController:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){yield b("cr:902965").solveAndCallAsyncController(a,c,d)});function c(b,c,d){return a.apply(this,arguments)}return c}(),solveAndUpdateForm:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e){yield b("cr:902965").solveAndUpdateForm(a,c,d,e)});function c(b,c,d,e){return a.apply(this,arguments)}return c}(),solveAllPrimitivesAndCallAsyncController:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){yield b("cr:902965").solveAllPrimitivesAndCallAsyncController(a,c,d)});function c(b,c,d){return a.apply(this,arguments)}return c}()});c=a;g["default"]=c}),98);
__d("CometLogInHiddenInputs.react",["BaseInput.react","CometLogInHiddenInputs_data.graphql","CometRelay","ScreenDimensionsAutoSet","Sketch","getBrowserGMTOffsetAdjustedForSkew","guid","promiseDone","react","react-compiler-runtime","unrecoverableViolation","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useState;function a(a){var e=d("react-compiler-runtime").c(71),f=a.abTestData,g=a.data;a=a.next;c("vulture")("5a9id8m6Shl");g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometLogInHiddenInputs_data.graphql"),g);var i=l("n"),n=i[0],o=i[1];i=l(null);var p=i[0],q=i[1];if(g==null)throw c("unrecoverableViolation")("login form info failed to load","comet_ui");i=g.idd_user_crypted_uid;var r=g.jazoest,s=g.lgnrnd,t=g.locale,u=g.login_source,v=g.lsd,w=g.prefill_contactpoint,x=g.prefill_source,y=g.rounds,z=g.send_screen_dimensions,A=g.sketch_seed1,B=g.sketch_seed2;g=g.timestamp;u=(u=u)!=null?u:"";i=(i=i)!=null?i:"";var C;e[0]!==i?(C={name:"cuid",value:i},e[0]=i,e[1]=C):C=e[1];e[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={name:"guid",value:c("guid")()},e[2]=i):i=e[2];var D;e[3]!==n?(D={name:"lgnjs",value:n},e[3]=n,e[4]=D):D=e[4];s=(n=s)!=null?n:"";e[5]!==s?(n={name:"lgnrnd",value:s},e[5]=s,e[6]=n):n=e[6];t=(s=t)!=null?s:"";e[7]!==t?(s={name:"locale",value:t},e[7]=t,e[8]=s):s=e[8];e[9]!==u?(t=u.toLowerCase(),e[9]=u,e[10]=t):t=e[10];e[11]!==t?(u={name:"login_source",value:t},e[11]=t,e[12]=u):u=e[12];a=(t=a)!=null?t:window.location;e[13]!==a?(t=encodeURI(a),e[13]=a,e[14]=t):t=e[14];e[15]!==t?(a={name:"next",value:t},e[15]=t,e[16]=a):a=e[16];t=(t=p)!=null?t:"";var E;e[17]!==t?(E={name:"skstamp",value:t},e[17]=t,e[18]=E):E=e[18];e[19]!==g?(t=g!=null?c("getBrowserGMTOffsetAdjustedForSkew")(g).toString():"",e[19]=g,e[20]=t):t=e[20];e[21]!==t?(g={name:"timezone",value:t},e[21]=t,e[22]=g):g=e[22];t=(t=w)!=null?t:"";var F;e[23]!==t?(F={name:"prefill_contact_point",value:t},e[23]=t,e[24]=F):F=e[24];t=(t=x)!=null?t:"";var G;e[25]!==t?(G={name:"prefill_source",value:t},e[25]=t,e[26]=G):G=e[26];if(e[27]!==f||e[28]!==r||e[29]!==v||e[30]!==w||e[31]!==x||e[32]!==z||e[33]!==u||e[34]!==a||e[35]!==E||e[36]!==g||e[37]!==F||e[38]!==C||e[39]!==G||e[40]!==D||e[41]!==n||e[42]!==s){t=[C,i,D,n,s,u,a,E,g,F,G];if((v==null?void 0:v.name)!=null){i=(i=v.value)!=null?i:"";var H;e[44]!==v.name||e[45]!==i?(H={name:v.name,value:i},e[44]=v.name,e[45]=i,e[46]=H):H=e[46];t.push(H)}if((r==null?void 0:r.name)!=null){H=(i=r.value)!=null?i:"";e[47]!==r.name||e[48]!==H?(i={name:r.name,value:H},e[47]=r.name,e[48]=H,e[49]=i):i=e[49];t.push(i)}if(z===!0){e[50]===Symbol["for"]("react.memo_cache_sentinel")?(H={name:"lgndim",value:d("ScreenDimensionsAutoSet").getScreenDimensions()},e[50]=H):H=e[50];t.push(H)}if(f!=null){e[51]!==f?(i={name:"ab_test_data",value:f},e[51]=f,e[52]=i):i=e[52];t.push(i)}if(w!=null){e[53]!==w?(H={name:"prefill_contact_point",value:w},e[53]=w,e[54]=H):H=e[54];t.push(H);e[55]===Symbol["for"]("react.memo_cache_sentinel")?(i={name:"prefill_type",value:"contact_point"},e[55]=i):i=e[55];t.push(i)}if(x!=null){e[56]!==x?(H={name:"prefill_source",value:x},e[56]=x,e[57]=H):H=e[57];t.push(H)}e[27]=f;e[28]=r;e[29]=v;e[30]=w;e[31]=x;e[32]=z;e[33]=u;e[34]=a;e[35]=E;e[36]=g;e[37]=F;e[38]=C;e[39]=G;e[40]=D;e[41]=n;e[42]=s;e[43]=t}else t=e[43];e[58]===Symbol["for"]("react.memo_cache_sentinel")?(i=function(){o(String(Math.floor(Date.now()/1e3)))},H=[],e[58]=i,e[59]=H):(i=e[58],H=e[59]);k(i,H);e[60]!==y||e[61]!==p||e[62]!==A||e[63]!==B?(f=function(){if(p!=null||A==null||B==null||y==null)return;c("promiseDone")(c("Sketch").solveAndEncode(A,B,y,"login"),function(a){q(a)})},r=[y,p,A,B],e[60]=y,e[61]=p,e[62]=A,e[63]=B,e[64]=f,e[65]=r):(f=e[64],r=e[65]);k(f,r);e[66]!==t?(v=t.map(m),e[66]=t,e[67]=v):v=e[67];e[68]===Symbol["for"]("react.memo_cache_sentinel")?(w=j.jsx("input",{style:{display:"none"},type:"submit"}),e[68]=w):w=e[68];e[69]!==v?(x=j.jsxs(j.Fragment,{children:[v,w]}),e[69]=v,e[70]=x):x=e[70];return x}function m(a){var b=a.name;a=a.value;return j.jsx(c("BaseInput.react"),{name:b,type:"hidden",value:a},b)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometLoggedOutFBUpsellHooks.react",["getTopMostRouteInfo","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=d("react-compiler-runtime").c(2),b=c("useCometRouterState")();if(b==null)return null;var e;a[0]!==b?(e=c("getTopMostRouteInfo")(b),a[0]=b,a[1]=e):e=a[1];return e}function a(){var a;return(a=h())==null?void 0:(a=a.route)==null?void 0:a.upsellConfig}g.useCometUpsellConfig=a}),98);
__d("LOXUpsellLocation",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BOTTOM_SHEET:"bottom_sheet",DIALOG:"dialog",DIALOG_IN_SESSION:"dialog_in_session",FEED_ITEM:"feed_item",FOOTER:"footer",FULL_PAGE:"full_page",HEADER:"header",NAVIGATION_BASED_DIALOG:"navigation_based_dialog",SCROLL_BASED_DIALOG:"scroll_based_dialog",UFI:"ufi",UNKNOWN__ONLY_FOR_MIGRATION_AND_INFRA:"unknown"});c=a;f["default"]=c}),66);
__d("LOXUpsellSurface",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ERROR_PAGE:"error_page",EVENTS:"events",GAMING:"gaming",GROUPS:"groups",HASHTAG:"hashtag",MARKETPLACE:"marketplace",MINISHOP:"minishop",PAGES:"pages",PHOTOS:"photos",POSTS:"posts",PREMIUM_CONTENT:"premium_content",PROFILE:"profile",PUBLIC_SEARCH:"public_search",REELS:"reels",STORIES:"stories",UNKNOWN__ONLY_FOR_MIGRATION_AND_INFRA:"unknown",WATCH:"watch"});c=a;f["default"]=c}),66);
__d("LOXUpsellType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOGIN:"login_upsell",OPEN_APP:"open_app_upsell",PRIVATE_SHARING_LOGIN:"private_sharing_login_upsell",REELS_TOP_PILLS:"reels_top_pills",RELATED_CONTENT:"related_content",SAVED_ACCOUNTS:"saved_accounts_upsell",UPSELL_TRIGGER:"upsell_trigger"});c=a;f["default"]=c}),66);
__d("LoxUpsellEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5835");b=d("FalcoLoggerInternal").create("lox_upsell_event",a);e=b;g["default"]=e}),98);
__d("LoxUpsellEventOptions",[],(function(a,b,c,d,e,f){a=Object.freeze({IMPRESSION:"upsell_banner_impression",DIALOG_DISPLAYED:"dialog_displayed",LOGIN_BUTTON_CLICKED:"login_button_clicked",REGISTER_BUTTON_CLICKED:"register_button_clicked",FORGOT_PASSWORD_LINK_CLICKED:"forgot_password_link_clicked",MAA_LOGIN_IMPRESSION:"maa_login_impression",MAA_LOGIN_IMPRESSION_INTERNAL:"maa_login_impression_internal",LOG_INTO_ANOTHER_ACCOUNT_CLICKED:"log_into_another_account_clicked",LOGIN_WITH_SAVED_PASSWORD_BUTTON_CLICKED:"login_with_saved_password_button_clicked",LOGIN_WITHOUT_SAVED_PASSWORD_BUTTON_CLICKED:"login_without_saved_password_button_clicked",SAVED_ACCOUNT_WITHOUT_PASSWORD_ITEM_CLICKED:"saved_account_without_password_item_clicked",NOT_YOU_BUTTON_CLICKED:"not_you_button_clicked",OPEN_APP_BUTTON_CLICKED:"open_app_button_clicked",STAY_ON_WEB_BUTTON_CLICKED:"stay_on_web_button_clicked",DISMISS_BUTTON_CLICKED:"dismiss_button_clicked",IFU_CLICKED:"ifu_clicked",LIKE_BUTTON_CLICKED:"like_button_clicked",FOLLOW_BUTTON_CLICKED:"follow_button_clicked",COMMENT_BUTTON_CLICKED:"comment_button_clicked",SHARE_BUTTON_CLICKED:"share_button_clicked",LOGO_CLICKED:"logo_clicked",DIALOG_IMAGE_CLICKED:"dialog_image_clicked"});f["default"]=a}),66);
__d("CometLoggedOutFBUpsellLogging.react",["CometLoggedOutFBUpsellHooks.react","CometTimeSpentNavigation","LoxUpsellEventFalcoEvent","once","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?location.href:location.host+a}function i(a,b,d,e,f){e===void 0&&(e={});var g=c("CometTimeSpentNavigation").getPathInfo();return g==null?null:{attribution_id_v2:g.extraData.pav2,event:a,extra_data:babelHelpers["extends"]({},e,{comet_trace_policy:(a=g.name)!=null?a:""}),impression_id:(e=g.extraData.imp_id)!=null?e:"","interface":"comet_www",location:b,surface:d,upsell_type:(a=f)!=null?a:"login_upsell",url:h()}}function j(a,b,d,e){var f=i(a,b,d,void 0,e);f!=null&&c("LoxUpsellEventFalcoEvent").logCritical(function(){return f})}var k=c("once")(function(a,b){j("upsell_banner_impression","dialog",a,b)});function a(a,b){k(a,b)}function b(a){var b=d("react-compiler-runtime").c(7),c;b[0]!==a?(c=function(){j("login_button_clicked","footer",a)},b[0]=a,b[1]=c):c=b[1];c=c;var e;b[2]!==a?(e=function(){j("register_button_clicked","footer",a)},b[2]=a,b[3]=e):e=b[3];e=e;var f;b[4]!==c||b[5]!==e?(f={logLoginEvent:c,logRegisterEvent:e},b[4]=c,b[5]=e,b[6]=f):f=b[6];return f}function e(a,b){var c=d("react-compiler-runtime").c(25),e=(b=b)!=null?b:"dialog";c[0]!==e||c[1]!==a?(b=function(b){j(b,e,a,b==="login_button_clicked"?"login_upsell":"saved_accounts_upsell")},c[0]=e,c[1]=a,c[2]=b):b=c[2];b=b;var f;c[3]!==e||c[4]!==a?(f=function(){j("forgot_password_link_clicked",e,a)},c[3]=e,c[4]=a,c[5]=f):f=c[5];f=f;var g;c[6]!==e||c[7]!==a?(g=function(){j("register_button_clicked",e,a)},c[6]=e,c[7]=a,c[8]=g):g=c[8];g=g;var h;c[9]!==e||c[10]!==a?(h=function(){return j("dismiss_button_clicked",e,a)},c[9]=e,c[10]=a,c[11]=h):h=c[11];h=h;var i;c[12]!==e||c[13]!==a?(i=function(b){return j("upsell_banner_impression",e,a,b)},c[12]=e,c[13]=a,c[14]=i):i=c[14];i=i;var k;c[15]!==e||c[16]!==a?(k=function(){return j("log_into_another_account_clicked",e,a,"saved_accounts_upsell")},c[15]=e,c[16]=a,c[17]=k):k=c[17];k=k;var l;c[18]!==h||c[19]!==f||c[20]!==i||c[21]!==k||c[22]!==b||c[23]!==g?(l={logDismissEvent:h,logForgotPasswordEvent:f,logImpressionEvent:i,logIntoAnotherAccountEvent:k,logLoginEvent:b,logRegisterEvent:g},c[18]=h,c[19]=f,c[20]=i,c[21]=k,c[22]=b,c[23]=g,c[24]=l):l=c[24];return l}function f(){var a=d("react-compiler-runtime").c(2),b=d("CometLoggedOutFBUpsellHooks.react").useCometUpsellConfig(),e;a[0]!==(b==null?void 0:b.surface)?(e=function(){var a,d=i("logo_clicked","header",(a=b==null?void 0:b.surface)!=null?a:"unknown");d!=null&&c("LoxUpsellEventFalcoEvent").log(function(){return d})},a[0]=b==null?void 0:b.surface,a[1]=e):e=a[1];return e}g.useUpsellImpressionEvent=a;g.useUpsellFooterEvents=b;g.useLoginFormEvents=e;g.useLogoClickEvent=f}),98);
__d("XRegViewControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/reg/",Object.freeze({websubmit:!1,submission_request:!1,exclude_suggestions:!1,korean_tos_is_present:!1,checkbox_privacy_policy:!1,checkbox_tos:!1,checkbox_location_policy:!1,upload_contacts:!1,gb:!1,_fb_noscript:!1,_fsp:!1,locs:!1,ty:!1,is_two_steps_login:!1}),new Set(["websubmit","submission_request","_fb_noscript","_fsp","locs"]));b=a;g["default"]=b}),98);
__d("LoginDataSource.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["DESKTOP","MOBILE","WWW_LOGGED_OUT_HOME"]);c=a;f["default"]=c}),66);
__d("useCometLogInFormQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"source"}],b=[{kind:"Variable",name:"source",variableName:"source"}],c=[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometLogInFormQuery",selections:[{kind:"RequiredField",field:{alias:null,args:b,concreteType:"LoginData",kind:"LinkedField",name:"login_data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometLogInFormUtilQuery_data"}],storageKey:null},action:"THROW",path:"login_data"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometLogInFormQuery",selections:[{alias:null,args:b,concreteType:"LoginData",kind:"LinkedField",name:"login_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"prefill_contactpoint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_post_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ab_testing_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reset_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sketch_seed1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sketch_seed2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rounds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prefill_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"idd_user_crypted_uid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},{alias:null,args:null,concreteType:"LoginNameValue",kind:"LinkedField",name:"lsd",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"LoginNameValue",kind:"LinkedField",name:"jazoest",plural:!1,selections:c,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lgnrnd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"send_screen_dimensions",storageKey:null}],storageKey:null}]},params:{id:"6803990916311479",metadata:{},name:"useCometLogInFormQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.1",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=b[e]+128>>8,b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];e=d;return e}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("EnvelopeEncryption",["Promise","tweetnacl-sealedbox-js"],(function(a,b,c,d,e,f,g){"use strict";var h,i=window.crypto||window.msCrypto,j=64,k=1,l=1,m=1,n=2,o=32,p=16,q=l+m+n+o+c("tweetnacl-sealedbox-js").overheadLength+p;function r(a,b){return c("tweetnacl-sealedbox-js").seal(a,b)}function s(a){var b=[];for(var c=0;c<a.length;c+=2)b.push(parseInt(a.slice(c,c+2),16));return new Uint8Array(b)}function a(a,d,e,f){var g=q+e.length;if(d.length!=j)throw new Error("public key is not a valid hex sting");var t=s(d);if(!t)throw new Error("public key is not a valid hex string");var u=new Uint8Array(g),v=0;u[v]=k;v+=l;u[v]=a;v+=m;d={name:"AES-GCM",length:o*8};var w={name:"AES-GCM",iv:new Uint8Array(12),additionalData:f,tagLen:p};return i.subtle.generateKey(d,!0,["encrypt","decrypt"]).then(function(a){var c=i.subtle.exportKey("raw",a);a=i.subtle.encrypt(w,a,e.buffer);return(h||(h=b("Promise"))).all([c,a])}).then(function(a){var b=new Uint8Array(a[0]);b=r(b,t);u[v]=b.length&255;u[v+1]=b.length>>8&255;v+=n;u.set(b,v);v+=o;v+=c("tweetnacl-sealedbox-js").overheadLength;if(b.length!==o+c("tweetnacl-sealedbox-js").overheadLength)throw new Error("encrypted key is the wrong length");b=new Uint8Array(a[1]);a=b.slice(-p);b=b.slice(0,-p);u.set(a,v);v+=p;u.set(b,v);return u})["catch"](function(a){throw a})}g.encrypt=a}),98);
__d("FBBrowserPasswordEncryption",["EnvelopeEncryption","tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";var h="#PWD_BROWSER",i=5;function a(a,b,e,f,g,j){g===void 0&&(g=i);j===void 0&&(j=h);e=c("tweetnacl-util").decodeUTF8(e);var k=c("tweetnacl-util").decodeUTF8(f);return d("EnvelopeEncryption").encrypt(a,b,e,k).then(function(a){return[j,g,f,c("tweetnacl-util").encodeBase64(a)].join(":")})}g.encryptPassword=a}),98);
__d("FormTypeABTester",["Base64","Event"],(function(a,b,c,d,e,f,g){a=function(a){var b=32,d=65,e=90,f=48,g=57,h=58,i=63,j=91,k=94,l=0,m=0,n=0,o=0,p=[],q=null,r=[],s=[],t=[],u=[];for(var v=0;v<10;v++)r.push(0),s.push(0);for(v=0;v<10;v++)s.push(0),t.push(0),u.push(0);var w=function(a){var c=window.event?Date.now():a.timeStamp;a=window.event?window.event.keyCode:a.which;a%=128;a>=d&&a<=e||a==b?l++:a>=f&&a<=g?m++:a>=h&&a<=i||a>=j&&a<=k?n++:o++;p[a]=c;if(q!=null&&q!==0){var r=c-q;r>=0&&(a>=d&&a<=e||a==b)&&(r<400?s[Math.floor(r/20)]++:r<1e3?t[Math.floor((r-400)/60)]++:r<3e3&&u[Math.floor((r-1e3)/200)]++)}q=c},x=function(a){var b=window.event?Date.now():a.timeStamp;a=window.event?window.event.keyCode:a.which;b=b-p[a%128];b>=50&&b<250&&r[Math.floor((b-50)/20)]++},y=function(a){var b=Math.max.apply(Math,a),c=[];a.forEach(function(a){c.push(Math.floor(a*63/(b||1)))});return c};this.getDataVect=function(){var a=s.concat(t,u);return y(a).concat(y(r),[l/2,m/2,n/2,o/2])};this.getData=function(){return c("Base64").encodeNums(this.getDataVect())};c("Event").listen(a,{keyup:function(a){return x(a)},keydown:function(a){return w(a)}})};g["default"]=a}),98);
__d("LoginServicePasswordEncryptDecryptEventTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:LoginServicePasswordEncryptDecryptEventLoggerConfig")}),null);
__d("useCometLogInFormUtilQuery_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometLogInFormUtilQuery_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefill_contactpoint",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_post_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ab_testing_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reset_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sketch_seed1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sketch_seed2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"rounds",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"public_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"key_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometLogInHiddenInputs_data"}],type:"LoginData",abstractKey:null};e.exports=a}),null);
__d("useCometLogInMessengerMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5225207027570718"}),null);
__d("useCometLogInMessengerMutation.graphql",["useCometLogInMessengerMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"CaaLoginMessengerWebResponsePayload",kind:"LinkedField",name:"caa_login_messenger_web",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"error_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"redirect_uri",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useCometLogInMessengerMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useCometLogInMessengerMutation",selections:c},params:{id:b("useCometLogInMessengerMutation_facebookRelayOperation"),metadata:{},name:"useCometLogInMessengerMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometLoggedOutPopupCTAForm.react",["fbt","CometColumnItem.react","CometFRXLegalReportingLink.react","CometImage.react","CometLink.react","CometLoggedOutCTAStrings","CometOrSeparator.react","CometRouteURL","FDSButton.react","FDSFormTextInput.react","FDSProfilePhoto.react","FDSText.react","FocusRegion.react","QE2Logger","UNTRANSLATED_STRING_FIXME","XRegViewControllerRouteBuilder","focusScopeQueries","goUriOnNewWindow","qex","react","react-compiler-runtime","stylex","useCometLogInForm"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n=b.useState,o={container:{marginTop:"xxqbpr",marginEnd:"x1gja9t",marginBottom:"x17p1517",marginStart:"x8vdgqj",textAlign:"x2b8uid",$$css:!0},container_with_profile_photo:{marginTop:"x1tfhste",marginEnd:"x1gja9t",marginBottom:"x14ler8",marginStart:"x8vdgqj",textAlign:"x2b8uid",$$css:!0},icon:{backgroundColor:"x14hiurz",borderTopColor:"x1v8p93f",borderEndColor:"xogb00i",borderBottomColor:"x16stqrj",borderStartColor:"x1ftr3km",borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"xmn4e3e",borderEndWidth:"x10qsr78",borderBottomWidth:"x2x41l1",borderStartWidth:"x19jh3bc",marginTop:"x14vqqas",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(68),e=a.hideCreateAccountButton,f=a.initialLoginName,g=a.legal_reporting_cta_type,j=a.legal_reporting_uri,p=a.next,q=a.onCreateAccount,r=a.onForgotPassword,s=a.onLogin,t=a.profilePhoto;a=a.title;f=f===void 0?"":f;f=n(f);var u=f[0];f=f[1];var v=n(""),w=v[0];v=v[1];var x=c("useCometLogInForm")(p),y=x.hiddenInputs,z=x.loginFormRef,A=x.loginPostURI,B=x.onSubmit,C=x.resetURI;x=x.submitting;var D=d("CometRouteURL").useRouteURL(),E;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(E=k.createRef(),b[0]=E):E=b[0];var F=E;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(E=k.createRef(),b[1]=E):E=b[1];var G=E,H=m(!1),I;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(E=function(){if(H.current||!F.current)return;var a=F.current;H.current=!0;if(a.getBoundingClientRect().width!==0)return;var b=window.setInterval(function(){a.getBoundingClientRect().width!==0&&(a.focus(),window.clearInterval(b))},100)},I=[F],b[2]=E,b[3]=I):(E=b[2],I=b[3]);l(E,I);b[4]!==u||b[5]!==w||b[6]!==s||b[7]!==B?(E=function(a){var b=F.current,e=G.current;if(u===""&&b){d("QE2Logger").logExposureForDatrCritical("comet_login_upsells_urs","should_not_sumbit_empty_username");if(c("qex")._("1508")){b.focus();a.preventDefault();return}}if(e&&w===""){d("QE2Logger").logExposureForDatrCritical("comet_login_upsells_urs","should_not_sumbit_empty_password");if(c("qex")._("1552")){e.focus();a.preventDefault();return}}B(a);s!=null&&s("login_button_clicked")},b[4]=u,b[5]=w,b[6]=s,b[7]=B,b[8]=E):E=b[8];I=E;b[9]!==u?(E=k.jsx(c("FDSFormTextInput.react"),{label:c("CometLoggedOutCTAStrings").emailText,name:"email",onValueChange:f,ref:F,testid:void 0,value:u}),b[9]=u,b[10]=E):E=b[10];f=E;b[11]!==f?(E=k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:f}),b[11]=f,b[12]=E):E=b[12];f=E;b[13]!==t?(E=t==null?null:k.jsx("div",babelHelpers["extends"]({className:"xwxc41k"},{children:k.jsx(c("FDSProfilePhoto.react"),{addOn:{icon:k.jsx(c("CometImage.react"),{height:40,src:"/images/icons/FBLogo_Blueprint.png",width:40,xstyle:o.icon}),type:"trigger"},shape:"circle",size:168,source:{uri:t},storyStatus:"none"})})),b[13]=t,b[14]=E):E=b[14];t=E;b[15]!==t?(E=(i||(i=c("stylex"))).props(t?o.container_with_profile_photo:o.container),b[15]=t,b[16]=E):E=b[16];var J;b[17]!==t?(J=t?k.jsx(c("CometColumnItem.react"),{align:"center",children:t}):null,b[17]=t,b[18]=J):J=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1xka2u1 xqfms19"},b[19]=t):t=b[19];b[20]!==a?(t=k.jsx("div",babelHelpers["extends"]({},t,{children:k.jsx(c("FDSText.react"),{align:"center",numberOfLines:2,type:"entityHeaderHeadline2",children:a})})),b[20]=a,b[21]=t):t=b[21];var K;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(K={className:"x1s85apg xieb3on xrok9f9"},b[22]=K):K=b[22];b[23]!==a?(K=k.jsx("div",babelHelpers["extends"]({},K,{children:k.jsx(c("FDSText.react"),{align:"center",type:"headlineEmphasized2",children:a})})),b[23]=a,b[24]=K):K=b[24];b[25]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xod5an3"},b[25]=a):a=b[25];b[26]!==f?(a=k.jsx("div",babelHelpers["extends"]({},a,{children:f})),b[26]=f,b[27]=a):a=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1c436fg"},b[28]=f):f=b[28];b[29]!==w?(f=k.jsx("div",babelHelpers["extends"]({},f,{children:k.jsx(c("FDSFormTextInput.react"),{label:c("CometLoggedOutCTAStrings").passwordText,name:"pass",onValueChange:v,ref:G,type:"password",value:w})})),b[29]=w,b[30]=f):f=b[30];b[31]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1c436fg"},b[31]=v):v=b[31];var L;b[32]===Symbol["for"]("react.memo_cache_sentinel")?(L=c("UNTRANSLATED_STRING_FIXME")("Accessible login button"),b[32]=L):L=b[32];var M;b[33]===Symbol["for"]("react.memo_cache_sentinel")?(M=h._(/*BTDS*/"__JHASH__7glZVcFjD5n__JHASH__"),b[33]=M):M=b[33];b[34]!==I||b[35]!==x?(v=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsx(c("FDSButton.react"),{"aria-label":L,disabled:x,label:M,onPress:I,size:"large"})})),b[34]=I,b[35]=x,b[36]=v):v=b[36];b[37]===Symbol["for"]("react.memo_cache_sentinel")?(L={className:"x1xka2u1"},b[37]=L):L=b[37];b[38]===Symbol["for"]("react.memo_cache_sentinel")?(M=k.jsx(c("FDSText.react"),{align:"center",color:"highlight",type:"bodyLink3",children:c("CometLoggedOutCTAStrings").forgotPasswordText}),b[38]=M):M=b[38];b[39]!==r||b[40]!==C?(L=k.jsx("div",babelHelpers["extends"]({},L,{children:k.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:C,onClick:r,target:"_blank",children:M})})),b[39]=r,b[40]=C,b[41]=L):L=b[41];b[42]!==e||b[43]!==p||b[44]!==q||b[45]!==D?(M=e===!0?null:k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x1hq5gj4"},{children:k.jsx(c("CometOrSeparator.react"),{})})),k.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu"},{children:k.jsx(c("FDSButton.react"),{label:c("CometLoggedOutCTAStrings").createNewAccountText,onPress:function(){var a;q!=null&&q();a=c("XRegViewControllerRouteBuilder").buildUri({entry_point:"logged_out_dialog",next:(a=p)!=null?a:D});c("goUriOnNewWindow")(a)},padding:"wide",size:"large",type:"fdsOverride_positive"})}))]}),b[42]=e,b[43]=p,b[44]=q,b[45]=D,b[46]=M):M=b[46];b[47]!==g||b[48]!==j?(r=k.jsx(c("CometFRXLegalReportingLink.react"),{legal_reporting_cta_type:g,legal_reporting_uri:j}),b[47]=g,b[48]=j,b[49]=r):r=b[49];b[50]!==E||b[51]!==J||b[52]!==t||b[53]!==K||b[54]!==a||b[55]!==f||b[56]!==v||b[57]!==L||b[58]!==M||b[59]!==r?(C=k.jsxs("div",babelHelpers["extends"]({},E,{children:[J,t,K,a,f,v,L,M,r]})),b[50]=E,b[51]=J,b[52]=t,b[53]=K,b[54]=a,b[55]=f,b[56]=v,b[57]=L,b[58]=M,b[59]=r,b[60]=C):C=b[60];b[61]!==y||b[62]!==z||b[63]!==A||b[64]!==I||b[65]!==x||b[66]!==C?(e=k.jsxs("form",{action:A,disabled:x,id:"login_popup_cta_form",method:"POST",noValidate:!0,onSubmit:I,ref:z,children:[C,y]}),b[61]=y,b[62]=z,b[63]=A,b[64]=I,b[65]=x,b[66]=C,b[67]=e):e=b[67];return e}g["default"]=a}),226);
__d("CometLoggedOutErrorRoot",["BaseFlexibleGrid.react","CometContentArea.react","CometLoggedOutCTAStrings","CometLoggedOutFBUpsellLogging.react","CometLoggedOutPopupCTAForm.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={item:{marginTop:"xdj266r",marginEnd:"x1h5jrl4",marginBottom:"xat24cr",marginStart:"xmn8rco",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8);a=a.error;var e=d("CometLoggedOutFBUpsellLogging.react").useLoginFormEvents("error_page","dialog_in_session"),f=e.logForgotPasswordEvent,g=e.logImpressionEvent,h=e.logLoginEvent;e=e.logRegisterEvent;g("login_upsell");b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="x1jx94hy x1qpq9i9 xdney7k xu5ydu1 xt3gfkd x8ii3r7 x9f619 x1sy10c2 x6ikm8r x10wlt62 x4l50q0 x12zc4pa",b[0]=g):g=b[0];b[1]!==f||b[2]!==h||b[3]!==e?(g=i.jsx("div",{className:g,children:i.jsx(c("CometLoggedOutPopupCTAForm.react"),{hideCreateAccountButton:!1,onCreateAccount:e,onForgotPassword:f,onLogin:h,title:c("CometLoggedOutCTAStrings").popupTitle})}),b[1]=f,b[2]=h,b[3]=e,b[4]=g):g=b[4];f=g;b[5]!==a||b[6]!==f?(h=i.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:i.jsxs(c("BaseFlexibleGrid.react"),{columnMaxWidth:"50%",columnMinWidth:300,justify:"center",minItems:2,xstyle:j.item,children:[a,f]})}),b[5]=a,b[6]=f,b[7]=h):h=b[7];return h}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("DisappearingMessagesMode",[],(function(a,b,c,d,e,f){a=Object.freeze({OFF:0,ON:1,OPEN_ON_DEPRECATED_DO_NOT_USE:2});f["default"]=a}),66);
__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5852881248149646"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};g["default"]=a}),98);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(c){return a[0]===void 0||a[0]===!0?b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()}):b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSSearchClearTablesStoredProcedure";a.__tables__=["search_queries","server_search_sections","server_search_results","message_search_results"];e.exports=a}),null);
__d("LSClearTablesStoredProcedure",["LSClearTables","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSClearTables"),e.clearMessageResults);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchInsertRankingContactsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInsertRankingContactsStoredProcedure",["LSInsertRankingContacts","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertRankingContacts"),e.limit);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(67).fetch([[[a[0],a[4]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],surfaceType:a[4],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=c.i64.cast([0,0]),d[3]=new c.Map(),d[3].set("query",a[0]),d[3].set("supported_types",a[1]),d[3].set("session_id",a[2]),d[3].set("surface_type",a[4]),d[3].set("selected_participants",a[5]),d[3].set("group_id",a[6]),d[3].set("community_id",a[8]),d[3].set("thread_id",a[7]),d[3].set("query_id",a[3]),d[4]=c.createArray(),d[10]=(d[4].push("search_primary"),d[4]),d[5]=c.i64.of_float(Date.now()),d[10]=(d[4].push(c.i64.to_string(d[5])),d[4]),d[6]=c.toJSON(d[4]),d[7]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),d[6],c.i64.cast([0,30]),d[7],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),d[2])},function(e){return d[8]=new c.Map(),d[8].set("query",a[0]),d[8].set("supported_types",a[1]),d[8].set("session_id",a[2]),d[8].set("surface_type",a[4]),d[8].set("selected_participants",a[5]),d[8].set("group_id",a[6]),d[8].set("community_id",a[8]),d[8].set("thread_id",a[7]),d[8].set("query_id",a[3]),d[9]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[9],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchIssueSearchQueryStoredProcedure";a.__tables__=["search_queries"];e.exports=a}),null);
__d("LSIssueSearchQueryStoredProcedure",["LSIssueSearchQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueSearchQuery"),e.query,e.supportedTypes,e.sessionId,e.queryId,e.surfaceType,e.selectedParticipants,e.groupId,e.threadId,e.communityId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("LsUniversalSearchDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL_BLENDED:0,SERVER_ENTITIES_NAMED_DSQ1:1,SERVER_ENTITIES_NAMED_DSQ2:2});c=a;f["default"]=c}),66);
__d("LsUniversalSearchThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:0,TINCAN:1,OPEN_THREAD:2});c=a;f["default"]=c}),66);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","react-compiler-runtime","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderTopStartRadius:"x17zif9m",borderTopEndRadius:"xfjaqqx",borderBottomEndRadius:"x1il12k9",borderBottomStartRadius:"x32snf2",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},k={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};b=i.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(18),f,g,h;e[0]!==a?(h=a.backgroundEnabled,f=a.color,g=babelHelpers.objectWithoutPropertiesLoose(a,["backgroundEnabled","color"]),e[0]=a,e[1]=f,e[2]=g,e[3]=h):(f=e[1],g=e[2],h=e[3]);a=h===void 0?!1:h;h=c("useMDSIconColors")();h=f!=null&&f!=="primary"?h[f]:void 0;var l;e[4]!==h?(l=h!=null?{dark:{"primary-icon":h},light:{"primary-icon":h},type:"VARIABLES"}:void 0,e[4]=h,e[5]=l):l=e[5];h=l;l=h;h=g.icon instanceof d("SVGIcon").SVGIcon;var m;e[6]!==f||e[7]!==h?(m=h?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(f),e[6]=f,e[7]=h,e[8]=m):m=e[8];e[9]!==g||e[10]!==b||e[11]!==m?(f=i.jsx(c("FDSIcon.react"),babelHelpers["extends"]({color:m,ref:b},g)),e[9]=g,e[10]=b,e[11]=m,e[12]=f):f=e[12];h=f;if(l!=null){e[13]!==l||e[14]!==h?(g=i.jsx(c("BaseTheme.react"),{config:l,xstyle:d("XPlatReactEnvironment").isWeb()?j.themeWrapper:null,children:h}),e[13]=l,e[14]=h,e[15]=g):g=e[15];h=g}if(a){e[16]!==h?(b=i.jsx(c("BaseTheme.react"),{config:k,children:i.jsx(c("Box.react"),{xstyle:j.iconBackground,children:h})}),e[16]=h,e[17]=b):b=e[17];return b}return h}e=b;g["default"]=e}),98);
__d("MDSPressable.react",["CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};b=i.forwardRef(a);function k(a){switch(a){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return void 0}}function a(a,b){var e=d("react-compiler-runtime").c(9),f,g;e[0]!==a?(g=a.overlayRadius,f=babelHelpers.objectWithoutPropertiesLoose(a,["overlayRadius"]),e[0]=a,e[1]=f,e[2]=g):(f=e[1],g=e[2]);e[3]!==g?(a=k(g),e[3]=g,e[4]=a):a=e[4];e[5]!==f||e[6]!==b||e[7]!==a?(g=i.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayFocusVisibleStyle:j.hover,overlayHoveredStyle:j.hover,overlayRadius:a,ref:b},f)),e[5]=f,e[6]=b,e[7]=a,e[8]=g):g=e[8];return g}e=b;g["default"]=e}),98);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16,MSGR_PUBLIC_CHANNEL:17,MSGR_SOCIAL_CHANNEL:18,NETEGO_IG_PUBLIC_CHANNELS:19,CONTACT_BIRTHDAY:20});f["default"]=a}),66);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometTypeaheadViewItem.react","FDSSkittleIcon.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.entry,f=a.icon,g=a.onHighlightEntry,h=a.onPressEntry;a=a.title;var j;b[0]!==f?(j=i.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:f,size:36}),b[0]=f,b[1]=j):j=b[1];f=j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"xe8uvvx xexx8yu xsyo7zv x18d9i69 x16hj40l"},b[2]=j):j=b[2];var k;b[3]!==a?(k=i.jsx(c("MWXText.react"),{type:"body3",children:a}),b[3]=a,b[4]=k):k=b[4];b[5]!==e||b[6]!==f||b[7]!==g||b[8]!==h||b[9]!==k?(a=i.jsx("div",babelHelpers["extends"]({},j,{role:"listbox",children:i.jsx(c("CometTypeaheadViewItem.react"),{entry:e,isActive:!1,itemStartContent:f,onHighlightEntry:g,onPressEntry:h,role:"option",children:k})})),b[5]=e,b[6]=f,b[7]=g,b[8]=h,b[9]=k,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MessengerGroup.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 26 19",fill:"currentColor",width:"1em",height:"1em"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("23433"),d=null;a!==void 0&&(a==="Inbox"?d=b?"messengerdotcom":"fb_groups:comet_www_inbox":a==="ChatTab"?d="fb_groups:comet_www_chat":a==="FullscreenChat"&&(d="fb_groups:comet_www_fullscreen_chat"));return d}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=b("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function a(){var a=d("react-compiler-runtime").c(14),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("GroupsCometGlobalChatCreationDialog.entrypoint"),b);var e=b[0],f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("useMWLoggerEntrypoint")(f);b=d("LSThreadAttributionStore").getSourceForNewThread();var i=b==="chatheadsNewMessage"?k.CHAT_HEAD:b==="jewelNewMessage"?k.JEWEL:null;b=(b=g)!=null?b:"";if(a[1]!==b){var m;m={client_extras:{entry_point:b,origin:(m=i)!=null?m:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"};a[1]=b;a[2]=m}else m=a[2];b=c("useGroupsCometChatsEngagementImpressionLogger")(m);a[3]===Symbol["for"]("react.memo_cache_sentinel")?(m={key:"newCommunityChat",label:"New Community Chat",type:"entry"},a[3]=m):m=a[3];var n;a[4]!==f||a[5]!==g||a[6]!==e?(n=function(){var a;e({entrypoint:g!=null?g:void 0,shouldCloseComposeTab:f==="ChatTab",shouldGoToMessenger:f==="Inbox"},l);d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:(a=g)!=null?a:"",origin:(a=i)!=null?a:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},a[4]=f,a[5]=g,a[6]=e,a[7]=n):n=a[7];var o;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"__JHASH__Wh17zqow6GS__JHASH__"),a[8]=o):o=a[8];a[9]!==n?(m=j.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:m,icon:c("MessengerGroup.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:n,title:o}),a[9]=n,a[10]=m):m=a[10];a[11]!==b||a[12]!==m?(o=j.jsx("div",{ref:b,children:m}),a[11]=b,a[12]=m,a[13]=o):o=a[13];return o}function l(){}g["default"]=a}),226);
__d("MWCMLightSpeedChatTabActionViewItems.react",["BaseDivider.react","CurrentEnvironment","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","cr:5103","cr:6189","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={divider:{marginTop:"x1xmf6yo",marginEnd:"xktsk01",marginBottom:"x1e56ztr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1),e=c("gkx")("24047")&&!c("CurrentEnvironment").messengerdotcom,f=c("gkx")("24048")||c("gkx")("3379");f=e||f;var g=b("cr:5103")||b("cr:6189");a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=f?i.jsxs(i.Fragment,{children:[e&&i.jsx(c("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),g&&i.jsx(g,{}),i.jsx(c("BaseDivider.react"),{xstyle:j.divider})]}):null,a[0]=f):f=a[0];return f}g["default"]=a}),98);
__d("MWChatTemporarySearchResultUtils",["fbt","$InternalEnum","I64","LSContactBitOffset","LSContactTypeExact","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;f=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups",AI_BOTS:"ai_bots"});function a(a){var b=a.contactTypeExact;if((i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT))){b=a.contactViewerRelationship;return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))}return d("LSContactBitOffset").hasWithDefault(64,a,!0)}function k(){var a=h._(/*BTDS*/"__JHASH__JamETNXLecz__JHASH__").toString();return a}function e(a,b){b===void 0&&(b=!1);a=a.contactTypeExact;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)))return k();return b?l():""}function l(){return h._(/*BTDS*/"__JHASH__MsgX-pcOE1N__JHASH__").toString()}g.SectionAnalyticsNameType=f;g.isViewerUnconnectedForContact=a;g.getSectionHeaderForAIBot=k;g.getSectionHeaderForContact=e;g.getSectionHeaderForContactsNullstate=l}),226);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a.length){case 0:return c("gkx")("22885")?"":h._(/*BTDS*/"__JHASH__DaN6ZhVAhFM__JHASH__");case 1:return a[0];case 2:return h._(/*BTDS*/"__JHASH__CYtAjqXrfJL__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._(/*BTDS*/"__JHASH__0GwsaOqt1zM__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._(/*BTDS*/"__JHASH__-HjU-GfOUIJ__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}function k(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!(i||(i=d("I64"))).equal(a.contact_id,b)});if(a)return j(e.map(f));return c.length!==1?j(e.map(g)):g(c[0])}function a(a,b,c,d){return k(a,b,c,d,function(a){var b=a.name;a=a.nickname;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.nickname;return(a=a)!=null?a:b}).toString()}function b(a,b,c,d){return k(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return k(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),226);
__d("MWChatTemporarySearchResult",["DisappearingMessagesMode","FBLogger","I64","LSContactBitOffset","LSContactType","LSContactTypeExact","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSThreadBitOffset","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MWChatSearchResultType","MWChatTemporarySearchResultUtils","MWLSContactTypeExactUtils","MWLSThreadTitle","MWSearchStandardResultTypeMappings","getLSMediaContactProfilePictureUrl","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function k(a){if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT))||j(a))return c("MWChatSearchResultType").USER;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return c("MWChatSearchResultType").GROUP;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE)))return c("MWChatSearchResultType").PAGE;if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return c("MWChatSearchResultType").MESSAGE;c("FBLogger")("messenger_web_product").warn("Unknown Search Result Type "+(h||(h=d("I64"))).to_string(a));return c("MWChatSearchResultType").USER}function l(a,b){if(!c("gkx")("23433")||!c("gkx")("6710"))return!1;if(b==null)return!1;if(b.startsWith("@"))return!0;if(b.trim().length===b.length&&b.indexOf(".")!==-1)return!0;return b.trim()===a?!0:!1}function m(a){return(a==null?void 0:a.threadType)==null?!1:d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}function n(a,b){b=l(a.username,b);var e=c("gkx")("6992");if(b&&a.username!=null)return(e&&a.username.length>0?"@":"")+a.username;b=d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact);return b&&a.secondaryName!=null?a.secondaryName:""}function o(a){var b=l(a.contextLine,a.query);if(b&&a.contextLine!=null)return a.contextLine;b=m(a);return b&&a.contextLine!=null?a.contextLine:""}function a(a,b,e,f,g,j,k){var l=e.contactType,m=e.contactTypeExact;m=d("MWLSContactTypeExactUtils").isIgContact(m);k=n(e,k);var o=f!=null?[f.e2eeEligibility,!(h||(h=d("I64"))).equal(f.e2eeEligibility,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],p=o[0];o=o[1];return{defaultE2eeThreadOneToOne:d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({contactId:e.id,maybeContact:e}),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(76,e),id:(h||(h=d("I64"))).to_string(e.id),imageUrl:c("getLSMediaContactProfilePictureUrl")(e),isAiBot:h.equal(e.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:h.equal(e.contactViewerRelationship,i.ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isDisappearingModeSettingOn:d("LSContactBitOffset").has(94,e),isE2EE:b===!0,isEPD:h.equal(e.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInstagramAccount:m,isInstamadilloCutover:d("LSContactBitOffset").has(95,e),isInteropEligible:d("LSContactBitOffset").has(67,e),isTTLCClipEnabled:d("LSContactBitOffset").has(96,e),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,e),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,e),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,e),isVerified:(b=d("LSContactBitOffset").has(23,e))!=null?b:!1,isViewerUnconnected:d("MWChatTemporarySearchResultUtils").isViewerUnconnectedForContact(e),isWAEligible:o,matchedTerms:j,rankingScore:a,resultIgid:(m=f==null?void 0:f.igId)!=null?m:void 0,resultType:(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").USER))||!((h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))||(h||(h=d("I64"))).equal(l,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE_PERSONA)))?c("MWChatSearchResultType").USER:c("MWChatSearchResultType").PAGE,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(e),searchSource:g,section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForContact(e),subtext:k,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,waAddressable:h.equal(e.waConnectStatus,i.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:p}}function p(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;return f!=null&&f!==""?d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString():""}function q(a,b,c){if(!d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(a.threadType))return;a=b.find(function(a){return!(h||(h=d("I64"))).equal(a.contact_id,c)});if(a==null)return;return a.contact_id}function b(a,b,e,f,g,j,k,l,m){var n=p(a,e,j),o=q(a,j,e);o=o!=null?(h||(h=d("I64"))).to_string(o):void 0;return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,e,j,a.threadType).toString(),id:(h||(h=d("I64"))).to_string(a.threadKey),imageUrl:f,isAiBot:h.equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:h.to_int32((e=m==null?void 0:m.igDmSettingsMode)!=null?e:(h||(h=d("I64"))).zero)===c("DisappearingMessagesMode").ON,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:l,otherUserId:o,rankingScore:k,resultType:c("MWChatSearchResultType").GROUP,searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(a.threadType),searchSource:b,secondaryImageUrl:g,section:"",subtext:n,threadKey:a.threadKey,threadType:a.threadType}}function e(a,b,e){var f,g=(h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)),l=o(a),m=j(a.type_),n=a.defaultE2eeThreadOneToOne,p=a.defaultE2eeThreads,q=a.hasCutoverThread,r=a.isVerified,s=a.otherUserId,t=a.query,u=a.supportsE2eeSpamdStorage,v=a.waEligibility;f=b!=null?(f=b.displayName)!=null?f:"":"";t===""&&(f=d("MWChatTemporarySearchResultUtils").getSectionHeaderForContactsNullstate());return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:n!==null?n:void 0,defaultE2eeThreads:p!==null?p:void 0,displayName:a.displayName,hasCutoverThread:q!==null?q:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isAiBot:h.equal(a.type_,i.ofNumber(c("LSSearchType").AI_BOT)),isContact:g,isDisappearingModeSettingOn:Boolean(a.isDisappearingModeSettingOn),isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:m,isInstamadilloCutover:Boolean(a.isInstamadilloCutover),isInteropEligible:a.isInteropEligible,isTTLCClipEnabled:Boolean(a.hasTtlcClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.hasTtlcGenericXmaShareEnabled),isTTLCMediaShareEnabled:Boolean(a.hasTtlcMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.hasTtlcStoryShareEnabled),isVerified:r!=null?r:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:v!=null?!(h||(h=d("I64"))).equal(v,(i||(i=d("LSIntEnum"))).ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:s?(h||(h=d("I64"))).to_string(s):void 0,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:k(a.type_),searchResultType:d("MWSearchStandardResultTypeMappings").mapServerSearchResultToSearchStandardResultType(a.threadType,a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:f,sectionAnalyticsName:b==null?void 0:b.analyticsName,serverSearchResult:a,subtext:l,subtextAdditional:(t=a.secondaryContextLine)!=null?t:"",supportsE2eeSpamdStorage:u,threadJoinLinkHash:a.threadJoinLinkHash,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=j;g.getResultType=k;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("MWChatSearchFetchCCRecommendations",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","MNetContactItemType","MWChatTemporarySearchResult","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:o(yield m(a,k))});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.cm_search_nullstate_metadata).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(18))})));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return n.apply(this,arguments)}function o(a){return a.map(function(a,b){var e=a.communityId,f=a.contextLine,g=a.score,k=a.scoreType,l=a.secondaryThreadPictureUrl,m=a.secondaryThreadPictureUrlFallback,n=a.threadKey,o=a.threadName,p=a.threadPictureUrl;a.threadPictureUrlFallback;var q=a.threadType;babelHelpers.objectWithoutPropertiesLoose(a,["communityId","contextLine","score","scoreType","secondaryThreadPictureUrl","secondaryThreadPictureUrlFallback","threadKey","threadName","threadPictureUrl","threadPictureUrlFallback","threadType"]);a={contactId:n,contactType:(j||(j=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION),score:g,scoreIndex:(i||(i=d("I64"))).of_int32(b),scoreType:k};return{communityId:e!=null?(i||(i=d("I64"))).to_string(e):"",displayName:o,id:i.to_string(n),imageUrl:(b=(g=p)!=null?g:l)!=null?b:"",isAiBot:i.equal(q,j.ofNumber(201)),isContact:d("LSMessagingThreadTypeUtil").isOneToOne(q),isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(q),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,rankingScore:a,resultType:d("MWChatTemporarySearchResult").getResultType(j.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)),searchSource:"server",secondaryImageUrl:(e=(k=l)!=null?k:m)!=null?e:"",section:h._(/*BTDS*/"__JHASH__6QBjd4SVwsL__JHASH__").toString(),subtext:(o=f)!=null?o:"",threadKey:n,threadType:q}})}g.fetchCCs=a;g.mapToSearchResults=o}),226);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSSearchType","LSWhatsAppConnectStatus","MAWDefaultE2eeOneToOneEligibility","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","gkx","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;(i||d("react")).useMemo;function m(a){if(a<0)return-1;return a>0?1:0}function n(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return m(d.score-c.score);if(a!=null&&b!=null)return m(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function o(a){var b=a.contactTypeExact;a=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(b)){if((j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return(j||(j=d("I64"))).equal(a,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT)}function p(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;var g=e.contactTypeExact;f=(l||(l=d("LSIntEnum"))).toNumber(f.contactType);var h;d("LSContactBitOffset").has(76,e)&&!c("gkx")("2268")?h=15:h=f===c("MNetContactItemType").GROUP?2:1;var i;switch(f){case c("MNetContactItemType").CONTACT:i=o(e);break;case c("MNetContactItemType").GROUP:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:i=(l||(l=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({contactId:e.id,maybeContact:e}),defaultE2eeThreads:d("LSContactBitOffset").has(80,e),displayName:e.name,globalIndex:(j||(j=d("I64"))).of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(76,e),isGroupsXacEligible:d("LSContactBitOffset").has(68,e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(g)?d("LSContactBitOffset").has(67,e):void 0,isVerified:d("LSContactBitOffset").has(23,e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,e,!0),isWaAddressable:j.equal(e.waConnectStatus,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:c("getLSMediaContactProfilePictureUrl")(e),query:"",resultId:j.to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:l.ofNumber(h),type_:i,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function q(a,b){var c;return(c=d("ReQL")).leftJoin(c.leftJoin(c.fromTableAscending(a.tables.ranking_scores.index("scoreTypeContactId")).getKeyRange(b),c.fromTableAscending(a.tables.contacts)),c.fromTableAscending(a.tables.ig_contact_info))}function a(a){var b=d("react-compiler-runtime").c(8),e;b[0]!==a?(e=a===void 0?(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a,b[0]=a,b[1]=e):e=b[1];var g=e,i=(h||(h=c("useReStore")))();b[2]!==g||b[3]!==i?(a=function(){return q(i,g)},e=[g,i],b[2]=g,b[3]=i,b[4]=a,b[5]=e):(a=b[4],e=b[5]);a=d("ReQLSuspense").useArray(a,e,f.id+":244");b[6]!==a?(e=p(n(a)).filter(r),b[6]=a,b[7]=e):e=b[7];a=e;return a}function r(a){a=a[0];return!a.isAiBot}function e(a){a===void 0&&(a=(l||(l=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("ReQL").toArrayAsync(q(b,a))}).then(function(a){return p(n(a))})}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(q(a,b)));return p(n(a)).map(function(a){a=a[0];return a})});return t.apply(this,arguments)}g.sortInPlaceQueryResults=n;g.mapToServerSearchResults=p;g.makeQuery=q;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=e;g.fetchContacts=s}),98);
__d("MWChatSearchFetchGenAIBotRecommendations",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","MNetContactItemType","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResultUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))?[]:n(yield l(a,j))});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.ai_bot_search_metadata)));return a.sort(function(a,b){a=a.score;b=b.score;return a===b?0:a>b?1:-1}).slice(0,b)});return m.apply(this,arguments)}function n(a){return a.map(function(a,b){var e=a.botId,f=a.contactViewerRelationship,g=a.contextLine,j=a.displayName,k=a.displayPictureUrl;a=a.score;a={contactId:e,contactType:(i||(i=d("LSIntEnum"))).ofNumber(c("MNetContactItemType").BOT),score:a,scoreIndex:(h||(h=d("I64"))).of_int32(b),scoreType:i.ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE)};return{displayName:j,id:h.to_string(e),imageUrl:(b=k)!=null?b:"",isAiBot:!0,isContact:!0,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(e),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,isVerified:!1,isViewerUnconnected:h.equal(f,i.ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)),rankingScore:a,resultType:c("MWChatSearchResultType").AI_BOT,searchSource:"server",secondaryImageUrl:"",section:d("MWChatTemporarySearchResultUtils").getSectionHeaderForAIBot(),subtext:(j=g)!=null?j:"",threadKey:e,threadType:h.of_int32(201)}})}g.fetchGenAIBots=a;g.mapToSearchResults=n}),98);
__d("MWLSParticipant",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","MWLSContactTypeExactUtils","ReQL","getLSMediaContactProfilePictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b={actual_name:"",blocked_by_viewer_status:(h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:(i||(i=d("I64"))).zero,contactType:h.ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:i.zero,gender:h.ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:h.ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:i.zero,read_watermark_timestamp_ms:i.zero,secondary_name:void 0,thread_key:i.zero,work_company_name:void 0,work_foreign_entity_info:h.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function j(a){var b=a[0];a=a[1];var e=b.nickname,f=a.blockedByViewerStatus,g=a.contactTypeExact,i=a.firstName,j=a.name,k=a.secondaryName;return{actual_name:j,blocked_by_viewer_status:f,contact_id:b.contactId,contactType:a.contactType,delivered_watermark_timestamp_ms:b.deliveredWatermarkTimestampMs,gender:a.gender,is_admin:(f=b.isAdmin)!=null?f:!1,is_messenger_user:a.isMessengerUser,mailbox_type:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),name:(f=(f=e)!=null?f:i)!=null?f:j,nickname:e,profile_picture_url:c("getLSMediaContactProfilePictureUrl")(a),rank:a.rank,read_action_timestamp_ms:b.readActionTimestampMs,read_watermark_timestamp_ms:b.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(g)?k:void 0,thread_key:b.threadKey,work_company_name:a.workCompanyName,work_foreign_entity_info:a.workForeignEntityType,work_job_title:a.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(c),b).map(j)}g.empty=b;g.projectOpen=j;g.getAllInOpenThread=a}),98);
__d("MWSearchThreadUtils",["I64","LSIntEnum","LSMessageSearchType","MAWChatJid","MWLSParticipant","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){var g=c("getLSMediaThreadPictureUrl")(a);if(g!=null)return(j||(j=b("Promise"))).resolve([g,void 0]);else{a=(g=d("ReQL")).toArrayAsync(g.leftJoin(g.fromTableAscending(f.tables.participants,[]).getKeyRange(a.threadKey),g.fromTableAscending(f.tables.contacts)).map(function(a){a[0];a=a[1];return a}).filter(Boolean));g=a.then(function(a){var b=a.length===1&&(h||(h=d("I64"))).equal(a[0].id,e);return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return(h||(h=d("I64"))).equal(a.id,e)?b:!0}).map(function(a){return c("getLSMediaContactProfilePictureUrl")(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return g}}function l(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.tables.contacts),a.threadKey))}function m(a,b,e,f,g){if((h||(h=d("I64"))).equal(g,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&f!=null){g=(g=e.find(function(a){return a.contact_id===f.id}))==null?void 0:g.nickname;return(g=g)!=null?g:f.name}return d("MWLSThreadTitle").getThreadTitleWithFullName(b.threadName,a,e,b.threadType)}function a(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield d("MAWChatJid").toThreadKeyMaybe(a.tables,b));return b==null?null:o(a,b,c,e)});return n.apply(this,arguments)}function o(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)));return b==null?null:q(a,b,c,e)});return p.apply(this,arguments)}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e){a=(yield (j||(j=b("Promise"))).all([k(c,d,a),l(c,a)]));var f=a[0],g=f[0];f=f[1];a=a[1];d=(yield m(d,c,a,void 0,e));return{profilePicUrl:g,secondaryProfilePicUrl:f,threadDisplayName:d,threadKey:c.threadKey,threadType:c.threadType}});return r.apply(this,arguments)}g.getThreadPics=k;g.getThreadParticipants=l;g.getThreadDisplayName=m;g.getThreadDataForSearchResult=a;g.getThreadDataByThreadKey=o}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSAuthorityLevel","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatSearchResultType","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime","hasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info))}function m(a,b,e,f,g,h,j){var l=(i||(i=d("I64"))).to_float(b.lastActivityTimestampMs);l={contactId:i.zero,contactType:i.zero,score:l,scoreIndex:i.zero,scoreType:i.zero};return{defaultE2eeThreadOneToOne:(j=j)!=null?j:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,e,b.threadType).toString(),hasCutoverThread:(j=h)!=null?j:void 0,id:i.to_string(b.threadKey),imageUrl:f,isAiBot:i.equal(b.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,b),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,b),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,b),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,b),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,b),isVerified:!1,rankingScore:l,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?c("MWChatSearchResultType").GROUP:c("MWChatSearchResultType").USER,searchSource:"offline_nullstate",secondaryImageUrl:g,section:"",subtext:(a=b.threadDescription)!=null?a:"",threadKey:b.threadKey,threadType:b.threadType}}function n(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"))).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var d=(yield (h||(h=b("Promise"))).all(c.map(function(b){return p(a,b)})));return c.filter(function(a,b){return!d[b]})});return function(a){return c.apply(this,arguments)}}())}function a(){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield (h||(h=b("Promise"))).all([l(a),n(a)])),f=e[0];e=e[1];return h.all(e.map(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=(yield (h||(h=b("Promise"))).all([d("MWSearchThreadUtils").getThreadPics(e,f.facebookUserId,a),d("MWSearchThreadUtils").getThreadParticipants(e,a),d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.cutover_threads).getKeyRange(e.threadKey)):null,d("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)?c("hasDefaultThreadOneToOneCapability")(e.threadKey,a):null])),i=g[0],j=g[1],k=g[2];g=g[3];var l=i[0];i=i[1];return m(f.facebookUserId,e,j,l,i,Boolean(k),g)});return function(a){return e.apply(this,arguments)}}()))});return o.apply(this,arguments)}function p(a,b){if(!(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(b.threadType)&&d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(b.folderName)))return!0;if(d("LSMessagingThreadTypeUtil").isArmadilloSecureOneToOne(b.threadType)&&(k||(k=d("LSIntEnum"))).toNumber(b.authorityLevel)<c("LSAuthorityLevel").AUTHORITATIVE)return!0;return d("LSThreadBitOffset").has(44,b)?!0:q(a,b)}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(c.threadKey)),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))])),f=e[0];e=e[1];c=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(c.threadKey,e,a));a=(e=c)!=null?e:f;c=!1;a&&(c=d("LSContactBitOffset").has(28,a)||d("LSContactBitOffset").has(29,a));return c});return r.apply(this,arguments)}g.fetchThreadRecommendations=a;g.shouldFilterBlockedUser=q}),98);
__d("MWChatSearchIssueLightspeedQuery",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQueryStoredProcedure","LSPlatformWaitForTaskCompletion","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatTemporarySearchResult","Promise","ReQL","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=c("gkx")("26360");function m(a,b){var e=a[0];a=a[1];var f=[],g=0;e.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});a.sort(function(a,b){return(i||(i=d("I64"))).compare(a.globalIndex,b.globalIndex)});for(var h=0,j=e.length;h<j;++h){var k=e[h];while(g<a.length&&(i||(i=d("I64"))).ge(a[g].globalIndex,k.startIndex)&&(i||(i=d("I64"))).le(a[g].globalIndex,k.endIndex)){var l=a[g];f.push(d("MWChatTemporarySearchResult").fromServerSearchResult(l,k,"server"));g+=1}}return f.filter(function(a){if(b)return!0;else return a.resultType!==c("MWChatSearchResultType").GROUP})}function n(a,b,e){var g=e.query;return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(d),{query:g,supportedTypes:c("LSVec").ofArray(a),surfaceType:b})},"readwrite",void 0,void 0,f.id+":105").then(function(){return d})})}function a(a,e,f,g,l){var n=l.query;if(e.length>0&&!e.includes("server"))return(h||(h=b("Promise"))).resolve([]);else return(k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQueryStoredProcedure")(c("LSFactory")(b),{query:n,supportedTypes:c("LSVec").ofArray(a),surfaceType:f})},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e,f=(e=d("ReQL")).toArrayAsync(e.fromTableAscending(a.tables.server_search_results).getKeyRange(n).filter(function(a){return(i||(i=d("I64"))).equal(a.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));e=e.toArrayAsync(e.fromTableAscending(a.tables.server_search_sections).getKeyRange(n));a=(yield (h||(h=b("Promise"))).all([e,f]));return m(a,g)});return function(b){return a.apply(this,arguments)}}())}function e(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return(h||(h=b("Promise"))).resolve(a.map(function(a){a=a[0];return a}))})}function o(a,b){if(!b.has(a.resultType))return!0;if(!a.isE2EE&&a.defaultE2eeThreadOneToOne===!0)return!0;if(a.hasCutoverThread===!0)return!0;return a.isAiBot?!0:!1}function p(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.id)||(b.push(a),c.add(a.id))});return b}function q(){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations());if(a.length===0)return[];var b=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);a=p(a);return a.filter(function(a){return!o(a,b)})});return r.apply(this,arguments)}function s(a,b,e,f){var g=[],h=[],k=[],l=function(){if(g.length===0||h.length===0||k.length!==1)return;(i||(i=d("I64"))).equal(k[0].statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))||f(m([h,g],e))},n=a.tables.server_search_results.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(b)),function(a){g=a;return l()})}),o=a.tables.server_search_sections.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(b)),function(a){h=a;return l()})}),p=a.tables.search_queries.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})),function(a){k=a;return l()})});return function(){n(),o(),p()}}function t(a,e,f,g){return a.tables.search_queries.subscribe(function(k,l){k=k[0];if(k!==e||l.operation==="delete"||(i||(i=d("I64"))).equal(l.value.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING)))return;c("promiseDone")((h||(h=b("Promise"))).all([d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(e)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(e))]).then(function(a){var b=a[0];a=a[1];g(m([a,b],f))}))})}function u(a,b,e,f,g,h){var k=g.query;!l?c("promiseDone")(n(b,e,g)):c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.search_queries).getKeyRange(k).filter(function(a){return!(i||(i=d("I64"))).equal(a.statusPrimary,(j||(j=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING))})).then(function(c){return c==null||c.length!==1?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_results).getKeyRange(k)).then(function(c){return c==null||c.length===0?n(b,e,g):d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.server_search_sections).getKeyRange(k)).then(function(a){if(a==null||a.length===0)return n(b,e,g);h(m([a,c],f))})})}));return s(a,g.query,f,h)}function v(a,b,d,e,g,h){e=t(a,g.query,e,h);c("promiseDone")(a.runInTransaction(function(a){return a.search_queries["delete"](g.query,d)},"readwrite",void 0,void 0,f.id+":436").then(function(){return n(b,d,g)}));return e}g.toSearchResults=m;g.makeSearchQuery=n;g.fetchResults=a;g.fetchRecommendations=e;g.shouldFilterSearchResultsForSharingNS=o;g.dedupeByThreadKey=p;g.fetchThreadRecommendations=q;g.requestResults=u;g.requestResults_T200619723=v}),98);
__d("MWChatSearchFetchRecommendations",["LSIntEnum","LSSearchType","MWChatSearchFetchCCRecommendations","MWChatSearchFetchContactRecommendations","MWChatSearchFetchGenAIBotRecommendations","MWChatSearchIssueLightspeedQuery","Promise","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g,k,l){c("promiseDone")(d("MWChatSearchIssueLightspeedQuery").makeSearchQuery(e,g,k));k=e.includes((i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD));e=e.includes(i.ofNumber(c("LSSearchType").AI_BOT));c("promiseDone")((h||(h=b("Promise"))).all([d("MWChatSearchFetchContactRecommendations").fetchContacts(a,f),k?d("MWChatSearchFetchCCRecommendations").fetchCCs(a,g):[],e?d("MWChatSearchFetchGenAIBotRecommendations").fetchGenAIBots(a,g):[]]).then(function(a){var b=a[0],c=a[1];a=a[2];b=j(b,c,a);return l(b)}));return c("emptyFunction")}function j(a,b,c){return[].concat(c,b,a)}g.requestRecommendations=a;g.blendSearchResults=j}),98);
__d("MWChatSearchInsertRankingContacts",["I64","LSFactory","LSInsertRankingContactsStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1},k=(h||(h=d("I64"))).of_string("100");function a(a){if(!i.contents&&(h||(h=d("I64"))).gt(k,(h||(h=d("I64"))).zero)){i.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContactsStoredProcedure")(c("LSFactory")(a),{limit:k})},"readwrite",void 0,void 0,f.id+":39"),function(){j.contents=!0});return}}function b(){return j.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWChatSearchResultTypeMapping",["LSSearchType","MWChatSearchResultType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWChatSearchResultType").GROUP:return c("LSSearchType").GROUP;case c("MWChatSearchResultType").MESSAGE:return c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD;case c("MWChatSearchResultType").PAGE:return c("LSSearchType").PAGE;case c("MWChatSearchResultType").USER:return c("LSSearchType").CONTACT;case c("MWChatSearchResultType").AI_BOT:return c("LSSearchType").AI_BOT}}g.mapMWChatSearchResultTypeToLSSearchType=a}),98);
__d("MWChatSearchIssueMAWFTSQuery",["I64","LSContactBitOffset","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchGranularSurfaceType","LSSearchType","LSThreadBitOffset","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MNetRankType","MWChatSearchResultTypeMapping","MWChatTemporarySearchResult","MWGetOtherContactOrSelf","MWLSThreadTitle","MWSearchStandardResultTypeMappings","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,e,f,g){return d("MAWChatJid").toThreadKeyMaybe(a.tables,b).then(function(b){if(b!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).then(function(a){var h;return{displayName:(h=f)!=null?h:"",id:e,imageUrl:"",isAiBot:a!=null&&(i||(i=d("I64"))).equal(a.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:a!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType):!1,isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:a!=null&&d("LSThreadBitOffset").has(214,a),isTTLCClipEnabled:a!=null&&d("LSThreadBitOffset").has(226,a),isTTLCGenericXMAShareEnabled:a!=null&&d("LSThreadBitOffset").has(231,a),isTTLCMediaShareEnabled:a!=null&&d("LSThreadBitOffset").has(228,a),isTTLCStoryShareEnabled:a!=null&&d("LSThreadBitOffset").has(229,a),isVerified:!1,matchedTerms:g,resultType:d("MWChatTemporarySearchResult").getResultType((k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)),searchResultType:14,searchSource:"secure",section:"",subtext:"",threadKey:b}})})}function m(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.mi_act_mapping_table).getKeyRange(a)).then(function(a){if(a!=null)return d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.cutover_threads).filter(function(b){return(i||(i=d("I64"))).equal(b.armadilloThreadId,a.jid)})).then(function(b){if(b!=null)return b.openThreadId;else return a.jid});else return(h||(h=b("Promise"))).resolve()})}function n(a){var b=a.score-1e-6;return{contactId:a.contactId,contactType:a.contactType,score:b,scoreIndex:a.scoreIndex,scoreType:a.scoreType}}function o(a,b){return m(a,b).then(function(e){var f=e!=null?e:a,g=e!=null;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.ranking_scores).getKeyRange(f,(k||(k=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))).then(function(a){if(a!=null)if(g)return n(a);else return a})})}function p(a,b,e,f){var g;g=(g=b.threadDescription)!=null?g:"";(i||(i=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL))&&(g=d("MWLSThreadTitle").getThreadTitleWithSecondaryNames(b.threadDescription,e,f,b.threadType).toString());return g}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){e=(yield (h||(h=b("Promise"))).all([d("MAWChatJid").toThreadKeyMaybe(a.tables,e),d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId}))]));var j=e[0];e=e[1];if(j==null)return;j=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(j)));if(j==null||j.folderName!=="inbox")return;var l=(yield h.all([d("MWSearchThreadUtils").getThreadPics(j,e,a),d("MWSearchThreadUtils").getThreadParticipants(j,a),o(j.threadKey,a)])),m=l[0],n=l[1];l=l[2];var q=m[0];m=m[1];var r=d("LSMessagingThreadTypeUtil").isOneToOne(j.threadType),s=d("LSMessagingThreadTypeUtil").isGroup(j.threadType)?(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP):(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),t=null;r===!0&&(t=(yield d("MWGetOtherContactOrSelf").getOtherContactOrSelf(j.threadKey,e,a)));return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(j.threadName,e,n,j.threadType).toString(),id:(i||(i=d("I64"))).to_string(j.threadKey),imageUrl:q,isAiBot:i.equal(j.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:r,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(j.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:d("LSThreadBitOffset").has(214,j),isTTLCClipEnabled:d("LSThreadBitOffset").has(226,j),isTTLCGenericXMAShareEnabled:d("LSThreadBitOffset").has(231,j),isTTLCMediaShareEnabled:d("LSThreadBitOffset").has(228,j),isTTLCStoryShareEnabled:d("LSThreadBitOffset").has(229,j),isVerified:t!=null?d("LSContactBitOffset").has(23,t):!1,matchedTerms:g,otherUserId:t?(i||(i=d("I64"))).to_string(t.id):void 0,rankingScore:l,resultType:d("MWChatTemporarySearchResult").getResultType(s),searchResultType:d("MWSearchStandardResultTypeMappings").mapThreadTypeToSearchStandardResultType(j.threadType),searchSource:"secure",secondaryImageUrl:m,section:"",subtext:p(f,j,e,n),threadKey:j.threadKey,threadType:j.threadType}});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));return d("MAWChatJid").toThreadKeyMaybe(a.tables,b).then(function(b){return b==null?null:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).then(function(g){return g==null?null:d("MWSearchThreadUtils").getThreadPics(g,f,a).then(function(a){var f,h=a[0];a=a[1];return{displayName:(f=g.threadName)!=null?f:"",id:(i||(i=d("I64"))).to_string(b),imageUrl:h,isAiBot:i.equal(g.threadType,(k||(k=d("LSIntEnum"))).ofNumber(201)),isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),isEPD:!1,isInstagramAccount:!1,isInstamadilloCutover:g!=null&&d("LSThreadBitOffset").has(214,g),isTTLCClipEnabled:g!=null&&d("LSThreadBitOffset").has(226,g),isTTLCGenericXMAShareEnabled:g!=null&&d("LSThreadBitOffset").has(231,g),isTTLCMediaShareEnabled:g!=null&&d("LSThreadBitOffset").has(228,g),isTTLCStoryShareEnabled:g!=null&&d("LSThreadBitOffset").has(229,g),isVerified:!1,matchedTerms:e,resultType:d("MWChatTemporarySearchResult").getResultType(k.ofNumber(c("LSSearchType").GROUP)),searchResultType:3,searchSource:"secure",secondaryImageUrl:a,section:"",subtext:(f=g.threadDescription)!=null?f:"",threadKey:b}})})})});return t.apply(this,arguments)}function u(a,b){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton);a=(yield (h||(h=b("Promise"))).all(a.map(function(a){switch(a.recordType){case"msg":var b=a.msg,d=b==null?void 0:b.msgId;return b==null||d==null?null:l(e,a.chatJid,d,b.content,a.matchedTerms);case"groupInfo":return s(e,a.groupJid,a.matchedTerms);case"participant":return q(e,a.threadJid,c,a.matchedTerms)}})));return a.filter(Boolean)});return v.apply(this,arguments)}function w(a,b,e){return a.filter(function(a){a=(k||(k=d("LSIntEnum"))).ofNumber(d("MWChatSearchResultTypeMapping").mapMWChatSearchResultTypeToLSSearchType(a.resultType));var f=b.includes(a);if(!f)return!1;f=(i||(i=d("I64"))).equal(a,k.ofNumber(c("LSSearchType").GROUP));return!f||e})}function a(a,b,c,e){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:e.query,searchMode:d("MAWBridgeSearchMsg").NON_MESSAGE_CONTENT_SEARCH},{timeoutMs:1e4}).then(function(a){return u(a,b)}).then(function(b){return w(b,a,c)})}g.filterSearchResults=w;g.fetchResults=a}),98);
__d("mwGroupEntriesForDisplay",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f,g;if(c){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;e=(e=g.rawData.section)!=null?e:"";f=(f=b.get(e))!=null?f:[];f.push(g);b.set(e,f)}return b}f.mwGroupEntriesForDisplay=a}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","MWXText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function k(a){var b=d("react-compiler-runtime").c(19),e=a.activeEntryKey,f=a.children,g=a.entries,h=a.itemRole;a=a.title;var j="chatSearchListHeading-"+a.toString().replace(/\s/g,"-");if(g!=null&&g.length>0){var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xexx8yu xsyo7zv x18d9i69 x16hj40l"},b[0]=k):k=b[0];var l;b[1]!==a||b[2]!==j?(l=a?i.jsx("div",babelHelpers["extends"]({className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha"},{children:i.jsx(c("MWXText.react"),{id:j,isSemanticHeading:!0,type:"entityHeaderMeta1",children:a})})):null,b[1]=a,b[2]=j,b[3]=l):l=b[3];if(b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==h){b[9]!==e||b[10]!==f||b[11]!==h?(a=function(a,b){var c=e===a.key;return f({entry:a,index:b,isActive:c,itemRole:h})},b[9]=e,b[10]=f,b[11]=h,b[12]=a):a=b[12];a=g.map(a);b[4]=e;b[5]=f;b[6]=g;b[7]=h;b[8]=a}else a=b[8];b[13]!==a||b[14]!==j?(g=i.jsx("ul",{"aria-labelledby":j,children:a}),b[13]=a,b[14]=j,b[15]=g):g=b[15];b[16]!==l||b[17]!==g?(a=i.jsxs("li",babelHelpers["extends"]({},k,{children:[l,g]})),b[16]=l,b[17]=g,b[18]=a):a=b[18];return a}return null}function a(a){var b=a.showActionItems,e=a.ariaProps,f=a.children,g=a.entries,h=a.highlightedEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["showActionItems","ariaProps","children","entries","highlightedEntry"]);var l=h!=null?h.key:null;a=j(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(g)},[g]);var m=c("getItemRoleFromCompositeRole")(e.role);return i.jsxs("ul",babelHelpers["extends"]({className:"x1yrsyyn x4uap5 x10b6aqq xkhd6sd"},{"data-testid":void 0,role:"listbox",children:[b&&i.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return i.jsx(k,{activeEntryKey:l,children:f,entries:a,itemRole:m,title:b},b)})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes",["LSIntEnum","LSSearchType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;a=[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)].concat(c("gkx")("24112")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").PUBLIC_CHANNEL)]:[],c("qex")._("136")?[(h||(h=d("LSIntEnum"))).ofNumber(c("LSSearchType").AI_BOT)]:[]);b=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT)];e=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];f=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];d=[h.ofNumber(c("LSSearchType").CONTACT)];var i=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").PAGE),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat([h.ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]),j=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)],k=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT),h.ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),h.ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)],l=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").GROUP),h.ofNumber(c("LSSearchType").NONCONTACT)];c=[h.ofNumber(c("LSSearchType").CONTACT),h.ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.supportedTypesForMSplitUser=b;g.allSupportedTypesWithMessageSearch=e;g.armadilloSupportedTypes=f;g.onlyContacts=d;g.broadcastFlowSupportedTypes=i;g.addParticipantBase=j;g.addParticipantXac=k;g.socialChannelsSupportedTypes=l;g.communityDirectInviteSupportedTypes=c}),98);
__d("MWPSearchOfflineOpenConversations",["gkx","minisearch"],(function(a,b,c,d,e,f,g){"use strict";e=c("gkx")("23913");f=e?{fuzzy:0,prefix:!0}:{fuzzy:.2,prefix:!0};var h=new(c("minisearch"))({fields:["content"],searchOptions:f,storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("MWPSearchOfflineOpenConversationsUtils",["I64","LSAuthorityLevel","LSContactBitOffset","LSContactBlockedByViewerStatus","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatSearchResultType","MWChatTemporarySearchResult","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","MWSearchThreadUtils","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return"p__"+(j||(j=d("I64"))).to_string(a)+"__"+j.to_string(b)}function e(a,e){if(n.contents==null)return(h||(h=b("Promise"))).resolve([]);var f=n.contents,g=d("MWPSearchOfflineOpenConversations").search(a).filter(function(a){return o(a,e)!==!0});return c("gkx")("6792")===!0?k(f,g,a):d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(f,(i||(i=d("LSIntEnum"))).ofNumber(7)).then(function(){return k(f,g,a)})}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){c=(yield (h||(h=b("Promise"))).all(c.map(function(c){var f=c.category.type;if(f==null)return(h||(h=b("Promise"))).resolve();switch(f){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:f=p(c.id);if(f!=null){f=f[0];return u(a,(j||(j=d("I64"))).to_string(f),c.terms)}else return(h||(h=b("Promise"))).resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return u(a,c.id,c.terms);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return q(a,c.id,c.terms,e)}})));c=m(c.filter(Boolean));return c});return l.apply(this,arguments)}function m(a){var b=a.filter(function(a){return a.resultType!==c("MWChatSearchResultType").GROUP}).sort(x);a=a.filter(function(a){return a.resultType===c("MWChatSearchResultType").GROUP}).sort(x);b=b.concat(a);return b}var n={contents:void 0};function o(a,b){if(b)return!1;b=a.category;return(b==null?void 0:b.type)==="Contact"?!1:!0}function p(a){a=a.split("__");if(a.length!==3)return;else return[(j||(j=d("I64"))).of_string(a[1]),j.of_string(a[2])]}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){a=(yield (h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((j||(j=d("I64"))).of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ig_contact_info).getKeyRange(j.of_string(e))),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.ranking_scores).getKeyRange(j.of_string(e),(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH)))]));e=a[0];var k=a[1];a=a[2];if(e==null||s(e,g))return;return d("MWChatTemporarySearchResult").fromContact((a=a)!=null?a:void 0,void 0,e,(a=k)!=null?a:void 0,"offline",f,g)});return r.apply(this,arguments)}function s(a,b){var e=d("LSContactBitOffset").hasWithDefault(66,a,!1);return a.isMemorialized===!0||(j||(j=d("I64"))).equal(a.contactViewerRelationship,(j||(j=d("I64"))).one)||!(j||(j=d("I64"))).equal(a.blockedByViewerStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))||e&&t(a.name,b)}function t(a,b,c){c===void 0&&(c=.7);a=a.trim().toLowerCase();b=b.trim().toLowerCase();b=!a.startsWith(b)||b.length/a.length<c;return b}function u(a,b,c){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){c=(yield (h||(h=b("Promise"))).all([d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})),d("ReQL").firstAsync(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange((j||(j=d("I64"))).of_string(c)).filter(function(a){return!w(a)}),d("ReQL").fromTableAscending(a.tables.ig_thread_info).getKeyRange(j.of_string(c))))]));var f=c[0];c=c[1];if(c==null)return(h||(h=b("Promise"))).resolve();var g=c[0];c=c[1];a=(yield h.all([d("MWSearchThreadUtils").getThreadPics(g,f,a),d("MWSearchThreadUtils").getThreadParticipants(g,a)]));var i=a[0];a=a[1];var k={contactId:j.zero,contactType:j.zero,score:j.to_float(g.lastActivityTimestampMs),scoreIndex:j.zero,scoreType:j.zero};return d("MWChatTemporarySearchResult").fromThread(g,"offline",f,i[0],i[1],a,k,e,c)});return v.apply(this,arguments)}function w(a){return a.folderName!=="inbox"||d("LSMessagingThreadTypeUtil").isChannelPreview(a.threadType)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&(j||(j=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}function x(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;return b<a?-1:0}g.getGroupParticipantKey=a;g.search=e;g.searchHelper=k;g.db=n}),98);
__d("MWLSSyncRankings",["LSIntEnum","MWLSDatabaseLazySync","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i={contents:!1},j={contents:!1};function a(a){if(!i.contents){i.contents=!0;c("promiseDone")(d("MWLSDatabaseLazySync").sync(a,(h||(h=d("LSIntEnum"))).ofNumber(7)),function(){j.contents=!0});return}}function b(){return j.contents}g.sync=a;g.isDone=b}),98);
__d("MWPSearchIndexingSource",["I64","LSIntEnum","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.contacts))}function b(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2))}))}function c(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.participants).filter(function(b){return!(h||(h=d("I64"))).equal(b.contactId,a)}).map(function(a){a=[a,d("ReQLSuspense").first(d("ReQL").fromTableAscending(b.tables.contacts).getKeyRange(a.contactId),f.id+":49")];return a}))}g.fetchContacts=a;g.fetchGroupThreads=b;g.fetchGroupParticipants=c}),98);
__d("MWPSearchOpenIndexer",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversationsUtils","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map(),k=new Map(),l=new Map();function m(a){var b=a.id;a=a.name;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);j.set(b,a)}function n(a){var b=j.get(a);if(b!=null){j["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function o(a){var b=a.threadKey;a=a.threadName;if(a==null)return;b=(i||(i=d("I64"))).to_string(b);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName},content:a,id:b};d("MWPSearchOfflineOpenConversations").add(a);k.set(b,a)}function p(a){var b=k.get(a);if(b!=null){k["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function q(a,b){if(b==null)return;var c=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;a.nickname!=null&&(b+=" "+a.nickname);a={category:{type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant},content:b.trim(),id:c};d("MWPSearchOfflineOpenConversations").add(a);l.set(c,a)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.contactId)));return q(b,a)});return s.apply(this,arguments)}function t(a,b){a=d("MWPSearchOfflineOpenConversationsUtils").getGroupParticipantKey(a,b);b=l.get(a);if(b!=null){l["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.operation){case"add":return m(b.value);case"put":n((i||(i=d("I64"))).to_string(a));return m(b.value);case"delete":return n((i||(i=d("I64"))).to_string(a))}}function c(a,b){switch(b.operation){case"add":return o(b.value);case"put":p((i||(i=d("I64"))).to_string(a));return o(b.value);case"delete":return p((i||(i=d("I64"))).to_string(a))}}function e(a,c,d,e){switch(e.operation){case"add":return r(a,e.value);case"put":t(c,d);return r(a,e.value);case"delete":return(h||(h=b("Promise"))).resolve(t(c,d))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversationsUtils").db.contents=a,b.forEach(m),c.forEach(o),e.forEach(function(a){var b=a[0];a=a[1];return q(b,a)})}g.onContactChanged=a;g.onGroupThreadChanged=c;g.onGroupParticipantChanged=e;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTablesStoredProcedure","LSFactory","LSIntEnum","MWChatSearchInsertRankingContacts","MWLSSyncRankings","MWPSearchIndexingSource","MWPSearchOpenIndexer","Promise","ReQL","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l={contents:!1},m={contents:!1},n={contents:!1},o=c("gkx")("24168");function a(a){if(!n.contents){n.contents=!0;(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=(k||(k=d("I64"))).of_string(c("CurrentUser").getID());l.contents||(l.contents=!0,c("promiseDone")((h||(h=b("Promise"))).all([d("MWPSearchIndexingSource").fetchContacts(a),o?d("MWPSearchIndexingSource").fetchGroupThreads(a):(h||(h=b("Promise"))).resolve([]),o?d("MWPSearchIndexingSource").fetchGroupParticipants(e,a):(h||(h=b("Promise"))).resolve([])]).then(function(b){var c=b[0],e=b[1];b=b[2];d("MWPSearchOpenIndexer").startInitialIndex(a,c,e,b)}),function(){m.contents=!0},function(a){c("FBLogger")("messenger_web_search").catching(a).mustfix("Error indexing contacts for search")}),d("ReQL").fromTableAscending(a.tables.contacts).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onContactChanged(a,b)}),o&&(d("ReQL").fromTableAscending(a.tables.threads).filter(function(a){return(k||(k=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(2))}).subscribe(function(a,b){a=a[0];d("MWPSearchOpenIndexer").onGroupThreadChanged(a,b)}),d("ReQL").fromTableAscending(a.tables.participants,["contactId","threadKey","nickname"]).filter(function(a){return!(k||(k=d("I64"))).equal(a.contactId,e)}).subscribe(function(b,e){var f=b[0];b=b[1];c("promiseDone")(d("MWPSearchOpenIndexer").onGroupParticipantChanged(a,f,b,e))})))});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a),{clearMessageResults:!1})},"readwrite",void 0,void 0,f.id+":123")}function p(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts").isDone())return m.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=p}),98);
__d("MWStaticSearchEntries",["fbt","MWChatSearchResultType"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._(/*BTDS*/"__JHASH__jyy97B7ulae__JHASH__",[h._param("param",a)]).toString();return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isDisappearingModeSettingOn:!1,isE2EE:!1,isEPD:!1,isInstamadilloCutover:!1,isTTLCClipEnabled:!1,isTTLCGenericXMAShareEnabled:!1,isTTLCMediaShareEnabled:!1,isTTLCStoryShareEnabled:!1,resultType:c("MWChatSearchResultType").MESSAGE,secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchHeaderEntry=a}),226);
__d("createMWChatSearchTypeaheadDataEntry",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{key:a.id,label:a.displayName,rawData:{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:a.defaultE2eeThreadOneToOne,defaultE2eeThreads:a.defaultE2eeThreads,displayName:a.displayName,hasCutoverThread:a.hasCutoverThread,id:a.id,igid:a.resultIgid,imageUrl:a.imageUrl,isAiBot:a.isAiBot,isContact:a.isContact,isDisappearingModeSettingOn:a.isDisappearingModeSettingOn,isE2EE:a.isE2EE,isEPD:a.isEPD,isGroupsXacEligible:Boolean(a.isGroupsXacEligible),isInstagramAccount:Boolean(a.isInstagramAccount),isInstamadilloCutover:a.isInstamadilloCutover,isInteropEligible:a.isInteropEligible!==!1,isTTLCClipEnabled:Boolean(a.isTTLCClipEnabled),isTTLCGenericXMAShareEnabled:Boolean(a.isTTLCGenericXMAShareEnabled),isTTLCMediaShareEnabled:Boolean(a.isTTLCMediaShareEnabled),isTTLCStoryShareEnabled:Boolean(a.isTTLCStoryShareEnabled),isViewerUnconnected:a.isViewerUnconnected,isWAEligible:a.isWAEligible,otherUserId:a.otherUserId,rankingScore:a.rankingScore,renderIndex:b,resultType:a.resultType,searchResultType:a.searchResultType,searchSource:a.searchSource,secondaryImageUrl:(b=a.secondaryImageUrl)!=null?b:"",section:a.section,serverSearchResult:a.serverSearchResult,subtext:a.subtext,subtextAdditional:a.subtextAdditional,supportsE2eeSpamdStorage:a.supportsE2eeSpamdStorage,threadType:a.threadType,verificationStatus:a.isVerified?"BLUE_VERIFIED":"NOT_VERIFIED",waAddressable:a.waAddressable,waEligibility:a.waEligibility},type:"entry"}}f["default"]=a}),66);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchSurfaces"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===c("MWChatSearchSurfaces").instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("mwChatSearchPayloadDecoratorRemoveExcluded",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(b){var c=b.entries;b=babelHelpers.objectWithoutPropertiesLoose(b,["entries"]);return babelHelpers["extends"]({entries:c.filter(function(b){return!a.includes(b.key)})},b)}}f["default"]=a}),66);
__d("mwChatSearchPayloadEnumerate",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries;a=babelHelpers.objectWithoutPropertiesLoose(a,["entries"]);var c=b.reduce(function(a,b,c){b=b.rawData.section;if(b==null)return a;b===""&&a.set(b,0);var d=a.get(b);d=d==null?c:Math.min(d,c);a.set(b,d);return a},new Map());b=b.map(function(a,b){var d=a.key,e=a.label;a=a.rawData;var f=a.section;return{key:d,label:e,rawData:babelHelpers["extends"]({},a,{renderIndex:b,sectionRenderIndex:f==null?-1:c.get(f)}),type:"entry"}});return babelHelpers["extends"]({entries:b},a)}f["default"]=a}),66);
__d("sortMWChatSearchLocalEntries",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h={group:1,message:2,messages:3,page:4,user:0},i=c("gkx")("23913");function a(a,b){var c={};for(var d=0;d<a.length;d++){var e=a[d];c[e.id]=(e=e.rankingScore)==null?void 0:e.score}return a.sort(function(a,d){var e=h[a.resultType],f=h[d.resultType];if(e!==f)return e-f;if(i&&b.length>1){e=(f=(e=a.matchedTerms)==null?void 0:e.length)!=null?f:0;f=(f=(f=d.matchedTerms)==null?void 0:f.length)!=null?f:0;if(f!==e)return f-e}e=(f=c[a.id])!=null?f:0;f=(a=c[d.id])!=null?a:0;return f-e})}g["default"]=a}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","LSIntEnum","MNetRankType","MWChatSearchFetchRecommendations","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery","MWChatSearchSurfaces","MWLSSearchIssueSearchQuerySupportedTypes","MWPSearchOfflineOpenConversationsUtils","MWPSearchSystem","MWStaticSearchEntries","Promise","asyncToGeneratorRuntime","cr:3752","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","isArmadillo","justknobx","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=10,k=10,l=c("isArmadillo")();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;var j=a.includeGroupSearch;j=j===void 0?!1:j;var k=a.includeMessageSearchEntry;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(i||(i=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_BLENDED_NULLSTATE):a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===c("MWChatSearchSurfaces").omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=h;this.$7=j;this.$8=k;this.$9=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length>1?[d("MWStaticSearchEntries").createMessageSearchHeaderEntry(a.query)]:[],b);b=d("MWChatSearchFilteringUtils").dedupeByThreadKey(b);b=(yield d("MWChatSearchFilteringUtils").filterSearchResults(this.$3,b,this.$4,!1,l));var e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(e({entries:b,params:a}))});function e(b,c){return a.apply(this,arguments)}return e}();e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0){e.$5=e.fetchNullstateResults(a,f);return}var g=[],i=[],l=!1,m=(h||(h=b("Promise"))).allSettled([b("cr:3752")!=null?b("cr:3752").fetchResults(e.$2,e.$3,e.$7,a):(h||(h=b("Promise"))).resolve([]),e.$3!==c("MWChatSearchSurfaces").broadcast?d("MWPSearchOfflineOpenConversationsUtils").search(a.query,e.$7):(h||(h=b("Promise"))).resolve([])]).then(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var h=b[0];b=b[1];h=h.status==="fulfilled"?h.value:[];b=b.status==="fulfilled"?b.value:[];b=j<=0?b:b.slice(0,j);h=k<=0?h:h.slice(0,k);g=b.concat(h);g=c("sortMWChatSearchLocalEntries")(g,a.query);g=d("MWChatSearchFilteringUtils").filterLocalSearchResults(g,e.$3);b=(yield e.resolveData(a,g.concat(i)));l||f.next(b)});return function(a){return h.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),n=d("MWChatSearchIssueLightspeedQuery").requestResults_T200619723;c("justknobx")._("2003")&&(n=d("MWChatSearchIssueLightspeedQuery").requestResults);var o=n(e.$4,e.$2,e.$3,e.$7,a,function(j){i=j;j=a.query.length>0&&d("MWPSearchSystem").isDone()?m:(h||(h=b("Promise"))).resolve();c("promiseDone")(j["finally"](b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e.resolveData(a,g.concat(i)));f.next(b);f.complete()})))});e.$5=function(){o(),l=!0}})};e.fetchNullstateResults=function(a,e){var f=this;if(!this.$6){e.next({entries:[],params:a});e.complete();return function(){}}return d("MWChatSearchFetchRecommendations").requestRecommendations(this.$4,this.$2,this.$9,this.$3,a,function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("filterInstagramContactsMWChatSearchLocalEntries")(b,f.$3);b=(yield f.resolveData(a,b));e.next(b);e.complete()});return function(a){return d.apply(this,arguments)}}())};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=a}),98);
__d("SearchTransportType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({ARMADILLO:1,TINCAN:2,OPEN_THREAD:3,IG_DJANGO:4,IG_ADVANCED_CRYPTO_TRANSPORT:5,IG_MESSENGER_INFRA:6});c=a;f["default"]=c}),66);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("UniversalSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_RECENTS:1,NULL_STATE_RECENTS_SEE_ALL:2,NULL_STATE_SUGGESTED:3,NULL_STATE_XAC_FOLLOWING:4,QUERY_SUGGESTED:5,QUERY_NON_FOLLOWING:6,QUERY_XAC_FOLLOWING:7,QUERY_XAC_NON_FOLLOWING:8,QUERY_BUSINESSES:9,QUERY_MESSAGES:10,OTHER:11,QUERY_NON_BUSINESSES:12,COMMUNITY_CHATS:13,MORE_COMMUNITY_CHATS:14,RELEVANT_SHARES:15,LATEST_SHARES:16,RECOMMENDED_COMMUNITIES:17,COMMUNITIES_AND_MORE:18,CHANNELS:19,NULL_STATE_NON_FOLLOWING:20,JOINED_CM_AND_CHANNEL:21,JOINED_CM_AND_CHANNEL_SEE_MORE:22,RECOMMENDED_CM_AND_CHANNEL:23,RECOMMENDED_CM_AND_CHANNEL_SEE_MORE:24,AI:25,AI_SEE_MORE:26,CHANNELS_SEE_MORE:27,UNJOINED_COMMUNITY_CHATS:28,MORE_UNJOINED_COMMUNITY_CHATS:29,NS_SUGGESTED_CHANNELS:30,NS_SUGGESTED_CHANNELS_SEE_MORE:31,NULL_STATE_MESSAGES:32,NULL_STATE_SUGGESTED_PROMPT:33,NULL_STATE_PYMK:34,QUERY_SUGGESTED_PROMPT:35,INVITE_TO_INSTAGRAM:36,INVITE_TO_INSTAGRAM_SEE_MORE:37,NULL_STATE_GROUP_CHATS:38,NULL_STATE_GROUP_CHATS_SEE_MORE:39,QUERY_NON_FOLLOWING_SEE_MORE:40,META_AI_SNIPPET:41,QUERY_BUSINESSES_SEE_MORE:42,QUERY_MESSAGES_SEE_MORE:43,PHOTOS_AND_VIDEOS:44,PHOTOS_AND_VIDEOS_SEE_MORE:45,LINKS:46,LINKS_SEE_MORE:47,FILES:48,FILES_SEE_MORE:49});c=a;f["default"]=c}),66);
__d("MWSearchLogging",["$InternalEnum","I64","LSMessagingThreadTypeUtil","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum")({CM_THREADS:"cm_threads",UNJOINED_GROUPS:"unjoined_groups",NON_CONTACTS:"non_contacts",PAGES:"pages",CONTACTS_GROUPS:"contacts_groups"}),j=function(a){switch(a){case"server":return[1,2];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};function k(a){return a===!0?1:3}function a(a){return a===!0?0:2}function l(a,b){var c=b.searchSource,d=b.section;b=b.sectionAnalyticsName;if(a==="")return 3;if(c!=="server"||d==="")return 5;a=i.cast(b);if(a==null)return 11;switch(a){case i.CM_THREADS:return 13;case i.CONTACTS_GROUPS:return 5;case i.NON_CONTACTS:return 6;case i.PAGES:return 9;default:return 11}}function m(a){return((a=a)!=null?a:-1).toString()}function e(a,b,e,f){var g=e.rawData;e=g.id;var i=g.isE2EE,n=g.isEPD,o=g.renderIndex,p=g.searchResultType,q=g.searchSource,r=g.serverSearchResult,s=m(o),t=e,u=k(i);if(r!=null){t=(o=r.resultId)!=null?o:t;u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r==null?void 0:r.threadType)?1:3;s=(h||(h=d("I64"))).to_string(r.globalIndex)}c("UniversalSearchResultSelectedFalcoEvent").log(function(){var d;return{data_sources:j(q),is_epd:c("gkx")("23390")||n,search_result:{query_string:b,result_fbid:t,result_index:s,result_type:(d=p)!=null?d:7},session_id:a,transport_type:u,ui_section:l(b,g)}});f.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:7,is_epd:c("gkx")("24110")||n,session_id:a,transport_type:u}}),f.current=!0)}g.SectionAnalyticsNameType=i;g.getLoggingDataSources=j;g.getTransportType=k;g.getLsTransportType=a;g.mapSectionToSearchUISection=l;g.logResultSelected=e}),98);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("845");b=d("FalcoLoggerInternal").create("universal_search_impression",a);e=b;g["default"]=e}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","UniversalSearchImpressionFalcoEvent","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(15),e=a.cmGroupId,f=a.entry,g=a.instanceId,h=a.queryString,i=f.rawData;a=i.id;var j=i.isE2EE,k=i.isEPD;f=i.renderIndex;var l=i.searchResultType,m=i.searchSource;a=a;var n=a;f=(a=f)!=null?a:-1;b[0]!==f?(a=f.toString(),b[0]=f,b[1]=a):a=b[1];var o=a;b[2]!==e||b[3]!==g||b[4]!==j||b[5]!==k||b[6]!==h||b[7]!==i||b[8]!==n||b[9]!==o||b[10]!==l||b[11]!==m?(f=function(){if(g==null)return;c("UniversalSearchImpressionFalcoEvent").log(function(){var a;return{cm_group_id:e,data_sources:d("MWSearchLogging").getLoggingDataSources(m),impression_selected:!1,is_epd:k,search_result:{query_string:h,result_fbid:n,result_index:o,result_type:(a=l)!=null?a:7},session_id:g,transport_type:d("MWSearchLogging").getTransportType(j),ui_section:d("MWSearchLogging").mapSectionToSearchUISection(h,i)}})},b[2]=e,b[3]=g,b[4]=j,b[5]=k,b[6]=h,b[7]=i,b[8]=n,b[9]=o,b[10]=l,b[11]=m,b[12]=f):f=b[12];a=f;b[13]!==a?(f={onImpressionStart:a},b[13]=a,b[14]=f):f=b[14];return c("usePartialViewImpression")(f)}g["default"]=a}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["fbt","BaseMiddot.react","CometPageVerificationIcon.react","CometTypeaheadViewItem.react","ConstUriUtils","CurrentEnvironment","FBLogger","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchType","MAWThreadCutover","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWSearchLogging","MWXIconMagnifyingGlass","MWXIconStrict.react","MWXText.react","MWXTextPairing.react","QPLUserFlow","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:393","cr:4538","cr:4539","deferredLoadComponent","gkx","isStringNullOrEmpty","isTlcSearchEnabled","justknobx","mwCMIsAnyCMThread","qpl","react","requireDeferred","useMWNavigation","useUniversalSearchImpressionFalcoEvent"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useState,n=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),o=c("isTlcSearchEnabled")(),p={contentRoot:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",":hover_backgroundColor":"x8du52y",$$css:!0}},q=function(a){if(a!=null){a=a.loggingSessionId;return a}return null};function a(a){var e=a.entry,f=a.extraViewItemProps,g=a.onPressEntry,i=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","extraViewItemProps","onPressEntry","queryString"]);var r=e.rawData,s=r.id,t=r.imageUrl,u=r.isE2EE,v=r.isInstagramAccount,w=r.isInteropEligible,x=r.resultType,y=r.secondaryImageUrl,z=r.section,A=r.serverSearchResult,B=r.subtext,C=r.subtextAdditional,D=r.threadType;r=r.verificationStatus;var E=b("cr:4538")==null?void 0:b("cr:4538")(),F=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:function(a){return E==null?void 0:E(a)}}),G=D!=null&&c("mwCMIsAnyCMThread")(D),H=q(f);f=c("useUniversalSearchImpressionFalcoEvent")({entry:e,instanceId:H,isCommunityChat:G,queryString:i});var I=c("useMWNavigation")(),J=(A==null?void 0:A.threadType)!=null&&((j||(j=d("I64"))).to_int32(A.threadType)===151||(j||(j=d("I64"))).to_int32(A.threadType)===155&&c("gkx")("24052"))&&(A==null?void 0:A.type_)!=null&&(j||(j=d("I64"))).to_int32(A.type_)===c("LSSearchType").PUBLIC_CHANNEL&&(A==null?void 0:A.threadJoinLinkHash)!=null,K=(A==null?void 0:A.threadType)!=null&&(k||(k=d("LSIntEnum"))).toNumber(A.threadType)===153,L=(A==null?void 0:A.threadType)!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A.threadType),M=d("MAWThreadCutover").useShouldHideE2eeAttribution((j||(j=d("I64"))).of_string_opt(s),D);u=u&&!M?h._(/*BTDS*/"__JHASH__PXg4X26-RXS__JHASH__"):B;M=D?d("LSMessagingThreadTypeUtil").isOneToOne(D):!1;B=x===c("MWChatSearchResultType").MESSAGE?l.jsx("div",babelHelpers["extends"]({className:"x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu x1y1aw1k x1sxyh0 xwib8y2 xurb0ha"},{children:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconMagnifyingGlass"),size:20})})):y!==""?M?l.jsx(c("MWChatProfile.react"),{size:36,src:y}):l.jsx(c("MWChatFacepile.react"),{firstParticipantURI:t,secondParticipantURI:y,size:36}):l.jsx(c("MWChatProfile.react"),{size:36,src:t});D=m();x=D[0];M=D[1];y=e.rawData.otherUserId;var N=(t=x)!=null?t:s,O=(J||K)&&(A==null?void 0:A.threadJoinLinkHash)!=null?(D=d("ConstUriUtils").getUri(A==null?void 0:A.threadJoinLinkHash))==null?void 0:D.getPath().split("/").reverse()[1]:void 0;x=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:O,thread_key:N}):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:O,thread_key:N});var P=e.rawData.resultType===c("MWChatSearchResultType").USER||e.rawData.resultType===c("MWChatSearchResultType").GROUP;t=babelHelpers["extends"]({},e,{key:N,rawData:babelHelpers["extends"]({},e.rawData,{id:N},y==null&&s!==N?{otherUserId:s}:{})});D=function(){if(c("CurrentEnvironment").messengerdotcom===!0)return!1;return c("justknobx")._("1406")?!1:o===!0&&P};if(c("isStringNullOrEmpty")(e.label)){c("FBLogger")("search").warn("Empty search result label for entry: %s",e.rawData.id);return null}return l.jsx("div",{ref:f,children:l.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:t,isDisabled:v===!0&&w===!1,itemStartContent:B,linkProps:{preventLocalNavigation:!0,url:x},onPressEntry:J?function(){(A==null?void 0:A.threadJoinLinkHash)!=null&&(F==null?void 0:F(A.threadJoinLinkHash))}:K?function(){I.openInbox({threadKey:(j||(j=d("I64"))).of_string(N),threadLinkHash:O,threadType:(k||(k=d("LSIntEnum"))).ofNumber(153)},"jewelSearch")}:function(a,b){g(a,b),G===!0?(c("QPLUserFlow").endSuccess(c("qpl")._(25312244,"1683")),H!=null&&c("UniversalSearchResultSelectedFalcoEvent").log(function(){var a;return{data_sources:d("MWSearchLogging").getLoggingDataSources(e.rawData.searchSource),is_epd:c("gkx")("23390")||e.rawData.isEPD,search_result:{query_string:i,result_fbid:e.rawData.id,result_index:((a=e.rawData.renderIndex)!=null?a:-1).toString(),result_type:7},session_id:H,transport_type:3,ui_section:13}})):c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},testid:void 0,xstyle:p.contentRoot,children:[D()?l.jsx(n,{id:s.toString(),updateThreadKey:M}):null,l.jsx(c("MWXTextPairing.react"),{body:l.jsxs(c("MWXText.react"),{numberOfLines:1,type:"body3",children:[e.label,r!=null&&!L?l.jsx("span",babelHelpers["extends"]({className:"xurb0ha"},{children:l.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:r})})):null]}),level:3,meta:u&&u!==""?l.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[u,L&&Boolean(C)&&l.jsxs(l.Fragment,{children:[r!=null&&l.jsx("span",babelHelpers["extends"]({className:"x1e558r4 xxymvpz"},{children:l.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:r})})),l.jsx(c("BaseMiddot.react"),{}),C]}),(z==null||z==="")&&Boolean(e.rawData.isInstagramAccount)?l.jsxs(l.Fragment,{children:[l.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):null]}):null}),b("cr:393")!=null&&l.jsx(b("cr:393"),{rawData:t.rawData})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWChatSearchClearSearchResults",["LSClearTablesStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(){c("promiseDone")(b.runInTransaction(j,"readwrite",void 0,void 0,f.id+":22"))},a[0]=b,a[1]=e):e=a[1];return e}function j(a){return c("LSClearTablesStoredProcedure")(c("LSFactory")(a))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CacheStorage",["ErrorGuard","ExecutionEnvironment","WebStorage","cr:6943","cr:8958","emptyFunction","err"],(function(a,b,c,d,e,f,g){var h,i,j,k="_@_",l="3b",m="CacheStorageVersion",n={length:0,getItem:a=c("emptyFunction"),setItem:a,clear:a,removeItem:a,key:a};d=function(){function a(a){this._store=a}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){var a=[];for(var b=0;b<this._store.length;b++){var c=this._store.key(b);c!=null&&a.push(c)}return a};b.get=function(a){return this._store.getItem(a)};b.set=function(a,b){this._store.setItem(a,b)};b.remove=function(a){this._store.removeItem(a)};b.clear=function(){this._store.clear()};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d!=null&&d.startsWith(a)&&this.remove(d)}};return a}();e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getLocalStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getLocalStorage()};return b}(d);g=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;return a.call(this,(b=(h||(h=c("WebStorage"))).getSessionStorage())!=null?b:n)||this}b.available=function(){return!!(h||(h=c("WebStorage"))).getSessionStorage()};return b}(d);var o=function(){function a(){this._store={}}var b=a.prototype;b.getStore=function(){return this._store};b.keys=function(){return Object.keys(this._store)};b.get=function(a){return this._store[a]===void 0?null:this._store[a]};b.set=function(a,b){this._store[a]=b};b.remove=function(a){a in this._store&&delete this._store[a]};b.clear=function(){this._store={}};b.clearWithPrefix=function(a){a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};a.available=function(){return!0};return a}(),p={memory:o,localstorage:e,sessionstorage:g};a=function(){function a(a,d){this._changeCallbacks=[];this._key_prefix="_cs_";this._exception=null;d&&(this._key_prefix=d);a==="AUTO"||!a?d="memory":d=a;d&&(!p[d]||!p[d].available()?((i||(i=c("ExecutionEnvironment"))).canUseDOM,this._backend=new o()):this._backend=new p[d]());a=this.useBrowserStorage();a&&b("cr:6943").listen(window,"storage",this._onBrowserValueChanged.bind(this));d=a?this._backend.getStore().getItem(m):this._backend.getStore()[m];d!==l&&this.clearOwnKeys()}var d=a.prototype;d.useBrowserStorage=function(){return this._backend.getStore()===(h||(h=c("WebStorage"))).getLocalStorage()||this._backend.getStore()===(h||(h=c("WebStorage"))).getSessionStorage()};d.addValueChangeCallback=function(a){var b=this;this._changeCallbacks.push(a);return{remove:function(){b._changeCallbacks.slice(b._changeCallbacks.indexOf(a),1)}}};d._onBrowserValueChanged=function(a){this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};d.keys=function(){var a=this,b=[];(j||(j=c("ErrorGuard"))).guard(function(){if(a._backend){var c=a._backend.keys(),d=a._key_prefix.length;for(var e=0;e<c.length;e++)c[e].substr(0,d)==a._key_prefix&&b.push(c[e].substr(d))}},{name:"CacheStorage"})();return b};d.set=function(d,e,f){if(this._backend){if(this.useBrowserStorage()&&a._persistentWritesDisabled){this._exception=c("err")("writes disabled");return!1}var g;typeof e==="string"?g=k+e:!f?(g={__t:Date.now(),__v:e},g=b("cr:8958").stringify(g)):g=b("cr:8958").stringify(e);f=this._backend;e=this._key_prefix+d;d=!0;var h=null;while(d)try{h=null,f.set(e,g),d=!1}catch(a){h=a;var i=f.keys().length;this._evictCacheEntries();d=f.keys().length<i}if(h!==null){this._exception=h;return!1}else{this._exception=null;return!0}}this._exception=c("err")("no back end");return!1};d.getLastSetExceptionMessage=function(){return this._exception?this._exception.message:null};d.getLastSetException=function(){return this._exception};d.getStorageKeyCount=function(){var a=this._backend;return a?a.keys().length:0};d._evictCacheEntries=function(){var c=[],d=this._backend;d.keys().forEach(function(e){if(e===m)return;var g=d.get(e);if(g===void 0){d.remove(e);return}if(a._hasMagicPrefix(g))return;try{g=b("cr:8958").parse(g,f.id)}catch(a){d.remove(e);return}g&&g.__t!==void 0&&g.__v!==void 0&&c.push([e,g.__t])});c.sort(function(a,b){return a[1]-b[1]});for(var e=0;e<Math.ceil(c.length/2);e++)d.remove(c[e][0])};d.get=function(d,e){var g;if(this._backend){(j||(j=c("ErrorGuard"))).applyWithGuard(function(){g=this._backend.get(this._key_prefix+d)},this,[],{onError:function(){g=null},name:"CacheStorage:get"});if(g!=null)if(a._hasMagicPrefix(g))g=g.substr(k.length);else try{g=b("cr:8958").parse(g,f.id),g&&g.__t!==void 0&&g.__v!==void 0&&(g=g.__v)}catch(a){g=void 0}else g=void 0}g===void 0&&e!==void 0&&(g=e,this.set(d,g));return g};d.remove=function(a){this._backend&&(j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],{name:"CacheStorage:remove"})};d._setVersion=function(){var a=this;(j||(j=c("ErrorGuard"))).applyWithGuard(function(){a.useBrowserStorage()?a._backend.getStore().setItem(m,l):a._backend.getStore()[m]=l},this,[],{name:"CacheStorage:setVersion"})};d.clear=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clear,this._backend,[],{name:"CacheStorage:clear"}),this._setVersion())};d.clearOwnKeys=function(){this._backend&&((j||(j=c("ErrorGuard"))).applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],{name:"CacheStorage:clearOwnKeys"}),this._setVersion())};a.getAllStorageTypes=function(){return Object.keys(p)};a._hasMagicPrefix=function(a){return a.substr(0,k.length)===k};a.disablePersistentWrites=function(){a._persistentWritesDisabled=!0};return a}();a._persistentWritesDisabled=!1;f.exports=a}),34);
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(d,a);function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter2=d;e.$CrossWindowEventEmitter1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[babelHelpers.assertThisInitialized(e),d].concat(c.__v))}});return e}var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("EventListenerImplForCacheStorage",["CometEventListener"],(function(a,b,c,d,e,f){"use strict";f["default"]=b("CometEventListener")}),66);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("MqttEnvWebSocket",[],(function(a,b,c,d,e,f){"use strict";function a(a){return new WebSocket(a)}f.createWebSocket=a}),66);
__d("MqttEnv",["MqttEnvWebSocket","clearTimeout","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze({mqtt_waterfall_log_client_sampling:1,mqtt_ws_polling_enabled:3,mqtt_lp_use_fetch:9,mqtt_fast_lp:11,mqtt_lp_no_delay:12,mqtt_enable_publish_over_polling:13,mqttweb_global_connection_counter:15});e=function(){var a=b.prototype;a.random=function(){return this.$1!=null?this.$1():Math.random()};a.isUserLoggedInNow=function(){return this.$2!=null?this.$2():!0};a.setIsUserLoggedInNow=function(a){this.$2=a};a.clearTimeout=function(a){if(this.$3!=null){this.$3(a);return}c("clearTimeout")(a)};a.setTimeout=function(a,b){for(var d=arguments.length,e=new Array(d>2?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return this.$4!=null?this.$4.apply(null,arguments):c("setTimeout").apply(null,arguments)};a.getLoggerInstance=function(){return this.$5!=null?this.$5():h.getInstance()};a.genGk=function(a){return this.$6!=null?this.$6(a):!1};a.createSocket=function(a,b){return this.$7!=null?this.$7(a,b):d("MqttEnvWebSocket").createWebSocket(a)};a.scheduleCallback=function(a){return this.$8!=null?this.$8(a):a()};a.scheduleLoggingCallback=function(a){return this.$9!=null?this.$9(a):a()};a.configRead=function(a,b){return this.$10!=null?this.$10(a,b):b};a.configWrite=function(a,b){this.$11!=null&&this.$11(a,b)};function b(){this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null,this.$8=null,this.$9=null,this.$10=null,this.$11=null}a.initialize=function(a,b,c,d,e,f,g,h,i,j,k){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$10=j,this.$11=k};return b}();var h=function(){function a(){}a.getInstance=function(){return new a()};var b=a.prototype;b.setAppId=function(a){};b.eventLogConnect=function(a){};b.eventLogPull=function(a){};b.eventLogPullFinish=function(a){};b.eventLogDisconnect=function(a){};b.eventLogOutgoingPublish=function(a){};b.eventLogIncomingPublish=function(a){};b.eventLogPublishTimeout=function(a){};b.eventLogMiscellaneousError=function(a){};b.logIfLoggedOut=function(){};b.logError=function(a){};b.logErrorWarn=function(a){};b.logWarn=function(a){};b.debugTrace=function(a){};b.bumpCounter=function(a){};b.getBrowserConnectivity=function(){return!0};return a}(),i=new e();function a(a){i.setIsUserLoggedInNow(a)}g.MqttGkNames=b;g.Env=i;g.setIsUserLoggedInNow=a}),98);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return b;var c=new Uint8Array(a.length+b.length);c.set(a);c.set(b,a.length);return c}function b(a,b){b=b;var c=0,d=1,e;do{if(b===a.length)return null;e=a[b++];c+=(e&127)*d;d*=128}while((e&128)!==0);return{offset:b,value:c}}function c(a){a=a;var b=new Array(1);for(var c=0;c<4;c++){var d=a%128;a>>=7;if(a>0)b[c]=d|128;else{b[c]=d;break}}return b}function h(a,b,c){c=c;b[c++]=a>>8;b[c++]=a%256;return c}function e(a,b){return 256*a[b]+a[b+1]}function f(a){var b=0;for(var c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);e<128?b+=1:e<2048?b+=2:e>=55296&&e<=56319?(b+=4,c++):b+=3}return b}function i(a,b,c,d){d=h(b,c,d);j(a,c,d);return d+b}function j(a,b,c){c=c;for(var d=0,e=a.length;d<e;d++){var f=a.charCodeAt(d);f<128?b[c++]=f:f<2048?(b[c++]=192|f>>6,b[c++]=128|f&63):f<55296||f>=57344?(b[c++]=224|f>>12,b[c++]=128|f>>6&63,b[c++]=128|f&63):(f=65536+((f&1023)<<10|a.charCodeAt(++d)&1023),b[c++]=240|f>>18,b[c++]=128|f>>12&63,b[c++]=128|f>>6&63,b[c++]=128|f&63)}}function k(a,b,c){var d=[],e=b,f=0;while(e<b+c){var g=a[e++];if(g<128)d[f++]=String.fromCharCode(g);else if(g>191&&g<224){var h=a[e++];d[f++]=String.fromCharCode((g&31)<<6|h&63)}else if(g>239&&g<365){h=a[e++];var i=a[e++],j=a[e++];h=((g&7)<<18|(h&63)<<12|(i&63)<<6|j&63)-65536;d[f++]=String.fromCharCode(55296+(h>>10));d[f++]=String.fromCharCode(56320+(h&1023))}else{i=a[e++];j=a[e++];d[f++]=String.fromCharCode((g&15)<<12|(i&63)<<6|j&63)}}return d.join("")}var l=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$5=c,this.$6=d,this.$4=!1}var b=a.prototype;b.$7=function(){var a=this;this.$4?(this.$4=!1,this.$5(),this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},this.$2()*1e3)):this.$6()};b.reset=function(){var a=this;this.$4=!0;this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null);var b=this.$1()*1e3;b>0&&(this.$3=d("MqttEnv").Env.setTimeout(function(){a.$7()},b))};b.cancel=function(){this.$3&&(d("MqttEnv").Env.clearTimeout(this.$3),this.$3=null)};return a}();g.UTF8Length=f;g.convertStringToUTF8=j;g.concatBuffers=a;g.decodeMultiByteInt=b;g.convertUTF8ToString=k;g.encodeMultiByteInt=c;g.writeUInt16BE=h;g.readUInt16BE=e;g.writeString=i;g.Pinger=l}),98);
__d("MqttUtils",["MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h(a,"sid",b.toString())}function b(a,b){var c=a;b.forEach(function(a,b){c=h(c,b,a)});return c}function h(a,b,c){if(a.indexOf("?")>0)return a+"&"+b+"="+c;else return a+"?"+b+"="+c}function c(){return Math.floor(d("MqttEnv").Env.random()*Number.MAX_SAFE_INTEGER)}function i(a,b,c){var e=arguments.length>1?a.then(b,c):a;e.then(null,function(a){d("MqttEnv").Env.setTimeout(function(){if(a instanceof Error)throw a;else throw new Error("promiseDone")},0)})}function e(a,b,c,e){var f=!1;d("MqttEnv").Env.setTimeout(function(){f||(f=!0,c(new Error("promise timeout")))},e);i(a,function(a){f||(f=!0,b(a))},function(a){f||(f=!0,c(a))})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=0;return a.replace(/%s/g,function(){return String(c[e++])})}g.endpointWithSessionId=a;g.endpointWithExtraParameters=b;g.endpointWithExtraParameter=h;g.generateSessionId=c;g.promiseDone=i;g.promiseDoneWithTimeout=e;g.sprintf=f}),98);
__d("MqttProtocolCodec",["MqttProtocolUtils","MqttUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze({CONNECT:1,CONNACK:2,PUBLISH:3,PUBACK:4,SUBSCRIBE:8,SUBACK:9,UNSUBSCRIBE:10,UNSUBACK:11,PINGREQ:12,PINGRESP:13,DISCONNECT:14}),i=[0,6,77,81,73,115,100,112,3];function j(a,b){b=b;var e=b,f=a[b],g=f>>4;b+=1;var i=d("MqttProtocolUtils").decodeMultiByteInt(a,b);if(i==null)return{position:e,wireMessage:null};b=i.offset;i=b+i.value;if(i>a.length)return{position:e,wireMessage:null};var j;switch(g){case h.CONNACK:e=a[b++];e=!!(e&1);var o=a[b++];j=new m(e,o);break;case h.PUBLISH:e=f&15;o=e>>1&3;f=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;var r=d("MqttProtocolUtils").convertUTF8ToString(a,b,f);b+=f;f=null;o===1&&(f=d("MqttProtocolUtils").readUInt16BE(a,b),b+=2);var s=p.createWithBytes(a.subarray(b,i)),t=(e&1)===1;e=(e&8)===8;j=new q(r,s,o,f,t,e);break;case h.PINGREQ:j=new k("PINGREQ");break;case h.PINGRESP:j=new k("PINGRESP");break;case h.PUBACK:case h.UNSUBACK:r=d("MqttProtocolUtils").readUInt16BE(a,b);j=new n(g===h.PUBACK?"PUBACK":"UNSUBACK",r);break;case h.SUBACK:s=d("MqttProtocolUtils").readUInt16BE(a,b);b+=2;o=a.subarray(b,i);j=new l(s,o);break;default:throw c("err")(d("MqttUtils").sprintf("Invalid MQTT message type %s.",g))}return{position:i,wireMessage:j}}function a(a){var b=[],c=0;while(c<a.length){var d=j(a,c),e=d.wireMessage;c=d.position;if(e)b.push(e);else break}d=null;c<a.length&&(d=a.subarray(c));return{messages:b,remaining:d}}b=function(){function a(a){this.messageType=h[a]}var b=a.prototype;b.encode=function(){throw new TypeError("Cannot abstract class WireMessage")};return a}();var k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,a)||this}var c=a.prototype;c.encode=function(){var a=new ArrayBuffer(2),b=new Uint8Array(a);b[0]=(this.messageType&15)<<4;return a};return a}(b);e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"DISCONNECT")||this}var c=b.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=new ArrayBuffer(2),c=new Uint8Array(b);c[0]=a;c.set(d("MqttProtocolUtils").encodeMultiByteInt(0),1);return b};return b}(b);var l=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"SUBACK")||this;d.messageIdentifier=a;d.returnCode=c;return d}return a}(b),m=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,"CONNACK")||this;d.sessionPresent=a;d.returnCode=c;return d}return a}(b),n=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.messageIdentifier=c;return a}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4,b=2,c=d("MqttProtocolUtils").encodeMultiByteInt(b),e=c.length+1;b=new ArrayBuffer(b+e);var f=new Uint8Array(b);f[0]=a;f.set(c,1);e=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,e);return b};return a}(b);f=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this,"CONNECT")||this;d.clientId=b;d.connectOptions=c;return d}var c=b.prototype;c.encode=function(){var a,b=(this.messageType&15)<<4,c=i.length+3;c+=(a=d("MqttProtocolUtils")).UTF8Length(this.clientId)+2;c+=a.UTF8Length(this.connectOptions.userName)+2;var e=a.encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=b;b=1;f.set(e,1);b+=e.length;f.set(i,b);b+=i.length;e=2|128;f[b++]=e;b=a.writeUInt16BE(this.connectOptions.getKeepAliveIntervalSeconds(),f,b);b=a.writeString(this.clientId,a.UTF8Length(this.clientId),f,b);b=a.writeString(this.connectOptions.userName,a.UTF8Length(this.connectOptions.userName),f,b);return c};return b}(b);var o=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,e,f){var g;g=b.call(this,a)||this;g.topic=c;if(e<0&&e>1||e===1&&f==null)throw new TypeError(d("MqttUtils").sprintf("Argument Invalid. qos: %s messageType: %s.",e,a));g.qos=e;g.messageIdentifier=f;return g}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;a|=2;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=2+b+2;this.messageType===h.SUBSCRIBE&&(c+=1);var e=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+e.length+c);var f=new Uint8Array(c);f[0]=a;a=1;f.set(e,1);a+=e.length;this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,f,a));a=d("MqttProtocolUtils").writeString(this.topic,b,f,a);this.messageType===h.SUBSCRIBE&&this.qos!=null&&(f[a++]=this.qos);return c};return a}(b),p=function(){function a(a,b){this.payloadString=a,this.payloadBytes=b}a.createWithString=function(b){var c=new Uint8Array(new ArrayBuffer(d("MqttProtocolUtils").UTF8Length(b)));d("MqttProtocolUtils").convertStringToUTF8(b,c,0);return new a(b,c)};a.createWithBytes=function(b){var c=d("MqttProtocolUtils").convertUTF8ToString(b,0,b.length);return new a(c,b)};var b=a.prototype;b.string=function(){return this.payloadString};b.bytes=function(){return this.payloadBytes};return a}(),q=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c,d,e,f,g){var h;h=b.call(this,"PUBLISH")||this;h.topic=a;h.payloadMessage=c;h.qos=d;h.messageIdentifier=e;h.retained=f!=null?f:!1;h.duplicate=g!=null?g:!1;if(h.qos===1&&h.messageIdentifier==null)throw new TypeError("Argument Invalid. messageIdentifier: null and qos: 1");return h}var c=a.prototype;c.encode=function(){var a=(this.messageType&15)<<4;this.duplicate&&(a|=8);a=a|=this.qos<<1;this.retained&&a!=1;var b=d("MqttProtocolUtils").UTF8Length(this.topic),c=b+2,e=this.qos===0?0:2;c+=e;e=this.payloadMessage.bytes();c+=e.byteLength;var f=d("MqttProtocolUtils").encodeMultiByteInt(c);c=new ArrayBuffer(1+f.length+c);var g=new Uint8Array(c);g[0]=a;g.set(f,1);a=1+f.length;a=d("MqttProtocolUtils").writeString(this.topic,b,g,a);this.qos!==0&&this.messageIdentifier!=null&&(a=d("MqttProtocolUtils").writeUInt16BE(this.messageIdentifier,g,a));g.set(e,a);return c};return a}(b),r=p.createWithString,s=p.createWithBytes;b={Base:b,ConnAck:m,Connect:f,Disconnect:e,Ping:k,PubAckUnsubAck:n,Publish:q,Subscription:o};g.MESSAGE_TYPE=h;g.decodeMessage=j;g.decodeByteMessages=a;g.Message=p;g.createMessageWithString=r;g.createMessageWithBytes=s;g.WireMessage=b}),98);
__d("MqttTypes",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c){this.errorCode=a,this.errorName=b,this.errorMessage=c};b=Object.freeze({APP_DISCONNECT:new a(7,"APP_DISCONNECT","Disconnect initiated by app"),BROWSER_CLOSE:new a(11,"BROWSER_CLOSE","Browser closed"),CONNACK_FAILURE:new a(5,"CONNACK_FAILURE","Connection failure due to connack"),CONNECT_TIMEOUT:new a(4,"CONNECT_TIMEOUT","Connect timed out"),INVALID_DATA_TYPE:new a(3,"INVALID_DATA_TYPE","Received non-arraybuffer from socket."),PING_TIMEOUT:new a(6,"PING_TIMEOUT","Ping timeout"),RECONNECT:new a(10,"RECONNECT","Reconnecting"),SERVER_DISCONNECT:new a(8,"SERVER_DISCONNECT","Disconnect message sent my server"),SOCKET_CLOSE:new a(9,"SOCKET_CLOSE","Socket connection closed"),SOCKET_ERROR:new a(1,"SOCKET_ERROR","Socket error"),SOCKET_MESSAGE:new a(2,"SOCKET_MESSAGE","Unable to parse invalid socket message")});c=function(a,b){this.mqttError=a,this.connAck=b};d=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){d===void 0&&(d=null);c=a.call(this,c)||this;c.isRecoverable=b;c.originalError=d;return c}return b}(babelHelpers.wrapNativeSuper(Error));f.MqttError=a;f.MqttErrors=b;f.ConnectFailure=c;f.MqttChannelError=d}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var c=a.messages;b.$10=a.remaining;for(a=0;a<c.length;a++)b.handleMessage(c[a])}catch(a){b.$10=null,b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage),b.$9.bumpCounter("protocol.error.onmessage.parse"),b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttUserNameUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null?a:typeof document==="object"&&document&&document.hasFocus&&document.hasFocus()}function b(){return navigator.userAgent}f.getMqttForegroundStatus=a;f.getUserAgent=b}),66);
__d("MqttUserName",["MqttUserNameUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,e,f,g,h,i,j,k,l,m){h===void 0&&(h=null),i===void 0&&(i=""),j===void 0&&(j="websocket"),k===void 0&&(k=null),l===void 0&&(l=null),m===void 0&&(m=null),this.$1=a,this.$2=b,this.$3=c,this.$4=e,this.$5=f,this.$6=g,this.$7=d("MqttUserNameUtils").getMqttForegroundStatus(),this.$8=h,this.$9=i,this.$10=j,this.$11=k,this.$12=l,this.$13=m}var b=a.prototype;b.gen=function(a,b,c,e){e===void 0&&(e=[]);var f=d("MqttUserNameUtils").getMqttForegroundStatus(this.$7);c=c.map(function(a){a={isBase64Publish:!1,messageId:a.messageId,payload:a.payload,qos:a.qos,topic:a.topic};typeof a.payload!=="string"&&(a.payload=btoa(String.fromCharCode.apply(null,a.payload)),a.isBase64Publish=!0);return a});f={a:d("MqttUserNameUtils").getUserAgent(),asi:this.$13,aid:this.$5,aids:this.$12!=null?Object.fromEntries(this.$12):null,chat_on:this.$6,cp:this.$3,ct:this.$10,d:this.$4,dc:"",ecp:this.$2,fg:f,gas:this.$8,mqtt_sid:"",no_auto_fg:!0,p:this.$11,pack:e,php_override:this.$9,pm:c,s:a,st:b,u:this.$1};return JSON.stringify(f)};b.setForegroundState=function(a){this.$7=a};b.setChatVisibility=function(a){this.$6=a};b.getEndpointCapabilities=function(){return this.$2};b.getDeviceId=function(){return this.$4};b.setEndpointCapabilities=function(a){this.$2=a};b.getIsGuestAuthStringPresent=function(){return this.$8!==null};return a}();g["default"]=a}),98);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null?void 0:g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null?void 0:b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null?void 0:e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttWebSocketUtils",[],(function(a,b,c,d,e,f){"use strict";function b(){return"WebSocket"in a&&a.WebSocket!=null&&"CLOSING"in a.WebSocket.prototype}f.hasWSSupport=b}),66);
__d("isFastRefreshEnabledForCurrentDomain",[],(function(a,b,c,d,e,f){"use strict";function a(){return!1}f["default"]=a}),66);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null?void 0:a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;try{g(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}}g=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!g)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;c=f[d++]}else{d=f.next();if(d.done)break;c=d.value}a=c;try{a(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onJSError&&e.onJSError(a)}};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.onMQTTStateChanged(a)}};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttConfig",["MqttWebConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MqttWebConfig")}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){a.getInstance=function(){n||(n=new a());return n};function a(){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$6(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null)}var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;f=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+f);f=r/(r+j);r=n&&this.getBrowserConnectivity();var s={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:f.toString(),device_id:this.$4,hostname:k},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(j=this.$5)==null?void 0:j.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return s})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$8(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$8(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(b=this.$5)==null?void 0:b.getGlobalState().totalConnectionStreams.toString()};this.$7(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$7(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$9(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$8=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$10();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$9=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$7=function(a){this.$9(a,0,!1)};b.$10=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$6=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return c("gkx")("21121");case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("PromiseResult",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.promise=new(g||(g=b("Promise")))(function(b,c){a.$1=b,a.$2=c})}var c=a.prototype;c.resolve=function(a){this.$1(a)};c.reject=function(a){this.$2(a)};return a}();f["default"]=a}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult"],(function(a,b,c,d,e,f,g){"use strict";var h,i="fetch_pull",j="fetch_pull_finish",k="fetch_",l=6e4,m="action",n="chunked",o="send",p="true",q=5,r=20,s=10,t=5e3,u=typeof window!=="undefined"?window:self;a=function(){function a(){this.$1="",this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(c("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}a.isSupported=function(){return typeof u.fetch==="function"};var e=a.prototype;e.run=function(a,b,c,e,f,g,h,i){this.$1=d("MqttUtils").endpointWithSessionId(a,b),this.$3=b,this.$4=c,this.$5=e,this.$6=f,this.$7=g,this.$8=h,this.$9=i,this.$20()};e.isTopicSupported=function(a){return!0};e.publish=function(a,b){return this.$21(a,b)};e.publishBinary=function(a,b){return this.$21(a,b)};e.$21=function(a,d){if(this.$14!=="ReceivingData"){this.$2.bumpCounter(k+"publish."+a+".invalidstate");return(h||(h=b("Promise"))).reject("not connected")}else{this.$2.bumpCounter(k+"publish."+a+".publish");var e=new(c("PromiseResult"))();a={topic:a,payload:d,promiseResult:e};this.$15.push(a);this.$22();return e.promise}};e.abort=function(){this.$6=function(){},this.$7=function(a){},this.$8=function(){},this.$9=function(a){}};e.$23=function(a){var b=this;a.forEach(function(a){b.$2.bumpCounter(k+"publish."+a.topic+".resolved"),a.promiseResult.resolve()});this.$12+=a.length};e.$24=function(a,b){var c=this;a.forEach(function(a){c.$2.bumpCounter(k+"publish."+a.topic+".rejected"),a.promiseResult.reject(b)})};e.$25=function(a,b,c,d){var e=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+c);this.$2.bumpCounter(k+"publish_request_failed");this.$14!=="ReceivingData"||c===q?(this.$24(a,d),this.$18=!1,this.$2.bumpCounter(k+"publish_request_failed_final"),this.$22()):this.$26(a,b,c+1)};e.$27=function(a,b,c,d){if(!d.ok){this.$2.bumpCounter(k+"publish_request_failed.http."+d.status);if(d.status===409){this.$19++;if(this.$19>=s){this.$2.bumpCounter(k+"409_reset");this.$28(new Error("Too many 409 errors"));return}}this.$25(a,b,c,this.$29(d));return}this.$2.bumpCounter(k+"publish_request_success");b=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+b+", retry:"+c);this.$23(a);this.$18=!1;this.$22()};e.$22=function(){if(this.$14!=="ReceivingData")return;if(this.$18)return;if(this.$15.length===0&&this.$16.length===0)return;this.$18=!0;var a=this.$15.slice(0,r);this.$15=this.$15.slice(r,this.$15.length);this.$17!=null&&d("MqttEnv").Env.clearTimeout(this.$17);this.$17=null;var b=this.$16.slice(0,r);this.$16=this.$16.slice(r,this.$16.length);this.$26(a,b,0)};e.$26=function(a,b,c){var e=this,f=a.map(function(a){return a.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+f+", retry:"+c);f=d("MqttUtils").endpointWithExtraParameter(this.$1,m,o);var g=a.map(function(a){return{topic:a.topic,payload:a.payload,qos:0,messageId:d("MqttEnv").Env.random()}});g=this.$5.gen(this.$3,[],g,b);this.$2.bumpCounter(k+"publish_request");d("MqttUtils").promiseDoneWithTimeout(u.fetch(f,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:g,keepalive:!1}),function(d){return e.$27(a,b,c,d)},function(d){return e.$25(a,b,c,d)},l)};e.$30=function(a){a=a.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+a);this.$9(a);this.$31(!1,a);this.$2.bumpCounter(k+"error");this.$14="Error"};e.$32=function(a){var b=this;this.$2.debugTrace("FetchClient","Fetch response data received");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages;var c=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ});a=a.filter(function(a){return a.messageType===d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(a){if(!(a instanceof d("MqttProtocolCodec").WireMessage.Publish))return{};a=a;a.qos===1&&a.messageIdentifier!=null&&(b.$16.push(a.messageIdentifier),b.$17==null&&(b.$17=d("MqttEnv").Env.setTimeout(function(){b.$22()},t)));return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}});for(var e=a,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(f){if(g>=e.length)break;h=e[g++]}else{g=e.next();if(g.done)break;h=g.value}h=h;this.$2.bumpCounter(k+"response_"+((h=h.topic)!=null?h:"void"))}a&&a.length>0&&(this.$13+=a.length,this.$7(a));c&&c.length>0&&this.$33()};e.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(k+"ping")};e.$28=function(a){this.$2.debugTrace("FetchClient","Fetch request ended: "+a.toString()),this.$2.bumpCounter(k+"done"),this.$34(a.message),this.$8(),this.$14="Done"};e.$35=function(a,b,c){var e=this;if(c!=null)try{this.$32(c)}catch(a){this.$28(a);this.$2.bumpCounter(k+"dataDecodeException");return}if(b){this.$28(new Error("EOF"));return}d("MqttUtils").promiseDone(a.read(),function(c){var b=c.done;c=c.value;return e.$35(a,b,c)},function(a){return e.$28(a)})};e.$36=function(a){if(!a.ok){this.$2.bumpCounter(k+"error.http."+a.status);this.$30(this.$29(a));return}a=a.body;if(!a){this.$30(new Error("Empty body"));return}a=a.getReader();this.$6();this.$2.bumpCounter(k+"success");this.$31(!0,null);this.$11=Date.now();this.$14="ReceivingData";this.$2.debugTrace("FetchClient","Fetch request success");this.$35(a,!1,null)};e.$34=function(a){this.$2.eventLogPullFinish({pullEventName:j,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:a,publishReceived:this.$13,publishSent:this.$12})};e.$31=function(a,b){this.$2.eventLogPull({pullEventName:i,sessionID:this.$3,status:a,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:b})};e.$20=function(){var a=this;if(this.$14!=="Ready")return;this.$2.debugTrace("FetchClient","Sending fetch request");this.$2.bumpCounter(k+"request");this.$10=Date.now();var b=d("MqttUtils").endpointWithExtraParameter(this.$1,n,p);d("MqttUtils").promiseDoneWithTimeout(u.fetch(b,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(b){return a.$36(b)},function(b){return a.$30(b)},l)};e.$29=function(a){return new Error("Http error, status="+a.status)};return a}();g["default"]=a}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport"],(function(a,b,c,d,e,f,g){"use strict";var h,i=120*1e3,j="simple_pull",k="longpolling_";a=function(){function a(){this.$3="",this.$4=0,this.$2=d("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(c("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(a){},this.$9=function(){},this.$10=function(a){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var e=a.prototype;e.run=function(a,b,c,d,e,f,g,h){this.$3=a,this.$4=b,this.$5=c,this.$6=d,this.$7=e,this.$8=f,this.$9=g,this.$10=h,this.$14(this.$5)};e.isTopicSupported=function(a){return this.$13.has(a)};e.publish=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.publishBinary=function(a,c){return(h||(h=b("Promise"))).reject("not supported")};e.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")};e.$15=function(a,b){if(this.$1===a)return;this.$1=a;a==="Error"&&b!=null&&this.$10(b);this.$2.debugTrace("LongPollingClient","_changeStatus : "+a)};e.$16=function(a){if(this.$1!=="RequestSend")return;if(!a){this.$17("EmptyResponse",null);return}this.$7();this.$2.bumpCounter(k+"success");this.$18(!0,null);this.$15("ResponseReceived");a=d("MqttProtocolCodec").decodeByteMessages(new Uint8Array(a));a=a.messages.filter(function(a){return a instanceof d("MqttProtocolCodec").WireMessage.Publish}).map(function(a){if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){a=a;return{topic:a.topic,payload:a.payloadMessage,qos:a.qos}}else return{}});this.$8(a);this.$9()};e.$17=function(a,b){b=b!=null?b.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+a+", errorMsg:"+b);this.$18(!1,a+":"+b);this.$2.bumpCounter(k+"error."+a);this.$15("Error",a)};e.$18=function(a,b){this.$2.eventLogPull({pullEventName:j,sessionID:this.$4,status:a,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:b})};e.$14=function(a){var b=this;if(this.$1!=="Ready"||this.$12)return;this.$2.bumpCounter(k+"request");try{this.$11=Date.now(),this.$12=new(c("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(a).setTransportBuilder(c("getCrossOriginTransport").withCredentials).setResponseHandler(function(a){return b.$16(a)}).setNetworkFailureHandler(function(a){b.$17("Network",a)}).setErrorHandler(function(a){b.$17("Error",a)}).setAbortHandler(function(a){b.$17("Abort",null)}).setTimeoutHandler(function(){b.$17("Timeout",null)}).setTimeout(i).send(),this.$15("RequestSend")}catch(a){this.$17("Error",a)}};return a}();g["default"]=a}),98);
__d("MqttLongPollingHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onPollRequestSent=function(){this.$1.forEach(function(a){a.onPollRequestSent()})};b.onPollRequestSuccess=function(){this.$1.forEach(function(a){a.onPollRequestSuccess()})};b.onPollResponse=function(a){this.$1.forEach(function(b){b.onPollResponse(a)})};b.onPollFinish=function(){this.$1.forEach(function(a){a.onPollFinish()})};b.onPollRequestFailed=function(a){this.$1.forEach(function(b){b.onPollRequestFailed(a)})};b.onPollShutdownAbort=function(){this.$1.forEach(function(a){a.onPollShutdownAbort()})};return a}();f["default"]=a}),66);
__d("exponentialBackoff",["MqttEnv"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b=null);var c=null,e=0;function f(){for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];var i=function(){a.apply(b,g)};if(c===null){var j=Math.max(0,Math.pow(2,Math.min(e,6))*(1e3+d("MqttEnv").Env.random()*100)-2e3);c=d("MqttEnv").Env.setTimeout(function(){i(),c=null},j)}e++}f.reset=function(){e=0,c!=null&&(d("MqttEnv").Env.clearTimeout(c),c=null)};f.isPending=function(){return c!=null};return f}g["default"]=a}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff"],(function(a,b,c,d,e,f,g){"use strict";var h,i=4,j=1e3,k=3e3,l="mqtt_should_longpoll",m="last_lp",n="yes",o="no";a=function(){function a(a,b,e,f,g,h,i,j,k){var l=this;this.$23=function(){try{if(!l.$30())return;l.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var a=l.$31();l.$14=a;var b=l.$9(),c=l.$10();b=b.filter(function(b){return a.isTopicSupported(b)});c=c.filter(function(b){return a.isTopicSupported(b.topic)});if(b.length===0&&c.length===0){l.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do");l.$14=null;d("MqttEnv").Env.setTimeout(function(){l.$23()},1e3);return}var e=d("MqttUtils").generateSessionId();a.run(l.$6,e,l.$7.gen(e,b,c),l.$7,function(){return l.$32()},function(a){return l.$33(a)},function(){return l.$34()},function(a){return l.$35(a)});l.$19.onPollRequestSent();e=b.join(",");b=c.map(function(a){return a.topic}).join(",");l.$5.debugTrace("LongPollingRunner","Making a poll request to "+l.$6+". SubscribedTopics:"+e+". Publishes:"+b)}catch(a){a&&l.$5.logErrorWarn(a,"lp_js_error"),l.$11(new(d("MqttTypes").MqttChannelError)(!1,"js error lp",a)),l.$35("lp_js_error")}};this.$6=a;this.$7=b;this.$1=f;this.$2=0;this.$3=e;this.$4=d("MqttWebSocketUtils").hasWSSupport();this.$5=d("MqttEnv").Env.getLoggerInstance();this.$8=g;this.$9=h;this.$10=i;this.$11=j;this.$12=k;this.$13=!1;this.$14=null;this.$15="LPInactive";this.$16="NotSent";this.$17=0;this.$19=new(c("MqttLongPollingHookCollection"))();this.$18=c("exponentialBackoff")(this.$23,this);this.$20=0;this.$21=o;a=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch);b=c("MqttFetchClient").isSupported();a?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail");b?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported");this.$22=a&&b}var e=a.prototype;e.addHook=function(a){this.$19.addHook(a)};e.start=function(){var a=this;this.$21=d("MqttEnv").Env.configRead(m,o);this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21);this.$20=Date.now();this.$23();d("MqttEnv").Env.setTimeout(function(){a.$23()},j+100);d("MqttEnv").Env.setTimeout(function(){a.$23()},k+100)};e.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null};e.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"};e.publish=function(a,b,c){return this.$24(a,b)};e.publishBinary=function(a,b,c){return this.$24(a,b)};e.$24=function(a,c){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&(this.$14&&this.$14.isTopicSupported(a)))if(typeof c==="string")return this.$14.publish(a,c);else return this.$14.publishBinary(a,c);return(h||(h=b("Promise"))).reject()};e.onConnectAttempt=function(){};e.onConnectFailure=function(){this.$2++,this.$23()};e.onConnected=function(){};e.onConnectSuccess=function(){this.$1=!0,d("MqttEnv").Env.configWrite(m,null)};e.onConnectionLost=function(){};e.onConnectionDisconnect=function(){};e.onSubscribe=function(a){};e.onUnsubscribe=function(a){};e.onPublish=function(a){};e.onMessage=function(a){};e.onWSFatal=function(){this.$3=!0,this.$23()};e.getStatus=function(){return this.$15};e.getRequestStatus=function(){return this.$16};e.$25=function(a){a!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+a+" from "+this.$15),this.$15=a,this.$12(this.$15,this.$16))};e.$26=function(a){if(!this.$22)return;a!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+a+" from "+this.$16),this.$16=a,this.$12(this.$15,this.$16))};e.$27=function(){this.$17=0};e.$28=function(){this.$17++,this.$17>=i&&this.$25("LPError")};e.$29=function(){var a,b=(a=d("MqttEnv")).Env.genGk(a.MqttGkNames.mqtt_lp_no_delay),c=a.Env.genGk(a.MqttGkNames.mqtt_ws_polling_enabled);a=a.Env.genGk(a.MqttGkNames.mqtt_fast_lp);this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(b)+" enabled:"+String(c)+" fastPoll:"+String(a)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3));if(!c)return!1;if(b){this.$5.bumpCounter(l+".nd");return!0}if(!this.$4){this.$5.bumpCounter(l+".na");return!0}if(this.$3){this.$5.bumpCounter(l+".fatal");return!0}if(this.$1)return!1;if(a){c=Date.now()-this.$20;if(this.$21===n){if(this.$2>=1)return!0;if(c>j){this.$5.bumpCounter(l+".fastdelay");return!0}}else if(c>k){this.$5.bumpCounter(l+".regulardelay");return!0}}if(this.$2>=3){this.$5.bumpCounter(l+".failure");return!0}return!1};e.$30=function(){if(this.$14!=null)return!1;var a=this.$29();!this.$13&&a&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27());this.$13&&!a&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27());return a};e.$31=function(){if(this.$22){this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API");return new(c("MqttFetchClient"))()}else{this.$5.debugTrace("LongPollingRunner","Creating regular Polling client");return new(c("MqttLongPollingClient"))()}};e.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),d("MqttEnv").Env.configWrite(m,n),this.$26("ReceivingData")};e.$33=function(a){var b=a.map(function(a){return a.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+b);for(b=0;b<a.length;b++){var c=a[b];this.$19.onPollResponse(c.topic);this.$8(c.topic,c.payload,c.qos)}};e.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")};e.$35=function(a){this.$19.onPollRequestFailed(a),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")};return a}();g["default"]=a}),98);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744247");b=d("FalcoLoggerInternal").create("qp_action",a);e=b;g["default"]=e}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744249");b=d("FalcoLoggerInternal").create("qp_impression",a);e=b;g["default"]=e}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);/*FB_PKG_DELIM*/
__d("LSClientDependencies",[],(function(a,b,c,d,e,f){}),null);
__d("LSDynamicDependencies",["Bootloader","ODS","Promise","SiteData","asyncToGeneratorRuntime","clearTimeout","cr:1183","err","justknobx","nullthrows","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=babelHelpers["extends"]({},b("cr:1183")),k={_tombstone:!0};function a(a){var e=new Map();for(a of a){var f=a.name;f!=null&&!n(f)&&e.set(f,c("nullthrows")(a.value))}if(e.size===0)return(i||(i=b("Promise"))).resolve();var g=new(i||(i=b("Promise")))(function(a){var f={},i=[],k=function(c){var a=c[0];c=c[1];c=c==null?void 0:c.__dr;f[c]={be:1,r:[]};i.push(c);(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.relay",c);j[a]={load:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield g;return j[a]});function d(){return c.apply(this,arguments)}return d}()}};for(var m of e)k(m);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});l(c("Bootloader"),i,function(b){Array.from(e.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()})});return g}function l(a,b,c){return a.loadModules.call(a,b,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c(b)})}function m(a){return a.charAt(0).toUpperCase()+a.slice(1)}function n(a){return a in j&&j[a]!==k}var o=c("justknobx")._("2800");function e(a,e,f){var g=new Map();for(a of(a=a)!=null?a:[]){n(a)||g.set(a,"LS"+m(a))}for(e of(a=e)!=null?a:[]){!n(e+".bs")?g.set(e+".bs","LS"+m(e)+".nop"):e+".nop"in j||g.set(e+".nop","LS"+m(e)+".nop")}for(e of(a=f)!=null?a:[]){e in j||g.set(e,"LS"+m(e))}if(g.size===0)return(i||(i=b("Promise"))).resolve();var p=new(i||(i=b("Promise")))(function(a,e){var f={},i=[],m=function(a){var c=a[0];a=a[1];(h||(h=d("ODS"))).bumpEntityKey(3185,"ls_download_dependency.bootloader",a);f[a]={be:1,r:[]};i.push(a);j[c]={load:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{yield p}catch(a){j[c]=k;throw a}return j[c]});function d(){return a.apply(this,arguments)}return d}()}};for(var n of g)m(n);c("Bootloader").handlePayload({compMap:f,consistency:{rev:c("SiteData").client_revision}});var q=l(c("Bootloader"),i,function(b){c("clearTimeout")(r),Array.from(g.entries()).forEach(function(a,c){var d=a[0];a[1];j[d]=b[c]}),a()}),r=c("setTimeout")(function(){q.remove(),e(c("err")("Dynamic sproc loading timeout (%s ms); was loading: %s",o,Array.from(g.keys())))},o)});return p}g.cachedModules=j;g.TOMBSTONE=k;g.downloadRelayDependencies=a;g.downloadBootloaderDependencies=e}),98);
__d("XPlatReactCrypto",["err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=self.crypto)==null?void 0:h.subtle;function a(a){var b;if(typeof ((b=self.crypto)==null?void 0:b.getRandomValues)!=="function")throw c("err")("crypto.getRandomValues: Not implemented");self.crypto.getRandomValues(a);return a}function b(){var a;if(typeof ((a=self.crypto)==null?void 0:a.randomUUID)!=="function")return null;a=self.crypto.randomUUID();return typeof a==="string"?a:null}function d(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.importKey: Not implemented");return i.importKey(a,b,d,e,f)}function e(a,b){if(i==null)throw c("err")("crypto.subtle.exportKey: Not implemented");return i.exportKey(a,b)}function f(a,b,d){if(i==null)throw c("err")("crypto.subtle.generateKey: Not implemented");return i.generateKey(a,b,d)}function j(a,b,d){if(i==null)throw c("err")("crypto.subtle.encrypt: Not implemented");return i.encrypt(a,b,d)}function k(a,b,d){if(i==null)throw c("err")("crypto.subtle.decrypt: Not implemented");return i.decrypt(a,b,d)}function l(a,b,d){if(i==null)throw c("err")("crypto.subtle.sign: Not implemented");return i.sign(a,b,d)}function m(a,b){if(i==null)throw c("err")("crypto.subtle.digest: Not implemented");return i.digest(a,b)}function n(a,b,d){if(i==null)throw c("err")("crypto.subtle.deriveBits: Not implemented");return i.deriveBits(a,b,d)}function o(a,b,d,e,f){if(i==null)throw c("err")("crypto.subtle.deriveKey: Not implemented");return i.deriveKey(a,b,d,e,f)}g.getRandomValues=a;g.randomUUID=b;g.subtleImportKey=d;g.subtleExportKey=e;g.subtleGenerateKey=f;g.subtleEncrypt=j;g.subtleDecrypt=k;g.subtleSign=l;g.subtleDigest=m;g.subtleDeriveBits=n;g.subtleDeriveKey=o}),98);
__d("LSInt64Lite",["FBLogger","I64","XPlatReactCrypto"],(function(a,b,c,d,e,f,g){"use strict";var h;a={add:(h||(h=d("I64"))).add,and_:h.and_,asr_:h.asr_,cast:function(a){a._tag="i64";return a},div:h.div,eq:function(a,b){return a==null&&b==null||a!=null&&b!=null&&(h||(h=d("I64"))).equal(a,b)},from_string:function(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){throw c("FBLogger")("messenger_comet").mustfixThrow('Unable to cast "%s" to int64',a)}},ge:h.ge,gt:h.gt,le:h.le,lsl_:h.lsl_,lsr_:h.lsr_,lt:h.lt,max:h.max,min:h.min,mod_:h.mod_,mul:h.mul,neq:function(a,b){return a==null&&b!=null||a!=null&&b==null||a!=null&&b!=null&&!(h||(h=d("I64"))).equal(a,b)},of_float:h.of_float,of_int32:h.of_int32,or_:h.or_,random:function(){var a=Array.from(d("XPlatReactCrypto").getRandomValues(new Uint32Array(2)));a[0]>>>=1;return(h||(h=d("I64"))).add(h.lsl_(h.of_float(a[0]),32),h.of_float(a[1]))},sub:h.sub,to_float:h.to_float,to_int32:h.to_int32,to_string:function(a){return a==null?a:(h||(h=d("I64"))).to_string(a)},xor:h.xor};g["default"]=a}),98);
__d("LSMaybeSyncIteration",["LSSynchronousPromise","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h,i={__val__:"__stop_iteration__"};function a(a){return{__val__:"__next_value__",next:a}}function j(a){return a!=null&&typeof a==="object"&&a.__val__==="__next_value__"}function k(a,b,e){var f=l(a,e);while(!(h||(h=c("isPromise")))(f)){if(f.done)return d("LSSynchronousPromise").makeSynchronousPromise(f);e=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(f));if(!(h||(h=c("isPromise")))(e)){if(e===i)return d("LSSynchronousPromise").makeSynchronousPromise(f);var g=j(e)?e.next:void 0;f=l(a,g)}else return e.then(function(c){if(c===i)return f;c=j(c)?c.next:void 0;return k(a,b,c)})}var n=m(b);return f.then(function(c){return c.done?c:n(c).then(function(d){if(d===i)return c;d=j(d)?d.next:void 0;return k(a,b,d)})})}function l(a,b){a=a.next(b);return!(h||(h=c("isPromise")))(a)?a:d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a)}function m(a){return function(b){b=a(b);return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(b)}}g.STOP_ITERATION=i;g.wrapNextValue=a;g.iteratorLoop=k}),98);
__d("LSIterationOperations",["I64","LSDict","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return j(a,b)},c.next=function(){var c={done:!0},e=function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(b(a.value.item)).then(function(b){if(b){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION}})};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){return c})},c}function k(a,b,c){var e,f=0;return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return k(a,b,c)},e.next=function(){if(f>=c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});var e={done:!0},g=function(a){if(f++<b)return;e=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,g).then(function(){return e})},e}function a(a,b){return l(a).then(function(a){return a.reduce(function(a,c){return a.then(function(){return b(c)})},d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0))})}function l(a){var b=[],c=function(a){b.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return b})}function m(a,b,c){var e;c===void 0&&(c=[]);var f={ASC:1,DESC:-1},g=function(a,c){a=a.item;c=c.item;for(var e=0;e<b.length;e++){var g=b[e];g=g[0];var i=a[g];g=c[g];var j;i==null&&g==null?j=0:i==null&&g!=null?j=-1:i!=null&&g==null?j=1:j=(h||(h=d("ReStoreKeyComparer"))).compareValue(i,g);if(j===0)continue;return j*f[b[e][1]]}return 0},i,j=[],k=[],l=function(a){var b=[];for(var d=c.length-1;d>=0;d--)b.push(a[c[d]]);return b},n=function(){k=j,k.sort(g),j=[]};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return m(a,b,c)},e.next=function(){if(k.length)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!1,value:k.shift()});var b=function(a){var b=l(a.value.item);if(i!=null&&(h||(h=d("ReStoreKeyComparer"))).compareKey(i,b)!==0){n();j.push(a.value);i=b;return d("LSMaybeSyncIteration").STOP_ITERATION}i=b;j.push(a.value)};return d("LSMaybeSyncIteration").iteratorLoop(a,b).then(function(){!k.length&&j.length&&n();if(k.length)return{done:!1,value:k.shift()};else return{done:!0}})},e}function b(a){var b=0,c=function(){b++};return d("LSMaybeSyncIteration").iteratorLoop(a,c).then(function(){return(i||(i=d("I64"))).of_int32(b)})}function e(a,b){return{forEach:function(e){return l(a).then(function(a){a=a.reduce(function(a,c){c=c.item[b];var d=(a.get(c)||0)+1;return a.set(c,d)},new(c("LSDict"))());var f=d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0),g=function(a){var c=a[0],g=a[1];f=f.then(function(){var a;return e((a={},a[b]=c,a.group_count=(i||(i=d("I64"))).of_int32(g),a))})};for(a of a.entries())g(a);return f})}}}g.filter=j;g.slice=k;g.forEach=a;g.toArray=l;g.sortBy=m;g.count=b;g.groupBy=e}),98);
__d("LSPendingTasksPluginType",[],(function(a,b,c,d,e,f){a=Object.freeze({LS_BROKER:0,PAYMENTS:1,EPHEMERAL_MESSAGING:2,CARRIER_MESSAGING:3,BUG_REPORTER:4,MESSAGE_DENORMALIZATIONS:5,SEEN_HEADS:6,MEDIA_UPLOAD:7,SECURE_THREAD_SEEN_HEADS:8,WHATSAPP_THREAD:9,SECURE_THREAD_OVER_WA_MESSAGE_SEND:10,CONTACT_PRUNING:11,MEDIA_MANAGER:12,SECURE_THREAD_OVER_WA_ENCRYPTION:13,STORY_POST:14,CO_PRESENCE_HEARTBEAT:16,SECURE_THREAD_OVER_WA_GROUP_MANAGEMENT:17,ENCRYPTED_BACKUPS:23,ANONYMOUS_REQUEST:25,MESSAGE_ACTIONS:28,MESSAGE_UNSEND_ATTACHMENT_CLEANUP:39,IGD_INSTAMADILLO:40,PENDING_MESSAGE_SEND:46});f["default"]=a}),66);
__d("isNativeTask",["I64","LSPendingTasksPluginType"],(function(a,b,c,d,e,f,g){"use strict";var h,i="4",j="16",k=new Set([c("LSPendingTasksPluginType").IGD_INSTAMADILLO]);function a(a){var b=k.has((h||(h=d("I64"))).to_float(a.pluginType));a=a.context===j||a.context===i;return b||a}g["default"]=a}),98);
__d("LSIterationHelpers",["FBLogger","LSMaybeSyncIteration","LSSynchronousPromise","ReStoreKeyComparer","ReStoreVaulting","gkx","isNativeTask","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["messages","attachments","reactions"]);function j(a){return i.has(a)}function k(a,b,d){return a&&b.name==="pending_tasks"&&d!=null&&c("isNativeTask")(d)}function l(a){for(var b of Object.keys(a))a[b]===void 0&&delete a[b];return a}function m(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=function(){var a={done:!0},f=0,g="start",i=[],j=function(e){var j=function(){var a=f,j=b[a]||{},k=j.end;j=j.start;var l=e.value[0];if(j&&g==="start"){var m=(h||(h=d("ReStoreKeyComparer"))).compareValue(l[a],j[0]),n=m*(c==="asc"?1:-1)<j[1];if(n){g="start_verify";i=l.slice(0,a);if(a===l.length-1&&m===0)return{v:void 0};else{n=[].concat(i,[j[0]],j[1]&&c==="asc"||!j[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);return{v:d("LSMaybeSyncIteration").wrapNextValue(n)}}}else g="check_end"}if(j&&g==="start_verify"&&!i.every(function(a,b){return(h||(h=d("ReStoreKeyComparer"))).compareValue(a,l[b])===0})){f=0;g="start";return{v:void 0}}if(k&&(h||(h=d("ReStoreKeyComparer"))).compareValue(k[0],l[a])*(c==="asc"?1:-1)<k[1]){f=0;g="start";return{v:d("LSMaybeSyncIteration").wrapNextValue([].concat(l.slice(0,a),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]))}}f++;g="start"};while(f<b.length){var k=j();if(typeof k==="object")return k.v}a=e;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(e,j).then(function(){return a})},a}return f()}function n(a,b,c){c===void 0&&(c="asc");var e=a.entries(new WeakMap(),c);function f(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=f,a.next=async function(){var a=await e.next();outer:while(!a.done){var f=async function(f){var g=b[f]||{},i=g.end;g=g.start;var j=a.value[0],k=j.slice(0,f);if(g){var l=(h||(h=d("ReStoreKeyComparer"))).compareValue(j[f],g[0]);if(l*(c==="asc"?1:-1)<g[1]){if(f===j.length-1&&l===0)a=await e.next();else{l=[].concat(k,[g[0]],g[1]&&c==="asc"||!g[1]&&c==="desc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]);a=await e.next(l)}if(a.done)return{v:{done:!0}};j=a.value[0];if(!k.every(function(b,a){return(h||(h=d("ReStoreKeyComparer"))).compareValue(b,j[a])===0}))return"continue|outer"}}if(i&&(h||(h=d("ReStoreKeyComparer"))).compareValue(i[0],j[f])*(c==="asc"?1:-1)<i[1]){a=await e.next([].concat(j.slice(0,f),c==="asc"?[(h||(h=d("ReStoreKeyComparer"))).MAX_KEY]:[]));return"continue|outer"}};for(var g=0;g<b.length;g++){var i=await f(g);switch(i){case"continue|outer":continue outer;default:if(typeof i==="object")return i.v}}break}return a},a}return f()}function o(a,b,d,e,f){return{delete:function(){return d.delete.apply(d,a)},item:b,update:function(g){var h=f&&j(e.name)?{transportKey:"FBBroker"}:{};g=babelHelpers.extends({},b,g,h);if(k(f,e,g))throw c("unrecoverableViolation")("cannot insert native task in dynamic mode","messenger_web_product");return d.upsert(a,l(g))}}}function p(a,b){var c;return c={},c[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return p(a,b)},c.next=function(){var c={done:!0},e=function(a){c=a;return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(a,e).then(function(){if(c.done)return d("LSMaybeSyncIteration").iteratorLoop(b,e)}).then(function(){return c})},c}function q(a,b,c){var e,f=[{done:!0},{done:!0}],g=function(a){var b=f[a];f[a]={done:!0};return b};return e={},e[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return q(a,b,c)},e.next=function(){var e=function(a){return function(b){a==="a"?f[0]=b:f[1]=b;return d("LSMaybeSyncIteration").STOP_ITERATION}},i=d("LSSynchronousPromise").maybeMakeSynchronousPromise();f[0].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(a,e("a"))}));f[1].done&&(i=i.then(function(){return d("LSMaybeSyncIteration").iteratorLoop(b,e("b"))}));return i.then(function(){if(f[0].done&&f[1].done)return{done:!0};if(f[0].done)return g(1);if(f[1].done)return g(0);var a=(h||(h=d("ReStoreKeyComparer"))).compareKey(f[0].value[0],f[1].value[0]);if(a===0)return g(0);return a*(c==="asc"?1:-1)<0?g(0):g(1)})},e}var r=(b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=function(){return r},b.next=function(){return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0})},b);function a(a,b,e,f,g,h,i,l){var s=new Set(),t=a.length>1,u=a.length===1&&a[0][1]==null,v=a.map(function(a){var i=a[0],j=a[1];return i.map(function(a){f.key_lookup===!0&&a.length!==0;f.table_scan===!0&&a.length===0;var i=a.map(function(a){return h(a,b)});a=i.length===(j==null?e.primaryKeyIds:e.indexes[j]).length&&i.every(function(a){var b=a.end;a=a.start;return a&&b&&a[0]===b[0]&&a[1]===0&&b[1]===0});if(a){a=function a(){var b,c=!1;return b={},b[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=a,b.next=function(){var a;if(c)return d("LSSynchronousPromise").maybeMakeSynchronousPromise({done:!0});c=!0;var b=i.map(function(a){a=a.start;return a[0]});return(a=j==null?g:g.index(j)).get.apply(a,b).then(function(a){if(!a)return{done:!0};a=d("ReStoreVaulting").maybeUnvaultDbRow(a,e.name);return{done:!1,value:[b,a]}})},b};return a()}a=c("gkx")("2839")?m:n;return a(j==null?g:g.index(j),i,b)})}).flat().reduce(function(c,d,e){e=e===0&&c==null?r:c;return a.length>1?p(e,d):q(e,d,b)});function w(){var a;return a={},a[typeof Symbol==="function"?Symbol.asyncIterator:"@@asyncIterator"]=w,a.next=function(){var a=!0,b,f,h,m,n=function(c){a=!1;var g=c.value;f=g[0];h=g[1];b=u?f:e.primaryKeyIds.map(function(a){return h[a]});if(k(i,e,h)){m=c;return}if(j(e.name)&&i&&h!=null&&h.transportKey!=="FBBroker"){m=c;return}if(t){g=JSON.stringify(b);if(s.has(g))return;s.add(g)}return d("LSMaybeSyncIteration").STOP_ITERATION};return d("LSMaybeSyncIteration").iteratorLoop(v,n).then(function(){if(m!=null){var d=m.value[1].transportKey;c("FBLogger")("messenger_web_product").warn('Expected transportKey to equal ("FBBroker") in %s, provided transportKey: %s',l,d)}return a||b==null||h==null?{done:!0}:{done:!1,value:o(b,h,g,e,i)}})},a}return w()}g.isTranportKeyEnforcedTable=j;g.isNativePendingTaskViolation=k;g.stripUndefinedProperties=l;g.unionIterators=p;g.mergeIterators=q;g.fetch=a}),98);
__d("LSRuntimeDb",["LSIterationHelpers","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.name.match(/secure_|inbox(?!_)/i)}function a(a,b,d,e,f,g){return{metadata:d,table:function(j){j=d.tableNames[d.tableIds[j]];if(b===0&&h(j))throw c("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return i(a,j,e,f,g)},transactionId:a.__internal__transaction_id}}function i(a,b,e,f,g){var h=a[b.name+"::"+f[f.length-1]];return{add:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker"),await h.add(a)},fetch:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"asc",b,e,h,j,g,f.join(", "))},fetchDesc:function(){for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return d("LSIterationHelpers").fetch(c.length===0?[[[[]],void 0]]:c,"desc",b,e,h,j,g,f.join(", "))},peekNextAutoIncrementId:function(){return h.peekNextAutoIncrementId()},put:async function(a){d("LSIterationHelpers").isTranportKeyEnforcedTable(b.name)&&g&&(a.transportKey="FBBroker");if(d("LSIterationHelpers").isNativePendingTaskViolation(g,b,a))throw c("unrecoverableViolation")("cannot put native task via LS transport","messenger_web_product");var e=b.primaryKeyIds.map(function(b){if(a[b]!==void 0)return a[b];throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")});await h.delete.apply(h,e);await h.add(d("LSIterationHelpers").stripUndefinedProperties(babelHelpers.extends({},a)))}}}function j(a,b){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(b==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!=null)throw c("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!=null)throw c("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{end:e,start:d}}return{end:[a,0],start:[a,0]}}g.LSRuntimeDb=a;g.parseConstraint=j}),98);
__d("XPlatReactTextDecoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextDecoder;f.TextDecoder=a}),66);
__d("LS",["FBLogger","I64","LSDict","LSDynamicDependencies","LSInt64Lite","LSIterationOperations","LSJson","LSRuntimeDb","LSSynchronousPromise","LSVec","MessengerLogHistory","MetaConfig","ODS","ReStoreKeyComparer","XPlatReactTextDecoder","XPlatReactTextEncoder","base64Binary","cr:1088","cr:4790","emptyFunction","err","gkx","isPromise","qpl","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);p=function(){return a};return a}var q="LS_WEB",r=d("MessengerLogHistory").getInstance("ls");function s(a){return d("base64Binary").decode(a).buffer}var t={compareTo:function(a,b){a=new Uint8Array(a);b=new Uint8Array(b);var c=Math.min(a.length,b.length);for(var d=0;d<c;d++){var e=a[d]-b[d];if(e!==0)return e}return a.length===b.length?0:a.length-b.length},eq:function(a,b){if(a==null&&b==null)return!0;if(a==null||b==null)return!1;a=new Uint8Array(a);b=new Uint8Array(b);if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0},ge:function(a,b){return t.compareTo(a,b)>=0},gt:function(a,b){return t.compareTo(a,b)>0},le:function(a,b){return t.compareTo(a,b)<=0},lt:function(a,b){return t.compareTo(a,b)<0},neq:function(a,b){return!t.eq(a,b)},of_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextEncoder").TextEncoder)();return b.encode(a).buffer},to_string:function(a){if(a==null)return void 0;var b=new(d("XPlatReactTextDecoder").TextDecoder)();return b.decode(a)}};function u(a){if(a.length!==1)throw c("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var b=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return(i||(i=d("I64"))).mk((b>>>1)+(a&1)*2147483648^-(b&1),a>>>1^-(b&1))}function v(a){var b="unknown_sproc";a=a.displayName;var c=/\[from (.*)\]/;c=c.exec(a);c!=null&&(b=c[1]);return b}var w=function(){var a=0;function d(d){var e=d.args,f=d.shouldLog;d=d.sprocName;b("cr:1088")==null?void 0:b("cr:1088").logStoredProcedureCall(d,e);if(!f||!b("cr:4790"))return;e=++a;b("cr:4790").markerStart(c("qpl")._(25302991,"143"),e);b("cr:4790").markerAnnotate(c("qpl")._(25302991,"143"),{string:{name:d}},{instanceKey:e});return e}function e(a,d,e){a=a.shouldLog;if(!a||d==null)return;b("cr:4790")==null?void 0:b("cr:4790").markerEnd(c("qpl")._(25302991,"143"),e,d)}function f(a){return c("gkx")("26381")?Math.random()*c("MetaConfig")._("10")<1:!1}return{call:d,logSprocDone:e,shouldLogSproc:f}}();function x(a,b,c){b=(i||(i=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function y(a,b,c){b=(i||(i=d("I64"))).to_string(b);var e=function(a){return!c?"":c[a]||""};return a(b,e).toString()}function z(a,b,e,f,g,i,A,B,C){A===void 0&&(A={});B===void 0&&(B=void 0);var D=[],E=d("LSRuntimeDb").LSRuntimeDb(i,a,b,A,D,C),F=function(b,f){for(var g=arguments.length,h=new Array(g>2?g-2:0),j=2;j<g;j++)h[j-2]=arguments[j];var k;if(typeof f==="string"){k=e[f.toString()];if(k==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+b+" and id: "+f,"messenger_web_product");if(k===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",f);k.load&&(k=k.load())}else k=f;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(k).then(function(b){return b.call.apply(b,[i,a].concat(h))})},G=function(b){for(var f=arguments.length,g=new Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];var j;if(typeof b==="string"){j=e[b+".bs"]||e[b+".nop"];if(j==null)throw c("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+b,"messenger_web_product");if(j===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent native type op loading failed for: %s (retryable)",b);j.load&&(j=j.load())}else j=b;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(j).then(function(b){return b.apply(void 0,[i,a].concat(g))}).then(function(a){return a},function(a){c("FBLogger")("messenger_web_product").catching(a).addMetadata(q,"NATIVE_OP_ID",b.toString()).warn("Native operation %s failed",b.toString());throw a})},H=function(a){return a.slice(1).reduce(function(b,d){if(typeof d!=="function"){c("FBLogger")("messenger_web_product").mustfix("Non-function passed (%s, type %s) in sequence (%s)",d,typeof d,JSON.stringify(a.map(function(a){return typeof a})));return b}return b.then(d)},a[0]())},I=function(a,b){return a.slice(b)};return{Map:c("LSDict"),blob:s,blobs:t,constructor:{n:u},count:d("LSIterationOperations").count,createArray:function(){return c("LSVec").ofArray([])},createArrayWithElements:function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("LSVec").ofArray(b)},db:E,filter:d("LSIterationOperations").filter,forEach:d("LSIterationOperations").forEach,groupBy:d("LSIterationOperations").groupBy,i64:c("LSInt64Lite"),islc:d("LSIterationOperations").slice,like:function(a,b){b=b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,".");return RegExp(b).test(a)},localize:function(a,b){return x(f,a,b)},localizeAsync:function(a,b){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(x(f,a,b))},localizeV2:function(a,b){return y(g,a,b)},localizeV2Async:function(a,b){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(y(g,a,b))},logger:function(a){if(B)return{debug:B,info:B,mustfix:B,warn:B};var b=c("FBLogger")("messenger_web_product"),e=a.startsWith("epoch mismatch"),f=a.startsWith("cursor mismatch");if(e||f){a=function(a){r.error(a,"error");a=function(){if(e)return"epoch_mismatch";else if(f)return"cursor_mismatch";else return"fixme_could_not_produce_key"}();(k||(k=d("ODS"))).bumpEntityKey(3185,"lsplatform",a)};return{debug:function(a){return r.debug(a)},info:function(a){return r.debug(a)},mustfix:a,warn:a}}else{c("gkx")("26382")||(b.info=c("emptyFunction"));return b}},loopAsync:function(a,b){function e(f){if(c("LSInt64Lite").lt(f,a)){var g=f;f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g));while(!(h||(h=c("isPromise")))(f)){g=c("LSInt64Lite").add(g,u(p()));if(!c("LSInt64Lite").lt(g,a))return d("LSSynchronousPromise").makeSynchronousPromise(void 0);f=d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(b(g))}return f.then(function(){return e(c("LSInt64Lite").add(g,u(o())))})}return d("LSSynchronousPromise").maybeMakeSynchronousPromise(void 0,self.Promise)}return e(u(n()))},loopSync:function(a,b){for(var d=u(m());c("LSInt64Lite").lt(d,a);d=c("LSInt64Lite").add(d,u(l())))b(d)},merge:function(){function a(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue(a,b)>0?a:b}function b(a,b){return(j||(j=d("ReStoreKeyComparer"))).compareValue([a[0],-a[1]],[b[0],-b[1]])<0?a:b}for(var c=arguments.length,e=new Array(c),f=0;f<c;f++)e[f]=arguments[f];var g=e.reduce(function(c,e){e=d("LSRuntimeDb").parseConstraint(e,"asc");return{end:c.end&&e.end?b(e.end,c.end):e.end||c.end,start:c.start&&e.start?a(e.start,c.start):e.start||c.start}},{});return babelHelpers.extends({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:u,nativeOperation:G,nativeTypeOperation:F,notnull:function(a){if(a===null)throw c("unrecoverableViolation")("value should not be null","messenger_web_product");return a},print:function(a){},resolve:function(a){return d("LSSynchronousPromise").wrapInMaybeSyncPromiseIfNotPromise(a,self.Promise)},resolveGuaranteeAsync:function(a){var b;return((b=self.Promise)!=null?b:Promise).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))},rm:c("LSInt64Lite").of_int32(a),sequence:H,slice:I,sortBy:d("LSIterationOperations").sortBy,storedProcedure:function(h){for(var j=arguments.length,k=new Array(j>1?j-1:0),l=1;l<j;l++)k[l-1]=arguments[l];var m;if(typeof h==="string"){m=e[h];if(m==null)throw c("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+h,"messenger_web_product");if(m===d("LSDynamicDependencies").TOMBSTONE)throw c("err")("Concurrent sproc loading failed for: %s (retryable)",h);m.load&&(m=m.load())}else m=h;var n=this;switch(a){case 0:n=z(2,b,e,f,g,i,A,B,C);break;case 2:n=z(1,b,e,f,g,i,A,B,C);break}var o,p,r;return d("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(m).then(function(a){p=v(a);r=w.shouldLogSproc(p);D.push(p);o=w.call({args:k,shouldLog:r,sprocName:p});i.reportUsedTablesForSyncAccess(a.__tables__);return a.apply(void 0,k.concat([n]))}).then(function(a){D.pop();w.logSprocDone({args:k,shouldLog:r,sprocName:p},o,2);return a},function(a){D.pop();w.logSprocDone({args:k,shouldLog:r,sprocName:p},o,3);c("FBLogger")("messenger_web_product").catching(a).addMetadata(q,"SPROC_STACK",D.join("\n")).warn("Sproc %s failed",h);throw a})},throw:function(a){throw c("unrecoverableViolation")(a,"messenger_comet")},toArray:d("LSIterationOperations").toArray,toJSON:function(a){return d("LSJson").stringify(a)}}}z.n=u;g.default=z}),98);
__d("LSDeleteAllCommunityChannelCategories",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(182).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,20])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityChannelCategoriesStoredProcedure";a.__tables__=["cm_category_list","threads"];e.exports=a}),null);
__d("LSDeleteAllCommunityFolders",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(162).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(9).fetch([[[b.i64.cast([0,17])]],"threadTypeLastActivityTimestampMs"]),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteAllCommunityFoldersStoredProcedure";a.__tables__=["community_folders","threads"];e.exports=a}),null);
__d("LSDeleteThenInsertCmCommunityList",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(166).put({communityId:a[0]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertCmCommunityListStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSDeleteThenInsertCommunityFolder",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.filter(b.db.table(162).fetch([[[a[0]]]]),function(c){return b.i64.eq(c.folderId,a[0])&&b.i64.gt(b.i64.cast([0,80]),a[52])}).next().then(function(c){var d=c.done;c.value;return d?b.db.table(162).put({folderId:a[0],fbGroupId:a[1],name:a[2],memberCount:a[4],description:a[3],pictureUrl:a[5],pictureUrlFallback:a[6],pictureUrlExpirationTimestampMs:a[7],joiningChannelTaskId:a[8],afterJoiningOpenChannelId:a[10],capabilities:a[11],capabilities2:a[12],capabilities3:a[13],notificationSetting:a[14],notificationMutedUntil:a[15],sendsBlockedUntil:a[17],isHidden:a[18],hasSeenDisablingAlert:a[19],inviteLink:a[21],communityType:a[22],directInviteLink:a[23],enableState:a[24],takedownState:a[25],fbGroupType:a[28],threadCount:a[29],disableTimestamp:a[32],readTimestampMs:a[33],inviteStatus:a[37],blockedFromCommunityMemberCount:a[40],categoryCount:a[41],snippetText:a[42],coverPicUrl:a[43],coverPicUrlFallback:a[44],coverPicUrlExpirationTimestampMs:a[45],invitedThreadId:a[47],fbGroupUserParticipationApprovalStatus:a[48],ccAdminAssistRegistrationStatus:a[49],pauseStatus:a[50],isMember:a[51]}):0})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertCommunityFolderStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSSetThreadImageURL",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({threadPictureUrl:a[1]===""?void 0:a[1],threadPictureUrlFallback:a[2],threadPictureUrlExpirationTimestampMs:a[3],isCustomThreadPicture:a[4],shouldRoundThreadPicture:a[5]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxSetThreadImageURLStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSDeleteThenInsertContact",["LSSetThreadImageURL"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.i64.eq(a[23],c.i64.cast([0,39423]))?d[0]=c.i64.cast([0,1]):(c.i64.eq(a[23],c.i64.cast([0,14342874]))?d[1]=c.i64.cast([0,2]):d[1]=void 0,d[0]=d[1]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))&&c.i64.gt(b.authorityLevel,a[21])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(7).put({id:a[0],profilePictureUrl:a[2],profilePictureFallbackUrl:a[3],profilePictureUrlExpirationTimestampMs:a[4],profilePictureLargeUrl:a[5],profilePictureLargeFallbackUrl:a[6],profilePictureLargeUrlExpirationTimestampMs:a[7],name:a[9],secondaryName:a[41],normalizedNameForSearch:a[10],normalizedSearchTerms:a[33],isMessengerUser:a[11],isMemorialized:a[12],isManagedByViewer:a[35],blockedByViewerStatus:a[14],rank:a[17],firstName:a[18],contactType:a[19],contactTypeExact:a[20],authorityLevel:a[21],messengerCallLogThirdPartyId:a[22],profileRingColor:a[23],requiresMultiway:a[24],blockedSinceTimestampMs:a[25],fbUnblockedSinceTimestampMs:a[47],canViewerMessage:a[26],profileRingColorExpirationTimestampMs:a[27],phoneNumber:a[28],emailAddress:a[29],workCompanyId:a[30],workCompanyName:a[31],workJobTitle:a[32],deviceContactId:a[34],workForeignEntityType:a[36],capabilities:a[37],capabilities2:a[38],profileRingState:d[0],contactViewerRelationship:a[39],gender:a[40],username:a[43],contactReachabilityStatusType:a[44],restrictionType:a[45],waConnectStatus:a[46],isEmployee:!1,pageType:a[48]}):0})},function(d){return c.storedProcedure(b("LSSetThreadImageURL"),a[0],a[2],a[3],a[4],!1,!0)}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactDeleteThenInsertContactStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSDeleteThenInsertMessageRequest",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(34).put({threadKey:a[0],messageRequestStatus:a[2]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxDeleteThenInsertMessageRequestStoredProcedure";a.__tables__=["message_requests"];e.exports=a}),null);
__d("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(175).put({id:a[0],globalMuteUntil:a[1],showMessagePreview:a[4],isSoundOn:a[7],groupNotificationSetting:a[8],oneToOneNotificationSetting:a[9],replyReminderSetting:a[10],messageReminderDisabled:a[12],messageSound:a[13],ringtoneSound:a[14],newFriendBumpDisabledSetting:a[15],globalMuteMessageUntil:a[2],globalMuteCallUntil:a[3],includeInSwitchAccountBadges:a[11],dismissNfbThreadsCount:a[16],mutePageAccountMessageReminder:a[17]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsDeleteThenInsertNotificationsSettingsGraphQLSnapshotStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSDeleteThenInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:a[56],isDisappearingMode:a[57],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[35],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[35],a[10]],c[5]=d[0],c[6]=d[1],d),b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:c[6],ongoingCallState:a[29],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]})):b.db.table(9).put({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[29],parentThreadKey:a[35],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteCallsExpireTimeMs:a[15],groupNotificationSettings:a[16],isAdminSnippet:a[17],snippetSenderContactId:a[18],snippetText:a[20],snippetStringHash:a[21],snippetStringArgument1:a[22],snippetAttribution:a[23],snippetAttributionStringHash:a[24],disappearingSettingTtl:a[25],disappearingSettingUpdatedTs:a[26],disappearingSettingUpdatedBy:a[27],cannotReplyReason:a[30],customEmoji:a[31],customEmojiImageUrl:a[32],outgoingBubbleColor:a[33],themeFbid:a[34],nullstateDescriptionText1:a[36],nullstateDescriptionType1:a[37],nullstateDescriptionText2:a[38],nullstateDescriptionType2:a[39],nullstateDescriptionText3:a[40],nullstateDescriptionType3:a[41],snippetHasEmoji:a[42],hasPersistentMenu:a[43],disableComposerInput:a[44],cannotUnsendReason:a[45],viewedPluginKey:a[46],viewedPluginContext:a[47],clientThreadKey:a[48],capabilities:a[49],shouldRoundThreadPicture:a[50],proactiveWarningDismissTime:a[51],isCustomThreadPicture:a[52],otidOfFirstMessage:a[53],normalizedSearchTerms:a[54],additionalThreadContext:a[55],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[58],unreadDisappearingMessageCount:a[59],lastMessageCtaId:a[61],lastMessageCtaType:a[62],consistentThreadFbid:a[63],threadDescription:a[64],unsendLimitMs:a[65],syncGroup:a[66],threadInvitesEnabled:a[67],threadInviteLink:a[68],numUnreadSubthreads:a[69],subthreadCount:a[70],threadInvitesEnabledV2:a[71],joinRequestApprovalSetting:a[72],pendingJoinRequestsCount:a[73],eventStartTimestampMs:a[74],eventEndTimestampMs:a[75],takedownState:a[76],memberCount:a[77],admodCount:a[78],secondaryParentThreadKey:a[79],igFolder:a[80],inviterId:a[81],threadTags:a[82],threadStatus:a[83],threadSubtype:a[84],pauseThreadTimestamp:a[85],metadata:a[86],syncSource:a[87]}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxDeleteThenInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSFlushSyncTrace",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(153).fetch(),function(c){return b.i64.eq(c.traceType,b.i64.cast([0,2]))&&c.contextOne===a[1]&&c.contextThree===a[0]}),function(a){var b=a.update;a.item;return b({shouldFlush:!0})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSDataTraceFlushSyncTraceStoredProcedure";a.__tables__=["data_trace_meta"];e.exports=a}),null);
__d("LSExecuteFinallyBlockForSyncTransaction",["LSFlushSyncTrace"],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(3).fetch([[["",a[1]]]]),function(c){return c.taskQueueName===""&&b.i64.eq(c.syncDatabaseId,a[1])&&b.i64.eq(c.epochId,a[2])}),function(c){var d=c.update;c=c.item;return d({epochId:!a[0]&&b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?c.epochId:void 0,failureCount:b.i64.eq(c.failureCount,b.i64.cast([-1,4294967295]))?b.i64.cast([0,0]):b.i64.add(c.failureCount,b.i64.cast([0,1]))})})},function(a){return b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreExecuteFinallyBlockForSyncTransactionStoredProcedure";a.__tables__=["network_requests"];e.exports=a}),null);
__d("LSExecuteFirstBlockForSyncTransaction",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSLogEventAnnotate.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.resolve()},function(e){return c.filter(c.db.table(3).fetch([[["",a[0]]]]),function(b){return b.taskQueueName===""&&c.i64.eq(b.syncDatabaseId,a[0])&&c.i64.eq(b.epochId,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[2]=",",function(a){c.logger(a).mustfix(a)}(["epoch mismatch",d[2]," db_type=",d[2],c.i64.to_string(a[0]),d[2]," previous_cursor=",d[2],a[2]==null?"null":a[2],d[2]," next_cursor=",d[2],a[3]].join("")),d[3]=new c.Map(),d[3].set("database_id",a[0]),d[3].set("epoch_id",a[1]),d[3].set("sync_status",a[4]),d[3].set("next_cursor",a[3]),d[3].set("error_msg","epoch mismatch"),a[9]?d[4]=!1:d[4]=!0,d[4]?c.resolve():(d[6]=a[9].keys(),d[7]=c.i64.of_int32(d[6].length),c.i64.gt(d[7],c.i64.cast([0,0]))?c.loopAsync(d[7],function(e){return d[8]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[6],d[8]).then(function(a){return a=a,d[9]=a[0],d[10]=a[1],a})},function(b){return d[11]=a[9].get(d[9]),d[3].set(d[9],d[11])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[3])},function(a){return d[5]=!1,d[0]=d[5]}]):(e.item,c.sequence([function(e){return c.filter(c.db.table(1).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.groupId,a[0])&&b.currentCursor===a[2]}).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(e){return d[4]=",",function(a){c.logger(a).mustfix(a)}(["cursor mismatch",d[4]," db_type=",d[4],c.i64.to_string(a[0]),d[4]," previous_cursor=",d[4],a[2]==null?"null":a[2],d[4]," next_cursor=",d[4],a[3]].join("")),d[5]=new c.Map(),d[5].set("database_id",a[0]),d[5].set("epoch_id",a[1]),d[5].set("sync_status",a[4]),d[5].set("next_cursor",a[3]),d[5].set("error_msg","cursor mismatch"),a[9]?d[6]=!1:d[6]=!0,d[6]?c.resolve():(d[8]=a[9].keys(),d[9]=c.i64.of_int32(d[8].length),c.i64.gt(d[9],c.i64.cast([0,0]))?c.loopAsync(d[9],function(e){return d[10]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[8],d[10]).then(function(a){return a=a,d[11]=a[0],d[12]=a[1],a})},function(b){return d[13]=a[9].get(d[11]),d[5].set(d[11],d[13])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[5])},function(a){return d[7]=!1,d[2]=d[7]}]):(e.item,c.sequence([function(b){return d[4]=c.i64.of_float(Date.now()),d[5]=c.i64.of_float(Date.now()),c.forEach(c.db.table(1).fetch([[[a[0]]]]),function(b){var e=b.update;b.item;return e({currentCursor:a[3],syncStatus:a[4],sendSyncParams:a[5],minTimeToSyncTimestampMs:c.i64.eq(a[6],c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[4],a[6]),canIgnoreTimestamp:a[7],syncChannel:a[8],lastSyncCompletedTimestampMs:d[5]})})},function(b){return c.forEach(c.db.table(3).fetch([[["",a[0]]]]),function(a){var b=a.update;a.item;return b({failureCount:c.i64.cast([-1,4294967295])})})},function(e){return d[6]=new c.Map(),d[6].set("database_id",a[0]),d[6].set("epoch_id",a[1]),d[6].set("sync_status",a[4]),d[6].set("next_cursor",a[3]),a[9]?d[7]=!1:d[7]=!0,d[7]?c.resolve():(d[9]=a[9].keys(),d[10]=c.i64.of_int32(d[9].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[9],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(b){return d[14]=a[9].get(d[12]),d[6].set(d[12],d[14])}])}):c.resolve())},function(a){return c.nativeOperation(b("LSLogEventAnnotate.nop"),c.i64.cast([0,16]),c.i64.cast([0,35]),c.i64.cast([0,0]),d[6])},function(a){return d[8]=!0,d[2]=d[8]}]))})},function(a){return d[0]=d[2]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreExecuteFirstBlockForSyncTransactionStoredProcedure";a.__tables__=["data_trace_meta","network_requests","sync_groups"];e.exports=a}),null);
__d("LSLocalizedStrings",["fbt"],(function(a,b,c,d,e,f,g,h){a=function(a,b){switch(a){default:return""}};b=a;g["default"]=b}),98);
__d("LSLocalizedStringsV2",["fbt","I64"],(function(a,b,c,d,e,f,g,h){var i;a=function(a,b){switch(a){case"2285622730":return h._(/*BTDS*/"__JHASH__bHf-pjjpSrh__JHASH__");case"1919524925":return h._(/*BTDS*/"__JHASH__g2TuGL7kp7W__JHASH__");case"14617150":return h._(/*BTDS*/"__JHASH__KN5FuK9HL68__JHASH__");case"460740012":return h._(/*BTDS*/"__JHASH__PmrYWcLl7s-__JHASH__");case"2353844300":return h._(/*BTDS*/"__JHASH__U3_S6m-Asci__JHASH__");case"2987332812":return h._(/*BTDS*/"__JHASH__6iMiBqdcEoA__JHASH__");case"1530605193":return h._(/*BTDS*/"__JHASH__0YPxlGHLAO___JHASH__",[h._param("user_name",b(0))]);case"3921131020":return h._(/*BTDS*/"__JHASH__mtqLMpBAIfE__JHASH__");case"1899892426":return h._(/*BTDS*/"__JHASH__AcX9AAMg2Jv__JHASH__");case"3287869262":return h._(/*BTDS*/"__JHASH__nh5Ig-KQkRx__JHASH__",[h._param("user_name",b(0))]);case"1890485478":return h._(/*BTDS*/"__JHASH__r5f8SC2OUWe__JHASH__");case"1299547062":return h._(/*BTDS*/"__JHASH__UxIyHnrkGvQ__JHASH__");case"3621454483":return h._(/*BTDS*/"__JHASH__6CXDyy4pKod__JHASH__",[h._param("user_name",b(0))]);case"3948960063":return h._(/*BTDS*/"__JHASH__4jXDffqGKxc__JHASH__");case"1249692047":return h._(/*BTDS*/"__JHASH__XuMb0GRtMp2__JHASH__",[h._param("user_name",b(0))]);case"2106510577":return h._(/*BTDS*/"__JHASH__adFbSa44M9G__JHASH__");case"3960370133":return h._(/*BTDS*/"__JHASH__WRQpot61Zha__JHASH__",[h._param("user_name",b(0))]);case"3798396796":return h._(/*BTDS*/"__JHASH__AKC6gu2oXen__JHASH__",[h._param("app_name",b(0))]);case"3388601579":return h._(/*BTDS*/"__JHASH__LLEsQ4Y9-C7__JHASH__",[h._param("user_name",b(0)),h._param("app_name",b(1))]);case"1556712457":return h._(/*BTDS*/"__JHASH__pQsKY3JdghI__JHASH__");case"3601791933":return h._(/*BTDS*/"__JHASH__VzXmY6Nofoo__JHASH__",[h._param("user_name",b(0))]);case"3759817031":return h._(/*BTDS*/"__JHASH__C6rFQy3ZqgT__JHASH__");case"2934729541":return h._(/*BTDS*/"__JHASH__5sq-yY8-PHO__JHASH__",[h._param("user_name",b(0))]);case"392493418":return h._(/*BTDS*/"__JHASH__Y9RNnaq--9C__JHASH__");case"4085467454":return h._(/*BTDS*/"__JHASH__Tf8KEtj2NUW__JHASH__",[h._param("user_name",b(0))]);case"2738683656":return h._(/*BTDS*/"__JHASH__VTdyPQ7H4GZ__JHASH__");case"2996525642":return h._(/*BTDS*/"__JHASH__YPG0HYdjvfW__JHASH__",[h._param("user_name",b(0))]);case"2326868239":return h._(/*BTDS*/"__JHASH__j-o8KFpMPxd__JHASH__");case"1001986796":return h._(/*BTDS*/"__JHASH__zsY9ES-V3Ko__JHASH__",[h._param("user_name",b(0))]);case"2285746939":return h._(/*BTDS*/"__JHASH__8PT2JtdeJx9__JHASH__");case"3759448420":return h._(/*BTDS*/"__JHASH__H7eOZ8S6YOP__JHASH__",[h._param("user_name",b(0))]);case"3719716921":return h._(/*BTDS*/"__JHASH__qiicOieyAHd__JHASH__");case"284944921":return h._(/*BTDS*/"__JHASH__TkSIon2AHjf__JHASH__",[h._param("user_name",b(0))]);case"3322002377":return h._(/*BTDS*/"__JHASH__hs-XIkGvPGM__JHASH__",[h._param("user_name",b(0))]);case"2486550278":return h._(/*BTDS*/"__JHASH__78NZ4EbNix1__JHASH__");case"3557790945":return h._(/*BTDS*/"__JHASH__9P29njYEtVJ__JHASH__");case"3756846086":return h._(/*BTDS*/"__JHASH__HqUxJ78yQEs__JHASH__",[h._param("user_name",b(0))]);case"780378803":return h._(/*BTDS*/"__JHASH__4RDpwDU2bxj__JHASH__");case"3918212613":return h._(/*BTDS*/"__JHASH__sfM4caXMU8x__JHASH__",[h._param("user_name",b(0))]);case"3161890215":return h._(/*BTDS*/"__JHASH__rMpUt8zHstd__JHASH__");case"863428456":return h._(/*BTDS*/"__JHASH__ZqoJBBTdmfd__JHASH__",[h._param("user_name",b(0))]);case"2716405471":return h._(/*BTDS*/"__JHASH__3bEfkOlWqZQ__JHASH__");case"3909474073":return h._(/*BTDS*/"__JHASH__0LAhbzE2305__JHASH__",[h._param("user_name",b(0))]);case"1522141193":return h._(/*BTDS*/"__JHASH__Xv5h5VWZ1z-__JHASH__");case"2804766375":return h._(/*BTDS*/"__JHASH__iwXmJRLI5oQ__JHASH__",[h._param("user_name",b(0))]);case"2051792592":return h._(/*BTDS*/"__JHASH__wrYW1iMsokY__JHASH__");case"3686831438":return h._(/*BTDS*/"__JHASH__jxXuvG9WsQ-__JHASH__",[h._param("user_name",b(0))]);case"1247108605":return h._(/*BTDS*/"__JHASH__wezHuMnDNgf__JHASH__",[h._param("receiver_name",b(0))]);case"2966876020":return h._(/*BTDS*/"__JHASH__V86-MgG4uJ1__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"1056933543":return h._(/*BTDS*/"__JHASH__9X7TkYsxkJ9__JHASH__");case"1167688664":return h._(/*BTDS*/"__JHASH__HgpZLsXXBv2__JHASH__",[h._param("user_name",b(0))]);case"772459202":return h._(/*BTDS*/"__JHASH__da1hGBDyrc0__JHASH__");case"3546068912":return h._(/*BTDS*/"__JHASH__eB3RT9ZRPNU__JHASH__",[h._param("user_name",b(0))]);case"2459540079":return h._(/*BTDS*/"__JHASH__uVYFUqdjsDk__JHASH__");case"1596311291":return h._(/*BTDS*/"__JHASH__JNmnqH9YpVN__JHASH__",[h._param("user_name",b(0))]);case"2253698324":return h._(/*BTDS*/"__JHASH__cjVmAaYlDK5__JHASH__");case"4269602817":return h._(/*BTDS*/"__JHASH__tgAN3WazCx7__JHASH__",[h._param("user_name",b(0))]);case"2552112149":return h._(/*BTDS*/"__JHASH__rGkOrOdVN7r__JHASH__");case"969211470":return h._(/*BTDS*/"__JHASH__0c4ttO8K44x__JHASH__",[h._param("user_name",b(0))]);case"1257875092":return h._(/*BTDS*/"__JHASH__5wtZ0w7wjWl__JHASH__");case"692355749":return h._(/*BTDS*/"__JHASH__ZxojgdAFPM9__JHASH__",[h._param("user_name",b(0))]);case"785694792":return h._(/*BTDS*/"__JHASH__81akEhn5rEe__JHASH__",[h._param("receiver_name",b(0))]);case"2625447567":return h._(/*BTDS*/"__JHASH__PlEQcZWgExs__JHASH__",[h._param("user_name",b(0)),h._param("receiver_name",b(1))]);case"3982213805":return h._(/*BTDS*/"__JHASH__yntPigUfAxT__JHASH__");case"464916028":return h._(/*BTDS*/"__JHASH__4Sva9VujCUQ__JHASH__",[h._param("user_name",b(0))]);case"411761881":return h._(/*BTDS*/"__JHASH__9gOGTtdjrZE__JHASH__");case"3395044660":return h._(/*BTDS*/"__JHASH__R5lkKLgSqO3__JHASH__",[h._param("user_name",b(0))]);case"2973334239":return h._(/*BTDS*/"__JHASH__BCqXnePZxrY__JHASH__");case"3616471048":return h._(/*BTDS*/"__JHASH__NfWlT4Kxbzi__JHASH__",[h._param("user_name",b(0))]);case"476264474":return h._(/*BTDS*/"__JHASH__SH0YqdP7IKV__JHASH__");case"3124021488":return h._(/*BTDS*/"__JHASH__aEbyYGfOeat__JHASH__",[h._param("user_name",b(0))]);case"3471188061":return h._(/*BTDS*/"__JHASH__mUkKfPWP8w___JHASH__");case"2776822462":return h._(/*BTDS*/"__JHASH__2bPnhlt5UjK__JHASH__",[h._param("user_name",b(0))]);case"1739999037":return h._(/*BTDS*/"__JHASH__LG-CVe6YeL2__JHASH__");case"3373597599":return h._(/*BTDS*/"__JHASH__XSfhGJMwPL8__JHASH__");case"259473449":return h._(/*BTDS*/"__JHASH__qL_GOsBRgrZ__JHASH__",[h._param("user_name",b(0))]);case"1338912959":return h._(/*BTDS*/"__JHASH__LrXrY17Mwwh__JHASH__",[h._param("user_name",b(0))]);case"812940701":return h._(/*BTDS*/"__JHASH__NEO9buPurkr__JHASH__",[h._param("user_name",b(0))]);case"1099878966":return h._(/*BTDS*/"__JHASH__Qho_g3FF8mq__JHASH__",[h._param("user_name",b(0))]);case"3443782102":return h._(/*BTDS*/"__JHASH__Xxt66o3iPYX__JHASH__");case"618905030":return h._(/*BTDS*/"__JHASH__v6KFXcykdOt__JHASH__");case"2470414797":return h._(/*BTDS*/"__JHASH__0oa3QgNUtA3__JHASH__");case"1306024833":return h._(/*BTDS*/"__JHASH__ypexge-6NRA__JHASH__");case"2135145355":return h._(/*BTDS*/"__JHASH__woc-8KLy7zj__JHASH__");case"3603511704":return h._(/*BTDS*/"__JHASH__--XUHiOY0Z1__JHASH__",[h._param("user_name",b(0))]);case"705614308":return h._(/*BTDS*/"__JHASH__vsnRcMCSSFJ__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"313217698":return h._(/*BTDS*/"__JHASH__rG1E-FG-TxB__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(1)),"number"),h._param("user_name",b(0))]);case"3558654267":return h._(/*BTDS*/"__JHASH___H0KEIF4aGq__JHASH__");case"3422266740":return h._(/*BTDS*/"__JHASH__F5OxWfUB9Dy__JHASH__",[h._param("user_name",b(0))]);case"1907280305":return h._(/*BTDS*/"__JHASH__3P1HxS_1jfg__JHASH__",[h._param("other_user",b(0))]);case"1112375422":return h._(/*BTDS*/"__JHASH__a5_sxn3ZWZn__JHASH__",[h._param("other_user",b(0))]);case"3575257287":return h._(/*BTDS*/"__JHASH__czVm_Pwt6t9__JHASH__",[h._param("num_messages",b(0))]);case"1212518911":return h._(/*BTDS*/"__JHASH__NBIxMNcNyYS__JHASH__");case"171771714":return h._(/*BTDS*/"__JHASH__QGebPbFtrUE__JHASH__",[h._param("num_channels",b(0))]);case"763456386":return h._(/*BTDS*/"__JHASH__xUozN4Ycikd__JHASH__");case"3313483565":return h._(/*BTDS*/"__JHASH__WUXey8x8iaZ__JHASH__",[h._param("num_messages",b(0))]);case"1416259530":return h._(/*BTDS*/"__JHASH__h8shxIRIHov__JHASH__");case"1681736754":return h._(/*BTDS*/"__JHASH__cOR9lVJ4jCg__JHASH__",[h._param("num_channels",b(0))]);case"3802288555":return h._(/*BTDS*/"__JHASH__-r9R1SJrWwS__JHASH__");case"1420387436":return h._(/*BTDS*/"__JHASH__Gzgbn2ufLNM__JHASH__",[h._param("num_messages",b(0))]);case"3321340421":return h._(/*BTDS*/"__JHASH___P-lwtylUhP__JHASH__",[h._param("other_user",b(0))]);case"3199643703":return h._(/*BTDS*/"__JHASH__YBxxz_Vibx6__JHASH__");case"3307909120":return h._(/*BTDS*/"__JHASH__YRCmoad58uJ__JHASH__");case"845728829":return h._(/*BTDS*/"__JHASH___8aETeHXtHr__JHASH__");case"2022991544":return h._(/*BTDS*/"__JHASH__byni3VHMHc8__JHASH__");case"4285882723":return h._(/*BTDS*/"__JHASH__ga21xjHrnrP__JHASH__");case"3089015955":return h._(/*BTDS*/"__JHASH__Q_LYP_ZLQTd__JHASH__");case"2662271323":return h._(/*BTDS*/"__JHASH__JBe8j08K09-__JHASH__");case"1531706844":return h._(/*BTDS*/"__JHASH__bZt0xiZTnI-__JHASH__");case"3989800917":return h._(/*BTDS*/"__JHASH__LU51Dz-OBab__JHASH__");case"2421884758":return h._(/*BTDS*/"__JHASH__6vTlb2bku1-__JHASH__");case"2676961947":return h._(/*BTDS*/"__JHASH__TK1WqTTq979__JHASH__",[h._param("participant_name",b(0))]);case"3298086032":return h._(/*BTDS*/"__JHASH__AI6Z85qZOTl__JHASH__",[h._param("sender_name",b(0))]);case"3873263038":return h._(/*BTDS*/"__JHASH__1Mq5qyIkjxC__JHASH__",[h._param("sender_name",b(0))]);case"2616853333":return h._(/*BTDS*/"__JHASH__Jm7dkp7Q46M__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"4002265907":return h._(/*BTDS*/"__JHASH__YfSaJhpdv0H__JHASH__");case"2663996736":return h._(/*BTDS*/"__JHASH__rouMYaFboPj__JHASH__",[h._param("participant_name",b(0))]);case"2868699317":return h._(/*BTDS*/"__JHASH__gln0mR6BSos__JHASH__",[h._param("sender_name",b(0))]);case"2688620547":return h._(/*BTDS*/"__JHASH__xBthZSMLrSR__JHASH__",[h._param("sender_name",b(0))]);case"3544071775":return h._(/*BTDS*/"__JHASH__Bfn4BTqFbTw__JHASH__",[h._param("sender_name",b(0)),h._param("reply_source_sender_name",b(1))]);case"2856734260":return h._(/*BTDS*/"__JHASH__yQuJ1OMUVjP__JHASH__");case"3569041084":return h._(/*BTDS*/"__JHASH__3k8IWsw1-6Y__JHASH__");case"1640318912":return h._(/*BTDS*/"__JHASH__JXT3riixpEu__JHASH__",[h._param("user",b(0))]);case"2814174244":return h._(/*BTDS*/"__JHASH__hI4gbzrBlXq__JHASH__");case"3475381825":return h._(/*BTDS*/"__JHASH__71WGCM_QR6l__JHASH__",[h._param("preamble",b(0)),h._param("time",b(1))]);case"2794389366":return h._(/*BTDS*/"__JHASH__8dRN_uv1Ey6__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2528404281":return h._(/*BTDS*/"__JHASH__ypkuSNWTmvD__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"3691614683":return h._(/*BTDS*/"__JHASH__Gt2ASOwx3aR__JHASH__",[h._plural((i||(i=d("I64"))).to_float(b(0)),"number")]);case"2356292598":return h._(/*BTDS*/"__JHASH__BkWfpfnRWrH__JHASH__",[h._param("user",b(0))]);case"3184734723":return h._(/*BTDS*/"__JHASH__lritNDvzWHc__JHASH__");case"274842160":return h._(/*BTDS*/"__JHASH__9dgVAem5HVe__JHASH__");case"2352696798":return h._(/*BTDS*/"__JHASH__4w1HQhVySfH__JHASH__");case"261320435":return h._(/*BTDS*/"__JHASH__Yz7gQUpuAdz__JHASH__");case"1369731110":return h._(/*BTDS*/"__JHASH__KVOi7QtdIiz__JHASH__");case"216075330":return h._(/*BTDS*/"__JHASH__YIi23RvfAOM__JHASH__",[h._param("user_name",b(0))]);case"3093868587":return h._(/*BTDS*/"__JHASH__zy0vB4g7bUg__JHASH__",[h._param("user_name",b(0))]);case"1965569930":return h._(/*BTDS*/"__JHASH__Tjhx4Uo9tx2__JHASH__",[h._param("user_name",b(0))]);case"3981943156":return h._(/*BTDS*/"__JHASH__ixrUZRszn_J__JHASH__",[h._param("user_name",b(0))]);case"2071149394":return h._(/*BTDS*/"__JHASH__cOvKzCJo9pt__JHASH__",[h._param("user_name",b(0))]);case"2414298738":return h._(/*BTDS*/"__JHASH__HW7JxEhyqTG__JHASH__",[h._param("user_name",b(0))]);case"4050223159":return h._(/*BTDS*/"__JHASH__DIFtX0dJhWX__JHASH__");case"3387070852":return h._(/*BTDS*/"__JHASH__7lkRbksMys6__JHASH__",[h._param("receiver_name",b(0)),h._param("amount",b(1))]);case"2779070802":return h._(/*BTDS*/"__JHASH__VQfKxCig0vy__JHASH__",[h._param("sender_name",b(0)),h._param("game_name",b(1))]);case"3748497596":return h._(/*BTDS*/"__JHASH__5SAbOrcrYuU__JHASH__",[h._param("game_name",b(0))]);case"1346982727":return h._(/*BTDS*/"__JHASH__VQ2HMGY9wwv__JHASH__",[h._param("game_name",b(0))]);case"3688076717":return h._(/*BTDS*/"__JHASH__JjXwyclLQBa__JHASH__",[h._param("sender_name",b(0))]);case"967111183":return h._(/*BTDS*/"__JHASH__w7ck8Nknn5M__JHASH__");case"4202164190":return h._(/*BTDS*/"__JHASH__ri623MWPdFQ__JHASH__",[h._param("sender_name",b(0)),h._param("receiver_name",b(1))]);default:return""}};b=a;g["default"]=b}),226);
__d("LSFactory",["LS","LSDynamicDependencies","LSLocalizedStrings","LSLocalizedStringsV2","LSMetadata","cr:8709"],(function(a,b,c,d,e,f,g){"use strict";var h={dynamic:!1};function a(a,e){e===void 0&&(e=h);a=c("LS")(1,d("LSMetadata").schema,d("LSDynamicDependencies").cachedModules,c("LSLocalizedStrings"),c("LSLocalizedStringsV2"),a,void 0,void 0,e.dynamic);return b("cr:8709")!=null?b("cr:8709").wrapSprocInvocationWithProfiler(a):a}g["default"]=a}),98);
__d("LSGetCursor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.currentCursor)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreGetCursorStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSGroupRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.neq(a.groupRoomType,void 0)&&b.i64.neq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesGroupRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSIssueMessagesRangeQuery",["LSGetCursor","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[2]=c.i64.eq(a[2],c.i64.cast([-1,4294967295]))?c.i64.cast([0,0]):a[2],c.islc(c.filter(c.db.table(13).fetchDesc([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&(c.i64.eq(b.minTimestampMs,void 0)||c.i64.le(b.minTimestampMs,a[1]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?d[0]=!1:(f=e.item,c.sequence([function(e){return d[5]=f.threadKey,d[6]=c.i64.cast([0,0]),d[7]=f.minTimestampMs,d[8]=f.minMessageId,c.i64.eq(d[2],c.i64.cast([0,1]))?d[3]=!f.isLoadingAfter:d[3]=!f.isLoadingBefore,d[3]?c.sequence([function(e){return c.i64.eq(d[2],c.i64.cast([0,1]))?d[9]=f.hasMoreAfter:d[9]=f.hasMoreBefore,d[9]?c.sequence([function(a){return c.i64.eq(d[2],c.i64.cast([0,1]))?c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})})},function(a){return a=[f.maxTimestampMs,f.maxMessageId],d[10]=a[0],d[11]=a[1],a}]):c.sequence([function(a){return c.forEach(c.filter(c.db.table(13).fetch([[[d[5],d[7],d[8]]]]),function(a){return c.i64.eq(a.threadKey,d[5])&&c.i64.eq(c.i64.cast([0,0]),d[6])&&c.i64.eq(a.minTimestampMs,d[7])&&a.minMessageId===d[8]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})})},function(a){return a=[d[7],d[8]],d[10]=a[0],d[11]=a[1],a}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[12]=c.i64.cast([0,1]):(e=b.item,d[19]=e.syncGroup,c.i64.neq(d[19],void 0)?d[18]=d[19]:d[18]=c.i64.cast([0,1]),d[12]=d[18])})},function(a){return c.storedProcedure(b("LSGetCursor"),d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(e){return d[15]=new c.Map(),d[15].set("thread_key",a[0]),d[15].set("direction",d[2]),d[15].set("reference_timestamp_ms",d[10]),d[15].set("reference_message_id",d[11]),d[15].set("sync_group",d[12]),d[15].set("cursor",d[14]),d[16]=d[15].get("thread_key"),d[17]=c.toJSON(d[15]),c.storedProcedure(b("LSIssueNewTask"),"mrq.{}".split("{}").join(c.i64.to_string(d[16])),c.i64.cast([0,228]),d[17],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.resolve()},function(a){return d[4]=!0}]):c.resolve(d[4]=!1)},function(a){return d[0]=d[4]}]))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueMessagesRangeQueryStoredProcedure";a.__tables__=["messages_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSIssueMessagesRangeQueryStoredProcedure",["LSIssueMessagesRangeQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessagesRangeQuery"),e.threadKey,e.referenceTimestampMs,e.direction);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","asyncToGeneratorRuntime","emptyFunction","err","justknobx","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=["acs_sync"];function a(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,k){var l=new Set(),m=[],n=0,o=!0,p,q,r=new(i||(i=b("Promise")))(function(a,b){p=a,q=b}),s=c("uuidv4")(),t=!0,u=(yield a.runInTransaction(function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(i){yield i.mailbox_task_completion_notification_context.add({notificationName:g,notificationScopeKey:s});var r=a.tables.pending_tasks.subscribe(function(a,b){a=(h||(h=d("I64"))).to_string(a[0]);if(b.operation==="add"||b.operation==="put"){var e=b.value;if(c("justknobx")._("2903")&&j.some(function(a){return e.queueName.startsWith(a)}))return;if(k!=null&&e.queueName!==k)return;l.add(a)}else l["delete"](a)}),v=c("emptyFunction"),w=a.tables.mailbox_task_completion_api_tasks.subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===s){a=(h||(h=d("I64"))).to_string(b.value.taskId);l["delete"](a);b=b.value.success;b==null?t&&(m.push(a),n+=1):(o=b&&o,n-=1)}});v=a.subscribeToCommit(function(){n===0&&l.size===0&&(w(),r(),v(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of m)yield a.mailbox_task_completion_api_tasks["delete"]((h||(h=d("I64"))).of_string(b))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",void 0,f.id+":150")),o?p(u):q(c("err")("Not all tasks for "+g+" succeeded")))});try{var x=(yield e(i));yield i.mailbox_task_completion_notification_context["delete"](s);return x}catch(a){v();w();r();throw a}});return function(a){return i.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"));t=!1;return r});return k.apply(this,arguments)}g["default"]=a}),98);
__d("LSUpdateOrInsertThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(9).fetch([[[a[7]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?b.db.table(9).add({threadKey:a[7],lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],mailboxType:a[8],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:a[59],isDisappearingMode:a[60],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109]}):(e=d.item,c[1]=e.lastActivityTimestampMs,c[3]=e.parentThreadKey,c[2]=e.disappearingThreadKey,c[4]=e.isDisappearingMode,b.i64.le(e.authorityLevel,a[6])?b.i64.gt(c[1],a[0])&&b.i64.neq(c[2],void 0)?(b.i64.eq(a[38],b.i64.cast([-1,4294967286]))&&b.i64.eq(c[3],b.i64.cast([0,0]))?(f=[c[3],e.folderName],c[5]=f[0],c[6]=f[1],f):(d=[a[38],a[10]],c[5]=d[0],c[6]=d[1],d),b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:e.lastReadWatermarkTimestampMs,authorityLevel:a[6],threadType:a[9],folderName:c[6],ongoingCallState:a[32],parentThreadKey:c[5],lastActivityTimestampMs:c[1],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0,typingIndicatorDisabled:void 0})})):b.forEach(b.db.table(9).fetch([[[a[7]]]]),function(b){var d=b.update;b.item;return d({lastReadWatermarkTimestampMs:a[1],authorityLevel:a[6],threadType:a[9],folderName:a[10],ongoingCallState:a[32],parentThreadKey:a[38],lastActivityTimestampMs:a[0],snippet:a[2],threadName:a[3],threadPictureUrl:a[4],needsAdminApprovalForNewParticipant:a[5],threadPictureUrlFallback:a[11],threadPictureUrlExpirationTimestampMs:a[12],removeWatermarkTimestampMs:a[13],muteExpireTimeMs:a[14],muteMentionExpireTimeMs:a[15],muteCallsExpireTimeMs:a[16],groupNotificationSettings:a[19],isAdminSnippet:a[20],snippetSenderContactId:a[21],snippetText:a[23],snippetStringHash:a[24],snippetStringArgument1:a[25],snippetAttribution:a[26],snippetAttributionStringHash:a[27],disappearingSettingTtl:a[28],disappearingSettingUpdatedTs:a[29],disappearingSettingUpdatedBy:a[30],cannotReplyReason:a[33],customEmoji:a[34],customEmojiImageUrl:a[35],outgoingBubbleColor:a[36],themeFbid:a[37],nullstateDescriptionText1:a[39],nullstateDescriptionType1:a[40],nullstateDescriptionText2:a[41],nullstateDescriptionType2:a[42],nullstateDescriptionText3:a[43],nullstateDescriptionType3:a[44],snippetHasEmoji:a[45],hasPersistentMenu:a[46],disableComposerInput:a[47],cannotUnsendReason:a[48],viewedPluginKey:a[49],viewedPluginContext:a[50],clientThreadKey:a[51],capabilities:a[52],shouldRoundThreadPicture:a[53],proactiveWarningDismissTime:a[54],isCustomThreadPicture:a[55],otidOfFirstMessage:a[56],normalizedSearchTerms:a[57],additionalThreadContext:a[58],disappearingThreadKey:c[2],isDisappearingMode:c[4],disappearingModeInitiator:a[61],unreadDisappearingMessageCount:a[62],lastMessageCtaId:a[64],lastMessageCtaType:a[65],lastMessageCtaTimestampMs:a[66],consistentThreadFbid:a[67],threadDescription:a[69],unsendLimitMs:a[70],capabilities2:a[78],capabilities3:a[79],syncGroup:a[82],threadInvitesEnabled:a[83],threadInviteLink:a[84],isAllUnreadMessageMissedCallXma:a[85],numUnreadSubthreads:a[86],subthreadCount:a[87],lastNonMissedCallXmaMessageTimestampMs:a[88],isHidden:a[89],threadInvitesEnabledV2:a[90],joinRequestApprovalSetting:a[93],hasPendingInvitation:a[94],eventStartTimestampMs:a[95],eventEndTimestampMs:a[96],takedownState:a[97],secondaryParentThreadKey:a[98],igFolder:a[99],inviterId:a[100],threadTags:a[101],isReadReceiptsDisabled:a[102],readReceiptsDisabledV2:a[103],threadStatus:a[104],threadSubtype:a[105],pauseThreadTimestamp:a[106],capabilities4:a[107],syncSource:a[108],capabilities5:a[109],avatarStickerInstructionKeyId:void 0,avatarStickerId:void 0,avatarStickerThumbnailImageUrl:void 0,avatarStickerThumbnailImageMimeType:void 0,avatarStickerOriginalImageUrl:void 0,avatarStickerOriginalImageMimeType:void 0,hasPendingJoinRequest:void 0,pendingJoinRequestsCount:void 0,memberCount:void 0,admodCount:void 0,ctmAdId:void 0,ctmAdgroupId:void 0,ctmAdCampaignId:void 0,ctmAdCampaignGroupId:void 0,ctmAdAccountId:void 0,metadata:void 0,typingIndicatorDisabled:void 0})}):b.resolve())})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxUpdateOrInsertThreadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPopulateCommunityFolderData",["LSDeleteThenInsertCommunityFolder","LSUpdateOrInsertThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.storedProcedure(b("LSDeleteThenInsertCommunityFolder"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],void 0,void 0,void 0,a[11],a[12],a[13],a[14],a[15],void 0,a[16],a[17],a[18],void 0,a[19],a[20],a[21],a[22],a[23],void 0,void 0,a[24],a[26],void 0,void 0,a[25],a[37],void 0,void 0,c.i64.cast([0,0]),a[29],void 0,c.i64.cast([0,1]),a[28],a[27],a[30],a[31],a[32],a[33],void 0,a[34],a[35],a[36],a[38],a[39],c.i64.cast([0,80]))},function(d){return c.storedProcedure(b("LSUpdateOrInsertThread"),a[8],a[9],a[10],a[2],a[5],void 0,c.i64.cast([0,80]),a[0],c.i64.cast([0,0]),c.i64.cast([0,17]),"community",a[6],a[7],c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([-1,4294967282]),void 0,void 0,void 0,void 0,void 0,void 0,!1,!1,!1,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,!1,void 0,void 0,void 0,void 0,!1,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),void 0,!1,void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,a[40],void 0,void 0,void 0,!1,c.i64.cast([0,0]),void 0,void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(d)}])}a.__sproc_name__="LSMailboxPopulateCommunityFolderDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRemoveTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(d,e){var f=d.done;d=d.value;return f?0:(e=d.item,b.forEach(b.db.table(2).fetch([[[e.queueName,{lte:a[0]}]],"queueNameTaskId"]),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])}))})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreRemoveTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSRoomTruncate",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.filter(b.db.table(63).fetch(),function(a){return b.i64.eq(a.groupRoomType,void 0)||b.i64.eq(a.groupRoomType,b.i64.cast([0,5]))}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSStoriesRoomTruncateStoredProcedure";a.__tables__=["rooms"];e.exports=a}),null);
__d("LSSetRegionHint",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({regionHint:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSCoreSetRegionHintStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSShape",["LSDict"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("LSDict").fromObject(a)}function b(a){return c("LSDict").shapeToRecord(a)}g.ofRecord=a;g.toRecord=b}),98);
__d("LSTaskExists",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(2).fetch([[[a[0]]]]).next().then(function(a,b){b=a.done;a=a.value;return b?c[0]=!1:(a.item,c[0]=!0)})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreTaskExistsStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSTruncateCommunityListTable",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(166).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateCommunityListTableStoredProcedure";a.__tables__=["cm_community_list"];e.exports=a}),null);
__d("LSTruncateNotificationSettings",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.forEach(b.db.table(175).fetch(),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSOmnistoreSettingsTruncateNotificationSettingsStoredProcedure";a.__tables__=["notification_settings"];e.exports=a}),null);
__d("LSUpdateLastSyncCompletedTimestampMsToNow",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastSyncCompletedTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreUpdateLastSyncCompletedTimestampMsToNowStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSUpsertGradientColor",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(117).put({themeFbid:a[0],gradientIndex:a[1],color:a[2],type_:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSThreadThemeUpsertGradientColorStoredProcedure";a.__tables__=["gradient_colors"];e.exports=a}),null);
__d("LSUpsertSequenceId",["LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(25).put({id:d[0],lastAppliedMailboxSequenceId:a[0]})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpsertSequenceIdStoredProcedure";a.__tables__=["mailbox_metadata"];e.exports=a}),null);
__d("LSUpsertTheme",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.i64.neq(a[12],void 0)?c[0]=a[12]:c[0]=a[0],b.db.table(116).put({fbid:a[0],themeIdx:a[1],fallbackColor:a[2],reverseGradiantsForRadial:a[3],accessibilityLabel:a[4],iconUrl:a[5],iconUrlFallback:a[6],backgroundUrl:a[8],description:a[9],isDeprecated:a[11],normalThemeId:c[0],appColorMode:a[13],titlebarBackgroundColor:a[14],titlebarButtonTintColor:a[15],titlebarTextColor:a[16],titlebarAttributionTextColor:a[17],composerTintColor:a[18],composerUnselectedTintColor:a[19],composerInputTextPlaceholderColor:a[20],composerInputBackgroundColor:a[21],composerInputBorderColor:a[22],composerInputBorderWidth:a[23],composerBackgroundColor:a[24],messageTextColor:a[25],messageBorderColor:a[26],messageBorderWidth:a[27],incomingMessageTextColor:a[28],incomingMessageBorderColor:a[29],incomingMessageBorderWidth:a[30],deliveryReceiptColor:a[31],tertiaryTextColor:a[32],primaryButtonBackgroundColor:a[33],hotLikeColor:a[34],reactionPillBackgroundColor:a[35],secondaryTextColor:a[36],quotedIncomingMessageBubbleColor:a[37],cornerRadius:a[38],blurredComposerBackgroundColor:a[39],composerSecondaryButtonColor:a[40],composerPlaceholderTextColor:a[41]})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSThreadThemeUpsertThemeStoredProcedure";a.__tables__=["thread_themes"];e.exports=a}),null);
__d("LSStaticDependencies",["LSDeleteAllCommunityChannelCategories","LSDeleteAllCommunityFolders","LSDeleteThenInsertCmCommunityList","LSDeleteThenInsertContact","LSDeleteThenInsertMessageRequest","LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot","LSDeleteThenInsertThread","LSExecuteFinallyBlockForSyncTransaction","LSExecuteFirstBlockForSyncTransaction","LSGroupRoomTruncate","LSPopulateCommunityFolderData","LSRemoveTask","LSRoomTruncate","LSSetRegionHint","LSTaskExists","LSTruncateCommunityListTable","LSTruncateNotificationSettings","LSUpdateLastSyncCompletedTimestampMsToNow","LSUpsertGradientColor","LSUpsertSequenceId","LSUpsertTheme","LSVerifyContactRowExists"],(function(a,b,c,d,e,f,g){"use strict";a={deleteAllCommunityChannelCategories:c("LSDeleteAllCommunityChannelCategories"),deleteAllCommunityFolders:c("LSDeleteAllCommunityFolders"),deleteThenInsertCmCommunityList:c("LSDeleteThenInsertCmCommunityList"),deleteThenInsertContact:c("LSDeleteThenInsertContact"),deleteThenInsertMessageRequest:c("LSDeleteThenInsertMessageRequest"),deleteThenInsertNotificationsSettingsGraphQLSnapshot:c("LSDeleteThenInsertNotificationsSettingsGraphQLSnapshot"),deleteThenInsertThread:c("LSDeleteThenInsertThread"),executeFinallyBlockForSyncTransaction:c("LSExecuteFinallyBlockForSyncTransaction"),executeFirstBlockForSyncTransaction:c("LSExecuteFirstBlockForSyncTransaction"),groupRoomTruncate:c("LSGroupRoomTruncate"),populateCommunityFolderData:c("LSPopulateCommunityFolderData"),removeTask:c("LSRemoveTask"),roomTruncate:c("LSRoomTruncate"),setRegionHint:c("LSSetRegionHint"),taskExists:c("LSTaskExists"),truncateCommunityListTable:c("LSTruncateCommunityListTable"),truncateNotificationSettings:c("LSTruncateNotificationSettings"),updateLastSyncCompletedTimestampMsToNow:c("LSUpdateLastSyncCompletedTimestampMsToNow"),upsertGradientColor:c("LSUpsertGradientColor"),upsertSequenceId:c("LSUpsertSequenceId"),upsertTheme:c("LSUpsertTheme"),verifyContactRowExists:c("LSVerifyContactRowExists")};b=a;g["default"]=b}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i={};function a(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}function b(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,thread_fbid:a?null:b}})}function e(a,b,e){a===void 0&&(a=!1);(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var f=d("MessengerWebEntryPointsUtil").cast(e);i[b]=f;return c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:f,event_name:"open_chat_tab",is_secured:a,other_user_fbid:a?null:b}})}g.logOpenUserTab=a;g.logOpenGroupTab=b;g.logOpenPageTab=e}),98);
__d("ReQLTable",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var d=(yield a.get.apply(a,b));c=c(d);yield a.upsert(b,c)});return g.apply(this,arguments)}f.update=a}),66);/*FB_PKG_DELIM*/
__d("EbFetchTimeoutMsForMLv2",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("justknobx")._("3074")}g["default"]=a}),98);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSMessageUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_LOG_MESSAGE:1,DENY_TOMBSTONE_MESSAGE:2,DENY_FOR_NON_SENDER:3,DENY_P2P_PAYMENT:4,DENY_STORY_REACTION:5,DENY_BLOB_ATTACHMENT:6,DENY_MESSAGE_NOT_FOUND:7,DENY_MESSAGE_INSTAGRAM_DIRECT_WRITE_RESTRICTION:8});f["default"]=a}),66);
__d("LSQuickReplyType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,HORIZONTAL:1,VERTICAL:2});f["default"]=a}),66);
__d("LSReplyMessageStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,VALID:1,DELETED:2,TEMPORARY_UNAVAILABLE:3,EXPIRED:4});f["default"]=a}),66);
__d("LSTransportKey",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:"",ENCRYPTED_BACKUPS_MEDIA:"EncryptedBackupsMedia"});f["default"]=a}),66);
__d("MAWSubscribeToContactNames",["fbt","$InternalEnum","Env","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;d=b("$InternalEnum").Mirrored(["FIRST_NAME","FULL_NAME"]);var j=Boolean((i||(i=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";function k(){return h._(/*BTDS*/"__JHASH__qNfUY0OKWF7__JHASH__",[h._param("Platform Name",j)]).toString()}function a(a,b){return(a=a.get(b))!=null?a:k()}g.ContactNameMode=d;g.getUnknownUser=k;g.getContactNameFromLookup=a}),226);
__d("MAWThreadCustomizationUtils",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME}function b(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME}g.skipNicknameCheck=a;g.nicknameOnlyForFirstParticipantChecking=b}),98);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?void 0:a.replace(/\$/g,"$$$$")}function a(a,b,c){c===void 0&&(c=0);a=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(b,a);var e=a.contactIds;a=a.contents;var f=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(b),g=d("MAWThreadCustomizationUtils").skipNicknameCheck(b);if(c===1){var i=b===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME;return d("MAWAdminMsg").buildLocalizedString(a.map(h),e.map(function(a,b){return f&&b>0||g?i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}),b)}return d("MAWAdminMsg").buildLocalizedString(a,e,b)}g.buildAdminMsgText=a}),98);
__d("fillArray",[],(function(a,b,c,d,e,f){function a(a,b){var c=new Array(a);for(var d=0;d<a;d++)c[d]=b;return c}f["default"]=a}),66);
__d("mapPull",[],(function(a,b,c,d,e,f){function a(a,b,c){var d=new Map();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;d.set(c(g),b(g))}return d}f["default"]=a}),66);
__d("MAWBridgeBuildMsgMentions",["MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils","WAJids","emptyFunction","fillArray","mapPull"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.length>0?a.join(","):void 0}function i(a,b){return a.index-b.index}function j(a,b){return a==null||a===""?a:Array.from(b).reduce(function(a,b){var c=b[0];b=b[1];return a.replaceAll(c,b)},a)}function k(a,b){return a==null||a===""?[]:Array.from(b.keys()).flatMap(function(b){return Array.from(a.matchAll(b))}).sort(i)}function l(a,b,e,f){e=c("mapPull")(e,function(a){var c=a[0];a[1];return d("MAWSubscribeToContactNames").getContactNameFromLookup(b,c)},function(a){a[0];a=a[1];return a});var g=k(a,e),i=[],l=[],m=[],n=0;for(g of g){var o=d("WAJids").unsafeCoerceToUserJid(g[0]);i.push(d("WAJids").userIdFromJid(o));var p=d("MAWSubscribeToContactNames").getContactNameFromLookup(e,o);l.push(p.length+1);m.push(Math.max(g.index-1+n,0));n+=p.length-o.length}p=k(f,e);for(o of p){g=d("WAJids").unsafeCoerceToUserJid(o[0]);i.push(d("WAJids").userIdFromJid(g))}n=c("fillArray")(i.length,"p");return{mentionIds:h(i),mentionLengths:h(l),mentionOffsets:h(m),mentionTypes:h(n),replyMessageText:j(f,e),text:j(a,e)}}function m(a,b,c,e){a=l(a,c,e);e=a.text;a=b.map(function(a){return d("MAWSubscribeToContactNames").getContactNameFromLookup(c,a)});return[e,a]}function a(a,b,e){b=c("mapPull")(b,c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);return l(a,b,b,e)}function n(a,b,c,e,f){return b&&c>0||e?f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":f===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}function b(a,b,e,f){b=c("mapPull")((b=b)!=null?b:[],c("emptyFunction").thatReturnsArgument,d("WAJids").userIdFromJid);if(b.size===0||a==null||a===""){var g=d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME;(f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP)&&(g=d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME);var h=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(f),i=d("MAWThreadCustomizationUtils").skipNicknameCheck(f);f=e.map(function(a,b){return n(a,h,b,i,g)});return[a,f]}f=new Map([].concat(Array.from(b.keys()),e).map(function(a){return[a,"$PARTICIPANT_FULL_NAME("+a+")"]}));return m(a,e,f,b)}g.buildMsgTextWithMentions=a;g.buildThreadSnippetWithMentions=b}),98);
__d("MAWMsgErrorUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=[126];function a(a){var b=c("gkx")("7471");return!b?!1:h.includes(a)}g.isWellbeingError=a}),98);
__d("MAWMsgReply",["EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","MAWMsgType","WATimeUtils","cr:2472","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.replySourceId!=null}function a(a){a=a.replyToUserId;return a==null?void 0:(h||(h=d("I64"))).of_string(a)}function e(a){var b=a.isFBPostMention,e=a.isFBStoryMention,f=a.isForwarded,g=a.isMsgHighlightsTabFriendUpdatesReply,h=a.isNoteReply,k=a.isStoryProducerReply,l=a.isStoryReply,m=a.isStoryShare,n=a.replyMediaExpirationTimestampMs;a=j(a);if(b===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_POST_MENTION);if(f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(m!=null&&m)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION);if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(n!=null&&n<d("WATimeUtils").unixTime())return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY);if(a)if(l!=null&&l)return k!=null&&k?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY):(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else if(h===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=j(a),e=a.isMsgHighlightsTabFriendUpdatesReply,f=a.isNoteReply,g=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY);if(b)if(g!=null&&g)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else if(f===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function k(a){if(a.replySourceId!=null)return a.replySourceId}function l(a){if(a.replySourceTimestampMs!=null)return(h||(h=d("I64"))).of_float(a.replySourceTimestampMs)}function m(a){if(a.replySourceId!=null)return a.replyMessageText}function n(a){if(a.replySourceId!=null)return a.replyMentionedJids}function o(a){return a.type_===d("MAWMsg").bumpExistingMessage?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):j(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").REGULAR):void 0}function p(a){return a.replySourceId==null?!1:q(a.replyStatusType)}function q(a){switch(a){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;default:return!1}}function r(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function s(a){if(p(a)&&!r(a))return a.replyMediaUrlMimeType}function t(a){if(p(a))return a.replyMediaPreviewHeight!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewHeight):void 0}function u(a){if(p(a))return a.replyMediaPreviewWidth!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewWidth):void 0}function v(a){var e=a.replyMessageText;e=e!=null?b("cr:2472")==null?e:b("cr:2472").unvault(e):"";e=e==="\ud83d\udc4d"&&a.replyStatusType==="Sticker";var f=a.replyStatusType==="Raven";f=p(a)||f;var g=a.replyStatusType;if(f){if(g==null)return;switch(g){case"Gif":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);break;case"Video":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"XMA":if(e)return;if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0||a.isMsgHighlightsTabFriendUpdatesReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(r(a))return;return c("justknobx")._("2738")?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"ReceiverFetch":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);case"Raven":return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE);default:}}if(g!=null&&g==="Sticker"&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)}function w(a){var b=a.replyMediaId,c=a.replyXMAId;if(p(a)&&b!=null)return c!=null?void 0:(h||(h=d("I64"))).of_float(b);if(b!=null||c==null)return;if(c!=null&&r(a))return;return(h||(h=d("I64"))).of_int32(c)}function x(a){var b=a.replyPlaintextHash;if(p(a)&&b!=null)return""+b}function y(a){var b=a.isNoteReply,c=a.isStoryReply,e=a.replyMediaExpirationTimestampMs,f=a.replyMessageText,g=a.replyStatusType;if(b===!0){if(e!=null)return(h||(h=d("I64"))).of_float(e);return}b=v(a);e=w(a);if(g!=null&&g==="XMA"&&b==null){if(e!=null)return;if(f==null)return(h||(h=d("I64"))).zero}if(e!=null||!(c!=null&&c))return;return(h||(h=d("I64"))).zero}g.getReplyUserId=a;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=k;g.getReplyTimestampMs=l;g.getReplyMessageText=m;g.getReplyMentionedJids=n;g.getReplyType=o;g.getReplyMediaMimeType=s;g.getReplyMediaHeight=t;g.getReplyMediaWidth=u;g.getReplyAttachmentType=v;g.getReplyAttachmentId=w;g.getReplyAttachmentPlaintextHash=x;g.getReplyMediaExpirationTimestampMs=y}),98);
__d("MAWBridgeBuildMsg",["fbt","I64","LSIntEnum","LSMessageSendStatus","MAWAckLevel","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMsgErrorUtils","MAWMsgReply","MAWMsgType","MAWVault","gkx","isMWBumpMessage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function l(a){return a!=null?d("MAWVault").unvault(a):void 0}function m(a){return a!=null?d("MAWVault").vault(a):void 0}function n(a){return babelHelpers["extends"]({},a,{replyMessageText:m(a.replyMessageText),text:m(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?(i||(i=d("I64"))).of_int32(a):void 0}function b(a,b){var c=d("MAWMsgReply").getReplyMessageText(a),e=a.adminContent,f=a.adminType,g=a.adminVersion,i=a.content,j=a.isAdminMessage;i=i;j&&e!=null&&f!=null&&(i=d("MAWBridgeBuildAdminMsg").buildAdminMsgText(e,f,g));if(a.type_===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE){i=m(a.replySourceId==null?"":(j=b)!=null?j:h._(/*BTDS*/"__JHASH__W6kPEK81i0G__JHASH__").toString())}e=k(a.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(a));return e.length>0?n(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(i),e,l(c))):{replyMessageText:c,text:i}}function e(a,b,e){var f=c("isMWBumpMessage")(b)?b==null?void 0:b.replyMessageText:b==null?void 0:b.text;b=k(e,b==null?void 0:(e=b.mentionIds)==null?void 0:e.split(",").map(d("MAWJids").toUserJid));return b.length>0?n(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(a),b,l(f))):{replyMessageText:f,text:a}}function f(a){var b=c("gkx")("7471");if(!b)return;b=a.ack;a=a.applicationErrorCode;b=d("MAWAckLevel").levelToMessagingSendStatusV2(b);b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR));if(!b)return;return d("MAWMsgErrorUtils").isWellbeingError(a)?h._(/*BTDS*/"__JHASH__CDz7bJXsjng__JHASH__").toString():h._(/*BTDS*/"__JHASH___xh_QuB-jgY__JHASH__").toString()}g.getEphemeralDurationInSec=a;g.buildMessage=b;g.buildOptimisticMessage=e;g.getSubscriptErrorMessage=f}),226);
__d("MAWBridgeDeleteMessagesHandler",["MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,c.threadJid,"MAWBridgeDeleteMessagesHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var e of c.messages)yield a.messages["delete"](b,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWConvertExtendedContentTypeToLSXmaContentType",["LSXmaContentType","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:return c("LSXmaContentType").FB_FEED_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:return c("LSXmaContentType").FB_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:return c("LSXmaContentType").FB_STORY_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return c("LSXmaContentType").FB_STORY_MENTION;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:return c("LSXmaContentType").FB_FEED_VIDEO_SHARE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:return c("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return c("LSXmaContentType").FB_PRODUCER_STORY_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return c("LSXmaContentType").FB_EVENT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:return c("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:return c("LSXmaContentType").MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return c("LSXmaContentType").FB_SHORT;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return c("LSXmaContentType").MSG_LOCATION_SHARING;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:return c("LSXmaContentType").MSG_LOCATION_SHARING_V2;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return c("LSXmaContentType").FB_POST_MENTION;default:return null}}g.convertExtendedContentTypeToLSXmaContentType=a}),98);
__d("MNXMAPreviewImageDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,COLLAGE:1,VIDEO:2,MESSENGER_ICON:3,INSTAGRAM_ICON:4,SHOPPING:5,UPCOMING_EVENT:6,LIVE:7,REEL:8,IGTV:9,YOUTUBE_VIDEO:10,YOUTUBE_SHORTS:11,COMMENT:12,BLUR:13,PILL:14,MESSENGER_CHANNEL_IMAGE:15,TROPHY:16,DXMA_LIVE:17,DXMA_LIVE_ENDED:18});f["default"]=a}),66);
__d("MAWBridgeXMAUtils",["I64","LSIntEnum","MAWBridgeUIEventDataValidation","MAWConvertExtendedContentTypeToLSXmaContentType","MAWDbMsg","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MWPBumpEntityKey","MessagingAttachmentType","Promise","Random","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g,i){var k=c.ctas,l=c.defaultCTA,o=m(c.targetId),s=(j||(j=d("I64"))).of_int32(d("Random").uint32());if(l!=null){c=p(l,s,f,e,g,o,c.targetType);yield r(a,c,s,i.defaultCta)}c=[];k!=null&&(c=(yield (h||(h=b("Promise"))).all(k.map(function(b,c){var d=n(s,c);b=q(b,d,f,e,g,o);c=c===0?i.attachmentCta1:c===1?i.attachmentCta2:c===2?i.attachmentCta3:void 0;return r(a,b,d,c)}))));return{attachmentCta1Id:c.length>0?c[0]:void 0,attachmentCta2Id:c.length>1?c[1]:void 0,attachmentCta3Id:c.length>2?c[2]:void 0,defaultCtaId:l==null?void 0:s}});return k.apply(this,arguments)}function l(a){var b="xma_web_url";switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:b="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:b="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:b="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:b="xma_rtc_missed_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:b="igd_web_post_share";break}return b}function m(a){return a!=null?d("MAWBridgeUIEventDataValidation").stringToI64Opt(a):void 0}function n(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b+1))}function o(a,b,c,e,f,g,h){h===void 0&&(h="xma_web_url");var i=a.actionUrl,k=a.nativeUrl;return{actionContentBlob:void 0,actionUrl:i!=null?i:k,attachmentFbid:f,attachmentIndex:(j||(j=d("I64"))).zero,ctaId:b,enableExtensions:!1,extensionHeightType:void 0,messageId:c,nativeUrl:k!=null?k:i,platformToken:void 0,targetId:(f=g)!=null?f:void 0,threadKey:e,title:(b=a.title)!=null?b:"Tap to view status update",type_:(c=h)!=null?c:"xma_web_url",urlWebviewType:void 0}}function p(a,b,c,d,e,f,g){g=l(g);return o(a,b,c,d,e,f,g)}function q(a,b,c,d,e,f){var g;switch(a.ctaType){case"contact_sharing_profile":g="contact_sharing_profile";break;case"contact_sharing_message":g="contact_sharing_message";break}return o(a,b,c,d,e,f,g)}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){d!=null?yield a.attachment_ctas.upsert([d.ctaId],b):yield a.attachment_ctas.add(b);return c});return s.apply(this,arguments)}function e(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=null,f={attachmentCta1:void 0,attachmentCta2:void 0,attachmentCta3:void 0,defaultCta:void 0};e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c)));e!=null&&(f.defaultCta=(yield u(a,e.defaultCtaId)),f.attachmentCta1=(yield u(a,e.attachmentCta1Id)),f.attachmentCta2=(yield u(a,e.attachmentCta2Id)),f.attachmentCta3=(yield u(a,e.attachmentCta3Id)));return[e,f]});return t.apply(this,arguments)}function u(a,c){return c==null?(h||(h=b("Promise"))).resolve(void 0):(a=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachment_ctas).getKeyRange(c)))!=null?a:void 0}function f(a,b,e,f,g,h,k,l,m){var n,o=(j||(j=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(f)),p=v(a),q=d("MAWConvertExtendedContentTypeToLSXmaContentType").convertExtendedContentTypeToLSXmaContentType(a.targetType);q=q?(j||(j=d("I64"))).of_int32(q):void 0;n=(n=a==null?void 0:(n=a.defaultCTA)==null?void 0:n.actionUrl)!=null?n:a==null?void 0:(n=a.defaultCTA)==null?void 0:n.nativeUrl;a.defaultPreviewMediaId!=null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_xma_handler","xma_preview_media_has_plaintext_hash."+m+"."+a.targetType+"."+(a.defaultPreviewMediaPlaintextHash!=null?"true":"false"));return{accessibilitySummaryText:void 0,actionUrl:(m=n)!=null?m:void 0,attachmentCta1Id:g,attachmentCta2Id:h,attachmentCta3Id:k,attachmentFbid:e,attachmentIndex:j.zero,attachmentLoggingType:void 0,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:j.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:x(a.ctas,1),cta1Type:w(a.ctas,1),cta2Title:x(a.ctas,2),cta2Type:w(a.ctas,2),cta3Title:x(a.ctas,3),cta3Type:w(a.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:l,defaultCtaTitle:(n=a.defaultCTA)==null?void 0:n.title,defaultCtaType:p.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:a.filesize!=null?(j||(j=d("I64"))).of_int32(a.filesize):void 0,gatingTitle:a.overlayTitle,gatingType:a.overlayIconGlyph!=null?String(a.overlayIconGlyph):void 0,hasMedia:a.hasMedia!=null?a.hasMedia:!1,hasXma:!0,hasXmaFavicon:a.faviconMediaId!=null,hasXmaHeaderImage:a.headerMediaId!=null,hasXmaPreview:a.defaultPreviewMediaId!=null,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:a.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:a.maxSubtitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(a.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:a.maxTitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(a.maxTitleNumOfLines):void 0,messageId:f,miniPreview:void 0,offlineAttachmentId:(m=a.offlineAttachmentId)!=null?m:e,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:p.height,previewHeightLarge:a.previewHeightLarge!=null?(j||(j=d("I64"))).of_int32(a.previewHeightLarge):void 0,previewImageDecorationType:z(a.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:p.width,previewWidthLarge:a.previewWidthLarge!=null?(j||(j=d("I64"))).of_int32(a.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:a.subtitleText,targetId:void 0,threadKey:b,timestampMs:o,titleText:a.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaContentType:q,xmaDataclass:a.xmaDataclass,xmaFaviconFbid:c("gkx")("8162")?(g=a.faviconPlaintextHash)!=null?g:(h=a.faviconMediaId)==null?void 0:h.toString():(k=a.faviconMediaId)==null?void 0:k.toString(),xmaHeaderImageFbid:c("gkx")("8162")?(l=a.headerMediaPlaintextHash)!=null?l:(n=a.headerMediaId)==null?void 0:n.toString():(f=a.headerMediaId)==null?void 0:f.toString(),xmaLayoutType:a.xmaLayoutType!=null?y(a.xmaLayoutType):void 0,xmaPreviewFbid:c("gkx")("8162")?(m=a.defaultPreviewMediaPlaintextHash)!=null?m:(e=a.defaultPreviewMediaId)==null?void 0:e.toString():(p=a.defaultPreviewMediaId)==null?void 0:p.toString(),xmasTemplateType:a.xmaLayoutType!=null?y(a.xmaLayoutType):void 0}}function v(a){var b;switch(a.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:b={height:(j||(j=d("I64"))).of_int32(108),width:(j||(j=d("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:b={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:b={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:b={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:b={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:b={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:b={xmaContentType:"xma_rtc_missed_group_video"};break;default:b={height:a.previewHeight!=null?(j||(j=d("I64"))).of_int32(a.previewHeight):void 0,width:a.previewWidth!=null?(j||(j=d("I64"))).of_int32(a.previewWidth):void 0,xmaContentType:"xma_web_url"};break}return b}function w(a,b){if(a==null)return;a=a[b-1];if(a==null)return;b=a.buttonType;a=a.ctaType;switch(a){case"contact_sharing_profile":return"contact_sharing_profile";case"contact_sharing_message":return"contact_sharing_message";default:return b===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}}function x(a,b){if(a==null)return;a=a[b-1];if(a!=null)return a.title}function y(a){return a===0||a!==3?(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE):(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)}function z(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}}g.addAttachmentCtas=a;g.maybeBridgeToLSTargetId=m;g.getCtaIdFromDefaultCtaId=n;g.composeDefaultAttachmentCta=p;g.composeAttachmentCta=q;g.getExistingAttachmentAndAttachmentCtas=e;g.composeAttachmentXMA=f}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MAWDbMsg","MessagingAttachmentType","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f,g=b.contentRef,j=b.defaultPreviewMediaId,k=b.msgId,l=b.subtitleText,m=b.titleText,n=b.xmaId;if(k==null)return;f=(f=b==null?void 0:(f=b.defaultCTA)==null?void 0:f.actionUrl)!=null?f:b==null?void 0:(f=b.defaultCTA)==null?void 0:f.nativeUrl;var o=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e,k)));if(o!=null)return;o=String(n);n=(h||(h=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(k));if(g==null){var p="contentRef is empty for a MSG_RECEIVER_FETCH XMA";c("FBLogger")("messenger_web_sharing").mustfix(p);return}var q;try{p=JSON.parse(g);g=p.fetch_params;g!=null&&(q=JSON.stringify(g))}catch(a){p="Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass";c("FBLogger")("messenger_web_sharing").mustfix(p);return}g=(yield d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,k,o,{}));p=g.attachmentCta1Id;b=g.attachmentCta2Id;var r=g.attachmentCta3Id;g=g.defaultCtaId;yield a.attachments.add({actionUrl:(a=f)!=null?a:void 0,attachmentCta1Id:p,attachmentCta2Id:b,attachmentCta3Id:r,attachmentFbid:o,attachmentIndex:h.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.zero,defaultCtaId:g,hasMedia:!1,hasXma:!0,hasXmaPreview:j!=null,isSharable:!0,messageId:k,receiverFetchId:q,subtitleText:l,threadKey:e,timestampMs:n,titleText:m,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)});return});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=Object.keys(c("LSTransportKey")).find(function(b){return c("LSTransportKey")[b]===a});return b?c("LSTransportKey")[b]:"WhatsApp"}g.convertStringToLSTransportKeyType=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","Promise","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (i||(i=b("Promise"))).all(c.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),j["delete"](e)});return l.apply(this,arguments)}function m(a,e,g){return c("setTimeout")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var g=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(g.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(b,a,e)});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":66"))}),g)}function a(a,b,d,e){a=j.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=m(f,d,e);j.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function e(a){var b=a.msgId;a=j.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=e}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return c.msgs.reduce(function(c,e){return c.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,e,e.countdownTs,e.millisecondsUntilCountdownTs);(i||(i=d("I64"))).of_int32(e.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(c,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null)return(h||(h=b("Promise"))).resolve();c=babelHelpers["extends"]({},c,{ephemeralExpirationTs:(i||(i=d("I64"))).of_float(e.countdownTs)});yield a.messages.put(c)});return function(a){return c.apply(this,arguments)}}())})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","WAMediaHdType","asyncToGeneratorRuntime","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f,g,h){var k=b.messagesSortOrderMs?(i||(i=d("I64"))).of_float(b.messagesSortOrderMs[e]):b.sortOrderMs!=null?(i||(i=d("I64"))).of_float(b.sortOrderMs):(i||(i=d("I64"))).of_float(b.ts*1e3);return{attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(i||(i=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(i||(i=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia,hasXma:!1,isHd:c("qex")._("256")===!0?b.hdType===d("WAMediaHdType").HD_TYPE_HQ_4K:void 0,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(i||(i=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(i||(i=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(i||(i=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(i||(i=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(i||(i=d("I64"))).of_int32(b.previewWidthLarge),threadKey:h,timestampMs:k,transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.mediaId,j=e.msgIds,l=e.offlineAttachmentId,m=e.plaintextHash,p=n(g,m),q=(g=l)!=null?g:p;m=!1;var r=o(e),s=null;c("gkx")("4219")&&(s=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments_ranges_v2__generated).getKeyRange(f).filter(function(a){return(i||(i=d("I64"))).equal(a.mediaGroup,r)}))));yield (h||(h=b("Promise"))).all(j.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.attachments,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c).getKeyRange(f,b)));b=k(g,e,b,p,q,f);e.skipShouldUpdateHasMore!==!0&&s!=null&&(i||(i=d("I64"))).le(b.timestampMs,s.minTimestampMs)&&(m=!0);if(g!=null){return c.upsert([g.threadKey,g.messageId,g.attachmentFbid],babelHelpers["extends"]({},b,{transportKey:(g=g.transportKey)!=null?g:b.transportKey}))}else return c.add(b)});return function(a){return c.apply(this,arguments)}}()));if(s!=null&&s.hasMoreBefore!==!0&&m&&c("gkx")("4219")){l=babelHelpers["extends"]({},s,{hasMoreBefore:!0});yield a.attachments_ranges_v2__generated.upsert([s.threadKey,s.mediaGroup,s.minTimestampMs],l)}});return m.apply(this,arguments)}function n(a,b){return""+((b=b)!=null?b:a.toString())}function o(a){switch(a.mediaType){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(j||(j=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.getAttachmentFromBridgeMedia=k;g.callWithoutWaitingForAnything=l;g.getAttachmentID=n;g.call=a}),98);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isAuthorMe,d=a.recipientName,e=a.replySenderIsMe,f=a.replySenderIsRecipient;a=a.senderName;var g="participantBumpedParticipantMessage";b&&e?g="currentUserBumpedOwnMessage":b?g="currentUserBumpedMessage":e?g="participantBumpedCurrentUserMessage":f&&(g="participantBumpedOwnMessage");return c("getMAWLocalizedBumpMsgReplySnippet")(g,a,d)}g.buildBumpMessageReplySnippet=a}),98);
__d("MAWMsgReplyStatus",["LSIntEnum","LSReplyMessageStatus","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function a(a){a=i(a.replyStatusType);if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyMessageStatus=i;g.getLSReplyMessageStatus=a}),98);
__d("MAWMsgReplySnippet",["fbt","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","MAWPostMentionXMASnippetFbt","ODS","err","gkx","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=a.isAuthorMe,e=a.isBumpMsg;e=e===void 0?!1:e;var f=a.isDeletedMsg,g=a.isFBPostMention;g=g===void 0?!1:g;var k=a.isFBStoryMention;k=k===void 0?!1:k;var l=a.isIGStoryMention;l=l===void 0?!1:l;var m=a.isIGXMAStoryShare;m=m===void 0?!1:m;var n=a.isMsgHighlightsTabFriendUpdatesReply;n=n===void 0?!1:n;var o=a.isNoteReply;o=o===void 0?!1:o;var p=a.isPostPrivateReply;p=p===void 0?!1:p;var q=a.isStoryHighlightShare;q=q===void 0?!1:q;var r=a.isStoryProducerReply,s=a.isStoryReaction;s=s===void 0?!1:s;var t=a.isStoryReply;t=t===void 0?!1:t;var u=a.isStoryShare;u=u===void 0?!1:u;var v=a.recipientName,w=a.replyAttachmentType,x=a.replySenderIsMe;x=x===void 0?!1:x;var y=a.replySenderIsRecipient;y=y===void 0?!1:y;var z=a.senderName;a=a.storyShareAuthor;switch(!0){case g:return b?d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(v):d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(z);case e:return d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:b,recipientName:v,replySenderIsMe:x,replySenderIsRecipient:y,senderName:z});case q:return a!=null?h._(/*BTDS*/"__JHASH__3A-F80NGMR1__JHASH__",[h._param("username",a)]):h._(/*BTDS*/"__JHASH__btyC9aNJMDF__JHASH__");case m&&w!=null&&(i||(i=d("I64"))).equal(w,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._(/*BTDS*/"__JHASH__xnZ-ffIPZnP__JHASH__",[h._param("username",a)]):h._(/*BTDS*/"__JHASH__nEqZlivBoJj__JHASH__");case b&&f:return h._(/*BTDS*/"__JHASH__FzueDOoURT8__JHASH__");case b&&u:return h._(/*BTDS*/"__JHASH__d4DLCdwDC03__JHASH__");case b&&s:return h._(/*BTDS*/"__JHASH__yaEVWahdF8q__JHASH__");case b&&l:return v!=null?h._(/*BTDS*/"__JHASH__ZcIFbzn42DR__JHASH__",[h._param("name",v)]):h._(/*BTDS*/"__JHASH__M3uJqhYYEHf__JHASH__");case b&&k:return v!=null?h._(/*BTDS*/"__JHASH__djIYCFIYkhI__JHASH__",[h._param("name",v)]):h._(/*BTDS*/"__JHASH__M3uJqhYYEHf__JHASH__");case l:case k:return h._(/*BTDS*/"__JHASH__dgpS1OhnF7B__JHASH__");case!b&&n:return h._(/*BTDS*/"__JHASH__9HVcKyuMcEa__JHASH__",[h._param("name",z)]);case b&&n:return h._(/*BTDS*/"__JHASH__tQ_baoPXjLg__JHASH__");case b&&p:return v!=null?h._(/*BTDS*/"__JHASH__VKBGNzy_Yqs__JHASH__",[h._param("name",v)]):h._(/*BTDS*/"__JHASH__n0YtGhrNuCJ__JHASH__");case p:return h._(/*BTDS*/"__JHASH__i08IJ6pj_jc__JHASH__",[h._param("name",z)]);case!b&&o:return h._(/*BTDS*/"__JHASH__6yn4tcYSSq3__JHASH__",[h._param("name",z)]);case b&&o:return h._(/*BTDS*/"__JHASH__XYG_9W-CuAE__JHASH__");case b&&x:return h._(/*BTDS*/"__JHASH__GiGYAtipVIl__JHASH__");case b&&t:return r===!0?h._(/*BTDS*/"__JHASH__NopJjhe-kSQ__JHASH__"):v!=null?h._(/*BTDS*/"__JHASH__ZkkDtvZx-as__JHASH__",[h._param("name",v)]):h._(/*BTDS*/"__JHASH__GEUovmERkjj__JHASH__");case b:return v!=null?h._(/*BTDS*/"__JHASH__eQLjVyXwwuH__JHASH__",[h._param("other_name",v)]):h._(/*BTDS*/"__JHASH__NYU_gsfRGpq__JHASH__");case f:return h._(/*BTDS*/"__JHASH__30kvLEU_B_p__JHASH__",[h._param("name",z)]);case u:return h._(/*BTDS*/"__JHASH__JQwHPEO2e9j__JHASH__",[h._param("user",z)]);case s:return h._(/*BTDS*/"__JHASH__BS0JbOB2Hdc__JHASH__");case y:return h._(/*BTDS*/"__JHASH__RWi7lW394uo__JHASH__",[h._param("other",z)]);case x&&t:return r===!0?h._(/*BTDS*/"__JHASH__zPBL6gbwy2t__JHASH__",[h._param("name",z)]):h._(/*BTDS*/"__JHASH__zc6GoZLyKDZ__JHASH__",[h._param("name",z)]);case x:return h._(/*BTDS*/"__JHASH__uU6-xunUPnp__JHASH__",[h._param("other_name",z)]);default:return v!=null?h._(/*BTDS*/"__JHASH__iOHMd6RP1E7__JHASH__",[h._param("other",z),h._param("other_name",v)]):h._(/*BTDS*/"__JHASH__JL2f9yie2zt__JHASH__",[h._param("other",z)])}}function a(a){var b=a.isAuthorMe,e=a.isFBPostMention;e=e===void 0?!1:e;var f=a.isFBStoryMention;f=f===void 0?!1:f;var g=a.isIGStoryMention;g=g===void 0?!1:g;var h=a.isIGXMAStoryShare,i=a.isMsgHighlightsTabFriendUpdatesReply;i=i===void 0?!1:i;var j=a.isNoteReply;j=j===void 0?!1:j;var m=a.isPostPrivateReply;m=m===void 0?!1:m;var n=a.isStoryHighlightShare;n=n===void 0?!1:n;var o=a.isStoryProducerReply,p=a.isStoryReaction,q=a.isStoryReply,r=a.isStoryShare;r=r===void 0?!1:r;var s=a.replySenderIsMe,t=a.replySourceId,u=a.replyStatusType,v=a.replyToUserId,w=a.sender,x=a.storyShareAuthor;a=a.type_;a=a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;var y=u===d("MAWMsgType").MSG_TYPE.XMA&&c("gkx")("458");if(t==null&&!(c("justknobx")._("2998")&&Boolean(q))&&!r&&!g&&!f&&!n&&!j&&!y&&!e)return;if(v==null||w==null)throw c("err")("Error getting reply snippet without replyToUserId or sender");(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");return(t=l({isAuthorMe:b,isBumpMsg:a,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(u)===c("LSReplyMessageStatus").DELETED,isFBPostMention:e,isFBStoryMention:f,isIGStoryMention:g,isIGXMAStoryShare:h,isMsgHighlightsTabFriendUpdatesReply:i,isNoteReply:j,isPostPrivateReply:m,isStoryHighlightShare:n,isStoryProducerReply:o,isStoryReaction:p,isStoryReply:q,isStoryShare:r,recipientName:"$PARTICIPANT_FIRST_NAME("+v+")",replySenderIsMe:s,replySenderIsRecipient:w===v,senderName:"$PARTICIPANT_FIRST_NAME("+w+")",storyShareAuthor:x}))==null?void 0:t.toString()}g.buildLocalizedReplySnippet=l;g.getReplySnippet=a}),226);
__d("MAWUpdateMsg",["I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplyStatus","MAWTimeUtils","MWPBumpEntityKey","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e,g,h){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,c,"MAWUpdateMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.messages;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b,e,g)));b!=null&&(yield a.put(babelHelpers["extends"]({},b,h)))});return function(b,c){return a.apply(this,arguments)}}())});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":45")}function e(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var j,k;j=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(j=b.originalTs)!=null?j:b.ts:b.ts);var l=b.type_===d("MAWMsg").unsent?d("MAWTimeUtils").toTimestamp(b.ts):void 0,m=b.type_===d("MAWMsg").unsent,n=(yield d("MAWBridgeBuildMsg").buildMessage(b,g));k=(k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey))!=null?k:"WhatsApp";var o=(h||(h=d("I64"))).of_float(b.sortOrderMs);if(d("MAWMsgReply").getReplyAttachmentId(b)!=null&&d("MAWMsgReply").getReplyAttachmentPlaintextHash(b)==null){var p;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","update_message_handler_for_reply_type_"+(h||(h=d("I64"))).to_float((p=d("MAWMsgReply").getReplyAttachmentType(b))!=null?p:(h||(h=d("I64"))).zero))}n=babelHelpers["extends"]({},e,n,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:m||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType),editCount:b.editCount!=null?(h||(h=d("I64"))).of_int32(b.editCount):(h||(h=d("I64"))).zero,ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),groupId:(p=b.groupId)!=null?p:void 0,groupIndex:b.groupIndex!=null?(h||(h=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(h||(h=d("I64"))).of_float(b.groupSize):void 0,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isUnsent:b.type_===d("MAWMsg").unsent,messageId:b.msgId,primarySortKey:o,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),subscriptErrorMessage:d("MAWBridgeBuildMsg").getSubscriptErrorMessage(b),timestampMs:j,transportKey:k,unsentTimestampMs:l});e!=null?yield a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],n):yield a.messages.put(n)});return j.apply(this,arguments)}g.mutateThreadText=a;g.call=e}),98);
__d("MAWBridgeNewMsgHandler",["I64","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessageUnsendabilityStatus","LSQuickReplyType","MAWAckLevel","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWTimeUtils","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f){var g;g=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(g=b.originalTs)!=null?g:b.ts:b.ts);var h=d("MAWBridgeBuildMsg").buildMessage(b,f),k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey);if(d("MAWMsgReply").getReplyAttachmentId(b)!=null&&d("MAWMsgReply").getReplyAttachmentPlaintextHash(b)==null){var l;d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","new_message_handler_for_reply_type_"+(i||(i=d("I64"))).to_float((l=d("MAWMsgReply").getReplyAttachmentType(b))!=null?l:(i||(i=d("I64"))).zero))}return babelHelpers["extends"]({},h,{adminMsgCtaId:e==null?void 0:e.ctaId,adminMsgCtaTitle:e==null?void 0:e.title,adminMsgCtaType:e==null?void 0:e.ctaType,authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:b.type_===d("MAWMsg").unsent||!b.isAuthorMe?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType,b.xmaMessageType),editCount:(i||(i=d("I64"))).of_int32((l=b.editCount)!=null?l:0),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),ephemeralExpirationTs:void 0,forwardScore:i.of_float(b.forwardingScore),groupId:(h=b.groupId)!=null?h:void 0,groupIndex:b.groupIndex!=null?(i||(i=d("I64"))).of_float(b.groupIndex):void 0,groupSize:b.groupSize!=null?(i||(i=d("I64"))).of_float(b.groupSize):void 0,hasQuickReplies:!1,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isAdminMessage:b.isAdminMessage,isCollapsed:!1,isExpired:!1,isForwarded:b.isForwarded,isUnsent:b.type_===d("MAWMsg").unsent,localDataId:void 0,messageId:b.msgId,messageRenderingType:j.ofNumber(c("LSMessageRenderingType").DEFAULT),msUntilExpirationTs:void 0,offlineThreadingId:b.externalId,primarySortKey:i.of_float(b.sortOrderMs),quickReplyType:j.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentExtra:void 0,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:f,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),replyType:d("MAWMsgReply").getReplyType(b),secondarySortKey:void 0,senderId:i.of_string(b.sender),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),stickerId:void 0,subscriptErrorMessage:d("MAWBridgeBuildMsg").getSubscriptErrorMessage(b),takedownState:void 0,textHasLinks:!1,threadKey:a,timestampMs:g,transportKey:k,unsentTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:j.ofNumber(0)})}function l(a,b,c,d,e){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){c.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");b=k(b,c,e,f);yield a.messages.add(b)});return m.apply(this,arguments)}function n(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.chatJid,"BridgeNewMsgHandler",function(a,c){return o(a,b,c)})}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){if(d("MAWXMAUtils").isXMAStoryReply(e.xmaMessageType))return;var g=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,f,e)),j=(yield d("MAWMsgReplySnippet").getReplySnippet(e)),k=e.offlineMsg,m=c("gkx")("23961");if(k==null&&!m)return l(a,f,e,g,j);var n;k!=null&&(n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f,(i||(i=d("I64"))).of_float(k.ts),k.msgId))));if(n==null){k=!1;if(m&&e.externalId!=null){m=e.externalId;n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(m)));if(n!=null){(i||(i=d("I64"))).to_int32(n.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC&&(k=!0,yield d("MAWUpdateMsg").call(a,e,n,g,j));m=(yield r(a,f,m));yield t(a,m,e.msgId,c("LSAuthorityLevel").AUTHORITATIVE);return(h||(h=b("Promise"))).resolve()}}if(!k)return l(a,f,e,g,j)}else yield d("MAWUpdateMsg").call(a,e,n,g,j)});return p.apply(this,arguments)}function a(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (h||(h=b("Promise"))).all(c.map(function(b){return n(a,b)}))});return q.apply(this,arguments)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e)));return a.filter(function(a){return(i||(i=d("I64"))).to_int32(a.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC})});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){yield (h||(h=b("Promise"))).all(c.map(function(b){var c=babelHelpers["extends"]({},b,{messageId:e});f!=null&&(c.authorityLevel=(j||(j=d("LSIntEnum"))).ofNumber(f));return a.attachments.upsert([b.threadKey,b.messageId,b.attachmentFbid],c)}))});return u.apply(this,arguments)}g.composeMessage=k;g.call=n;g.callWithoutWaitingForAnything=o;g.bulkCall=a}),98);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWImageUtils","MAWMiActOnMiThreadReadyForJid","MessagingAttachmentType","Promise","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=b.msgId,f=b.receiverFetchId,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(c,e)));b=m(b,c,g);yield a.attachments.upsert([c,e,f],b)});return l.apply(this,arguments)}function a(a,e){return!c("gkx")("5624")?(j||(j=b("Promise"))).resolve():d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"BridgeNewReceiverFetchInfoHandler",function(a,b){return k(a,e,b)})}function m(a,b,e){var f,g=a.accessibilitySummaryText,j=a.mimetype,k=a.msgId,l=a.previewHeight,m=a.previewUrl,o=a.previewUrlExpirationTimestampMs,p=a.previewWidth,q=a.ravenSettings,r=a.receiverFetchId,s=a.sortOrderMs,t=a.transportKey;a=a.type;a=n(a);l=d("MAWImageUtils").boundHeightWidth(l,p,d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE);p=l.height;l=l.width;f=(f=m)!=null?f:e==null?void 0:e.previewUrl;var u=o!=null?(h||(h=d("I64"))).of_float(o):e==null?void 0:e.previewUrlExpirationTimestampMs;f=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(f,u);return{accessibilitySummaryText:g,attachmentFbid:r,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(q==null?void 0:q.ephemeralMediaState)!=null?(h||(h=d("I64"))).of_int32(q.ephemeralMediaState):void 0,ephemeralMediaViewMode:(q==null?void 0:q.ephemeralMediaViewMode)!=null?(h||(h=d("I64"))).of_int32(q.ephemeralMediaViewMode):void 0,hasMedia:f,hasXma:!1,isSharable:!1,messageId:k,previewHeight:h.of_int32(p),previewUrl:(u=m)!=null?u:e==null?void 0:e.previewUrl,previewUrlExpirationTimestampMs:o!=null?(h||(h=d("I64"))).of_float(o):e==null?void 0:e.previewUrlExpirationTimestampMs,previewUrlMimeType:j,previewWidth:h.of_int32(l),receiverFetchId:r,threadKey:b,timestampMs:h.of_float(s),transportKey:(g=t)!=null?g:"WhatsApp"}}function n(a){switch(a){case"sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);default:throw c("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}g.call=a;g.composeAttachment=m}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadReadyForJid","WAArmadilloXMA.pb","asyncToGeneratorRuntime","isReceiverFetchReceivingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=String(b.xmaId),g=b.msgId;if(g==null)return;var h=b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(h&&c("isReceiverFetchReceivingEnabled")(!0))return d("MAWBridgeHandleReceiverFetchXMA").call(a,b,e);h=(yield d("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(a,e,g));var i=h[0];h=h[1];h=(yield d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,g,f,h));var j=h.attachmentCta1Id,k=h.attachmentCta2Id,l=h.attachmentCta3Id;h=h.defaultCtaId;b=d("MAWBridgeXMAUtils").composeAttachmentXMA(b,e,f,g,j,k,l,h,"MAWBridgeNewXMAHandler");i!=null?yield a.attachments.upsert([i.threadKey,i.messageId,i.attachmentFbid],b):yield a.attachments.add(b)});return i.apply(this,arguments)}function j(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return h(a,b,c)})}function a(a,b){return j(a,b)}g.callWithoutWaitingForAnything=h;g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g){return{actorId:(h||(h=d("I64"))).of_string(a),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:e,reaction:g,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(f),threadKey:b,timestampMs:d("MAWTimeUtils").toTimestamp(f),transportKey:"WhatsApp"}}function k(a,b,c,e,f,g){return a.reactions.upsert([c,e,(h||(h=d("I64"))).of_string(b)],j(b,c,e,f,g))}function a(a,b,c,d,e,f){return k(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return k(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.composeReaction=j;g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(a,b,c,d,e,f,g){"use strict";b("cr:10049")==null?void 0:b("cr:10049").overwriteSamplingRate();function a(a){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLCancel:function(b){c("QPLUserFlow").endCancel(a,{instanceKey:b})},markQPLFailure:function(b,d){var e;c("QPLUserFlow").endFailure(a,(e=d==null?void 0:d.name)!=null?e:"fail",{error:d,instanceKey:b})},markQPLFailureWithMsg:function(b,d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}}g["default"]=a}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return i}function a(a){var b=j().markQPLStart();j().addQPLAnnotations(b,{string:{threadType:(h||(h=d("I64"))).to_string(a)}});return b}function b(a,b,c){j().markQPLPoint(a,"wait_act_thread_start","before fetching messages range from table"),j().addQPLAnnotations(a,{"int":{version:1},string:{direction:b,thread_id:(h||(h=d("I64"))).to_string(c)}})}function e(a,b){j().markQPLFailureWithMsg(a,b)}function f(a){j().markQPLCancel(a)}function k(a){j().markQPLPoint(a,"wait_act_thread_end","before fetching messages range from table"),j().markQPLPoint(a,"load_more_msgs_start","load more messages from MAW DB")}function l(a){j().markQPLPoint(a,"load_messages_from_eb_start","load more messages from EB")}function m(a){j().markQPLPoint(a,"load_messages_from_eb_end","load more messages from EB")}function n(a){j().markQPLPoint(a,"load_messages_from_local_db_start")}function o(a){j().markQPLPoint(a,"load_messages_from_local_db_end")}function p(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_start")}function q(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_end")}function r(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function s(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function t(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function u(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function v(a,b){j().markQPLPoint(a,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),j().addQPLAnnotations(a,{bool:{hasMoreBefore:b}})}function w(a){j().markQPLSuccess(a)}function x(a,b){j().markQPLPoint(a,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+b)}function y(a,b){j().markQPLFailure(a,b)}g.logLoadMoreMsgsStart=a;g.logLoadMoreMsgsThreadWaiting=b;g.logLoadMoreMsgsFailure=e;g.logLoadMoreMsgsCancel=f;g.logLoadMoreMsgsThreadReadyFetchMsgs=k;g.logLoadMessagesFromEBStart=l;g.logLoadMessagesFromEBEnd=m;g.logLoadMessagesFromLocalDBStart=n;g.logLoadMessagesFromLocalDBEnd=o;g.logInsertMessageResponseToLSDBStart=p;g.logInsertMessageResponseToLSDBEnd=q;g.logDispatchDownloadStateUpdatesStart=r;g.logDispatchDownloadStateUpdatesEnd=s;g.logCallBridgeHandlersStart=t;g.logCallBridgeHandlersEnd=u;g.logLoadMoreMsgsFetched=v;g.logLoadMoreMsgsSuccess=w;g.logLoadMoreMsgsRangeQuery=x;g.logLoadMoreMsgsRuntimeError=y}),98);
__d("MAWEBMsgsWithSameSortOrderFix",["MAWMessagesCompare","MAWMessagesDirection","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b==null)return a;b=(b=c("qex")._("23"))!=null?b:0;return a+b}function b(a){var b=a.direction,d=a.ebFetchResult,e=a.msgCount;a=a.referenceExternalId;if(!c("qex")._("18"))return d;e=h({direction:b,includeReferenceExternalId:!0,msgCount:e,referenceExternalId:a,sourceMsgs:[].concat(d.messages)});return babelHelpers["extends"]({},d,{hasMoreAfter:l({ebFetchResult:d,fetchDirection:b,fixedMessages:e,hasMoreDirection:"after"}),hasMoreBefore:l({ebFetchResult:d,fetchDirection:b,fixedMessages:e,hasMoreDirection:"before"}),messages:e})}function h(a){var b=a.direction,e=a.includeReferenceExternalId,f=a.msgCount,g=a.referenceExternalId;a=a.sourceMsgs;if(!c("qex")._("18"))return a;var h=k(a,b),l=d("MAWMessagesCompare").getSortComparisonFunctionForDirection(h);a=a.toSorted(l);l=a.findIndex(function(a){return a.externalId===g});if(m({fetchDirection:b,msgsDirection:h})){l=i({includeReferenceExternalId:e,referenceMsgIndex:l});return a.slice(l,l+f)}else{l=j({includeReferenceExternalId:e,msgsCount:a.length,referenceMsgIndex:l});b=Math.max(0,l-f+1);return a.slice(b,l+1)}}function i(a){var b=a.includeReferenceExternalId;a=a.referenceMsgIndex;return a===-1?0:b?a:a+1}function j(a){var b=a.includeReferenceExternalId,c=a.msgsCount;a=a.referenceMsgIndex;return a===-1?c-1:b?a:a-1}function k(a,b){var c;c=(c=a.find(function(a){return a.sortOrderMs!=null}))==null?void 0:c.sortOrderMs;a=(a=a.findLast(function(a){return a.sortOrderMs!=null}))==null?void 0:a.sortOrderMs;return c==null||a==null?d("MAWMessagesDirection").translateMawDirectionToMwpDirection(b):c>=a?"desc":"asc"}function l(a){var b=a.ebFetchResult,c=a.fetchDirection,e=a.fixedMessages;a=a.hasMoreDirection;if(c!==a||b.messages.length===0)return d("MAWMessagesDirection").switchOnMAWMessagesDirection(a,{after:b.hasMoreAfter,before:b.hasMoreBefore});if(e.length===0)return!0;var f=k(b.messages,c),g=d("MAWMessagesCompare").getSortComparisonFunctionForDirection(f);g=b.messages.toSorted(g);m({fetchDirection:c,msgsDirection:f})?(c=g[0],f=e[0]):(c=g[g.length-1],f=e[e.length-1]);return c.externalId===f.externalId?d("MAWMessagesDirection").switchOnMAWMessagesDirection(a,{after:b.hasMoreAfter,before:b.hasMoreBefore}):!0}function m(a){var b=a.fetchDirection;a=a.msgsDirection;return b==="before"&&a==="desc"||b==="after"&&a==="asc"}g.overFetchEBMsgsIfNeeded=a;g.fixEBFetchResultPagination=b;g.fixEBMessagesPagination=h}),98);
__d("MAWEBDeanonFetch",["EBAPI","FBLogger","MAWEBMsgsWithSameSortOrderFix","WAJids","WAResultOrError","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.chatJid,e=a.count,f=a.direction,g=a.includeReferenceTimestamp,h=a.referenceExternalId,i=a.referenceTimestampMs;a=a.sortFn;try{var j=d("MAWEBMsgsWithSameSortOrderFix").overFetchEBMsgsIfNeeded(e,h);j=(yield c("EBAPI").messageMetadataQuery({direction:f,includeAnonymizedMessages:!1,numberOfMessages:j,referenceTimestamp:i,threadId:d("WAJids").threadIdForChatJid(b)}));if(j.success===!1)return d("WAResultOrError").makeError("error",j.payload);b=j.value.messages;j=b.reduce(function(a,b){var c=b.offlineThreadingId;b=b.sortOrderMs;if(c==null||b==null)return a;b=Number(b);if(g!==!0&&b===i)return a;a.push({externalId:c,msgType:"unknown-deanon",sortOrderMs:b});return a},[]);b=d("MAWEBMsgsWithSameSortOrderFix").fixEBMessagesPagination({direction:f,includeReferenceExternalId:g,msgCount:e,referenceExternalId:h,sourceMsgs:j});f=a==null?b:b.sort(a);return d("WAResultOrError").makeResult(f)}catch(a){c("FBLogger")("messenger_web_missing_messages").catching(a).mustfix("Deanon GraphQL fails with error");return d("WAResultOrError").makeError("request-error",a.message)}});return h.apply(this,arguments)}g.fetchMessagesMetadataFromEBDeanon=a}),98);
__d("MAWFetchExternalIdUsingCache",["FBLogger","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWDbMsg","WAStanzaUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==="")return null;var b=m(a);if(b!=null)return b;b=(yield k(a));if(b!=null){n(a,b);return b}try{b=d("MAWDbMsg").toMsgId(a);if(b==null){c("FBLogger")("messenger_e2ee_web").warn("[MAWFetchProtocolMessageIdUsingCache] failed fetch external id, invalid msgId %s",a);return null}b=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:b}));if((b==null?void 0:b.externalId)==null){c("FBLogger")("messenger_e2ee_web").warn("[MAWFetchProtocolMessageIdUsingCache] external id for msgId %s not found",a);return null}n(a,b.externalId);return b.externalId}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWFetchProtocolMessageIdUsingCache] getProtocolMsgIdByMsgId bridge call failed");throw a}});return j.apply(this,arguments)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);b=(yield b.tables.messages.index("messageId").get(a));return b!=null?d("WAStanzaUtils").toStanzaId(b.offlineThreadingId):null});return l.apply(this,arguments)}function m(a){return i.get(a)}function n(a,b){if(a==="")return!1;i.set(a,b);return!0}g.fetchExternalIdUsingCache=a;g.populateExternalIdCache=n}),98);
__d("MAWMessageIntegrityEBFetchStatus",[],(function(a,b,c,d,e,f){"use strict";var g=new Set();function a(a){return g.has(a)}function b(a){g.add(a)}f.hasEBFailure=a;f.recordEBFailure=b}),66);
__d("MAWMessagesPaginationUtils",["FBLogger","MAWFetchExternalIdUsingCache","MAWMessagesDirection","Promise","WAStanzaUtils","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){a=d("MAWMessagesDirection").getRangeMsgIdForDirection(a,b);return i(a)}function e(a){c("qex")._("18")&&a.forEach(function(a){return d("MAWFetchExternalIdUsingCache").populateExternalIdCache(a.msgId.toString(),d("WAStanzaUtils").toStanzaId(a.externalId))})}function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null||a==="")return null;if(!c("qex")._("18"))return null;var b=(yield d("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(a));b==null&&c("FBLogger")("messenger_e2ee_web").mustfix("[MAWMessagesPaginationUtils] getExternalIdByMsgId for msgId: %s returned null",a);return b});return j.apply(this,arguments)}function f(a,c,d){if(a===c)return(h||(h=b("Promise"))).resolve(d);else return k(c)}function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("qex")._("18"))return{maxExternalId:null,minExternalId:null};var b=(yield i(a.minMessageId));a=(yield i(a.maxMessageId));return{maxExternalId:a==null?void 0:a.toString(),minExternalId:b==null?void 0:b.toString()}});return l.apply(this,arguments)}g.getRangeExternalIdForDirection=a;g.populateExternalIdCache=e;g.getExternalIdByMsgId=i;g.getMessagesRangesV2ExternalIdsIfChanged=f;g.getMessagesRangesV2ExternalIds=k}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","MAWGetIsMediaDownloadStatusEnabled","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=c.expiringCountdown,i=c.medias,j=c.msgs,k=c.reactions,l=c.receiverFetchInfoPayloads;c=c.xmas;f!=null&&d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(f);e({tag:"NewMedias",value:i});d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled()&&e({tag:"NewXMAs",value:c});f!=null&&(d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(f),d("MAWDataSourceLogger").logCallBridgeHandlersStart(f));yield d("MAWBridgeNewMsgHandler").bulkCall(a,j);yield (h||(h=b("Promise"))).all(i.map(function(b){return d("MAWBridgeNewMediaHandler").call(a,b)}));yield h.all(c.map(function(b){return d("MAWBridgeNewXMAHandler").call(a,b)}));yield h.all(l.map(function(b){return d("MAWBridgeNewReceiverFetchInfoHandler").call(a,b)}));yield d("MAWBridgeMsgsStartCountdownHandler").call(a,{msgs:g});yield h.all(k.map(function(b){return b.type==="delete"?d("MAWBridgeDeleteReactionHandler").call(a,b.reaction):d("MAWBridgeReactionUpsertHandler").call(a,b.reaction)}));f!=null&&d("MAWDataSourceLogger").logCallBridgeHandlersEnd(f)});return j.apply(this,arguments)}function a(a,b,c,d){return a.runInTransaction(function(a){return i(a,b,c,d)},"readwrite","ui",void 0,f.id+":99")}function c(a,b,c){return a.runInTransaction(function(a){return i(a,babelHelpers["extends"]({},b,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1}),c)},"readwrite","ui",void 0,f.id+":118")}g.insertMessageResponseToDBInExistingTransaction=i;g.insertMessageResponseIntoDatabase=a;g.insertMessageResponseIntoDatabaseByExternalId=c}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","asyncToGeneratorRuntime","deepEquals","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("CometLruCache").create(20,2e3);function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.chatJid,f=a.config,g=a.count,h=a.direction,j=a.offsetMsg,l=a.timestampMs;e=i.get(e);if(e!=null){var n=e&&e.options,o=n.count;n=babelHelpers.objectWithoutPropertiesLoose(n,["count"]);if(c("deepEquals")(n,{config:f,direction:h,offsetMsg:j,timestampMs:l})&&g<=o)try{return d("WAResultOrError").makeResult(babelHelpers["extends"]({},yield e.result))}catch(a){}}if(c("qex")._("18"))return m(a,b);else return k(a,b)});return j.apply(this,arguments)}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.actionType,f=a.chatJid,g=a.config,j=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:e,chatJid:f,config:g,direction:k,includeOriginalMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,msgId:(l==null?void 0:l.messageId)==null?null:d("MAWDbMsg").toMsgId(l.messageId),numMsgs:j,sortOrderMs:a!=null?(h||(h=d("I64"))).to_float(a):null},{timeoutMs:b==null?void 0:b.timeoutMs});i.set(f,{options:{config:g,count:j,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers["extends"]({},yield e);return d("WAResultOrError").makeResult(b)}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").makeError("bridge_call_failed",a)}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.actionType,f=a.chatJid,g=a.config,j=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:e,chatJid:f,config:g,direction:k,range:{includeLowerBoundMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,lowerBoundExternalId:(l==null?void 0:l.externalId)==null?void 0:l.externalId,lowerBoundSortOrderMs:a!=null?(h||(h=d("I64"))).to_float(a):void 0,numMsgs:j}},{timeoutMs:b==null?void 0:b.timeoutMs});i.set(f,{options:{config:g,count:j,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers["extends"]({},yield e);return d("WAResultOrError").makeResult(b)}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").makeError("bridge_call_failed",a)}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("MLV2DataSourceLogger",["I64","MAWQPLLogger","MWChatInteraction","mergeDeep","performanceNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){j==null&&(j=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return j}var l=new Map();function m(a,b){return(i||(i=d("I64"))).to_string(a)+b}function n(a){a=a.getTrace();var b=(a==null?void 0:a.completed)!=null;a=(a==null?void 0:a.qplEvent)===c("qpl")._(30605380,"18")||(a==null?void 0:a.qplEvent)===c("qpl")._(30609204,"1682");return!b&&a}function a(a,b,e,f){var g=m(a,b),j=l.get(g);j!=null&&j.markQPLCancel("restart_logger");var o=k().markQPLStart(),p=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a)),q=(h||(h=c("performanceNow")))();p==null?void 0:p.addMarkerPoint("MLV2_fetch_start","AppTiming",q);var r=function(a,b){var d=(h||(h=c("performanceNow")))(),e={action:a,full_duration:(d-q)/1e3};b!=null&&(e=c("mergeDeep")(e,b));if(p==null)return;b=n(p);a=a==="CANCEL"&&d-q<50;if(!b||a)return;p.addMarkerPoint("MLV2_fetch_end","AppTiming",d,e)},s=new Set();j={addQPLAnnotations:function(a){k().addQPLAnnotations(o,a)},annotateMessageRangesDataSource:function(a){s.add(a),k().addQPLAnnotations(o,{string_array:{message_ranges_source:Array.from(s.keys())}})},getInstanceKey:function(){return o},markQPLCancel:function(a){k().addQPLAnnotations(o,{string:{cancel_reason:a}}),k().markQPLCancel(o),r("CANCEL"),l["delete"](g)},markQPLFailure:function(a){k().markQPLFailure(o,a),r("FAIL"),l["delete"](g)},markQPLFailureWithMsg:function(a){k().markQPLFailureWithMsg(o,a),r("FAIL"),l["delete"](g)},markQPLPoint:function(a){k().markQPLPoint(o,a)},markQPLSuccess:function(a){k().markQPLSuccess(o),r("SUCCESS",{num_msgs_fetched:a}),l["delete"](g)}};var t=!1;p!=null&&n(p)&&(t=!0);j.addQPLAnnotations({bool:{during_chat_open:t},"int":{queried_count:e},string:{direction:b,thread_id:i.to_string(a),thread_type:i.to_string(f)}});l.set(g,j);return j}function b(a,b){a=m(a,b);return l.get(a)}g.startMLV2LoggerForThread=a;g.getMLV2LoggerForThread=b}),98);
__d("MAWSecureLocalDBDataSource",["I64","MAWBridgeSendAndReceive","MAWDataSourceLogger","MAWDbMsg","MAWIsEBEnabled","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWSecureDataSource","MAWSecureLocalDBFetch","MLV2DataSourceLogger","Promise","ReQL","WAStanzaUtils","WATagsLogger","asyncToGeneratorRuntime","err","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Fetching "," messages by external id, which is not optimal.\n      Consider migrating 'loadMsgsByExternalId' backend request to a batch version "]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch messages: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["useFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Fetch more: ",""]);m=function(){return a};return a}var n=c("requireDeferred")("MAWEBFetch").__setRef("MAWSecureLocalDBDataSource"),o=d("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function p(a){return a.msgs.map(function(a){return{externalId:a.externalId,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}a=function(){function a(){}var e=a.prototype;e.$1=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,j,k,p,q,r){if(j==="after")return;j;o.LOG(m(),e);d("MAWDataSourceLogger").logLoadMoreMsgsThreadWaiting(p,"before",e);j=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWSecureLocalDBDataSource"));j=j.chatJid;d("MAWDataSourceLogger").logLoadMoreMsgsThreadReadyFetchMsgs(p);d("MAWDataSourceLogger").logLoadMessagesFromLocalDBStart(p);var s=h.minMessageId,t=(yield d("MAWMessagesPaginationUtils").getExternalIdByMsgId(s));q=(yield c("MAWSecureLocalDBFetch")({actionType:q,chatJid:j,config:{admin:!0,editMsgHistory:!0,media:!0,reactions:!0,receiverFetch:!0,xma:!0},count:k,direction:"before",offsetMsg:{externalId:t,includeOriginalMsg:!1,messageId:s},timestampMs:g}));if(q.success===!1){throw(t=q.payload)!=null?t:c("err")(q.error)}var u=q.value;d("MAWDataSourceLogger").logLoadMessagesFromLocalDBEnd(p);d("MAWDataSourceLogger").logInsertMessageResponseToLSDBStart(p);d("MAWMessagesPaginationUtils").populateExternalIdCache(u.msgs);var v=u.msgs.length>0?u.msgs[u.msgs.length-1].msgId:h.minMessageId;yield a.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c;yield d("MAWPutMessagesToDB").insertMessageResponseToDBInExistingTransaction(b,u,r,p);c=(yield (c=b.messages_ranges_v2__generated).get.apply(c,[h.threadKey,h.minTimestampMs,h.minMessageId]));if(c==null)return;var e=u.hasMoreBefore;u.hasMoreBefore===!1&&(yield d("MAWIsEBEnabled").isEbEnabled(a))&&(e=!0);yield b.messages_ranges_v2__generated.upsert([c.threadKey,c.minTimestampMs,c.minMessageId],{hasMoreAfter:!1,hasMoreBefore:e,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:c.maxMessageId,maxTimestampMs:c.maxTimestampMs,minMessageId:v,minTimestampMs:(i||(i=d("I64"))).zero,threadKey:h.threadKey})});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":144");d("MAWDataSourceLogger").logInsertMessageResponseToLSDBEnd(p);d("MAWDataSourceLogger").logLoadMoreMsgsFetched(p,u.hasMoreBefore);if(u.hasMoreBefore){d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(p);return}s=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:j,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(h.minMessageId)}));d("WATagsLogger").TAGS(["labyrinth_web","useFetchSecureMessages"]).LOG(l(),j,s.minMsgTimestampMs);d("MAWDataSourceLogger").logLoadMoreMsgsRangeQuery(p,s.minMsgTimestampMs);g=(yield n.load());t=(yield g({chatJid:j,count:k,db:a,direction:"before",timestampMs:(i||(i=d("I64"))).of_float(s.minMsgTimestampMs)}));t.success&&t.value.hasMoreBefore===!1&&(yield a.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=h.minTimestampMs,f=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(e).bounds({lte:[c]}).filter(function(a){var b=a.maxTimestampMs;a=a.minTimestampMs;return(i||(i=d("I64"))).ge(c,a)&&(i||(i=d("I64"))).le(c,b)})));if(f==null)return;yield b.messages_ranges_v2__generated.upsert([f.threadKey,f.minTimestampMs,f.minMessageId],babelHelpers["extends"]({},f,{hasMoreBefore:!1,isLoadingBefore:!1}))});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":228"));d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(p)});function e(b,c,d,e,f,g,h,i,j){return a.apply(this,arguments)}return e}();e.requestMessages=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j){a=(yield d("MAWMessagesPaginationUtils").getExternalIdByMsgId(f));b=(yield c("MAWSecureLocalDBFetch")({actionType:j,chatJid:b,config:i,count:(j=h)!=null?j:d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:g,offsetMsg:f==null?null:{externalId:a,includeOriginalMsg:!1,messageId:f},timestampMs:e}));if(b.success===!1){throw(i=b.payload)!=null?i:c("err")(b.error)}h=b.value;d("MAWMessagesPaginationUtils").populateExternalIdCache(h.msgs);j=h.msgs.map(function(a){return{externalId:a.externalId,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}});return{hasMoreAfter:h.hasMoreAfter,hasMoreBefore:h.hasMoreBefore,msgs:j}});function e(b,c,d,e,f,g,h,i){return a.apply(this,arguments)}return e}();e.fetchSecureMessagesProtocol=function(a,b,c,e,f,g,h,i,j){h===void 0&&(h=d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES);c=d("MAWDataSourceLogger").logLoadMoreMsgsStart(c);return this.$1(a,b,e,f,g,h,c,i,j)["catch"](function(a){var c;o.ERROR(k(),a);(c=d("MLV2DataSourceLogger").getMLV2LoggerForThread(b,d("MAWMessagesDirection").translateMawDirectionToMwpDirection(g)))==null?void 0:c.markQPLFailure(a)})};e.fetchMessagesByExternalId=function(a,c){a.length>2&&o.WARN(j(),a.length);a=a.map(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:c,externalId:d("WAStanzaUtils").toStanzaId(a)})});return(h||(h=b("Promise"))).all(a).then(function(a){return a.map(function(a){return p(a)}).flat()})};e.getMessagesCount=function(a,b,c,e,f){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMsgsCount",{chatJid:a,direction:e,maxNumMsgs:c,offsetMsgId:d("MAWDbMsg").toMsgId(b),sortOrderMsLimit:f}).then(function(a){return babelHelpers["extends"]({},a)})};return a}();g["default"]=a}),98);
__d("useCommunityMembers",["I64","Int64Hooks","LSClearCommunityMembersAndRangeStoredProcedure","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","MWCMThreadTypes.react","ReQL","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;function a(a,e,g){var k=d("react-compiler-runtime").c(6),l=(h||(h=c("useReStore")))(),m,n;k[0]!==a||k[1]!==l||k[2]!==e||k[3]!==g?(m=function(){var h=function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield l.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(b),{communityId:a,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(i||(i=d("I64"))).zero,nextPageCursor:"",requestId:e,roles:c("LSVec").ofArray([(j||(j=d("LSIntEnum"))).ofNumber(0)]),source:j.ofNumber(13),threadKey:(b=g)!=null?b:void 0,threadRoles:c("LSVec").ofArray([])})},"readwrite",void 0,void 0,f.id+":44")});return function(){return h.apply(this,arguments)}}();c("promiseDone")(h())},n=[a,l,e,g],k[0]=a,k[1]=l,k[2]=e,k[3]=g,k[4]=m,k[5]=n):(m=k[4],n=k[5]);d("Int64Hooks").useEffectInt64(m,n)}function e(a,b,e){var g=d("react-compiler-runtime").c(10),i=(h||(h=c("useReStore")))(),j;g[0]!==a||g[1]!==i.tables.community_members_ranges_v2__generated||g[2]!==e||g[3]!==b?(j=function(){return d("ReQL").fromTableAscending(i.tables.community_members_ranges_v2__generated).getKeyRange(a).filter(function(a){if(a.requestId!==b)return!1;return e!=null?a.isAdmin===e:!0})},g[0]=a,g[1]=i.tables.community_members_ranges_v2__generated,g[2]=e,g[3]=b,g[4]=j):j=g[4];var k;g[5]!==a||g[6]!==i||g[7]!==e||g[8]!==b?(k=[i,a,e,b],g[5]=a,g[6]=i,g[7]=e,g[8]=b,g[9]=k):k=g[9];return d("ReQLSuspense").useFirst(j,k,f.id+":76")}function l(a){var b=d("react-compiler-runtime").c(3),e=a===void 0?7:a,g=(h||(h=c("useReStore")))();b[0]!==g||b[1]!==e?(a=function(a){return g.runInTransaction(function(b){return c("LSClearCommunityMembersAndRangeStoredProcedure")(c("LSFactory")(b),{requestId:a,source:(j||(j=d("LSIntEnum"))).ofNumber(e)})},"readwrite",void 0,void 0,f.id+":98")},b[0]=g,b[1]=e,b[2]=a):a=b[2];return a}function m(a){var e=d("react-compiler-runtime").c(12),g=a.communityIdOrThreadKey,k=a.thread,l=a.showAdmodsOnly,m=a.showHostsOnly,n=a.source,o=a.requestId,p=l===void 0?!1:l,q=m===void 0?!1:m;e[0]!==n?(a=n===void 0?(i||(i=d("I64"))).of_int32(7):n,e[0]=n,e[1]=a):a=e[1];var r=a,s=(h||(h=c("useReStore")))(),t=k.threadKey,u=k.threadType;e[2]!==g||e[3]!==s||e[4]!==o||e[5]!==p||e[6]!==q||e[7]!==r||e[8]!==t||e[9]!==u?(l=function(){var a=c("LSVec").ofArray(p?[(j||(j=d("LSIntEnum"))).ofNumber(1),(j||(j=d("LSIntEnum"))).ofNumber(2)]:q?[(j||(j=d("LSIntEnum"))).ofNumber(3)]:[(j||(j=d("LSIntEnum"))).ofNumber(0)]),e=d("MWCMThreadTypes.react").isBroadcastThread(u)?[(j||(j=d("LSIntEnum"))).ofNumber(0)]:[],h=function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield s.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(b),{communityId:g,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(i||(i=d("I64"))).zero,nextPageCursor:"",requestId:o,roles:a,source:r,threadKey:(i||(i=d("I64"))).equal(r,(i||(i=d("I64"))).of_int32(0))?void 0:t,threadRoles:c("LSVec").ofArray(e)})},"readwrite",void 0,void 0,f.id+":149")});return function(){return h.apply(this,arguments)}}();c("promiseDone")(h())},m=[s,g,t,u,p,r,o,q],e[2]=g,e[3]=s,e[4]=o,e[5]=p,e[6]=q,e[7]=r,e[8]=t,e[9]=u,e[10]=l,e[11]=m):(l=e[10],m=e[11]);d("Int64Hooks").useEffectInt64(l,m)}g.useFetchBannedMemberList=a;g.useCommunityMembersRanges=e;g.useClearMemberList=l;g.useFetchCommunityMembers=m}),98);/*FB_PKG_DELIM*/
__d("EphemeralMediaViewMode",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONCE:0,REPLAYABLE:1,PERMANENT:2});f["default"]=a}),66);
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("LSHotEmojiSize",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SMALL:1,MEDIUM:2,LARGE:3});f["default"]=a}),66);
__d("LSInternetConnectionState",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_CONNECTED:0,CONNECTED:1});f["default"]=a}),66);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33,EB_SNAPSHOT_RESTORE:34,PROTOBUF_RESTORE:39,FTS_INDEX_EB_MESSAGES:40,INSTAMADILLO_DYI:41,MESSENGER_MESSAGE_LIST_PAGINATION:45,DELTA_GENERIC_MESSAGE_SYNC:55,MEDIA_GALLERY_RESTORE:57,EB_PROTOBUF_RESTORE_NO_OP:58,EB_RESTORE_REPLIED_MESSAGES_AFTER_RANGE_RESTORE:35,REPL_TESTING:36,EB_POINT_QUERY_IN_ACT:37,EB_POINT_QUERY_RETRY_DECRYPTION_FAILURES:38,EB_POINT_QUERY_PINNED_MESSAGES:53,EB_POINT_QUERY_RESTORE_PROTOBUF:54,EB_POINT_QUERY_IN_ACT_REACTIONS:56,IGD_DYI:42,FTS_INDEX_EB_MESSAGES_WEB:43,BULK_QUERY_FOR_SEARCH_RESULT:44,MSGR_DYI:46,EB_RESTORE_ON_REGISTRATION:47,EB_RESTORE_ON_OFFLINE_QUEUE_COUNT_LIMIT:48,EB_POINT_QUERY_RESTORE_ON_ACK_DROP:49,EB_POINT_QUERY_RESTORE_ON_DECRYPTION_FAILURE:50,EB_POINT_QUERY_RESTORE_ON_UNAVAILABLE_DEVICE:51,EB_RANGE_QUERY_RESTORE_ON_THREAD_SESSION_ACTIVATE:52});f["default"]=a}),66);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12,FB_FEED_POST:13,HIGHLIGHTS_TAB_POST_REPLY:14,HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:15,SHARED_ALBUM:16,AVATAR_DETAIL:17,NOTE_REPLY_ARMADILLO:18,HIGHLIGHTS_TAB_CARDS_FOR_MOM:19,HIGHLIGHTS_TAB_CARDS_FOR_BIRTHDAY:20,NOTE_MENTION:21,FB_STORY_MENTION:22,EXPIRED_STORY:23,FB_PRODUCER_STORY_REPLY:24,FB_POST_MENTION:25});f["default"]=a}),66);
__d("LSMessageSendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,SENDING_TO_SERVER:1,SERVER_RECEIVED:2,NON_RETRIABLE_ERROR:4,RETRIABLE_ERROR:5});f["default"]=a}),66);
__d("LSReplyMessageAttachmentType",[],(function(a,b,c,d,e,f){a=Object.freeze({OTHER:0,PHOTO:1,VIDEO:2,GIF:3,STICKER:4,LINK:5,MULTIPHOTO:6,PERMANENT_RAVEN_PHOTO:7,PERMANENT_RAVEN_VIDEO:8,SOUND_BITE:9,AUDIO:10,ROLL_CALL_PHOTO_CONTRIBUTION:11,ROLL_CALL_VIDEO_CONTRIBUTION:12,FEED_POST:13,POWER_UP:14,XMA:15,ROLL_CALL_TEXT_CONTRIBUTION:16,BLOKS_XMA:17,EPHEMERAL_RAVEN_MESSAGE:18});f["default"]=a}),66);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("MAWAckLevel",["LSIntEnum","LSMessageSendStatus"],(function(a,b,c,d,e,f,g){"use strict";var h,i={clock:0,contentGone:-3,contentTooBig:-4,contentUnuploadable:-5,expired:-2,failed:-1,failedRetryable:-9,inactiveReceived:-6,partialOptimistic:-8,played:4,read:3,received:2,senderBackFillSent:-7,sent:1};function a(a){return a>0}function b(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(0);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(1);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(2);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(5);default:return(h||(h=d("LSIntEnum"))).ofNumber(4)}}function e(a){switch(a){case i.partialOptimistic:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NONE);case i.clock:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER);case i.sent:case i.received:case i.read:case i.played:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED);case i.failedRetryable:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").RETRIABLE_ERROR);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSendStatus").NON_RETRIABLE_ERROR)}}g.ACK=i;g.isMsgAuthoritative=a;g.levelToMessagingSendStatusV2=b;g.levelToMessagingSendStatus=e}),98);
__d("MAWAdminMsgType",[],(function(a,b,c,d,e,f){"use strict";a="currentUserAddedDevice";b="participantAddedDevice";c="currentUserRemovedDevice";d="participantRemovedDevice";e="currentUserUpdatedDevice";var g="participantUpdatedDevice",h="participantAddedYou",i="participantAddedYouAndOneUser",j="participantAddedYouAndMoreThanOneUsers",k="unknowUserAddedYou",l="unknowUserAddedYouAndOneUser",m="unknowUserAddedYouAndMoreThanOneUser",n="unknownUserAddedOneUser",o="unknownUserAddedTwoUser",p="unknownUserAddedMoreThanTwoUser",q="participantAddedOneUser",r="participantAddedTwoUser",s="participantAddedMoreThanTwoUser",t="currentUserRemovedOneParticipant",u="currentUserRemovedTwoParticipant",v="currentUserRemovedMoreThanTwoParticipant",w="currentUserAddedOneParticipant",x="currentUserAddedTwoParticipant",y="currentUserAddedMoreThanTwoParticipant",z="participantRemovedYou",A="participantRemovedYouAndOneUser",B="participantRemovedYouAndMoreThanOneUsers",C="unknowUserRemovedYou",D="unknowUserRemovedYouAndOneUser",E="unknowUserRemovedYouAndMoreThanOneUser",F="unknownUserRemovedOneUser",G="unknownUserRemovedTwoUser",H="unknownUserRemovedMoreThanTwoUser",I="participantRemovedOneUser",J="participantRemovedTwoUser",K="participantRemovedMoreThanTwoUser",L="participantLeftGroup",M="currentUserLeftGroup",N="participantCustomizeParticipantNickname",O="participantClearParticipantNickname",P="participantCustomizeCurrentUserNickname",Q="currentUserSetOwnNickname",aa="currentUserClearOwnNickname",ba="currentUserClearParticipantNickname",ca="participantSetOwnNickname",da="participantClearOwnNickname",ea="participantClearCurrentUserNickname",fa="currentUserCustomizeNickname",ga="currentUserNamedGroup",ha="unkonwnUserNamedGroup",ia="participantNamedGroup",ja="currentUserCustomizeHotlike",ka="participantCustomizeHotlike",la="currentUserCustomizeTheme",ma="currentUserCustomizePhoto",na="participantCustomizeTheme",oa="participantCustomizePhoto",pa="currentUserSetAddModeAdminOnly",qa="currentUserSetAddModeAllMembers",ra="participantSetAddModeAdminOnly",sa="participantSetAddModeAllMembers",ta="serverSetAddModeAdminOnly",ua="serverSetAddModeAllMembers",R="currentUserPinnedMessage",S="currentUserUnpinnedMessage",T="participantPinnedMessage",U="participantUnpinnedMessage",V="cutoverThreadAdminMessage",W="cutoverIGDThreadAdminMessage",X="cutoverRollbackAdminMessage",Y="dualThreadCutoverAdminMessage",Z="e2eeThreadDescription",$="e2eeThreadUKOSAAdminMessage",va="debugMsg",wa="reachabilityError",xa="twoUsersConnected",ya="twoUsersConnectedOneMSplit";y={CURRENT_USER_ADDED_DEVICE:a,CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:y,CURRENT_USER_ADDED_ONE_PARTICIPANT:w,CURRENT_USER_ADDED_TWO_PARTICIPANTS:x,CURRENT_USER_CLEAR_OWN_NICKNAME:aa,CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:ba,CURRENT_USER_CUSTOMIZE_HOTLIKE:ja,CURRENT_USER_CUSTOMIZE_NICKNAME:fa,CURRENT_USER_CUSTOMIZE_PHOTO:ma,CURRENT_USER_CUSTOMIZE_THEME:la,CURRENT_USER_LEFT_GROUP:M,CURRENT_USER_NAMED_GROUP:ga,CURRENT_USER_PINNED_MESSAGE:R,CURRENT_USER_REMOVED_DEVICE:c,CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS:v,CURRENT_USER_REMOVED_ONE_PARTICIPANT:t,CURRENT_USER_REMOVED_TWO_PARTICIPANTS:u,CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:pa,CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:qa,CURRENT_USER_SET_OWN_NICKNAME:Q,CURRENT_USER_UNPINNED_MESSAGE:S,CURRENT_USER_UPDATED_DEVICE:e,CUTOVER_IGD_THREAD_ADMIN_MESSAGE:W,CUTOVER_ROLLBACK_ADMIN_MESSAGE:X,CUTOVER_THREAD_ADMIN_MESSAGE:V,DEBUG_MSG:va,DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:Y,E2EE_THREAD_DESCRIPTION:Z,E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:$,PARTICIPANT_ADDED_DEVICE:b,PARTICIPANT_ADDED_MORE_THAN_TWO_USER:s,PARTICIPANT_ADDED_ONE_USER:q,PARTICIPANT_ADDED_TWO_USER:r,PARTICIPANT_ADDED_YOU:h,PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:j,PARTICIPANT_ADDED_YOU_AND_ONE_USER:i,PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:ea,PARTICIPANT_CLEAR_OWN_NICKNAME:da,PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:O,PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:P,PARTICIPANT_CUSTOMIZE_HOTLIKE:ka,PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:N,PARTICIPANT_CUSTOMIZE_PHOTO:oa,PARTICIPANT_CUSTOMIZE_THEME:na,PARTICIPANT_LEFT_GROUP:L,PARTICIPANT_NAMED_GROUP:ia,PARTICIPANT_PINNED_MESSAGE:T,PARTICIPANT_REMOVED_DEVICE:d,PARTICIPANT_REMOVED_MORE_THAN_TWO_USER:K,PARTICIPANT_REMOVED_ONE_USER:I,PARTICIPANT_REMOVED_TWO_USER:J,PARTICIPANT_REMOVED_YOU:z,PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:B,PARTICIPANT_REMOVED_YOU_AND_ONE_USER:A,PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:ra,PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:sa,PARTICIPANT_SET_OWN_NICKNAME:ca,PARTICIPANT_UNPINNED_MESSAGE:U,PARTICIPANT_UPDATED_DEVICE:g,REACHABILITY_ERROR:wa,SERVER_SET_ADD_MODE_ADMIN_ONLY:ta,SERVER_SET_ADD_MODE_ALL_MEMBERS:ua,TWO_USERS_CONNECTED:xa,TWO_USERS_CONNECTED_ONE_MSPLIT:ya,UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:p,UNKNOWN_USER_ADDED_ONE_USER:n,UNKNOWN_USER_ADDED_TWO_USER:o,UNKNOWN_USER_ADDED_YOU:k,UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:m,UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:l,UNKNOWN_USER_NAMED_GROUP:ha,UNKNOWN_USER_REMOVED_MORE_THAN_TWO_USER:H,UNKNOWN_USER_REMOVED_ONE_USER:F,UNKNOWN_USER_REMOVED_TWO_USER:G,UNKNOWN_USER_REMOVED_YOU:C,UNKNOWN_USER_REMOVED_YOU_AND_MORE_THAN_ONE_USER:E,UNKNOWN_USER_REMOVED_YOU_AND_ONE_USER:D};f.CURRENT_USER_ADDED_DEVICE=a;f.CURRENT_USER_PINNED_MESSAGE=R;f.CURRENT_USER_UNPINNED_MESSAGE=S;f.PARTICIPANT_PINNED_MESSAGE=T;f.PARTICIPANT_UNPINNED_MESSAGE=U;f.CUTOVER_THREAD_ADMIN_MESSAGE=V;f.CUTOVER_IGD_THREAD_ADMIN_MESSAGE=W;f.CUTOVER_ROLLBACK_ADMIN_MESSAGE=X;f.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE=Y;f.E2EE_THREAD_DESCRIPTION=Z;f.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE=$;f.ADMIN_MSG_TYPE=y}),66);
__d("MAWLocalizationType",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";a="emptySnippet";b="currentUserCreatedGroup";c="participantCreatedGroup";e="unknownUserCreatedGroup";f="currentUserGotPromoted";var h="currentUserGotDemoted",i="participantGotPromoted",j="participantGotDemoted",k="participantPromotedYou",l="participantDemotedYou",m="currentUserPromotedParticipant",n="currentUserDemotedParticipant",o="participantDemotedParticipant",p="participantPromotedParticipant",q="participantSelfDemoted",r="currentUserSelfDemoted",s="currentUserSendText",t="currentUserSendImage",u="currentUserSendVideo",v="currentUserSendAudio",w="currentUserSendGif",x="currentUserSendSticker",y="participantSendText",z="participantSendTextInGroup",A="participantSendImage",B="participantSendVideo",C="participantSendAudio",D="participantSendGif",E="participantSendSticker",F="unavailableSnippet",G="unknownUserEphemeralSettingTurnedOnSeconds",H="unknownUserEphemeralSettingTurnedOnMinutes",I="unknownUserEphemeralSettingTurnedOnHours",J="unknownUserEphemeralSettingTurnedOnDays",K="youEphemeralSettingTurnedOnSeconds",L="youEphemeralSettingTurnedOnMinutes",M="youEphemeralSettingTurnedOnHours",N="youEphemeralSettingTurnedOnDays",O="participantEphemeralSettingTurnedOnSeconds",P="participantEphemeralSettingTurnedOnMinutes",Q="participantEphemeralSettingTurnedOnHours",R="participantEphemeralSettingTurnedOnDays",S="unknownUserEphemeralSettingChangeSeconds",T="unknownUserEphemeralSettingChangeMinutes",U="unknownUserEphemeralSettingChangeHours",V="unknownUserEphemeralSettingChangeDays",W="youEphemeralSettingChangeSeconds",X="youEphemeralSettingChangeMinutes",Y="youEphemeralSettingChangeHours",aa="youEphemeralSettingChangeDays",ba="participantEphemeralSettingChangeSeconds",ca="participantEphemeralSettingChangeMinutes",da="participantEphemeralSettingChangeHours",ea="participantEphemeralSettingChangeDays",fa="unknownUserEphemeralSettingTurnedOff",ga="youEphemeralSettingTurnedOff",ha="participantEphemeralSettingTurnedOff",ia="ephemeralSettingsAutoReset",ja="currentUserUnsentMessage",ka="participantUnsentMessage",la="participantReactMessage",ma="participantReactMessageInGroup",Z="unknownUserEphemeralTakeScreenshot",na="unknownUserEphemeralRecordScreen",oa="youEphemeralTakeScreenshot",pa="youEphemeralRecordScreen",qa="participantEphemeralTakeScreenshot",ra="participantEphemeralRecordScreen",sa="icdcAlertAdminMessage",ta="yourDeviceICDCAlertAdminMessage",$="currentUserSendAttachment",ua="participantSendAttachment",va="currentUserSentPost",wa="currentUserSentReel",xa="currentUserSentStory",ya="currentUserSentEvent",za="currentUserMentionedStoryIG",Aa="currentUserReceivedStoryMentionIG",Ba="participantSentPost",Ca="participantSentReel",Da="participantSentStory",Ea="participantSentEvent",Fa="currentUserSentStoryHighlight",Ga="participantSentStoryHighlight",Ha="currentUserMissedAudioCall",Ia="participantMissedAudioCall",Ja="currentUserMissedVideoCall",Ka="participantMissedVideoCall",La="currentUserAudioCalled",Ma="participantAudioCalled",Na="currentUserVideoCalled",Oa="participantVideoCalled",Pa="currentUserStartedGroupAudioCall",Qa="participantStartedGroupAudioCall",Ra="currentUserStartedGroupVideoCall",Sa="participantStartedGroupVideoCall",Ta="currentUserBumpedOwnMessage",Ua="currentUserBumpedMessage",Va="participantBumpedOwnMessage",Wa="participantBumpedParticipantMessage",Xa="participantBumpedCurrentUserMessage",Ya="userSendUnavailableMessage",Za="userSendEncryptedMessage",$a="currentUserSendUnrenderableMessage",ab="participantSendUnrenderableMessage",bb="currentUserSendLocationFallback",cb="participantSendLocation",db="currentUserSendLiveLocationFallback",eb="participantSendLiveLocation",fb="currentUserSendLocation",gb="participantSendLocation",hb="currentUserSendPollCreationFallback",ib="participantSendPollCreation",jb="currentUserSendContactShareFallback",kb="participantSendContactShareFallback",lb="currentUserSendStoryMentionFallback",mb="currentUserSendStoryMention",nb="participantSendStoryMention",ob="participantSendStoryMentionFallback",pb="currentUserSendPostMentionFallback",qb="participantSendPostMentionFallback",rb="currentUserSendPostMention",sb="participantSendPostMention",tb="currentUserSendNoteMentionFallback",ub="participantSendNoteMentionFallback",vb="messengerMemoryEncryptedMessageFallback",wb="metaAISendMessageFallback",xb="currentUserSendBumpMessageFallback",yb="participantSendBumpMessageFallback",zb="participantSendBumpMessageOriginalUnavailable",Ab="currentUserSendStickerReceiverFetchMessageFallback",Bb="participantSendStickerReceiverFetchMessageFallback",Cb="viewOncePhotoMessageFallback",Db="viewOnceVideoMessageFallback",Eb="unavailableStory";d=babelHelpers["extends"]({},d("MAWAdminMsgType").ADMIN_MSG_TYPE,{CURRENT_USER_AUDIO_CALLED:La,CURRENT_USER_BUMPED_MESSAGE:Ua,CURRENT_USER_BUMPED_OWN_MESSAGE:Ta,CURRENT_USER_CREATED_GROUP:b,CURRENT_USER_DEMOTED_PARTICIPANT:n,CURRENT_USER_GOT_DEMOTED:h,CURRENT_USER_GOT_PROMOTED:f,CURRENT_USER_MENTIONED_STORY_IG:za,CURRENT_USER_MISSED_AUDIO_CALL:Ha,CURRENT_USER_MISSED_VIDEO_CALL:Ja,CURRENT_USER_PROMOTED_PARTICIPANT:m,CURRENT_USER_RECEIVED_STORY_MENTION_IG:Aa,CURRENT_USER_SELF_DEMOTED:r,CURRENT_USER_SEND_ATTACHMENT:$,CURRENT_USER_SEND_AUDIO:v,CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:xb,CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:jb,CURRENT_USER_SEND_GIF:w,CURRENT_USER_SEND_IMAGE:t,CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:db,CURRENT_USER_SEND_LOCATION:fb,CURRENT_USER_SEND_LOCATION_FALLBACK:bb,CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:tb,CURRENT_USER_SEND_POLL_CREATION_FALLBACK:hb,CURRENT_USER_SEND_POST_MENTION:rb,CURRENT_USER_SEND_POST_MENTION_FALLBACK:pb,CURRENT_USER_SEND_STICKER:x,CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Ab,CURRENT_USER_SEND_STORY_MENTION:mb,CURRENT_USER_SEND_STORY_MENTION_FALLBACK:lb,CURRENT_USER_SEND_TEXT:s,CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:$a,CURRENT_USER_SEND_VIDEO:u,CURRENT_USER_SENT_EVENT:ya,CURRENT_USER_SENT_POST:va,CURRENT_USER_SENT_REEL:wa,CURRENT_USER_SENT_STORY:xa,CURRENT_USER_SENT_STORY_HIGHLIGHT:Fa,CURRENT_USER_STARTED_GROUP_AUDIO_CALL:Pa,CURRENT_USER_STARTED_GROUP_VIDEO_CALL:Ra,CURRENT_USER_UNSENT_MESSAGE:ja,CURRENT_USER_VIDEO_CALLED:Na,EMPTY_SNIPPET:a,EPHEMERAL_SETTINGS_AUTO_RESET:ia,ICDC_ALERT_ADMIN_MESSAGE:sa,MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:vb,META_AI_SEND_MESSAGE_FALLBACK:wb,PARTICIPANT_AUDIO_CALLED:Ma,PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:Xa,PARTICIPANT_BUMPED_OWN_MESSAGE:Va,PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:Wa,PARTICIPANT_CREATED_GROUP:c,PARTICIPANT_DEMOTED_PARTICIPANT:o,PARTICIPANT_DEMOTED_YOU:l,PARTICIPANT_EPHEMERAL_RECORD_SCREEN:ra,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:ea,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:da,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:ca,PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:ba,PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:ha,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:R,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:Q,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:P,PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:O,PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:qa,PARTICIPANT_GOT_DEMOTED:j,PARTICIPANT_GOT_PROMOTED:i,PARTICIPANT_MISSED_AUDIO_CALL:Ia,PARTICIPANT_MISSED_VIDEO_CALL:Ka,PARTICIPANT_PROMOTED_PARTICIPANT:p,PARTICIPANT_PROMOTED_YOU:k,PARTICIPANT_REACT_MESSAGE:la,PARTICIPANT_REACT_MESSAGE_IN_GROUP:ma,PARTICIPANT_SELF_DEMOTED:q,PARTICIPANT_SEND_ATTACHMENT:ua,PARTICIPANT_SEND_AUDIO:C,PARTICIPANT_SEND_BUMP_MESSAGE:yb,PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK:zb,PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:kb,PARTICIPANT_SEND_GIF:D,PARTICIPANT_SEND_IMAGE:A,PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:eb,PARTICIPANT_SEND_LOCATION:gb,PARTICIPANT_SEND_LOCATION_FALLBACK:cb,PARTICIPANT_SEND_NOTE_MENTION_FALLBACK:ub,PARTICIPANT_SEND_POLL_CREATION_FALLBACK:ib,PARTICIPANT_SEND_POST_MENTION:sb,PARTICIPANT_SEND_POST_MENTION_FALLBACK:qb,PARTICIPANT_SEND_STICKER:E,PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:Bb,PARTICIPANT_SEND_STORY_MENTION:nb,PARTICIPANT_SEND_STORY_MENTION_FALLBACK:ob,PARTICIPANT_SEND_TEXT:y,PARTICIPANT_SEND_TEXT_IN_GROUP:z,PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:ab,PARTICIPANT_SEND_VIDEO:B,PARTICIPANT_SENT_EVENT:Ea,PARTICIPANT_SENT_POST:Ba,PARTICIPANT_SENT_REEL:Ca,PARTICIPANT_SENT_STORY:Da,PARTICIPANT_SENT_STORY_HIGHLIGHT:Ga,PARTICIPANT_STARTED_GROUP_AUDIO_CALL:Qa,PARTICIPANT_STARTED_GROUP_VIDEO_CALL:Sa,PARTICIPANT_UNSENT_MESSAGE:ka,PARTICIPANT_VIDEO_CALLED:Oa,UNAVAILABLE_SNIPPET:F,UNAVAILABLE_STORY:Eb,UNKNOWN_USER_CREATED_GROUP:e,UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:na,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:V,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:U,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:T,UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:S,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:fa,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:J,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:I,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:H,UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:G,UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:Z,USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:Za,USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:Ya,VIEW_ONCE_PHOTO_MESSAGE:Cb,VIEW_ONCE_VIDEO_MESSAGE:Db,YOU_EPHEMERAL_RECORD_SCREEN:pa,YOU_EPHEMERAL_SETTING_CHANGE_DAYS:aa,YOU_EPHEMERAL_SETTING_CHANGE_HOURS:Y,YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:X,YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:W,YOU_EPHEMERAL_SETTING_TURNED_OFF:ga,YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:N,YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:M,YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:L,YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:K,YOU_EPHEMERAL_TAKE_SCREENSHOT:oa,YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:ta});g.CURRENT_USER_CREATED_GROUP=b;g.CURRENT_USER_SEND_TEXT=s;g.CURRENT_USER_SEND_IMAGE=t;g.CURRENT_USER_SEND_VIDEO=u;g.CURRENT_USER_SEND_AUDIO=v;g.CURRENT_USER_SEND_GIF=w;g.CURRENT_USER_SEND_STICKER=x;g.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS=G;g.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT=Z;g.CURRENT_USER_SEND_ATTACHMENT=$;g.LOCALIZATION_TYPE=d}),98);
__d("MAWAdminMsgNormalized",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_REMOVED_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return{contactIds:b,contents:[]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:a=b[0];var c=b[1];return{contactIds:[a],contents:[c]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:a=b[0];c=b[1];var e=b[2];return{contactIds:[a,c],contents:[e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:a=b[0];c=b[1];e=b[2];return{contactIds:[a],contents:[c,e]};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:default:return{contactIds:[],contents:b}}}g.deconstructContactIdsFromAdminContent=a}),98);
__d("MAWAsyncEBPendingQueryPromise",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=new Map(),m=new Map();function a(a){var c=new(g||(g=b("Promise")))(function(b,c){i.set(a,b),k.set(a,c)});h.set(a,c);return c}function c(a,b){j.set(a,b)}function d(a){return j.get(a)}function e(a){var c=new(g||(g=b("Promise")))(function(b,c){l.set(a,{data:null,resolve:b}),m.set(a,c)});return c}function n(a,b){var c=i.get(a);c!=null&&(i["delete"](a),c(b));c=l.get(a);c!=null&&l.set(a,{data:b,resolve:c.resolve})}function o(a,b){var c=k.get(a);c!=null&&(i["delete"](a),c(b));c=m.get(a);c!=null&&(m["delete"](a),c(b),l["delete"](a))}function p(a){var b=l.get(a);b!=null&&b.data!=null&&(b.resolve(b.data),l["delete"](a),m["delete"](a))}f.getPendingQueryPromiseFromTrace=a;f.setJidFromThreadId=c;f.getJidFromThreadId=d;f.getWaitForRestorePromiseFromTrace=e;f.resolvePendingQueryIfPresent=n;f.rejectPendingQueryIfPresent=o;f.resolvePendingQueryUponReStore=p}),66);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWBridgeLoggingUtils","MAWTimedBridge","MAWWaitForBackendSetup","MAWWorkerEvent","Promise","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("justknobx")._("1143");function a(a,c,e,f){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){var g=d("MAWBridgeLoggingUtils").getBridgeEventInstanceKey(c);f!==!0&&d("MAWBridgeLoggingUtils").routeStart("fireAndForget",a,c,g);void d("MAWTimedBridge").bridgeTimeout(function(){return new(h||(h=b("Promise")))(function(b){d("MAWBridge").getBridge().fireAndForget(a,c,e,f,{onAck:function(e){f!==!0&&(d("MAWWorkerEvent").logAck(g,c,e),d("MAWBridgeLoggingUtils").routeSuccess(a,c,g)),b()},onSend:function(a){var b=a.queueMsgs;a=a.queueSize;f!==!0&&(d("MAWWorkerEvent").logSend(g,c,"fireAndForget"),d("MAWWorkerEvent").logAnnotations(g,{"int":{bridgeSize:a},string_array:{bridgeMsgs:b}}))}},{bridgeQPLInstanceKey:g})})},a,c,g,i)},c)}g.fireAndForget=a}),98);
__d("MAWDbChatId__UNSAFE_DO_NOT_USE",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("I64"))).of_float(a)}function b(a,b){return a+"_"+b}g.convertToChatId64__DEPRECATED=a;g.craftAltIndex__DEPRECATED=b}),98);
__d("MAWHexUtils",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("err")("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("WAMsg",["WAAssertUnreachable","WAJids","WAMsgType","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.author,c=a.chat;a=a.externalId;return c+"_"+a+"_"+b}function h(a){switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:case d("WAMsgType").MSG_TYPE.IMAGE:case d("WAMsgType").MSG_TYPE.VIDEO:case d("WAMsgType").MSG_TYPE.PTT:case d("WAMsgType").MSG_TYPE.GIF:case d("WAMsgType").MSG_TYPE.STICKER:case d("WAMsgType").MSG_TYPE.RECEIVER_FETCH:return{author:a.id.author,deleteTs:a.deleteTs,ephemeralSetting:a.ephemeralSetting,expirationTs:a.expirationTs,externalId:a.id.externalId,sentTs:a.sentTs,serverTs:a.serverTs,ts:a.ts};case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return{author:a.id.author,externalId:a.id.externalId,sentTs:a.sentTs,ts:a.ts};default:a.type;return null}}function b(a){var b=h(a);if(b==null)return null;switch(a.type){case d("WAMsgType").MSG_TYPE.TEXT:return babelHelpers["extends"]({},b,{msgContent:a.msgContent,type:d("WAMsgType").MSG_TYPE.TEXT});case d("WAMsgType").MSG_TYPE.IMAGE:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.IMAGE});case d("WAMsgType").MSG_TYPE.VIDEO:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.VIDEO});case d("WAMsgType").MSG_TYPE.PTT:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.PTT});case d("WAMsgType").MSG_TYPE.STICKER:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.STICKER});case d("WAMsgType").MSG_TYPE.RECEIVER_FETCH:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.RECEIVER_FETCH});case d("WAMsgType").MSG_TYPE.GIF:return babelHelpers["extends"]({},b,{mediaId:a.mediaId,type:d("WAMsgType").MSG_TYPE.PTT});case d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.EXPIRED_EPHEMERAL});case d("WAMsgType").MSG_TYPE.UNAVAILABLE:return babelHelpers["extends"]({},b,{type:d("WAMsgType").MSG_TYPE.UNAVAILABLE});case d("WAMsgType").MSG_TYPE.REVOKED:case d("WAMsgType").MSG_TYPE.REACTION:case d("WAMsgType").MSG_TYPE.ICDC_ALERT:case d("WAMsgType").MSG_TYPE.ADMIN:case d("WAMsgType").MSG_TYPE.FUTUREPROOF:case d("WAMsgType").MSG_TYPE.CIPHERTEXT:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("WAMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("WAMsgType").MSG_TYPE.GROUP_INVITE:case d("WAMsgType").MSG_TYPE.DELETE_FOR_ME:case d("WAMsgType").MSG_TYPE.DOCUMENT_FILE:case d("WAMsgType").MSG_TYPE.EDIT_ACTION:return null;default:return c("WAAssertUnreachable")(a.type)}}function e(a){if(d("WAJids").isAuthorSystem(a.author))throw c("err")("Cannot send @system messages");else return{author:a.author,chat:a.chat,externalId:a.externalId}}g.craftWAMsgIdString=a;g.asQuotedMsg=b;g.asProtocolMsgId=e}),98);
__d("MAWDbMsg",["FBLogger","I64","MAWDbChatId__UNSAFE_DO_NOT_USE","MAWHexUtils","MAWMsgType","WAMsg","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i=[(i=d("MAWMsgType")).MSG_TYPE.REVOKED,i.MSG_TYPE.EPHEMERAL_SYNC_RESPONSE,i.MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE,i.MSG_TYPE.GROUP_INVITE,i.MSG_TYPE.SK_DISTRIBUTION,i.MSG_TYPE.RAVEN_ACTION];var j=0,k=Number.MAX_SAFE_INTEGER;function a(a){return v(a)?a:null}function b(a){return a}function e(a){return a}var l="futureproof",m="futureproof_spam",n="spam",o="toBeRead",p="e2ee_admin_msg",q="cutover_admin_msg";function r(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function f(a,b,e){a=d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m";return!c("justknobx")._("621")?a:a+"_"+e.externalId}function s(a,b){return!c("justknobx")._("1903")?r(a,b):d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_um"}function t(a,b){return!c("justknobx")._("1903")?r(a,b):d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_r"}function u(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_DEBUG_"+d("MAWHexUtils").orderPreservingHex(Math.floor(Math.random()*1e4))}function v(a){a=a.split("_");return a.length>=3&&a[0]!==""&&a[1]!==""&&a[2]==="m"}function w(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,o)}function x(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,p)}function y(a){return d("MAWDbChatId__UNSAFE_DO_NOT_USE").craftAltIndex__DEPRECATED(a,q)}function z(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function A(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function B(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function C(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.XMA:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!1}throw c("FBLogger")("maw_db").mustfixThrow('Invalid msg type for isXMAMsg check: "%s"',a.type)}function D(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!1}throw c("FBLogger")("maw_db").mustfixThrow('Invalid msg type for isMediaMsg check: "%s"',a.type)}function E(a){return a.type===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH}function F(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:return!0;case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!1;default:c("FBLogger")("maw_db").mustfix('Invalid msg type for isPhotoOrVideoMediaMsg check: "%s"',a.type);return!1}}function G(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return!0;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!1;default:c("FBLogger")("maw_db").mustfix('Invalid msg type for isDocumentFileMediaMsg check: "%s"',a.type);return!1}}function H(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("maw_db").mustfixThrow('Invalid msg type for isContentMsg check: "%s"',a.type)}function I(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return!1}throw c("FBLogger")("maw_db").mustfixThrow('Invalid msg type for isMsgEligibleForTriggeringEphemeralSyncResponse check: "%s"',a.type)}function J(a){return L(a.type)}function K(a){return a.type===d("MAWMsgType").MSG_TYPE.ADMIN}function L(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"||a==="GroupInvite"||a==="SenderKeyDistribution"||a==="RavenAction"||a==="EditAction"}function M(a){return a==="RavenAction"}function N(a){return a.originalTs!=null?a.originalTs:O(a)}function O(a){return a.serverTs!=null?a.serverTs:a.ts}function P(a){if(a.sortOrderMs!=null)return a.sortOrderMs;else return O(a)*1e3}function Q(a,b){if(a.serverTs!=null)return Math.max(b+1,a.serverTs*1e3);else return b+1}function R(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:return a.editMsgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:return}throw c("FBLogger")("maw_db").mustfixThrow('Invalid msg type for getMsgContent check: "%s"',a.type)}function S(a){return d("WAMsg").craftWAMsgIdString({author:a.author,chat:a.threadJid,externalId:a.externalId})}function T(a){return(h||(h=d("I64"))).to_float(a)}g.NO_CONTENT_MESSAGE_TYPES_ALLOWLIST=i;g.MIN_MSG_SORT_ORDER=j;g.MAX_MSG_SORT_ORDER=k;g.toMsgId=a;g.stanzaIdToMsgId=b;g.instamadilloMsgIdToMsgId=e;g.FUTUREPROOF_ALT_INDEX=l;g.FUTUREPROOF_SPAM_ALT_INDEX=m;g.SPAM_ALT_INDEX=n;g.craftMsgId__DEPRECATED=r;g.craftMsgIdV2=f;g.craftUnrenderedMsgId=s;g.craftReactionId=t;g.craftDebugMsgId=u;g.isValidMsgId=v;g.craftToBeReadAltIndex=w;g.craftE2eeAdminMsgAltIndex=x;g.craftCutoverAdminMsgAltIndex=y;g.getInChatMsgIdFromMsgId=z;g.msgIdsInChatLowerBound=A;g.msgIdsInChatUpperBound=B;g.isXMAMsg=C;g.isMediaMsg=D;g.isReceiverFetchStickerMsg=E;g.isPhotoOrVideoMediaMsg=F;g.isDocumentFileMediaMsg=G;g.isContentMsg=H;g.isMsgEligibleForTriggeringEphemeralSyncResponse=I;g.isUnrenderedMsg=J;g.isAdminMsg=K;g.isUnrenderedMsgType=L;g.isRavenActionMsgType=M;g.getOriginalTsFromMsg=N;g.getCanonicalTsFromMsg=O;g.getSortOrderWithFallback=P;g.getSortOrderFromPrevious=Q;g.getMsgContent=R;g.getWAMsgId=S;g.convertMsgRowId64=T}),98);
__d("MAWMediaGalleryM2Utils",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("4219")}function a(){return c("justknobx")._("3060")&&h()}function b(){return c("gkx")("4219")}g.isMediaGalleryM2Enabled=h;g.shouldSkipSyncToLSDB=a;g.isFilesEBRestoreEnabled=b}),98);
__d("MAWUserJidWrapper",["ExecutionEnvironment","MAWCurrentUser","MAWODSProxy","WAGlobals","WAJids","WAOdsEnums"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("WAJids").toMsgrUserJid(d("MAWCurrentUser").getID());if((h||(h=c("ExecutionEnvironment"))).isInWorker){var b=d("WAGlobals").getMyUserJid();d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_MY_USER_JID_GETTER,key:b===a?"same":"different"});return b}return a}g.getMyUserJid=a}),98);
__d("MWPBumpEntityKey",["CurrentUser","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){(h||(h=d("ODS"))).bumpEntityKey(3185,a,b)}function a(a,b){var d=c("CurrentUser").getAppID();d=d==null?"unknown":d;return i(a,b+"."+d)}g.bumpEntityKey=i;g.bumpEntityKeyWithAppId=a}),98);
__d("WAHashUtils",["WABase64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function b(a,b){return d("WABase64").encodeB64UrlSafe(a,b)}function c(a){return a}function e(a){return a}function f(a){return""+a.slice(0,3)}g.toPlaintextHash=a;g.toCiphertextHash=b;g.stringToPlaintextHash=c;g.toHashedPlaintextHash=e;g.sanitisePlaintextHash=f}),98);
__d("getReplyContentForNoteReply",["WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.author,e=a.msgId;c=d("WAJids").authorToUserId(c,b);b=(b=a.quote)==null?void 0:(b=b.content.msgContent)==null?void 0:b.content;a=(a=a.quote)==null?void 0:a.content.expirationTs;return{isNoteReply:!0,replyMediaExpirationTimestampMs:a!=null?a*1e3:void 0,replyMessageText:b,replySourceId:e,replyToUserId:c}}g["default"]=a}),98);
__d("MAWBridgeMsg",["LSHotEmojiSize","LSIntEnum","MAWDbMsg","MAWImageUtils","MAWMediaGalleryM2Utils","MAWMsgType","MAWUserJidWrapper","MAWVault","MAWXMAUtils","MWPBumpEntityKey","WAAssertUnreachable","WAHashUtils","WAJids","WALogger","WAMsgType","getReplyContentForNoteReply","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MAWBridgeMsg] Missing content for external link share XMA message"]);i=function(){return a};return a}function j(a,b,e){var f,g;f=((f=a.quote)==null?void 0:f.content.type)===d("WAMsgType").NOTE_REPLY;if(f)return c("getReplyContentForNoteReply")(a,e);f=(f=a.quote)==null?void 0:f.content;if(d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType)||d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var h=a.author,i=a.mediaId,j=a.msgId,k=d("WAJids").authorToUserId(h,e);if(d("MAWXMAUtils").isXMAStoryMention(a.xmaMessageType)||d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType)){var l=a.threadJid,m;l!=null&&(m=d("WAJids").interpretAsUserJid(l));m!=null&&(k=d("WAJids").userIdFromJid(m))}i!=null&&a.plaintextHash==null&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.reply_attachment_media_missing_plaintext_hash","bridge_msg_get_reply_content");return{isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),isIGStoryMention:d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(a.xmaMessageType),isMsgHighlightsTabFriendUpdatesReply:d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(a.xmaMessageType),replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:i,replyMediaUrlMimeType:i!=null?"image/jpeg":void 0,replyPlaintextHash:(l=a.plaintextHash)!=null?l:void 0,replySenderIsMe:h===d("WAJids").AUTHOR_ME||k===e,replySourceId:j,replySourceTimestampMs:a.sortOrderMs,replyStatusType:i!=null?"Image":void 0,replyToUserId:k,storyShareAuthor:b==null?void 0:b.storyShareAuthor}}l=(f==null?void 0:f.type)===d("MAWMsgType").MSG_TYPE.XMA&&c("gkx")("458");if(f==null||(f==null?void 0:f.msgId)==null&&(f==null?void 0:f.sourceId)==null&&!l)return;h=f||{};j=h.author;i=h.mediaId;k=h.msgId;var n=h.plaintextHash,o=h.sourceId,p=h.specialTextSize,q=h.ts,r=h.type;h=h.xmaMessageType;q=q!=null?q*1e3:void 0;g=f.type===d("MAWMsgType").MSG_TYPE.TEXT||d("MAWXMAUtils").isXMAExternalLinkShare(h)?(g=f.msgContent)==null?void 0:g.content:void 0;var s=d("WAJids").authorToUserId(j,e),t=f.type===d("MAWMsgType").MSG_TYPE.TEXT?f.msgContent.mentionedJids:void 0;j=j===d("WAJids").AUTHOR_ME||s===e;e=b||{};b=e.replyMediaId;var u=e.replyMediaPreviewHeight,v=e.replyMediaPreviewWidth,w=e.replyMediaUrlFallback,x=e.replyMediaUrlMimeType,y=e.replyPlaintextHash;e=e.replyXMAId;if(d("MAWXMAUtils").isXMAStoryReply(h)){return{isStoryProducerReply:d("MAWXMAUtils").isXMAStoryProducerReply(h),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(h),isStoryReply:!0,replyMediaExpirationTimestampMs:f==null?void 0:f.expirationTs,replyMediaId:i,replyMediaUrlMimeType:i!=null?"image/jpeg":void 0,replyPlaintextHash:(f=y!=null?d("WAHashUtils").stringToPlaintextHash(y):n)!=null?f:void 0,replySenderIsMe:j,replySourceId:o,replySourceTimestampMs:q,replyStatusType:i!=null?"Image":void 0,replyToUserId:s}}n=d("MAWImageUtils").boundHeightWidth(u,v,96*.8);f=n.height;o=n.width;return{isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(h),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(h),isStoryReply:!1,replyMediaId:b,replyMediaPreviewHeight:r===d("MAWMsgType").MSG_TYPE.STICKER?f:u,replyMediaPreviewWidth:r===d("MAWMsgType").MSG_TYPE.STICKER?o:v,replyMediaUrlFallback:w,replyMediaUrlMimeType:x,replyMentionedJids:t,replyMessageText:g,replyPlaintextHash:y!=null?d("WAHashUtils").stringToPlaintextHash(y):void 0,replySenderIsMe:j,replySourceId:l&&k==null?a.msgId:k,replySourceTimestampMs:q,replyStatusType:p===1||p===2||p===3?d("MAWMsgType").MSG_TYPE.STICKER:r,replyToUserId:s,replyXMAId:e}}function a(a){a=a.specialTextSize;switch(a){case 1:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL);case 2:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM);case 3:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE);default:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE)}}function b(a,b,e,f,g){var h,k,l=d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid());h=((h=a.isForwarded)!=null?h:!1)&&a.type!==d("MAWMsgType").MSG_TYPE.STICKER;k=(k=a.forwardingScore)!=null?k:0;var m=d("MAWDbMsg").getCanonicalTsFromMsg(a),n=j(a,e,l),o=d("MAWXMAUtils").isXMAStoryShare(a.xmaMessageType),p=d("MAWXMAUtils").isXMAStoryReaction(a.xmaMessageType),q=d("MAWXMAUtils").isXMAExternalLinkShare(a.xmaMessageType),r=d("MAWXMAUtils").isIGXMAStoryMention(a.xmaMessageType),s=d("MAWXMAUtils").isFBXMAStoryMention(a.xmaMessageType),t=d("MAWXMAUtils").isXMAStoryHighlightShare(a.xmaMessageType),u=d("MAWXMAUtils").isXMAPostPrivateReply(a.xmaMessageType),v=d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(a.xmaMessageType),w=d("MAWDbMsg").getSortOrderWithFallback(a),x=a.externalId;f=c("justknobx")._("3424")&&d("MAWMediaGalleryM2Utils").isMediaGalleryM2Enabled()&&a.source==="media_restore"?"EncryptedBackupsMedia":f;var y=void 0;if(!c("justknobx")._("2996"))y=(e==null?void 0:e.replyPlaintextHash)!=null?d("WAHashUtils").stringToPlaintextHash(e==null?void 0:e.replyPlaintextHash):void 0;else{y=(e==null?void 0:e.replyPlaintextHash)!=null?d("WAHashUtils").stringToPlaintextHash(e==null?void 0:e.replyPlaintextHash):(e=n==null?void 0:n.replyPlaintextHash)!=null?e:void 0}switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:e=d("MAWVault").isVaulted(a.msgContent.content)?a.msgContent.content:d("MAWVault").vault(a.msgContent.content);return babelHelpers["extends"]({},n,{ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,content:e,editCount:a.editCount,ephemeralDurationInSec:(e=a.ephemeralSetting)==null?void 0:e.ephemeralExpirationInSec,externalId:x,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,mentionedJids:a.msgContent.mentionedJids,msgId:a.msgId,offlineMsg:b,replyPlaintextHash:y,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,specialTextSize:a.specialTextSize,transportKey:f,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return babelHelpers["extends"]({},n,{ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,ephemeralDurationInSec:(e=a.ephemeralSetting)==null?void 0:e.ephemeralExpirationInSec,externalId:x,forwardingScore:k,groupId:a.groupId,groupIndex:a.groupIndex,groupSize:a.groupSize,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,replyPlaintextHash:y,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,externalId:x,forwardingScore:k,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,replyPlaintextHash:y,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type,unsupportedType:a.msgContent.subtype});case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:return{ack:a.ack,chatJid:a.threadJid,externalId:x,forwardingScore:k,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return babelHelpers["extends"]({},n,{ack:a.ack,chatJid:a.threadJid,externalId:x,forwardingScore:k,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,replyPlaintextHash:y,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type});case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:return{ack:a.ack,adminContent:[a.msgContent.authorName],adminType:a.msgContent.adminType,chatJid:a.threadJid,externalId:x,forwardingScore:k,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:return{ack:a.ack,adminContent:a.msgContent.adminMsgContent.map(function(a){return a==="Facebook User"?"0":a}),adminType:a.msgContent.adminType,adminVersion:a.msgContent.version,chatJid:a.threadJid,externalId:x,forwardingScore:k,isAdminMessage:!0,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.REVOKED:return{ack:a.ack,chatJid:a.threadJid,externalId:x,forwardingScore:k,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isForwarded:h,msgId:a.msgId,offlineMsg:b,originalTs:a.originalTs,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type};case d("MAWMsgType").MSG_TYPE.XMA:var z;e=(e=a.msgContent)==null?void 0:e.content;z=e!=null?d("MAWVault").isVaulted(e)?(z=a.msgContent)==null?void 0:z.content:d("MAWVault").vault(e):void 0;q&&z==null&&d("WALogger").WARN(i());e=c("justknobx")._("1191")||p||q?z:void 0;return babelHelpers["extends"]({},n,{ack:a.ack,applicationErrorCode:a.applicationErrorCode,chatJid:a.threadJid,content:e,ephemeralDurationInSec:(q=a.ephemeralSetting)==null?void 0:q.ephemeralExpirationInSec,externalId:x,forwardingScore:k,instanceKey:g,isAdminMessage:!1,isAuthorMe:a.author===d("WAJids").AUTHOR_ME,isExpiredXmaMsg:a.isExpiredXmaMsg,isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(a.xmaMessageType),isFBStoryMention:s,isForwarded:h,isIGStoryMention:r,isMsgHighlightsTabFriendUpdatesReply:v,isPostPrivateReply:u,isStoryHighlightShare:t,isStoryReaction:p,isStoryShare:o,mentionedJids:(z=a.msgContent)==null?void 0:z.mentionedJids,msgId:a.msgId,offlineMsg:b,replyPlaintextHash:y,sender:d("WAJids").authorToUserId(a.author,l),sortOrderMs:w,transportKey:f,ts:m,type_:a.type,xmaMessageType:a.xmaMessageType});default:return c("WAAssertUnreachable")(a.type)}}g.getSpecialTextSize=a;g.createBridgeMsg=b}),98);
__d("MAWFTSIsMessageValidForSearch",["MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.ephemeralSetting!=null&&a.ephemeralSetting.ephemeralExpirationInSec>0}function a(a){var b=a.msgContent,c=a.sortOrderMs,e=a.type;b=b==null?void 0:b.content;if(b==null||c==null)return null;if(e!==d("MAWMsgType").MSG_TYPE.TEXT&&e!==d("MAWMsgType").MSG_TYPE.XMA)return null;return h(a)?null:{content:b,sortOrderMs:c}}g.verifyMessageValidity=a}),98);
__d("MAWBridgeSearchMsg",["MAWCurrentUser","MAWDbMsg","MAWFTSIsMessageValidForSearch","MAWVault","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e;c===void 0&&(c=!0);var f=d("MAWFTSIsMessageValidForSearch").verifyMessageValidity(a);if(f==null)return null;var g=d("MAWCurrentUser").getID(),h=a.author,i=a.externalId,j=a.msgId;e=(e=a.threadJid)!=null?e:b;if(e==null)return null;b=f.content;f=f.sortOrderMs;e={chatJid:e,externalId:i,msg:{msgId:j,sender:d("WAJids").authorToUserId(h,g),ts:d("MAWDbMsg").getCanonicalTsFromMsg(a)},sortOrderMs:f};i=b;return babelHelpers["extends"]({},e,{msg:babelHelpers["extends"]({},e.msg,{content:i!=null?d("MAWVault").isVaulted(i)?c?i:d("MAWVault").unvault(i):c?d("MAWVault").vault(i):i:void 0})})}b="message_content_search";c="non_message_content_search";g.createBridgeSearchMsg=a;g.MESSAGE_CONTENT_SEARCH=b;g.NON_MESSAGE_CONTENT_SEARCH=c}),98);
__d("MAWBridgeUIEventDataValidation",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{return(h||(h=d("I64"))).of_string(a)}catch(b){c("FBLogger")("maw_bridge").catching(b).mustfix("Cannot convert string to i64: %s",a)}}g.stringToI64Opt=a}),98);
__d("MAWDbMsgOrReaction",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){var c=b.forMessage;b=b.forReaction;return a.msgId!=null?c(a):b(a)}function a(a,b){var c=b.forMessage,d=b.forNull;b=b.forReaction;return a==null?d():g(a,{forMessage:c,forReaction:b})}f.switchOnMsgOrReaction=g;f.switchOnMsgOrReactionNullish=a}),66);
__d("MAWExtractMsFromExternalId",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return new Date(a).getTime()>0}var j=2199023255551;function a(a){a=Number((h||(h=d("I64"))).to_string(h.and_(h.lsr_(a,22),h.of_float(j))));if(i(a)){a=Math.floor(Number(a)%1e5/100);return a}}g.extractMsFromExternalId=a}),98);
__d("MAWTimeUtils",["FBLogger","I64","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return(h||(h=d("I64"))).of_float(a*1e3)}function j(a){a=Number(a);return a<=d("WATimeUtils").MAX_INT&&a!==-1e3&&a!==0}function a(a){if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to millisTimeToTimestamp: %s",Number(a));return i(a)}return(h||(h=d("I64"))).of_float(a)}function b(a,b){var c=Date.now();c=c-b*24*60*60*1e3;b=d("WATimeUtils").castMilliSecondsToUnixTime(c);return a>=b}function e(a){if(a==null)return;if(j(a)){Number(a)!==-1&&c("FBLogger")("messenger_e2ee_web").mustfix("Invalid timestamp supplied to ensureValidMillisTime: %s",Number(a));return d("WATimeUtils").castToMillisTime(a*1e3)}return a}f=(h||(h=d("I64"))).of_string("9999999999999");var k=Number.MAX_VALUE;g.toTimestamp=i;g.millisTimeToTimestamp=a;g.isTimestampNewerThanXDays=b;g.ensureValidMillisTime=e;g.MAX_TIMESTAMP_MS=f;g.MAX_TIMESTAMP=k;g.MIN_TIMESTAMP_MS=h.zero}),98);
__d("MAWCalculateBumpTimestampMs",["I64","MAWDbMsgOrReaction","MAWExtractMsFromExternalId","MAWTimeUtils","WALongInt","WATimeUtils","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){b=b==null?null:d("MAWExtractMsFromExternalId").extractMsFromExternalId(b);return(h||(h=d("I64"))).add(d("MAWTimeUtils").millisTimeToTimestamp(a),h.of_int32((a=b)!=null?a:0))}function j(a){var b=a.msg;a=a.throwIfNoServerTs;a=a?c("nullthrows")(b.serverTs):b.serverTs;return i(d("WATimeUtils").castUnixTimeToMillisTime((a=a)!=null?a:b.ts),(h||(h=d("I64"))).of_string(b.externalId))}function k(a){return a.senderTimestampMs!=null?(h||(h=d("I64"))).of_string(d("WALongInt").longIntToDecimalString(a.senderTimestampMs)):i(d("WATimeUtils").castUnixTimeToMillisTime(a.ts),(h||(h=d("I64"))).of_string(a.externalId))}function a(a){return d("MAWDbMsgOrReaction").switchOnMsgOrReaction(a,{forMessage:function(a){return j({msg:a,throwIfNoServerTs:!0})},forReaction:k})}g.calculateBumpTimestampMs=i;g.calculateBumpTimestampMsForMsg=j;g.calculateBumpTimestampMsForReaction=k;g.calculateBumpTsForMsgOrReaction=a}),98);
__d("WADbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("MAWContactRelationshipType",["I64","LSContactBitOffset","WADbContact"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("LSContactBitOffset").hasWithDefault(64,a,!0);a=(h||(h=d("I64"))).ge(a.contactViewerRelationship,h.of_string("2"));if(a&&b)return d("WADbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("WADbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("WADbContact").TWO_WAY_CONTACT;return d("WADbContact").NON_CONTACT}g.getContactRelationshipType=a}),98);
__d("MAWEBRestoreTrackingUtils",["LSIntEnum","LSMEBTaskCreationSource","MAWQplProxy","MWEBODSEntityName.enum","ODS","QPLUserFlow","WAHashStringToNumber","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={dyi:c("justknobx")._("467"),frontloaded:20,initial:20,paginated:c("justknobx")._("3177"),point:1,search:c("justknobx")._("2477")};function a(a,b,e,f){if(b!=null){p({querySource:e,runningInWorker:(e=f)!=null?e:!1,taskSource:a,traceId:b,triggerType:"paginated"})}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.paginated")}function b(a){var b=a.querySource,e=a.runningInWorker,f=a.taskSource;a=a.traceId;if(a!=null){p({querySource:b,runningInWorker:(b=e)!=null?b:!1,taskSource:f,traceId:a,triggerType:"initial"})}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.initial")}function e(a,b,e){if(b!=null){p({querySource:"LS",runningInWorker:(e=e)!=null?e:!1,taskSource:a,traceId:b,triggerType:"dyi"})}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.dyi")}function f(a,b,e){if(b!=null){p({querySource:"LS",runningInWorker:(e=e)!=null?e:!1,taskSource:a,traceId:b,triggerType:"frontloaded"})}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.frontloaded")}function k(a,b,e,f){if(b!=null){p({querySource:e,runningInWorker:(e=f)!=null?e:!1,taskSource:a,traceId:b,triggerType:"point"})}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.point")}function l(a){var b=a.querySource,e=a.runningInWorker;a=a.traceId;if(a!=null){p({querySource:b,runningInWorker:(b=e)!=null?b:!1,taskSource:c("LSMEBTaskCreationSource").FTS_INDEX_EB_MESSAGES_WEB,traceId:a,triggerType:"search"})}(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.request.search")}function m(a,b){a!=null&&(b!=null&&b?d("MAWQplProxy").sendQPLSuccessThroughBridge(c("qpl")._(521476165,"2432"),void 0,d("WAHashStringToNumber").hashStringToNumber(a)):c("QPLUserFlow").endSuccess(c("qpl")._(521476165,"2432"),{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.success")}function n(a,b,e,f){e===void 0&&(e="restore_failure"),a!=null&&(b!=null&&b?d("MAWQplProxy").sendQPLFailThroughBridge(c("qpl")._(521476165,"2432"),e,f,d("WAHashStringToNumber").hashStringToNumber(a)):c("QPLUserFlow").endFailure(c("qpl")._(521476165,"2432"),e,{annotations:f,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})),(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore.decryption.failure")}function o(a){u("protobuf",a)}function p(a){var b=a.querySource,e=a.runningInWorker,f=a.taskSource,g=a.traceId;a=a.triggerType;if(e!=null&&e){var h;d("MAWQplProxy").startQplUserFlow(c("qpl")._(521476165,"2432"),{bool:{runningInWorker:(h=e)!=null?h:!1},"int":{requestedMessagesCount:(h=j[a])!=null?h:10},string:{querySource:b,taskSource:v(f),traceId:g,triggerType:a}},d("WAHashStringToNumber").hashStringToNumber(g),c("justknobx")._("2950"))}else{c("QPLUserFlow").start(c("qpl")._(521476165,"2432"),{annotations:{bool:{runningInWorker:(h=e)!=null?h:!1},"int":{requestedMessagesCount:(e=j[a])!=null?e:10},string:{querySource:b,taskSource:v(f),traceId:g,triggerType:a}},instanceKey:d("WAHashStringToNumber").hashStringToNumber(g),timeoutInMs:c("justknobx")._("2950")})}}function q(a){var b=a.pointName,e=a.traceId;a=a.type;c("QPLUserFlow").addAnnotations(c("qpl")._(521476165,"2432"),{string:{type:a}},{instanceKey:d("WAHashStringToNumber").hashStringToNumber(e)});c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(e)})}function r(a){var b=a.annotations,e=a.pointName;a=a.traceId;c("QPLUserFlow").addAnnotations(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)});c("QPLUserFlow").addPoint(c("qpl")._(521476165,"2432"),e,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function s(a){var b=a.annotations,e=a.pointName;a=a.traceId;a!=null&&d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),e,{annotations:b,instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function t(a){var b=a.pointName;a=a.traceId;d("MAWQplProxy").sendQplPointThroughBridge(c("qpl")._(521476165,"2432"),b,{instanceKey:d("WAHashStringToNumber").hashStringToNumber(a)})}function u(a,b){b=b?(i||(i=d("LSIntEnum"))).unwrapIntEnum(b):null;(h||(h=d("ODS"))).bumpEntityKey(7319,c("MWEBODSEntityName.enum").MAW_EB_RESTORE_COUNTER,"restore."+a+"."+v(b))}function v(a){return(a=a==null?void 0:a.toString())!=null?a:"unknown"}g.markEBRestorePaginated=a;g.markEBRestoreInitial=b;g.markEBRestoreDYI=e;g.markEBRestoreFrontloaded=f;g.markEBRestorePoint=k;g.markEBRestoreSearch=l;g.markEBRestoreSuccess=m;g.markEBRestoreFail=n;g.markEBRestoreProtobuf=o;g.addQPLRestorePoint=q;g.addQPLRestorePointWithAnnotations=r;g.addQPLRestorePointWithAnnotationsWorker=s;g.addQPLRestorePointWorker=t}),98);
__d("MAWEncryptedBackupsStateManager",["MAWEBSwitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return;case 3:c("MAWEBSwitch").set(!0);return;case 2:case 4:default:c("MAWEBSwitch").set(!1);return}}function b(a){return a===4||a===3}g.setEncryptedBackupsState=a;g.eligibleForEBUX=b}),98);
__d("MAWJobDefinitions",["MAWExternalId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return a}e={acceptGroupInvite:function(a,b,c,d,e,f){f=i(f);return{args:{chatJid:a,inviteCode:d,invitedParticipantUserId:c,inviteExpirationTs:e,inviterUserId:b},scheduleConfig:(a=f)!=null?a:void 0,type:"acceptGroupInvite"}},addGroupParticipants:function(a,b,c,d){d=i(d);return{args:{group:a,s2sInstanceKey:c,users:b},scheduleConfig:(a=d)!=null?a:void 0,type:"addGroupParticipants"}},deleteMsgsForMe:function(a,b){b=i(b);return{args:{msgIds:a},scheduleConfig:(a=b)!=null?a:void 0,type:"deleteMsgsForMe"}},demoteGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"demoteGroupParticipants"}},downloadAndHandleMedia:function(a,b,c,d,e,f,g){e=i(g);return{args:{hash:b,metricInstanceKeys:f,msgType:d,protocolMsgId:a,qplEntryPoint:c},scheduleConfig:(g=e)!=null?g:void 0,type:"downloadAndHandleMedia"}},forwardMsg:function(a,b,c,e,f,g,h){h=i(h);c=(c=c)!=null?c:{};var j=c.s2sInstanceKey;c.s2sUserFlowQPLEvent;c=babelHelpers.objectWithoutPropertiesLoose(c,["s2sInstanceKey","s2sUserFlowQPLEvent"]);return{args:{args:c,chatJid:a,ephemeralSetting:e,externalId:(c=f)!=null?c:d("MAWExternalId").generateExternalId(),isFirstMsg:g,protocolMsgId:b,s2sInstanceKey:j},scheduleConfig:(a=h)!=null?a:void 0,type:"forwardMsg"}},getSpams:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"getSpams"}},handleFutureproofMsg:function(a){a=i(a);return{args:{},scheduleConfig:(a=a)!=null?a:void 0,type:"handleFutureproofMsg"}},handleSpamMsg:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"handleSpamMsg"}},igdReportUserSpam:function(a,b){var c=a.chatJid,d=a.context,e=a.frxParams,f=a.frxTags,g=a.msgs,h=a.reportedMessageId,j=a.spamFlow;a=a.userJid;b=i(b);return{args:{chatJid:c,context:d,frxParams:e,frxTags:f,msgs:g,reportedMessageId:h,spamFlow:j,userJid:a},scheduleConfig:(c=b)!=null?c:void 0,type:"igdReportUserSpam"}},igdSendMsg:function(a,b){var c=a.actorID;a=a.taskID;b=i(b);return{args:{actorID:c,taskID:a},scheduleConfig:(c=b)!=null?c:void 0,type:"igdSendMsg"}},leaveGroups:function(a,b){b=i(b);return{args:{groups:a},scheduleConfig:(a=b)!=null?a:void 0,type:"leaveGroups"}},markThreadAsRead:function(a,b,c,d,e,f,g){g=i(g);return{args:{chatJid:a,isBlocked:c,isReadReceiptsDisabled:f,isRestricted:d,relationship:b,upTo:e},scheduleConfig:(a=g)!=null?a:void 0,type:"markThreadAsRead",uniqKey:e==null?void 0:e.externalId}},promoteGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"promoteGroupParticipants"}},removeGroupParticipants:function(a,b,c){c=i(c);return{args:{group:a,users:b},scheduleConfig:(a=c)!=null?a:void 0,type:"removeGroupParticipants"}},reportUserSpam:function(a,b,c,d,e,f,g,h,j,k){j=i(j);return{args:{chatJid:c,context:f,frxParams:g,frxTags:e,isIgd:d,openMsgs:k,reportedMessageId:h,spamFlow:b,userJid:a},scheduleConfig:(c=j)!=null?c:void 0,type:"reportUserSpam"}},resendWrittenAppData:function(a,b){b=i(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"resendWrittenAppData"}},restoreMessagesFromEncryptedBackups:function(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p){n=i(n);return{args:{deanonApiPayload:o,hasMoreAfter:e,hasMoreBefore:d,instanceKey:k,isMediaGalleryRestore:p,isPointQuery:f,messages:c,minMsgId:g,optimisticMsgs:l,startSortKey:j,taskSource:m,threadId:b,traceId:h,transportKey:a},scheduleConfig:(o=n)!=null?o:void 0,type:"restoreMessagesFromEncryptedBackups"}},restoreProtobufsFromEncryptedBackups:function(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q){m=i(m);return{args:{chatJid:q,deanonApiPayload:o,echoMessages:a,hasMoreAfter:f,hasMoreBefore:e,instanceKey:l,isMediaGalleryRestore:p,isPointQuery:g,messages:d,minMsgId:h,referenceTimestamp:k,requestId:j,taskSource:n,threadId:c,transportKey:b},scheduleConfig:(q=m)!=null?q:void 0,type:"restoreProtobufsFromEncryptedBackups"}},revokeMsgs:function(a,b){b=i(b);return{args:a,scheduleConfig:(a=b)!=null?a:void 0,type:"revokeMsgs"}},sendAppData:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendAppData"}},sendEditMsg:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendEditMsg"}},sendEphemeralSettingMsg:function(a,b,c,e){e=i(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendEphemeralSettingMsg"}},sendGroupInviteMsg:function(a,b,c){c=i(c);return{args:{args:a,externalId:(a=b)!=null?a:d("MAWExternalId").generateExternalId()},scheduleConfig:(b=c)!=null?b:void 0,type:"sendGroupInviteMsg"}},sendMediaMsg:function(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){s=i(s);return{args:{args:{duration:k,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:j,jpegThumbnailWidth:h,mediaGroupMetadata:x,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:c,source:t,width:f},attachmentType:w,chatJid:a,externalId:(k=r)!=null?k:d("MAWExternalId").generateExternalId(),file:b},scheduleConfig:(m=s)!=null?m:void 0,type:"sendMediaMsg"}},sendMediaMsgV2:function(a,b,c,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){s=i(s);return{args:{args:{duration:k,ephemeralSetting:m,filename:u,height:g,isFirstMsg:q,isForwarded:p,isPtt:l,jpegThumbnail:e,jpegThumbnailHeight:j,jpegThumbnailWidth:h,mediaGroupMetadata:y,offlineAttachmentId:v,openMessageOtid:o,quote:n,s2sInstanceKey:w,source:t,width:f},attachmentType:x,chatJid:a,externalId:(k=r)!=null?k:d("MAWExternalId").generateExternalId(),mimeType:b,plaintext:c},scheduleConfig:(m=s)!=null?m:void 0,type:"sendMediaMsgV2"}},sendMsg:function(a,b,c,e){e=i(e);return{args:{args:b,chatJid:a,externalId:(b=c)!=null?b:d("MAWExternalId").generateExternalId()},scheduleConfig:(a=e)!=null?a:void 0,type:"sendMsg"}},sendReactionMsg:function(a,b,c,e,f,g,h,j){h=i(h);return{args:{args:{groupingKey:"",reaction:f,reactToAuthor:c,reactToProtocolMsgId:b,s2sInstanceKey:e,source:j},chatJid:a,externalId:(f=g)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(c=h)!=null?c:void 0,type:"sendReactionMsg"}},sendWrittenAppData:function(a,b){b=i(b);return{args:{appDataExternalId:a},scheduleConfig:(a=b)!=null?a:void 0,type:"sendWrittenAppData"}},sendWrittenMsg:function(a,b,c,d){c===void 0&&(c="message");d=i(d);return{args:{protocolMsgId:a,s2sInstanceKey:b,type:c},scheduleConfig:(a=d)!=null?a:void 0,type:"sendWrittenMsg"}},sendXMAShareMsg:function(a,b,c,e,f,g,h,j,k,l){l=i(l);return{args:{args:g,associatedMsgContent:f,associatedMsgContentExternalId:(g=j)!=null?g:d("MAWExternalId").generateExternalId(),chatJid:a,faviconFile:e,headerFile:c,previewFile:b,xmaArgs:k,xmaMsgExternalId:(f=h)!=null?f:d("MAWExternalId").generateExternalId()},scheduleConfig:(j=l)!=null?j:void 0,type:"sendXMAShareMsg"}},setGroupSubject:function(a,b,c){c=i(c);return{args:{group:a,subject:b},scheduleConfig:(a=c)!=null?a:void 0,type:"setGroupSubject"}},startInstamadilloDYI:function(a,b){b=i(b);return{args:{qplInstanceKey:a},scheduleConfig:(a=b)!=null?a:void 0,type:"startInstamadilloDYI"}},updateBackupEntFbidForMedia:function(a,b,c,d){d=i(d);return{args:{backupEntFbid:b,deliveryObjectId:a,traceId:c},scheduleConfig:(b=d)!=null?b:void 0,type:"updateBackupEntFbidForMedia"}},uploadRetroactiveThreadsAndMessages:function(a){a=i(a);return{args:void 0,scheduleConfig:(a=a)!=null?a:void 0,type:"uploadRetroactiveThreadsAndMessages"}}};function c(a,b){return h(a,b)}function h(a,b){var c=b.scheduleConfig,e=babelHelpers.objectWithoutPropertiesLoose(b,["scheduleConfig"]);c={args:{},scheduleConfig:c,type:a};b.externalIdJob&&(c.args.externalId=d("MAWExternalId").generateExternalId());c.args=babelHelpers["extends"]({},c.args,e);b.uniqueJob&&(c.uniqKey=a);return c}function i(a){if(a==null)return;return{jobId:a.jobId,maxTimeoutMs:a.maxTimeoutMs,priority:a.priority}}g.toThreadJidPrimaryId=a;g.toEncodedEchoMessage=b;g.jobSerializers=e;g.createStartJobInfo=c;g.createStartJobInfoGeneric=h;g.serializeJobScheduledConfig=i}),98);
__d("MAWMiActOnActThreadReadyQueue",["FBLogger","I64","LSPlatformLsInitLog","MAWInit","MAWMIC","QPLUserFlow","WALoggerDeferred","asyncToGeneratorRuntime","clearTimeout","promiseDone","qpl","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MiActMapping] Executing queued action on ACT thread ready: "," for threadKey: ",""]);i=function(){return a};return a}var j=new Map(),k=3e4;function a(a,b,e,f,g,i){c("QPLUserFlow").addPoint(c("qpl")._(1056846543,"1530"),"enqueue_by_thread_key_start",{instanceKey:i});var l=(h||(h=d("I64"))).to_string(a);a=(a=j.get(l))!=null?a:[];var m=c("setTimeout")(function(){c("QPLUserFlow").endFailure(c("qpl")._(1056846543,"1530"),"enqueue_by_thread_key_timeout",{annotations:{bool:{during_mic:d("MAWMIC").duringMIC(),ls_sync_has_ended:d("LSPlatformLsInitLog").LsSync.hasEnded(),maw_init_completed:d("MAWInit").MAWInitState.isCompleted()}},instanceKey:i}),c("FBLogger")("messenger_e2ee_web").mustfix("[MiActMapping] Took longer than %s ms to execute: %s in threadState: %s for threadKey: %s, onActThreadReady",k,f,g,l),e()},k);a.push({callback:b,description:f,telemetryInstanceKey:i,threadState:g,timeoutId:m});j.set(l,a)}function e(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(h||(h=d("I64"))).to_string(a),g=j.get(f);if(g==null||g.length===0)return;while(g.length!==0){var k=g.shift();if(k==null)continue;var l=k.callback,m=k.description,n=k.telemetryInstanceKey,o=k.threadState;k=k.timeoutId;try{c("QPLUserFlow").addPoint(c("qpl")._(1056846543,"1530"),"enqueue_by_thread_key_end",{instanceKey:n}),c("promiseDone")(d("WALoggerDeferred").LOG(i(),m,f)),c("FBLogger")("messenger_e2ee_web").info("[MiActMapping] Executing queued action on ACT thread ready: %s, original threadState: %s called by: %s",m,o,e),c("QPLUserFlow").endSuccess(c("qpl")._(1056846543,"1530"),{instanceKey:n}),yield l(a,b),c("clearTimeout")(k)}catch(a){c("clearTimeout")(k),c("QPLUserFlow").endFailure(c("qpl")._(1056846543,"1530"),"process_queue_on_act_thread_ready_failure",{instanceKey:n}),c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MiActMapping] Error executing callback on ACT thread ready: %s, original threadState: %s, threadKey: %s",m,o,f)}}j["delete"](f)});return l.apply(this,arguments)}g.enqueueByThreadKey=a;g.processQueueOnActThreadReady=e}),98);
__d("MAWMsg",["$InternalEnum","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSReplyMessageAttachmentType","MAWMsgType","WAArmadilloXMA.pb","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e,f,g,h){if(a===d("MAWMsgType").MSG_TYPE.TEXT)if(b)return(i||(i=d("LSIntEnum"))).ofNumber(8192);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.IMAGE||a===d("MAWMsgType").MSG_TYPE.VIDEO||a===d("MAWMsgType").MSG_TYPE.RAVEN)return(i||(i=d("LSIntEnum"))).ofNumber(2);else if(a===d("MAWMsgType").MSG_TYPE.PTT)return(i||(i=d("LSIntEnum"))).ofNumber(4);else if(a===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return k(g);else if(a===d("MAWMsgType").MSG_TYPE.CIPHERTEXT)return(i||(i=d("LSIntEnum"))).ofNumber(65536);else if(a===d("MAWMsgType").MSG_TYPE.UNAVAILABLE)return(i||(i=d("LSIntEnum"))).ofNumber(262144);else if(a===d("MAWMsgType").MSG_TYPE.GIF)return(i||(i=d("LSIntEnum"))).ofNumber(16384);else if(a===d("MAWMsgType").MSG_TYPE.STICKER)return(i||(i=d("LSIntEnum"))).ofNumber(4096);else if(a===d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE)return(i||(i=d("LSIntEnum"))).ofNumber(64);else if(a===d("MAWMsgType").MSG_TYPE.XMA)if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(256);else return h===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH?(i||(i=d("LSIntEnum"))).ofNumber(536870912):(i||(i=d("LSIntEnum"))).ofNumber(1024);else if(a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(!f)return(i||(i=d("LSIntEnum"))).ofNumber(33554432);else return(i||(i=d("LSIntEnum"))).ofNumber(1);else if(a===d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH)return!c("gkx")("5624")?(i||(i=d("LSIntEnum"))).ofNumber(67108864):(i||(i=d("LSIntEnum"))).ofNumber(134217728);else return(i||(i=d("LSIntEnum"))).ofNumber(1)}function k(a){switch(a){case"liveLocationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4294967296);case"locationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(524288);case"pollCreationMessage":return(i||(i=d("LSIntEnum"))).ofNumber(1048576);case"contactShareMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2097152);case"storyMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(4194304);case"postMentionMessage":return(i||(i=d("LSIntEnum"))).ofNumber(2147483648);case"metaAiMessage":return(i||(i=d("LSIntEnum"))).ofNumber(8388608);case"bumpMessage":return(i||(i=d("LSIntEnum"))).ofNumber(16777216);case"stickerReceiverFetchMessage":return(i||(i=d("LSIntEnum"))).ofNumber(67108864);case"noteMention":return(i||(i=d("LSIntEnum"))).ofNumber(1073741824);case"messengerMemory":return(i||(i=d("LSIntEnum"))).ofNumber(8589934592);default:return(i||(i=d("LSIntEnum"))).ofNumber(131072)}}function e(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16384))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(64))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4096))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function f(a,b){var e=a.replyAttachmentType;if(e==null)return!1;b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);return b&&a.replyAttachmentId==null?!1:(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))||(j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))}function l(a){return(j||(j=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(134217728))}function m(a){return(j||(j=d("I64"))).equal(a.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(536870912))}function n(a){a=a.displayedContentTypes;if((j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(32)))return!0;else return!1}function o(a){return(j||(j=d("I64"))).lt(a.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))}function p(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1024))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(536870912))}function q(a){a=a.displayedContentTypes;return(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(65536))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(131072))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(524288))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4294967296))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1048576))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2097152))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4194304))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2147483648))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8388608))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16777216))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1073741824))||(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8589934592))?!0:(j||(j=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(262144))}var r=(b=b("$InternalEnum"))({PLAYED:0,SCREENSHOTTED:1,FORCE_DISABLED:2}),s=b({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4}),t=b({VIEW_ONCE:0,ALLOW_REPLAY:1,KEEP_IN_CHAT:2});b=b({IMAGE:0,VIDEO:1});g.text=(h=d("MAWMsgType")).MSG_TYPE.TEXT;g.image=h.MSG_TYPE.IMAGE;g.video=h.MSG_TYPE.VIDEO;g.ptt=h.MSG_TYPE.PTT;g.unsent=h.MSG_TYPE.REVOKED;g.gif=h.MSG_TYPE.GIF;g.bumpExistingMessage=h.MSG_TYPE.BUMP_EXISTING_MESSAGE;g.getDisplayedContentTypes=a;g.isMediaMsg=e;g.isMediaReplyAttachmentType=f;g.isReceiverFetchMsg=l;g.isReceiverFetchXMAMsg=m;g.isAdminMsg=n;g.isOptimistic=o;g.isXMAMsg=p;g.isPlaceholder=q;g.MAWRavenActionNotifType=r;g.MAWRavenMsgEphemeralMediaState=s;g.MAWRavenMsgEphemeralType=t;g.MAWRavenMsgMediaType=b}),98);
__d("RavenMessagingState",[],(function(a,b,c,d,e,f){a=Object.freeze({PERMANENT:0,UNSEEN:1,SEEN:2,REPLAYED:3,EXPIRED:4});f["default"]=a}),66);
__d("MAWRavenUtils",["EphemeralMediaViewMode","MAWMsg","RavenMessagingState"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralMediaState.PERMANENT:return c("RavenMessagingState").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN:return c("RavenMessagingState").UNSEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN:return c("RavenMessagingState").SEEN;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.REPLAYED:return c("RavenMessagingState").REPLAYED;case d("MAWMsg").MAWRavenMsgEphemeralMediaState.EXPIRED:return c("RavenMessagingState").EXPIRED}},i=function(a){switch(a){case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return c("EphemeralMediaViewMode").PERMANENT;case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:return c("EphemeralMediaViewMode").REPLAYABLE;case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return c("EphemeralMediaViewMode").READ_ONCE}};b=function(a,b){return{ephemeralMediaState:b,ephemeralMediaViewMode:i(a)}};function a(a,b){switch(b){case d("MAWMsg").MAWRavenMsgEphemeralType.VIEW_ONCE:return a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN?c("RavenMessagingState").SEEN:h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.ALLOW_REPLAY:if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.UNSEEN)return c("RavenMessagingState").SEEN;else if(a===d("MAWMsg").MAWRavenMsgEphemeralMediaState.SEEN)return c("RavenMessagingState").REPLAYED;return h(a);case d("MAWMsg").MAWRavenMsgEphemeralType.KEEP_IN_CHAT:return h(a)}}g.getEphemeralMediaState=h;g.getEphemeralMediaViewMode=i;g.deriveRavenSettings=b;g.getNextRavenMessageEphemeralState=a}),98);
__d("MAWThreadBumpType",[],(function(a,b,c,d,e,f){"use strict";a="NO_UPDATE";b="LOCAL_ONLY";c="LOCAL_AND_SERVER";d=Object.freeze({LOCAL_AND_SERVER:c,LOCAL_ONLY:b,NO_UPDATE:a});f.THREAD_BUMP_TYPE=d}),66);
__d("MAWThreadUpdateType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=Object.freeze({BUMP_THREAD:c,MARK_THREAD_AS_UNREAD:d,NO_SNIPPET_OR_ACTIVITY_TS_UPDATE:a,SNIPPET_ONLY:b});f.THREAD_UPDATE_TYPE=e}),66);
__d("WAJobOrchestratorTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({SKIP:"SKIP_PRIORITIZATION",UI_ACTION:"UI_ACTION",LOW:"LOW",HIGH:"HIGH",OFFLINE:"OFFLINE",HISTORY_SYNC:"HISTORY_SYNC",BEST_EFFORT:"BEST_EFFORT"});c=1;d=a.LOW;e=10*1e3;f.JOB_PRIORITY=a;f.DEFAULT_CONCURRENCY=c;f.DEFAULT_JOB_PRIORITY=d;f.DEFAULT_JOB_TIMEOUT_MS=e}),66);
__d("MAWUIJob",["ExecutionEnvironment","MAWBridge","WAJobOrchestratorTypes","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilPersisted called in the worker, which is a bug for job: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters waitUntilCompleted called in the worker, which is a bug for job: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["UIJobStarters fireAndForget called in the worker, which is a bug for job: ",""]);k=function(){return a};return a}var l={priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION};a={fireAndForget:function(a){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(k(),a.type);d("MAWBridge").getBridge().fireAndForget("backend","runJobFireAndForget",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}))},waitUntilCompleted:function(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(j(),a.type);a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilCompleted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}),void 0,b,e);return a},waitUntilPersisted:function(a,b,e){(h||(h=c("ExecutionEnvironment"))).isInWorker&&d("WALogger").ERROR(i(),a.type);a=d("MAWBridge").getBridge().sendAndReceive("backend","runJobWaitUntilPersisted",babelHelpers["extends"]({},a,{scheduleConfig:(a=a.scheduleConfig)!=null?a:l}),void 0,b,e);return a}};g.UIJobStarters=a}),98);
__d("MAWUpdateClientRestoreStatusOperationType",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;f.upsertClientRestoreStatus=a;f.markCompleteClientRestoreStatus=b}),66);
__d("MediaDownloadMediator",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=new Map();function a(a,b){g.set(a,b)}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c;yield (c=g.get(a))==null?void 0:c["continue"](b);g["delete"](a)});return h.apply(this,arguments)}function d(a,b){var c;void ((c=g.get(a))==null?void 0:c.handleError(b));g["delete"](a)}f.mapDeliveryObjectIdToMediaDownloader=a;f.handleNewCDNUrlFromMI=c;f.handleMIDownloadFailure=d}),66);
__d("WAAbPropsTypes",[],(function(a,b,c,d,e,f){"use strict";a={noyb_opt_out_flag:[3488,"bool",!1,!1],service_improvement_opt_out_flag:[3664,"bool",!1,!1],msgrw_test_bool:[704,"bool",!1,!1],msgrw_test_int:[705,"int",0,0],msgrw_test_string:[706,"string","test_string","test_string"],msgrw_test_float:[707,"float",1,1],msgrw_icdc_alert_trigger_failure_count:[1233,"int",8,8],msgrw_icdc_cooldown_interval_in_minutes:[1234,"int",35,35],msgrw_icdc_interval_in_minutes:[1236,"int",1500,1500],msgrw_logger_entries:[1298,"int",0,0],msgrw_max_keys:[2453,"int",812,812],msgrw_job_manager_conf:[2667,"string",'{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}','{"maxConcurrency": 5,"bestEffortWaitTimeoutSec": 300,"highPriorityQuota":5,"lowPriorityQuota":1}'],client_group_participants_limit:[618,"int",257,257],client_group_name_length_limit:[1200,"int",25,25]};f.ABPropConfigs=a}),66);
__d("WAAbPropsToUI",["WAAbPropsTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=["client_group_participants_limit","client_group_name_length_limit"];function a(a){var b=a!=null?a:{},c={};h.forEach(function(a){b[a]!=null?c[a]=b[a]:c[a]=d("WAAbPropsTypes").ABPropConfigs[a][2]});return c}g.prepareAbPropsForUI=a}),98);
__d("WAByteArray",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b;var c=new Uint8Array(a);for(a=a-1;a>=0;a--)c[a]=b&255,b>>>=8;return c}function b(a){return a.buffer.slice(a.byteOffset,a.byteLength+a.byteOffset)}function c(a,b){if(!a||!b)return!1;a=new Uint8Array(a);b=new Uint8Array(b);var c=a.length,d=b.length;if(c!==d)return!1;for(d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}f.intToBytes=a;f.uint8ArrayToBuffer=b;f.compareArrayBuffer=c}),66);
__d("WAMapWithDefault",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,b!=null?this.$2=new Map(b):this.$2=new Map()}var b=a.prototype;b.size=function(){return this.$2.size};b.clear=function(){this.$2.clear()};b["delete"]=function(a){return this.$2["delete"](a)};b.get=function(a){var b=this.$2.get(a);if(b!=null)return b;else{b=this.$1(a);this.$2.set(a,b);return b}};b.keys=function(){return this.$2.keys()};b.entries=function(){return this.$2.entries()};b.update=function(b,c){c=new Map(this.$2).set(b,c(this.get(b)));return new a(this.$1,c)};b.toMap=function(){return new Map(this.$2)};return a}();f.MapWithDefault=a}),66);
__d("WAPREList",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({APP_STATE_SYNC_DAILY:"app_state_sync_daily",CREATE_GROUP:"create_group",DECRYPT_MESSAGE_FINAL:"decrypt_message_final",DELETE_THREAD:"delete_thread",DOWNLOAD_AND_DECRYPT:"download_and_decrypt",EB_RESTORE_WITH_HIM:"eb_restore_with_him",EBDB_INIT:"ebdb_init",FRANKING_VALIDATION:"franking_validation",GET_DEVICES:"get_devices",ICDC_ERROR:"icdc_error",MEDIA_DOWNLOAD:"media_download",MEDIA_UPLOAD:"media_upload",MEDIA_VALIDATE:"media_validate",MESSAGE_DECRYPTION:"message_decryption",MESSAGE_ENCRYPTION:"message_encryption",OFFLINE_QUEUE:"offline_queue",OFFLINE_RETRY:"offline_retry",ONE_QUEUE:"one_queue",QUERY_GROUP:"query_group",QUERY_GROUPS:"query_groups",RECEIVE_MESSAGE:"receive_message",REMOVE_PARTICIPANTS:"remove_participants",SEND_MESSAGE:"send_message",STANZA_QUEUE_MESSAGE_CONSUMER:"stanza_queue_message_consumer",SYNCD:"syncd",SYNCD_BOOTSTRAP_APP_STATE_DOWNLOAD:"syncd_bootstrap_app_state_download",SYNCD_BOOTSTRAP_DATA_APPLIED:"syncd_bootstrap_data_applied",SYNCD_CRITICAL_BOOTSTRAP_STAGE:"syncd_critical_bootstrap_stage",SYNCD_CRITICAL_EVENT:"syncd_critical_event",SYNCD_DECRYPT_MUTATIONS:"syncd_decrypt_mutations",SYNCD_FATAL_ERROR:"syncd_fatal_error",SYNCD_KEY_ROTATION:"syncd_key_rotation",WA_DISCONNECT:"wa_disconnect",WA_FAIL_STANZA_QUEUE_ITEM:"stanza_queue_item_failure",WA_JOB_MANAGER:"wa_job_manager",WA_JOBS_ORCHESTRATOR:"wa_jobs_orchestrator",WA_NO_SIGNED_PRE_KEY:"wa_no_signed_pre_key",WORKER_SCHEDULER:"worker_scheduler",WORKER_SCHEDULER_STUCK:"worker_scheduler_stuck",WORM:"worm"});f.PRE_METRIC=a}),66);
__d("WAPREMetrics",["WALogger","WAPREList"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[PRE][","] EventFlow still active during garbage collection"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[PRE] There are no subscribers to PRE events "," ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Removing all listeners from PRE_METRICS"]);j=function(){return a};return a}c=6e4;e=18e4;f=10*60*1e3;var k=0;function a(){var c=[];function e(a){c.push(a)}function b(){d("WALogger").WARN(j()),c.length=0}function a(a){c.length===0&&d("WALogger").WARN(i(),a.name,a.stage),c.forEach(function(b){b(a)})}return{subscribe:e,notify:a,clear:b}}a=a();var l=a.notify,m=a.clear;a=a.subscribe;var n;"FinalizationRegistry"in self&&"WeakRef"in self&&(n=new FinalizationRegistry(function(a){var b=a.event;a=a.eventFlow;if(a.isActive())try{d("WALogger").ERROR(h(),b)}catch(a){}}));var o=new Set([d("WAPREList").PRE_METRIC.SEND_MESSAGE,d("WAPREList").PRE_METRIC.MEDIA_DOWNLOAD]);function b(a,b,c,d){var e;c==null&&k++;var f=(e=c)!=null?e:k,g="open";c==null?l({name:a,stage:"START",instanceKey:f,annotations:b,timeoutInMs:d}):l({name:a,stage:"RESUME",instanceKey:f,annotations:b});var h;function i(){if(h!=null){var a=h.deref();if(a!=null){var b;(b=n)==null?void 0:b.unregister(a)}}}e={addPoint:function(c,b){l({name:a,stage:"POINT",reason:c,instanceKey:f,annotations:b})},addAnnotations:function(b){l({name:a,stage:"ANNOTATE",instanceKey:f,annotations:b})},endSuccess:function(b){l({name:a,stage:"SUCCESS",instanceKey:f,annotations:b}),g="closed",i()},endCancel:function(b){l({name:a,stage:"CANCEL",instanceKey:f,annotations:b}),i()},endFail:function(c,b){l({name:a,stage:"FAIL",reason:c,instanceKey:f,annotations:b}),g="closed",i()},getFlowDetails:function(){return{name:a,instanceKey:f}},isActive:function(){return g==="open"}};n&&!o.has(a)&&c==null&&(n.register(e,{event:a,eventFlow:{endCancel:e.endCancel,isActive:e.isActive}}),h=new WeakRef(e));return e}g.QPL_DEFAULT_TIMEOUT_IN_MS=c;g.QPL_RECEIVE_MESSAGE_TIMEOUT_IN_MS=e;g.QPL_MEDIA_DOWNLOAD_TIMEOUT_IN_MS=f;g.clear=m;g.subscribe=a;g.startMetric=b}),98);
__d("WAPromiseTimeout",["Promise","WACustomError"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,c,e){var f=null,g=new(h||(h=b("Promise")))(function(a,b){f=setTimeout(function(){b(new(d("WACustomError").TimeoutError)(e)),clearTimeout(f)},c)});return h.race([a,g])["finally"](function(){clearTimeout(f)})};g.promiseTimeout=a}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);
__d("isGroupInvitesEnabled",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("125")===!0}g["default"]=a}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("6530")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ACTSanitizerApiTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Valid:0,UrlFailure:1,MessageTextFailure:2,CtaFailure:3});f.ACTSanitizerValidationResult=a}),66);
__d("LSXmaContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST:-1,NONE:0,IG_SINGLE_IMAGE_POST_SHARE:1e3,IG_MULTIPOST_SHARE:1001,IG_STORY_REPLY:1002,IG_STORY_PHOTO_SHARE:1003,IG_STORY_PHOTO_MENTION:1004,IG_CLIPS_SHARE:1005,IG_SINGLE_VIDEO_POST_SHARE:1006,IG_STORY_VIDEO_SHARE:1007,IG_STORY_REACTION:1008,IG_IGTV_SHARE:1009,IG_SHOP_SHARE:1010,IG_PROFILE_SHARE:1011,IG_STORY_PHOTO_HIGHLIGHT_SHARE:1012,IG_STORY_VIDEO_HIGHLIGHT_SHARE:1013,IG_STORY_VIDEO_MENTION:1014,IG_STORY_HIGHLIGHT_REPLY:1015,IG_STORY_HIGHLIGHT_REACTION:1016,IG_EXTERNAL_LINK:1017,IG_RECEIVER_FETCH:1018,IG_TEXT_POST_APP_SHARE:1019,IG_MULTI_MEDIA_RESPONSE:1020,FB_FEED_SHARE:2e3,FB_STORY_REPLY:2001,FB_STORY_SHARE:2002,FB_STORY_MENTION:2003,FB_FEED_VIDEO_SHARE:2004,FB_GAMING_CUSTOM_UPDATE:2005,FB_PRODUCER_STORY_REPLY:2006,FB_EVENT:2007,FB_FEED_POST_PRIVATE_REPLY:2008,FB_SHORT:2009,FB_COMMENT_MENTION_SHARE:2010,FB_STORY_LWI_REPLY:2011,FB_COMMENT_SHARE:2012,FB_POST_MENTION:2013,MSG_EXTERNAL_LINK_SHARE:3e3,MSG_P2P_PAYMENT:3001,MSG_LOCATION_SHARING:3002,MSG_LOCATION_SHARING_V2:3003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:3004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:3005,MSG_RECEIVER_FETCH:3006,MSG_IG_MEDIA_SHARE:3007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:3008,MSG_REELS_LIST:3009,MSG_CONTACT:3010,MSG_THREADS_POST_SHARE:3011,MSG_FILE:3012,MSG_AVATAR_DETAILS:3013,MSG_AI_CONTACT:3014,MSG_MEMORIES_SHARE:3015,MSG_SHARED_ALBUM_REPLY:3016,MSG_SHARED_ALBUM:3017,MSG_OCCAMADILLO_XMA:3018,MSG_GEN_AI_1P_SEARCH_RESULT:3019,MSG_EARLY_ACCESS_FB_SHARE:3020,MSG_GEN_AI_SUBSCRIPTION:3021,MSG_GEN_AI_REMINDER:3022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:3023,MSG_MAGICAL_MESSENGER_PLACES:3024,MSG_RECEIVER_FETCH_FALLBACK:3025,MSG_MAGICAL_MESSENGER_TASKS:3026,MSG_NOTE_REPLY:3027,MSG_NOTE_MENTION:3028,MSG_PROMPT_REPLY:3029,MSG_GEN_AI_RICH_RESPONSE:3040,RTC_AUDIO_CALL:4e3,RTC_VIDEO_CALL:4001,RTC_MISSED_AUDIO_CALL:4002,RTC_MISSED_VIDEO_CALL:4003,RTC_GROUP_AUDIO_CALL:4004,RTC_GROUP_VIDEO_CALL:4005,RTC_MISSED_GROUP_AUDIO_CALL:4006,RTC_MISSED_GROUP_VIDEO_CALL:4007,RTC_ONGOING_AUDIO_CALL:4008,RTC_ONGOING_VIDEO_CALL:4009,DATACLASS_SENDER_COPY:5e3,OC_AVATAR_STATIC_STICKER:6e3,LIVE_LOCATION:7e3});f["default"]=a}),66);
__d("MAWChatJid",["FBLogger","I64","Promise","ReQL","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){a=d("WAJids").threadIdForChatJid(a);return(i||(i=d("I64"))).of_string(a)}function k(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(j(e))).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid chatJid: "+e);return(h||(h=b("Promise"))).reject(a)}}function a(a,b,d){return k(a,b).then(function(a){if(a!=null)return a;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[toThreadKey] No mapping record for chatJid, source: %s",d)})}function e(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield k(a,b));return b==null?void 0:d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b))});return l.apply(this,arguments)}function f(a,e){try{return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(e)).then(function(a){return a==null?void 0:a.serverThreadKey})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Invalid integer jid: "+(i||(i=d("I64"))).to_string(e));return(h||(h=b("Promise"))).reject(a)}}g.toIntegerJid=j;g.toThreadKeyMaybe=k;g.toThreadKey=a;g.toThreadMaybe=e;g.toThreadKeyMaybeForChatJidInteger=f}),98);
__d("WAGlobals",["WAJids","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}var i=null;function a(a){i=a}function j(){if(i==null)throw c("err")("WaMsgr api called before set");return i}function k(){var a;return(a=j().myJids)==null?void 0:a.deviceJid}function b(){var a;return(a=j().myJids)==null?void 0:a.userJid}function e(a){return d("WAJids").extractUserJid(a)===d("WAJids").extractUserJid(k())}function f(){return j().config}function l(){return j().dependencies}var m="WAOneQueue is not defined";function n(){var a=j().waOneQueue;if(a==null){d("WALogger").ERROR(h(),m);throw c("err")(m)}return a}function o(){return j().hmacKey}g.setGlobals=a;g.getMyDeviceJid=k;g.getMyUserJid=b;g.isPeerDevice=e;g.getConfig=f;g.getDependencies=l;g.getWaOneQueue=n;g.getHMACKey=o}),98);
__d("WALongInt",["WAHex","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is over 64 bits']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid decimal string']);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not a safe integer"]);j=function(){return a};return a}function k(a){if(typeof a!=="number"){d("WALogger").LOG(j(),a).color("red");throw new Error("numberOrThrowIfTooLarge is given a non-safe integer")}return a}f=function(a){return a==null?a:k(a)};function a(a){return a==null||typeof a!=="number"?null:a}function b(a,b){if(typeof a==="number"&&typeof b==="number")return a>b;a=typeof a==="number"?d("WAHex").hexLongFromNumber(a):a;b=typeof b==="number"?d("WAHex").hexLongFromNumber(b):b;return d("WAHex").isBiggerHexLong(a,b)}function c(a){if(typeof a==="number")return a.toString(10);var b=d("WAHex").hexLongToHex(a),c=[0],e=0;for(var f=0;f<b.length;f++){e=d("WAHex").hexAt(b,f);for(var g=0;g<c.length;g++)c[g]=c[g]*16+e,e=c[g]/10|0,c[g]%=10;while(e>0)c.push(e%10),e=e/10|0}g=c.reverse().join("");return d("WAHex").hexLongIsNegative(a)?"-"+g:g}function e(a){if(!/^-?\d+$/.test(a)){d("WALogger").LOG(i(),a).color("red");throw new Error("decimalStringToLongInt is given an invalid decimal string")}var b=a[0]==="-",c=a.replace(/^-?0*/,""),e=c.length;if(e<16||e===16&&c<="9007199254740991")return b?-Number(c):Number(c);if(e>20||e===20&&c>"18446744073709551615"||b&&(e>19||e===19&&c>"9223372036854775807")){d("WALogger").LOG(h(),a).color("red");throw new Error("decimalStringToHexLong is given value over 64 bits")}a=0;var f=0;for(var g=0;g<e;g++)a=a*10+Number(c[g]),f=f*10+Math.floor(a/4294967296),a=a%4294967296;return d("WAHex").createHexLongFrom32Bits(f,a,b)}g.numberOrThrowIfTooLarge=k;g.maybeNumberOrThrowIfTooLarge=f;g.maybeNumber=a;g.isBiggerLongInt=b;g.longIntToDecimalString=c;g.decimalStringToLongInt=e}),98);
__d("WAProtoConst",[],(function(a,b,c,d,e,f){"use strict";a={REPEATED:1<<6,PACKED:1<<7,REQUIRED:1<<8};b=31;c={INT32:1,INT64:2,UINT32:3,UINT64:4,SINT32:5,SINT64:6,BOOL:7,ENUM:8,FIXED64:9,SFIXED64:10,DOUBLE:11,STRING:12,BYTES:13,MESSAGE:14,FIXED32:15,SFIXED32:16,FLOAT:17,MAP:18};d={VARINT:0,BIT64:1,BINARY:2,BIT32:5};e={ONEOF:"__oneofs__",RESERVED:"__reserved__",RESERVED_TAGS:"tags",RESERVED_FIELDS:"fields"};f.FLAGS=a;f.TYPE_MASK=b;f.TYPES=c;f.ENC=d;f.KEYS=e}),66);
__d("WAMediaEntryData.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};a.internalSpec={fileSha256:[1,(e=d("WAProtoConst")).TYPES.BYTES],mediaKey:[2,e.TYPES.BYTES],fileEncSha256:[3,e.TYPES.BYTES],directPath:[4,e.TYPES.STRING],mediaKeyTimestamp:[5,e.TYPES.INT64],serverMediaType:[6,e.TYPES.STRING],uploadToken:[7,e.TYPES.BYTES],validatedTimestamp:[8,e.TYPES.BYTES],sidecar:[9,e.TYPES.BYTES],objectId:[10,e.TYPES.STRING],fbid:[11,e.TYPES.STRING],downloadableThumbnail:[12,e.TYPES.MESSAGE,c],handle:[13,e.TYPES.STRING],filename:[14,e.TYPES.STRING],progressiveJpegDetails:[15,e.TYPES.MESSAGE,b],size:[16,e.TYPES.INT64],lastDownloadAttemptTimestamp:[17,e.TYPES.INT64]};b.internalSpec={scanLengths:[1,e.FLAGS.REPEATED|e.TYPES.UINT32],sidecar:[2,e.TYPES.BYTES]};c.internalSpec={fileSha256:[1,e.TYPES.BYTES],fileEncSha256:[2,e.TYPES.BYTES],directPath:[3,e.TYPES.STRING],mediaKey:[4,e.TYPES.BYTES],mediaKeyTimestamp:[5,e.TYPES.INT64],objectId:[6,e.TYPES.STRING]};g.MediaEntrySpec=a;g.MediaEntry$ProgressiveJpegDetailsSpec=b;g.MediaEntry$DownloadableThumbnailSpec=c}),98);
__d("WAProgressiveJpegMarkers",[],(function(a,b,c,d,e,f){"use strict";a=255;b=0;c={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,JPG:200,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254,TEM:1};d=[b,c.RST0,c.RST1,c.RST2,c.RST3,c.RST4,c.RST5,c.RST6,c.RST7];f.MARKER_PREFIX=a;f.MARKER_ESCAPE_BYTE=b;f.MARKERS=c;f.SOS_STREAM=d}),66);
__d("WAProgressiveJpegGetScanOffsets",["WAProgressiveJpegMarkers","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Non-progressive JPEG marker found"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Ending marker found before end of image"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Scan found at offset ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Not a JPEG image"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting"]);l=function(){return a};return a}var m=d("WATagsLogger").TAGS(["media","progressiveJpegUtils"]);function a(a){m.DEV(l());if(!n(a)){m.DEV(k());return[]}var b=[],c=2,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA",f=null,g=0,r=!1,s=!1,t=!1;function u(){t=!1,m.DEV(j(),c-1),b.push(c-1)}while(c<a.byteLength){f=a[c];if(r){m.ERROR(i());return[]}switch(e){case"READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA":f===d("WAProgressiveJpegMarkers").MARKER_PREFIX&&(e="READ_MARKER_SECOND_BYTE");break;case"READ_MARKER_SECOND_BYTE":if(f===d("WAProgressiveJpegMarkers").MARKER_PREFIX)e="READ_MARKER_SECOND_BYTE";else if(f===d("WAProgressiveJpegMarkers").MARKER_ESCAPE_BYTE)e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";else if(f===d("WAProgressiveJpegMarkers").MARKERS.EOI)r=!0,t&&u();else if(!s&&p(f)){m.LOG(h());return[]}else o(f)?(s=!0,e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA"):(t&&u(),f===d("WAProgressiveJpegMarkers").MARKERS.SOS&&(t=!0),q(f)?e="READ_SIZE_FIRST_BYTE":e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA");break;case"READ_SIZE_FIRST_BYTE":e="READ_SIZE_SECOND_BYTE";break;case"READ_SIZE_SECOND_BYTE":c+=g*256;c+=f;c-=2;e="READ_MARKER_FIRST_BYTE_OR_ENTROPY_DATA";break}c+=1;g=f}return b}function n(a){if(a.byteLength<=2)return!1;if(a[0]!==d("WAProgressiveJpegMarkers").MARKER_PREFIX)return!1;return a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOF2&&a[1]!==d("WAProgressiveJpegMarkers").MARKERS.SOI?!1:!0}function o(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF2||a===d("WAProgressiveJpegMarkers").MARKERS.SOF6||a===d("WAProgressiveJpegMarkers").MARKERS.SOF10||a===d("WAProgressiveJpegMarkers").MARKERS.SOF14}function p(a){return a===d("WAProgressiveJpegMarkers").MARKERS.SOF0||a===d("WAProgressiveJpegMarkers").MARKERS.SOF1||a===d("WAProgressiveJpegMarkers").MARKERS.SOF3||a===d("WAProgressiveJpegMarkers").MARKERS.SOF5||a===d("WAProgressiveJpegMarkers").MARKERS.SOF7||a===d("WAProgressiveJpegMarkers").MARKERS.JPG||a===d("WAProgressiveJpegMarkers").MARKERS.SOF9||a===d("WAProgressiveJpegMarkers").MARKERS.SOF11||a===d("WAProgressiveJpegMarkers").MARKERS.SOF13||a===d("WAProgressiveJpegMarkers").MARKERS.SOF15}function q(a){if(a===d("WAProgressiveJpegMarkers").MARKERS.TEM)return!1;return a>=d("WAProgressiveJpegMarkers").MARKERS.RST0&&a<=d("WAProgressiveJpegMarkers").MARKERS.RST7?!1:a!==d("WAProgressiveJpegMarkers").MARKERS.EOI&&a!==d("WAProgressiveJpegMarkers").MARKERS.SOI}g.getProgressiveJpegScanOffsets=a}),98);
__d("WAProgressiveJpegGetScanLengths",["WAProgressiveJpegGetScanOffsets"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("WAProgressiveJpegGetScanOffsets").getProgressiveJpegScanOffsets(a);return h(a)}function b(a){return a}function h(a){var b=[],c=0;for(var d=0;d<a.length;d++){var e=a[d];b.push(e-c);c=e}return b}g.getProgressiveJpegScanLengths=a;g.asProgressiveJpegScanLength=b}),98);
__d("WAServerMediaType",["WAAssertUnreachable"],(function(a,b,c,d,e,f,g){"use strict";d=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","product","product-catalog-image","xma-image","biz-cover-photo","preview","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video","sticker-pack","thumbnail-sticker-pack","music-artwork"];function a(a){switch(a){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"product":case"product-catalog-image":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":case"sticker-pack":case"thumbnail-sticker-pack":case"music-artwork":return a;default:return null}}function b(a){switch(a){case"Image":return"image";case"Video":return"video";case"Ptt":return"ptt";case"Gif":return"gif";case"Sticker":return"sticker";case"DocumentFile":return"document";case"Text":case"Futureproof":case"Ciphertext":case"Unavailable":case"ExpiredEphemeral":case"Admin":case"Revoked":case"DeleteForMe":case"EphemeralSettingAdmin":case"EphemeralSyncResponse":case"EphemeralSettingChangeFromCurrentDevice":case"AlertICDC":case"GroupInvite":case"SenderKeyDistribution":case"Reaction":case"EditAction":case"ReceiverFetch":case"Raven":case"GroupPollCreate":case"GroupPollUpdate":return null;default:return c("WAAssertUnreachable")(a)}}g.SERVER_MEDIA=d;g.castToServerMediaType=a;g.getMediaType=b}),98);
__d("WABinary",["WAHex","err"],(function(a,b,c,d,e,f,g){"use strict";var h=65533,i=10,j=new Uint8Array(i),k=new Uint8Array(0);a=function(){function a(b,c){var d=this;b===void 0&&(b=k);c===void 0&&(c=!1);this.$1=new Uint8Array(0);this.$2=0;this.$4=0;this.write=function(){for(var b=0;b<arguments.length;b++){var c=b<0||arguments.length<=b?void 0:arguments[b];typeof c==="string"?d.writeString(c):typeof c==="number"?d.writeUint8(c):c instanceof a?d.writeBinary(c):c instanceof ArrayBuffer?d.writeBuffer(c):c instanceof Uint8Array&&d.writeByteArray(c)}};b instanceof ArrayBuffer?(this.$1=new Uint8Array(b),this.$2=this.$4=b.byteLength):b instanceof Uint8Array&&(this.$1=b,this.$2=this.$4=b.length);this.$5=0;this.$6=this.$3=0;this.$7=null;this.$8=c;this.$9=0;this.$10=0}var b=a.prototype;b.size=function(){return this.$2-this.$3};b.peek=function(a,b){this.$9++;var c=this.$3,d=this.$5;try{return a(this,b)}finally{this.$9--,this.$3=c-(this.$5-d)}};b.advance=function(a){this.$11(a)};b.readWithViewParser=function(a,b,c,d){return b(this.$12(),this.$11(a),a,c,d)};b.readWithBytesParser=function(a,b,c,d){return b(this.$1,this.$11(a),a,c,d)};b.readUint8=function(){return p(this,1,r,!1)};b.readInt8=function(){return p(this,1,r,!0)};b.readUint16=function(a){a===void 0&&(a=this.$8);return p(this,2,s,a)};b.readInt32=function(a){a===void 0&&(a=this.$8);return p(this,4,t,a)};b.readUint32=function(a){a===void 0&&(a=this.$8);return p(this,4,u,a)};b.readInt64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,U,a)};b.readUint64=function(a){a===void 0&&(a=this.$8);return p(this,8,v,V,a)};b.readLong=function(a,b){b===void 0&&(b=this.$8);return p(this,8,v,a,b)};b.readFloat32=function(a){a===void 0&&(a=this.$8);return p(this,4,w,a)};b.readFloat64=function(a){a===void 0&&(a=this.$8);return p(this,8,x,a)};b.readVarInt=function(a){var b=this.size();b=q(this,0,y,b);return q(this,b,z,a)};b.readBuffer=function(a){a===void 0&&(a=this.size());return a===0?new ArrayBuffer(0):q(this,a,A)};b.readByteArray=function(a){a===void 0&&(a=this.size());return a===0?new Uint8Array(0):q(this,a,B)};b.readBinary=function(b,c){b===void 0&&(b=this.size());c===void 0&&(c=this.$8);if(b===0)return new a(void 0,c);b=q(this,b,B);return new a(b,c)};b.indexOf=function(a){if(a.length===0)return 0;var b=this.$1,c=this.$2,d=this.$3,e=0,f=d;for(var g=d;g<c;g++)if(b[g]===a[e]){e===0&&(f=g);e++;if(e===a.byteLength)return g-d-a.byteLength+1}else e>0&&(e=0,g=f);return-1};b.readString=function(a){return q(this,a,C)};b.ensureCapacity=function(a){this.$13(this.$3+a)};b.ensureAdditionalCapacity=function(a){this.$13(this.$4+a)};b.writeToView=function(a,b,c,d){var e=this.$14(a);return b(this.$12(),e,a,c,d)};b.writeToBytes=function(a,b,c,d){var e=this.$14(a);return b(this.$1,e,a,c,d)};b.writeUint8=function(a){S(a,0,256,"uint8"),E(this,1,F,a,!1)};b.writeInt8=function(a){S(a,-128,128,"signed int8"),E(this,1,F,a,!0)};b.writeUint16=function(a,b){b===void 0&&(b=this.$8),S(a,0,65536,"uint16"),D(this,2,G,a,b)};b.writeInt16=function(a,b){b===void 0&&(b=this.$8),S(a,-32768,32768,"signed int16"),D(this,2,H,a,b)};b.writeUint32=function(a,b){b===void 0&&(b=this.$8),S(a,0,4294967296,"uint32"),D(this,4,I,a,b)};b.writeInt32=function(a,b){b===void 0&&(b=this.$8),S(a,-2147483648,2147483648,"signed int32"),D(this,4,J,a,b)};b.writeUint64=function(a,b){b===void 0&&(b=this.$8),S(a,0,18446744073709552e3,"uint64"),D(this,8,K,a,b)};b.writeInt64=function(a,b){b===void 0&&(b=this.$8),S(a,-9223372036854776e3,9223372036854776e3,"signed int64"),D(this,8,K,a,b)};b.writeFloat32=function(a,b){b===void 0&&(b=this.$8),D(this,4,L,a,b)};b.writeFloat64=function(a,b){b===void 0&&(b=this.$8),D(this,8,M,a,b)};b.writeVarInt=function(a){S(a,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var b=a<0;a=b?-a:a;var c=Math.floor(a/4294967296);a=a-c*4294967296;b&&(c=~c,a===0?c++:a=-a);b=R(c,a);E(this,b,N,c,a)};b.writeVarIntFromHexLong=function(a){var b=d("WAHex").hexLongIsNegative(a);a=b?d("WAHex").negateHexLong(a):a;a=d("WAHex").hexLongToHex(a);var c=0,e=0;for(var f=0;f<d("WAHex").NUM_HEX_IN_LONG;f++)c=c<<4|e>>>28,e=e<<4|d("WAHex").hexAt(a,f);b&&(c=~c,e===0?c++:e=-e);a=R(c,e);E(this,a,N,c,e)};b.writeBinary=function(a){a=a.peek(function(a){return a.readByteArray()});if(a.length){var b=this.$14(a.length);this.$1.set(a,b)}};b.writeBuffer=function(a){this.writeByteArray(new Uint8Array(a))};b.writeByteArray=function(a){var b=this.$14(a.length);this.$1.set(a,b)};b.writeBufferView=function(a){this.writeByteArray(new Uint8Array(a.buffer,a.byteOffset,a.byteLength))};b.writeString=function(a){E(this,n(a),O,a)};b.writeHexLong=function(a,b){b===void 0&&(b=this.$8),D(this,8,P,a,b)};b.writeBytes=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var d=0;d<b.length;d++)S(b[d],0,256,"byte");E(this,b.length,Q,b)};b.writeAtomically=function(a,b){this.$10++;var c=this.$4,d=this.$5;try{a=a(this,b);c=this.$4;d=this.$5;return a}finally{this.$10--,this.$4=c-(this.$5-d)}};b.writeWithVarIntLength=function(a,b){var c=this.$4;a=this.writeAtomically(a,b);b=this.$4;this.writeVarInt(b-c);var d=this.$4-b,e=this.$1;for(var f=0;f<d;f++)j[f]=e[b+f];for(f=b-1;f>=c;f--)e[f+d]=e[f];for(b=0;b<d;b++)e[c+b]=j[b];return a};a.build=function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];var e=0;for(var f=0;f<c.length;f++){var g=c[f];typeof g==="string"?e+=n(g):typeof g==="number"?e++:g instanceof a?e+=g.size():g instanceof ArrayBuffer?e+=g.byteLength:g instanceof Uint8Array&&(e+=g.length)}var h=new a();h.ensureCapacity(e);h.write.apply(h,arguments);return h};b.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))};b.$11=function(a){if(a<0)throw c("err")("ReadError: given negative number of bytes to read");var b=this.$3;a=b+a;if(a>this.$2)throw c("err")(b===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");this.$3=a;this.$9||(this.$6=a);return b};b.$13=function(a){var b=this.$1;if(a<=b.length)return a;else{var c=this.$6;a=a-c;var d=Math.max(a,2*(b.length-c),64);d=new Uint8Array(d);c?(d.set(b.subarray(c)),this.$5+=c,this.$3-=c,this.$2-=c,this.$4-=c,this.$6=0):d.set(b);this.$1=d;this.$7=null;return a}};b.$14=function(a){a=this.$13(this.$4+a);var b=this.$4;this.$4=a;this.$10||(this.$2=a);return b};return a}();var l="",m=0;function n(a){if(a===l)return m;var b=a.length,c=0;for(var d=0;d<b;d++){var e=a.charCodeAt(d);if(e<128)c++;else if(e<2048)c+=2;else if(e<55296||57344<=e&&e<=65535)c+=3;else if(55296<=e&&e<56320&&d+1!==b){e=a.charCodeAt(d+1);56320<=e&&e<57344?(d++,c+=4):c+=3}else c+=3}l=a;return m=c}function o(a,b,c){var d=b>>21;if(!a)return d===0;else{a=b&2097151;b=Boolean(a||c);return d===0||d===-1&&b}}function p(a,b,c,d,e){return a.readWithViewParser(b,c,d,e)}function q(a,b,c,d,e){return a.readWithBytesParser(b,c,d,e)}function r(a,b,c,d){return d?a.getInt8(b):a.getUint8(b)}function s(a,b,c,d){return a.getUint16(b,d)}function t(a,b,c,d){return a.getInt32(b,d)}function u(a,b,c,d){return a.getUint32(b,d)}function v(a,b,c,d,e){c=a.getInt32(e?b+4:b,e);a=a.getInt32(e?b:b+4,e);return d(c,a)}function w(a,b,c,d){return a.getFloat32(b,d)}function x(a,b,c,d){return a.getFloat64(b,d)}function y(a,b,d,e){d=Math.min(e,i);e=0;var f=128;while(e<d&&f&128)f=a[b+e++];if(e===i&&f>1)throw c("err")("ParseError: varint exceeds 64 bits");else if(f&128)return e+1;return e}function z(b,c,d,a){var e=0,f=0,g=d;d===i&&(g--,f=b[c+g]&1);for(d=g-1;d>=0;d--)e=e<<7|f>>>25,f=f<<7|b[c+d]&127;return a(e,f)}function A(a,b,c){b=b+a.byteOffset;a=a.buffer;return b===0&&c===a.byteLength?a:a.slice(b,b+c)}function B(a,b,c){return a.subarray(b,b+c)}function C(a,b,c){c=b+c;var d=[],e=null;for(b=b;b<c;b++){d.length>5e3&&(e||(e=[]),e.push(String.fromCharCode.apply(String,d)),d=[]);var f=a[b]|0;if((f&128)===0)d.push(f);else if((f&224)===192){var g=W(a,b+1,c);if(g){b++;g=(f&31)<<6|g&63;g>=128?d.push(g):d.push(h)}else d.push(h)}else if((f&240)===224){g=W(a,b+1,c);var i=W(a,b+2,c);if(g&&i){b+=2;i=(f&15)<<12|(g&63)<<6|i&63;i>=2048&&!(55296<=i&&i<57344)?d.push(i):d.push(h)}else g?(b++,d.push(h)):d.push(h)}else if((f&248)===240){i=W(a,b+1,c);g=W(a,b+2,c);var j=W(a,b+3,c);if(i&&g&&j){b+=3;f=(f&7)<<18|(i&63)<<12|(g&63)<<6|j&63;if(f>=65536&&f<=1114111){j=f-65536;d.push(55296|j>>10,56320|j&1023)}else d.push(h)}else i&&g?(b+=2,d.push(h)):i?(b++,d.push(h)):d.push(h)}else d.push(h)}f=String.fromCharCode.apply(String,d);if(e){e.push(f);return e.join("")}else return f}function D(a,b,c,d,e){return a.writeToView(b,c,d,e)}function E(a,b,c,d,e){return a.writeToBytes(b,c,d,e)}function F(a,b,c,d){a[b]=d}function G(a,b,c,d,e){a.setUint16(b,d,e)}function H(a,b,c,d,e){a.setInt16(b,d,e)}function I(a,b,c,d,e){a.setUint32(b,d,e)}function J(a,b,c,d,e){a.setInt32(b,d,e)}function K(a,b,c,d,e){c=d<0;d=c?-d:d;var f=Math.floor(d/4294967296);d=d-f*4294967296;c&&(f=~f,d===0?f++:d=-d);a.setUint32(e?b+4:b,f,e);a.setUint32(e?b:b+4,d,e)}function L(a,b,c,d,e){a.setFloat32(b,d,e)}function M(a,b,c,d,e){a.setFloat64(b,d,e)}function N(a,b,c,d,e){d=d;e=e;c=b+c-1;for(b=b;b<c;b++)a[b]=128|e&127,e=d<<25|e>>>7,d>>>=7;a[c]=e}function O(a,b,c,d){c=b;b=d.length;for(var e=0;e<b;e++){var f=d.charCodeAt(e);if(f<128)a[c++]=f;else if(f<2048)a[c++]=192|f>>6,a[c++]=128|f&63;else if(f<55296||57344<=f)a[c++]=224|f>>12,a[c++]=128|f>>6&63,a[c++]=128|f&63;else if(55296<=f&&f<56320&&e+1!==b){var g=d.charCodeAt(e+1);if(56320<=g&&g<57344){e++;f=65536+((f&1023)<<10|g&1023);a[c++]=240|f>>18;a[c++]=128|f>>12&63;a[c++]=128|f>>6&63;a[c++]=128|f&63}else a[c++]=239,a[c++]=191,a[c++]=189}else a[c++]=239,a[c++]=191,a[c++]=189}}function P(a,b,c,e,f){c=d("WAHex").hexLongIsNegative(e);e=d("WAHex").hexLongToHex(e);var g=0,h=0;for(var i=0;i<16;i++)g=g<<4|h>>>28,h=h<<4|d("WAHex").hexAt(e,i);c&&(g=~g,h===0?g++:h=-h);a.setUint32(f?b+4:b,g,f);a.setUint32(f?b:b+4,h,f)}function Q(a,b,c,d){for(var e=0;e<c;e++)a[b+e]=d[e]}function R(a,b){var c;a?(c=5,a=a>>>3):(c=1,a=b>>>7);while(a)c++,a>>>=7;return c}function S(a,b,d,e){if(typeof a!=="number"||a!==a||Math.floor(a)!==a||a<b||a>=d)throw c("err")(typeof a==="string"?'TyperError WriteError: string "'+a+'" is not a valid '+e:"TypeError WriteError: "+String(a)+" is not a valid "+e)}function T(a,b,d){var e=o(a,b,d),f;b>=0?f=b:f=a?b:4294967296+b;a=d>=0?d:4294967296+d;b=f*4294967296+a;if(!e)throw c("err")("ReadError: integer exceeded 53 bits ("+b+")");return b}function U(a,b){return T(!0,a,b)}function V(a,b){return T(!1,a,b)}function W(a,b,c){if(b>=c)return 0;c=a[b]|0;return(c&192)===128?c:0}g.Binary=a;g.numUtf8Bytes=n;g.longFitsInDouble=o;g.parseInt64OrThrow=U;g.parseUint64OrThrow=V}),98);
__d("WAHasProperty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.prototype.hasOwnProperty.call(a,b)}f["default"]=a}),66);
__d("WAProtoCompile",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b,c,d,e,f,g,h,i){this.names=a,this.fields=b,this.types=c,this.defaults=d,this.meta=e,this.oneofToFields=f,this.fieldToOneof=g,this.reservedTags=h?h.reduce(function(a,b){a[b]=!0;return a},{}):{},this.reservedFields=i?i.reduce(function(a,b){a[b]=!0;return a},{}):{}};function a(a){if(a.internalCompiledSpec)return a.internalCompiledSpec;var b=a.internalSpec;if(!b)throw new Error("Message Class "+String(a)+" does not have internalSpec");var c=a.internalDefaults||{},e=Object.keys(b).filter(function(a){return a!==d("WAProtoConst").KEYS.ONEOF}),f=new Array(e.length),g=[],j=[],k=new Array(e.length),l=b[d("WAProtoConst").KEYS.ONEOF]||{};e.sort(function(a,c){a=i(b,a);c=i(b,c);return a[0]-c[0]});for(var m=0;m<e.length;m++){var n=e[m],o=i(b,n);k[m]=c[n];var p=o[1],q=o[0];g.push(q);j.push(p);if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE)f[m]=o[2];else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.ENUM){q=o[2];if(typeof q.cast==="function")f[m]=q;else{var r=!0,s=0;for(var t in q)r&&t!==s++&&(r=!1);t=void 0;if(r){t=[];for(r=0;r<s;r++)t.push(!0)}else{t={};for(r in q)t[q[r]]=!0}f[m]=t}}else if((p&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP){if(o.length!==3)throw new Error("Map field "+n+" should have exactly three elements in its internalSpec");f[m]=o[2]}else f[m]=null}var u={};s=function(a){l[a].forEach(function(b){u[b]||(u[b]=[]),u[b].push(a)})};for(r in l)s(r);q=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_TAGS];t=b[d("WAProtoConst").KEYS.RESERVED]&&b[d("WAProtoConst").KEYS.RESERVED][d("WAProtoConst").KEYS.RESERVED_FIELDS];p=new h(e,g,j,k,f,l,u,q,t);a.internalCompiledSpec=p;return p}function i(a,b){a=a[b];if(a==null)throw new Error("fieldData of "+b+" is missing");return a}g.Spec=h;g.compileSpec=a}),98);
__d("WAProtoUtils",["WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a&d("WAProtoConst").FLAGS.PACKED)return d("WAProtoConst").ENC.BINARY;a=a&d("WAProtoConst").TYPE_MASK;if(a<=d("WAProtoConst").TYPES.ENUM)return d("WAProtoConst").ENC.VARINT;else if(a<=d("WAProtoConst").TYPES.DOUBLE)return d("WAProtoConst").ENC.BIT64;else if(a<=d("WAProtoConst").TYPES.MESSAGE)return d("WAProtoConst").ENC.BINARY;else if(a===d("WAProtoConst").TYPES.MAP)return d("WAProtoConst").ENC.BINARY;else return d("WAProtoConst").ENC.BIT32}g.typeToEncType=a}),98);
__d("WAProtoValidate",["WAHasProperty","WALogger","WAProtoCompile","WAProtoConst"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not an array']);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not ',""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is out of range']);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid int']);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(['"','" is not a valid long']);l=function(){return a};return a}var m=Number.MAX_SAFE_INTEGER;function n(a,b){a=o(a,b);if(a){a.reverse();throw new TypeError("Message missing required value "+a.join("."))}}function a(a,b){n(a,b);b=u(b,a);if(b){b.path.reverse();throw new TypeError("Invalid value at "+b.path.join(".")+": "+b.error)}}function o(a,b){a=d("WAProtoCompile").compileSpec(a);var e=a.names,f=a.types;a=a.meta;var g=void 0;for(var h=0;h<f.length&&!g;h++){var i=f[h],j=e[h],k=c("WAHasProperty")(b,j)?b[j]:void 0;if(i&d("WAProtoConst").FLAGS.REQUIRED&&k==null)g=[j];else if((i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&i&d("WAProtoConst").FLAGS.REPEATED&&k!=null){var l=a[h],m=void 0;for(m=0;m<k.length&&!g;m++)g=o(l,k[m]);g&&g.push(j+"["+m+"]")}else(i&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MESSAGE&&k!=null&&(g=o(a[h],k),g&&g.push(j))}return g}function p(a,b,c){if(typeof a==="string")if(/^-?0x[0-9a-f]{16}$/i.test(a))return!1;else{d("WALogger").LOG(l(),s(a)).color("red");return{path:[],error:"value must be a hex string of the form '0x123...' or '-0x123...' where the tail is always 16 characters long"}}else return q(a,b,c)}function q(a,b,c){if(typeof a!=="number"||a!==a||Math.floor(a)!==a){d("WALogger").LOG(k(),s(a)).color("red");return{path:[],error:"value must be an int"}}else if(a<b||a>=c){d("WALogger").LOG(j(),s(a)).color("red");return{path:[],error:"value is out of range"}}else return!1}function r(a,b,c){if(a)return void 0;else{d("WALogger").LOG(i(),s(c),b).color("red");return{path:[],error:"value is invalid"}}}function s(a){if(typeof a==="string")return'"'+a+'"';else if(Array.isArray(a))return"["+a.join(", ")+"]";else return""+a}var t=[void 0,function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return q(a,0,4294967296)},function(a){return p(a,0,m+1)},function(a){return q(a,-2147483648,2147483648)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="boolean","boolean",a)},function(a,b){return r(typeof a==="number"&&(b[a]||b.cast(a)!==void 0),"in enum",a)},function(a){return p(a,0,m+1)},function(a){return p(a,-m,m+1)},function(a){return r(typeof a==="number","number",a)},function(a){return r(typeof a==="string","string",a)},function(a){return r(a instanceof ArrayBuffer||a instanceof Uint8Array,"ArrayBuffer or Uint8Array",a)},u,function(a){return q(a,0,4294967296)},function(a){return q(a,-2147483648,2147483648)},function(a){return r(typeof a==="number","number",a)}];function u(a,b){b=d("WAProtoCompile").compileSpec(b);var c=b.names,e=b.fields,f=b.types,g=b.meta,i=b.oneofToFields,j=b.fieldToOneof,k=b.reservedTags,l=b.reservedFields,m=void 0;b=function(b){var n=c[b],o=f[b],p=a[n],q=o&d("WAProtoConst").TYPE_MASK,r=t[q],u=(o&d("WAProtoConst").TYPE_MASK)===d("WAProtoConst").TYPES.MAP;if(r===void 0&&!u)throw new Error("Can not find the validator for type "+q);if(o&(d("WAProtoConst").FLAGS.PACKED|d("WAProtoConst").FLAGS.REPEATED)&&p!=null)if(!Array.isArray(p))d("WALogger").LOG(h(),s(p)).color("red"),m={path:[n],error:"repeated field must be array"};else{q=g[b];for(o=0;o<p.length&&!m;o++)m=r(p[o],q),m&&m.path.push(n+"["+o+"]")}else if(u&&p!=null){o=g[b];q=o[0];u=o[1];o=typeof u==="object"?d("WAProtoConst").TYPES.MESSAGE:u;var v=t[q],w=t[o];if(v===void 0||w===void 0)throw new Error("Can not find the validator for Map with key type "+q+", value type "+o);for(var o=p,x=Array.isArray(o),y=0,o=x?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var z;if(x){if(y>=o.length)break;z=o[y++]}else{y=o.next();if(y.done)break;z=y.value}z=z;var A=z[0];z=z[1];m=v(A,q);if(m){m.path.push(n+"'s key ["+A+"]");return{v:m}}m=w(z,u);if(m){m.path.push(n+"["+A+"]'s value");return{v:m}}}}else if(p!=null){m=r(p,g[b]);m&&m.path.push(n);z=j[n];z&&z.forEach(function(b){var c=i[b].filter(function(a){return a!==n});c.forEach(function(c){typeof a[c]!=="undefined"&&(m={path:[b],error:"oneof '"+b+"' has fields '"+n+"' and '"+c+"' set"})})});k[e[b]]&&(m={path:[n],error:"tag "+e[b]+" is reserved"});l[n]&&(m={path:[n],error:"field "+n+" is reserved"})}};for(var n=0;n<c.length&&!m;n++){var o=b(n);if(typeof o==="object")return o.v}return m}g.checkRequirements=n;g.checkValid=a}),98);
__d("decodeProtobuf",["WABinary","WAHasProperty","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!1);d("WAProtoValidate").checkRequirements(a,b);return b}function b(a,b){b=new(d("WABinary").Binary)(b);b=n(a,b,void 0,!0);d("WAProtoValidate").checkRequirements(a,b);return b}function e(a){return c("WAHasProperty")(a,"$$unsafeUnknownFields")?a.$$unsafeUnknownFields:null}function h(a,b,c){if(a!==d("WAProtoUtils").typeToEncType(b))throw new Error("FormatError: "+c+" encoded with wire type "+a)}function i(a,b,c){switch(b){case d("WAProtoConst").TYPES.INT32:return j(c,-2147483648,2147483648,a,d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.INT64:return c.readVarInt(k);case d("WAProtoConst").TYPES.UINT32:return j(c,0,4294967296,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.UINT64:return c.readVarInt(l);case d("WAProtoConst").TYPES.SINT32:b=j(c,0,4294967296,a,d("WABinary").parseInt64OrThrow);return b&1?~(b>>>1):b>>>1;case d("WAProtoConst").TYPES.SINT64:return c.readVarInt(m);case d("WAProtoConst").TYPES.BOOL:return!!j(c,0,2,a,d("WABinary").parseUint64OrThrow);case d("WAProtoConst").TYPES.ENUM:return c.readVarInt(d("WABinary").parseInt64OrThrow);case d("WAProtoConst").TYPES.FIXED64:return c.readLong(l,!0);case d("WAProtoConst").TYPES.SFIXED64:return c.readLong(k,!0);case d("WAProtoConst").TYPES.DOUBLE:return c.readFloat64(!0);case d("WAProtoConst").TYPES.STRING:return c.readString(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.BYTES:return c.readBuffer(c.readVarInt(d("WABinary").parseUint64OrThrow));case d("WAProtoConst").TYPES.FIXED32:return c.readUint32(!0);case d("WAProtoConst").TYPES.SFIXED32:return c.readInt32(!0);case d("WAProtoConst").TYPES.FLOAT:return c.readFloat32(!0)}}function j(a,b,c,d,e){a=a.readVarInt(e);if(a<b||a>=c)throw new Error("FormatError: "+d+" encoded with out-of-range value "+a);return a}function k(a,b){var c=d("WABinary").longFitsInDouble(!0,a,b);if(c){c=o(b);return a*4294967296+c}else{c=a<0;var e;c?e=b===0?-a:~a:e=a;a=c?-b:b;return d("WAHex").createHexLongFrom32Bits(e,a,c)}}function l(a,b){var c=d("WABinary").longFitsInDouble(!1,a,b);if(c){c=o(a);var e=o(b);return c*4294967296+e}else return d("WAHex").createHexLongFrom32Bits(a,b)}function m(a,b){var c=a>>>1;a=a<<31|b>>>1;b&1&&(c=~c,a=~a);return k(c,a)}function n(a,b,c,e){var f=d("WAProtoCompile").compileSpec(a),g=f.names,k=f.fields,l=f.types,m=f.meta,o=f.oneofToFields,p=f.fieldToOneof,q=f.reservedTags,r=f.reservedFields;f=a.internalDefaults;var s=c||babelHelpers["extends"]({},f)||{};s.$$unknownFieldCount=(a=c==null?void 0:c.$$unknownFieldCount)!=null?a:0;for(f=0;f<g.length;f++)l[f]&d("WAProtoConst").FLAGS.REPEATED?s[g[f]]=[]:l[f]===(d("WAProtoConst").TYPES.MAP&d("WAProtoConst").TYPE_MASK)&&(s[g[f]]=new Map());var t=0;c=k.length>0;a=k[0];while(b.size()){f=j(b,0,4294967296,"field and enc type",d("WABinary").parseInt64OrThrow);var u=f&7,v=f>>>3;if(c&&v!==a){f=t;do++t===k.length&&(t=0),a=k[t];while(v!==a&&t!==f)}if(c&&v===a)(function(){var a=g[t],c=l[t];h(u,c,a);var f=c&d("WAProtoConst").TYPE_MASK,k=m[t];if(c&d("WAProtoConst").FLAGS.PACKED){var w=b.readVarInt(d("WABinary").parseUint64OrThrow);w=b.readBinary(w);while(w.size()){var x=i(a,f,w);(f!==d("WAProtoConst").TYPES.ENUM||k[x]||(k.cast==null?void 0:k.cast(x))!==void 0)&&s[a].push(x)}}else if(f===d("WAProtoConst").TYPES.MESSAGE){x=b.readVarInt(d("WABinary").parseUint64OrThrow);w=b.readBinary(x);if(c&d("WAProtoConst").FLAGS.REPEATED)s[a].push(n(k,w,void 0,e));else{x=s[a];s[a]=n(k,w,x,e)}}else if(f===d("WAProtoConst").TYPES.MAP){w=b.readVarInt(d("WABinary").parseUint64OrThrow);x=b.readBinary(w);var y,z;for(w=0;w<m[t].length;w++){var A=j(x,0,4294967296,"map field and enc type",d("WABinary").parseInt64OrThrow),B=A&7;A=A>>>3;var C=void 0;switch(B){case d("WAProtoConst").ENC.VARINT:C=x.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:C=x.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:B=k[w];if(B===d("WAProtoConst").TYPES.BYTES||B===d("WAProtoConst").TYPES.STRING)C=i(a,B,x);else{var D=x.readVarInt(d("WABinary").parseUint64OrThrow);D=x.readBinary(D);C=n(B,D,void 0,e)}break;case d("WAProtoConst").ENC.BIT32:C=x.readBinary(4);break}A===1?y=C:z=C}s[a].set(y,z)}else{B=i(a,f,b);(f!==d("WAProtoConst").TYPES.ENUM||k[B]||(k.cast==null?void 0:k.cast(B))!==void 0)&&(c&d("WAProtoConst").FLAGS.REPEATED?s[a].push(B):s[a]=B)}D=p[a];D&&typeof s[a]!=="undefined"&&D.forEach(function(b){b=o[b].filter(function(b){return b!==a});b.forEach(function(a){delete s[a]})});(q[v]||r[a])&&delete s[a]})();else{s.$$unknownFieldCount++;if(e){s.$$unsafeUnknownFields||(s.$$unsafeUnknownFields={});f=void 0;switch(u){case d("WAProtoConst").ENC.VARINT:f=b.readVarInt(d("WABinary").parseInt64OrThrow);break;case d("WAProtoConst").ENC.BIT64:f=b.readBinary(8);break;case d("WAProtoConst").ENC.BINARY:f=b.readBinary(b.readVarInt(d("WABinary").parseUint64OrThrow));break;case d("WAProtoConst").ENC.BIT32:f=b.readBinary(4);break}s.$$unsafeUnknownFields[v]=f}else u===d("WAProtoConst").ENC.VARINT?b.readVarInt(d("WABinary").parseInt64OrThrow):u===d("WAProtoConst").ENC.BIT64?b.advance(8):u===d("WAProtoConst").ENC.BINARY?b.advance(b.readVarInt(d("WABinary").parseUint64OrThrow)):u===d("WAProtoConst").ENC.BIT32&&b.advance(4)}}return s}function o(a){return a>=0?a:4294967296+a}g.decodeProtobuf=a;g.decodeProtobufWithUnknowns=b;g.getUnknownFields=e}),98);
__d("encodeProtobuf",["WABinary","WAHex","WAProtoCompile","WAProtoConst","WAProtoUtils","WAProtoValidate"],(function(a,b,c,d,e,f,g){"use strict";var h=void 0,i=128;function a(a,b,c){c===void 0&&(c=new(d("WABinary").Binary)());d("WAProtoValidate").checkValid(a,b);o(c,b,a);h=void 0;return c}function b(){return h!==void 0?"Last encoded value for "+h:"No information known"}function c(a,b){a.writeVarInt(b)}function e(a,b){if(typeof b==="number"&&b<4503599627370496&&b>=-4503599627370496)a.writeVarInt(b>=0?2*b:2*-b-1);else{var c=new(d("WABinary").Binary)(),e;typeof b==="number"?(e=b<0,c.writeVarInt(e?-b:b)):(e=d("WAHex").hexLongIsNegative(b),c.writeVarIntFromHexLong(e?d("WAHex").negateHexLong(b):b));b=c.peek(function(){return c.readByteArray()});var f=b.byteLength;if(e){var g=0,h;do h=b[g],b[g]=h&i|(h&127)-1&127,g++;while(b[g-1]===255)}h=e?1:0;for(g=0;g<f;g++){e=b[g];var j=e&i|(e&63)<<1|h;h=(e&64)>>6;b[g]=j}h===1&&(b[f-1]|=i,c.writeInt8(1));a.writeBinary(c)}}function f(a,b){typeof b==="number"?a.writeVarInt(b):a.writeVarIntFromHexLong(b)}function j(a,b){a.writeVarInt(d("WABinary").numUtf8Bytes(b)),a.writeString(b)}function k(a,b){a.writeVarInt(b.byteLength),a.writeBuffer(b)}function l(a,b,c){a.writeWithVarIntLength(function(a,b){return o(a,b,c)},b)}var m=[void 0,c,f,c,f,e,e,function(a,b){a.writeVarInt(b?1:0)},c,function(a,b){typeof b==="number"?a.writeUint64(b,!0):a.writeHexLong(b,!0)},function(a,b){typeof b==="number"?a.writeInt64(b,!0):a.writeHexLong(b,!0)},function(a,b){a.writeFloat64(b,!0)},j,k,l,function(a,b){a.writeUint32(b,!0)},function(a,b){a.writeInt32(b,!0)},function(a,b){a.writeFloat32(b,!0)}];f=function(a){if(a==null)return void 0;var b=a;function c(a,c){for(var d=0;d<c.length;d++)b(a,c[d])}return function(a,b){a.writeWithVarIntLength(c,b)}};var n=m.map(f);function o(a,b,c){var e=d("WAProtoCompile").compileSpec(c),f=e.names,g=e.fields,i=e.types;e=e.meta;c=c.internalDefaults;for(var j=0;j<f.length;j++){var k=f[j],l=b[k];l==null&&c&&(l=c[k]);if(l!=null){h=k;k=g[j];var o=i[j],p=o&d("WAProtoConst").TYPE_MASK,q=e[j];k=k*8|d("WAProtoUtils").typeToEncType(o);if(o&d("WAProtoConst").FLAGS.PACKED){if(l.length>0){a.writeVarInt(k);var r=n[p];r(a,l,q)}}else if(o&d("WAProtoConst").FLAGS.REPEATED)for(r=0;r<l.length;r++){a.writeVarInt(k);o=m[p];o(a,l[r],q)}else if(p===d("WAProtoConst").TYPES.MAP)for(var o=l,r=Array.isArray(o),s=0,o=r?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var t;if(r){if(s>=o.length)break;t=o[s++]}else{s=o.next();if(s.done)break;t=s.value}t=t;var u=t[0];t=t[1];a.writeVarInt(k);var v=q[0],w=q[1],x=typeof w==="object"?d("WAProtoConst").TYPES.MESSAGE:w,y=m[v],z=m[x];if(y==null||z==null)throw new Error("Invalid encoder for map key/value");var A=new(d("WABinary").Binary)(),B=1*8|d("WAProtoUtils").typeToEncType(v);A.writeVarInt(B);y(A,u,v);B=2*8|d("WAProtoUtils").typeToEncType(x);A.writeVarInt(B);z(A,t,w);a.writeVarInt(A.size());a.writeBinary(A)}else{a.writeVarInt(k);y=m[p];y(a,l,q)}}}}g.encodeProtobuf=a;g.encodeErrorInfo=b}),98);
__d("WAMediaUtils",["WACryptoDependencies","WADirectPath","WAGlobals","WALongInt","WAMediaEntryData.pb","WAProgressiveJpegGetScanLengths","WAResultOrError","WAServerMediaType","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=new Uint8Array(32);d("WACryptoDependencies").getCrypto().getRandomValues(a);return a.buffer}function i(a){return a}function a(){return h()}function j(a){return a}function k(a){return a}function b(a){return a}function e(a){return a}function f(a,b){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,b);b=a.fileSha256;var c=a.mediaKey,e=a.fileEncSha256,f=a.directPath,g=a.mediaKeyTimestamp,h=a.sidecar,i=a.objectId,j=a.fbid,l=a.serverMediaType,m=a.downloadableThumbnail,n=a.filename,o=a.progressiveJpegDetails;a=a.size;f=d("WADirectPath").validateDirectPath(f);return{fileSha256:b,mediaKey:c,fileEncSha256:e,directPath:f.success?f.value:null,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(g),sidecar:h&&k(h),objectId:i,fbid:j,downloadableThumbnail:m==null?void 0:{directPath:m.directPath,fileEncSha256:m.fileEncSha256,fileSha256:m.fileSha256,mediaKey:m.mediaKey,mediaKeyTimestamp:d("WALongInt").maybeNumberOrThrowIfTooLarge(m.mediaKeyTimestamp),objectId:m.objectId},serverMediaType:l,filename:n,progressiveJpegDetails:o&&s(o),size:a==null?void 0:d("WALongInt").numberOrThrowIfTooLarge(a)}}function l(a){var b=a.fileSha256,c=a.fileEncSha256,e=a.mediaKey,f=a.directPath,g=a.mediaKeyTimestamp,h=a.serverMediaType,i=a.objectId,j=a.fbid,k=a.downloadableThumbnail,l=a.filename,m=a.progressiveJpegDetails;a=a.size;b=d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,{fileSha256:b,fileEncSha256:c,mediaKey:e,directPath:f,mediaKeyTimestamp:g,serverMediaType:h,objectId:i,fbid:j,downloadableThumbnail:k,filename:l,progressiveJpegDetails:m,size:a});return b.readByteArray()}function m(a){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function n(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{directPath:b})).readByteArray()}function o(a,b){return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,babelHelpers["extends"]({},a,{downloadableThumbnail:babelHelpers["extends"]({},a.downloadableThumbnail,{directPath:b})})).readByteArray()}function p(a,b){a=babelHelpers["extends"]({},a,{fbid:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function q(a,b){a=babelHelpers["extends"]({},a,{objectId:b});return d("encodeProtobuf").encodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a).readByteArray()}function r(a){if(a==null)return null;a.$$unknownFieldCount;var b=a.directPath,c=a.objectId,e=babelHelpers.objectWithoutPropertiesLoose(a,["$$unknownFieldCount","directPath","objectId"]);b=d("WADirectPath").validateDirectPath(b);return babelHelpers["extends"]({},e,{directPath:b.success?b.value:null,objectId:c,mediaKey:a.mediaKey&&i(a.mediaKey),mediaKeyTimestamp:a.mediaKeyTimestamp==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(a.mediaKeyTimestamp))})}function s(a){if(a==null)return null;return a.scanLengths==null||a.sidecar==null?null:{sidecar:a.sidecar,scanLengths:a.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})}}function t(a){a=d("decodeProtobuf").decodeProtobuf(d("WAMediaEntryData.pb").MediaEntrySpec,a);var b=a.serverMediaType,c=a.mediaKey,e=a.mediaKeyTimestamp,f=a.uploadToken,g=a.downloadableThumbnail,h=a.progressiveJpegDetails,k=a.size,l=a.lastDownloadAttemptTimestamp,m=a.sidecar,n=a.directPath,o=a.objectId;a=babelHelpers.objectWithoutPropertiesLoose(a,["serverMediaType","mediaKey","mediaKeyTimestamp","uploadToken","downloadableThumbnail","progressiveJpegDetails","size","lastDownloadAttemptTimestamp","sidecar","directPath","objectId"]);var p=null;h!=null&&h.scanLengths!=null&&h.sidecar!=null&&(p={sidecar:h.sidecar,scanLengths:h.scanLengths.map(function(a){return d("WAProgressiveJpegGetScanLengths").asProgressiveJpegScanLength(d("WALongInt").numberOrThrowIfTooLarge(a))})});h=d("WADirectPath").validateDirectPath(n);return babelHelpers["extends"]({},a,{objectId:o,directPath:h.success?h.value:void 0,sidecar:m,serverMediaType:b==null?null:d("WAServerMediaType").castToServerMediaType(b),mediaKey:c&&i(c),mediaKeyTimestamp:e==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e)),uploadToken:f&&j(f),progressiveJpegDetails:p,downloadableThumbnail:g&&r(g),size:d("WALongInt").maybeNumberOrThrowIfTooLarge(k),lastDownloadAttemptTimestamp:l==null?null:d("WATimeUtils").castToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(l))})}function u(a){var b=a.directPath,c=a.fileEncSha256,e=a.fileSha256,f=a.mediaKey,g=a.serverMediaType;if(f==null)return d("WAResultOrError").makeError("media-entry-invalid-media-key");else if(b==null)return d("WAResultOrError").makeError("media-entry-invalid-direct-path");else if(c==null)return d("WAResultOrError").makeError("media-entry-invalid-file-enc-sha256");else if(e==null)return d("WAResultOrError").makeError("media-entry-invalid-file-sha256");else if(g==null)return d("WAResultOrError").makeError("media-entry-invalid-server-media-type");return d("WAResultOrError").makeResult(babelHelpers["extends"]({},a,{directPath:b,fileEncSha256:c,fileSha256:e,mediaKey:f,serverMediaType:g}))}function v(a){var b="image/jpeg";switch(a){case"image":b="image/jpeg";break;case"ptt":b="audio/wav";break;case"video":b="video/mp4";break;case"gif":b="image/gif";break;case"sticker":b="image/webp";break;case"preview":b="image/jpeg";break;case"document":b=d("WAGlobals").getConfig().isOctetStreamAttachmentMimeTypeEnabled()===!0?"application/octet-stream":"application/pdf";break;case"xma-image":b="image/jpeg";break;default:throw c("err")("Unsupported server media type: "+a)}return b}var w=function(){return"TransformStream"in self};g.createMediaKey=h;g.castToMediaKey=i;g.createUploadToken=a;g.castToUploadToken=j;g.castToStreamingSidecar=k;g.stringToDeliveryObjectId=b;g.stringToBackupEntFbid=e;g.mediaEntryDataToRawData=f;g.rawDataToMediaEntry=l;g.encodeMediaEntryForUpload=m;g.encodeMediaEntryWithUpdatedPath=n;g.encodeMediaEntryDownloadableThumbnailWithUpdatedPath=o;g.encodeMediaEntryWithUpdatedFbid=p;g.encodeMediaEntryWithUpdatedObjectId=q;g.convertMediaDownloadableThumbnailToDownloadableThumbnail=r;g.decodeMediaEntryData=t;g.validateDecodedMediaEntryForDownload=u;g.getMimeTypeFromServerMediaType=v;g.isTransformStreamSupported=w}),98);
__d("MAWDbMedia",["I64","WAMediaUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i="Image",j="Video",k="Ptt",l="Gif",m="Sticker",n="DocumentFile",o={DOCUMENT_FILE:n,GIF:l,IMAGE:i,PTT:k,STICKER:m,VIDEO:j};function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).of_float(a)}function e(a){return(h||(h=d("I64"))).to_float(a)}function f(a,b){a=a.mediaEntries.get(b);if(a==null)return d("WAResultOrError").makeError("missing-media-entry");b=d("WAMediaUtils").decodeMediaEntryData(a);a=b.serverMediaType;return a==null?d("WAResultOrError").makeError("missing-server-media-type"):d("WAResultOrError").makeResult(a)}g.IMAGE=i;g.VIDEO=j;g.PTT=k;g.GIF=l;g.STICKER=m;g.DOCUMENT_FILE=n;g.MEDIA_TYPE=o;g.convertNumberToMediaId=a;g.convertToMediaId64=b;g.convertMediaIdToMediaId64=c;g.convertMediaId64ToMediaId=e;g.getServerMediaType=f}),98);
__d("WAStanzaUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f.toStanzaId=a}),66);
__d("MAWExternalId",["I64","Random","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i=131071;function j(a){return Math.floor(c("Random").random()*a)}function a(){return d("WAStanzaUtils").toStanzaId((h||(h=d("I64"))).to_string(h.and_(h.or_(h.lsl_(h.of_float(Date.now()),22),h.and_(h.of_float(j(i)),h.of_float(i))),h.max_int)))}g.generateExternalId=a}),98);
__d("MAWFolderTypes",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;e=10;var g=15,h={ARCHIVED:e,INBOX:a,OTHER:c,PENDING:b,RESTRICTED:g,SPAM:d};f.INBOX=a;f.PENDING=b;f.OTHER=c;f.SPAM=d;f.ARCHIVED=e;f.RESTRICTED=g;f.FOLDER_ID=h}),66);
__d("MAWFrontendMediaUtils",["MAWDbMedia"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a==="image/gif")return{mediaType:d("MAWDbMedia").MEDIA_TYPE.GIF,serverMediaType:"gif"};if(a==="image/webp"&&b!==!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.STICKER,serverMediaType:"sticker"};c=(c=c)!=null?c:a.split("/")[0];switch(c){case"image":if(b===!0)return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"xma-image"};else return{mediaType:d("MAWDbMedia").MEDIA_TYPE.IMAGE,serverMediaType:"image"};case"video":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.VIDEO,serverMediaType:"video"};case"audio":return{mediaType:d("MAWDbMedia").MEDIA_TYPE.PTT,serverMediaType:"ptt"};case"application":default:return{mediaType:d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE,serverMediaType:"document"}}}g.getMediaTypeAndServerMediaTypeFromBlob=a}),98);
__d("WABlobToArrayBuffer",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(h||(h=b("Promise")))(function(b,d){var e=new FileReader();e.onload=function(){var a=e.result;a instanceof ArrayBuffer?b(a):d(c("err")("blobToArrayBuffer got error because result is not ArrayBuffer: "+typeof a))};e.onerror=function(){var a;d((a=e.error)!=null?a:c("err")("blobToArrayBuffer got unknown error"))};e.readAsArrayBuffer(a)})}g.blobToArrayBuffer=a}),98);
__d("MAWImageUtils",["Promise","WABlobToArrayBuffer","WACalculateBoundOutputSize","cr:8676","err","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="image/jpeg",j=100,k=c("justknobx")._("2338")*1024,l=c("justknobx")._("2340"),m=c("justknobx")._("2545");function n(a,d){d===void 0&&(d=!0);var e;return new(h||(h=b("Promise")))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function o(a,c,d,e){d===void 0&&(d=!1);if(a.toBlob)return new(h||(h=b("Promise")))(function(b){var d=e==null?void 0:e/100;a.toBlob(b,c,d)}).then(function(e){var f=k,g=l/100;return d&&e.size>=f?new(h||(h=b("Promise")))(function(b){a.toBlob(b,c,g)}):e});else{var f,g=(f=b("cr:8676")==null?void 0:b("cr:8676").dataURLtoBlob)!=null?f:window.dataURLtoBlob;return(h||(h=b("Promise"))).resolve(g(a.toDataURL(c))).then(function(e){var f=k,i=l/100;return d&&e.size>=f?(h||(h=b("Promise"))).resolve(g(a.toDataURL(c,i))):e})}}function a(a,e,f,g,i){return n(a).then(function(a){var b=a.naturalWidth,c=a.naturalHeight,h=d("WACalculateBoundOutputSize").calculateBoundOutputSize({height:c,width:b},i),j=h.outputHeight,k=h.outputWidth;h=document.createElement("canvas");h.width=k;h.height=j;var l=h.getContext("2d");g!==!0&&r(h);l.drawImage(a,0,0,b,c,0,0,k,j);return o(h,e,!1,f).then(function(a){return{blob:a,height:j,width:k}})})["catch"](function(a){return(h||(h=b("Promise"))).reject((a=a)!=null?a:c("err")("Error loading image from URL"))})}var p=function(a){return!c("gkx")("5179")?a.arrayBuffer():d("WABlobToArrayBuffer").blobToArrayBuffer(a)};function e(a,b){return n(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=s(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,h=c.height;q(c);f.drawImage(a,0,0,g,h);return o(c,i,!0).then(function(a){return p(a).then(function(a){return{height:h,jpegThumbnail:a,width:g}})})})}function f(a,b){return n(a).then(function(a){a=s(a.naturalHeight,a.naturalWidth,b);return{height:a.height,width:a.width}})}function q(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function r(a){var b=a.getContext("2d");b.fillStyle="rgb(255,255,255)";b.fillRect(0,0,a.width,a.height)}function s(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.round(Math.max(a,1)),width:Math.round(Math.max(b,1))}}function t(a){return n(a).then(function(a){return{height:a.naturalHeight,width:a.naturalWidth}})}g.TYPE_JPEG=i;g.IMG_THUMB_MAX_EDGE=j;g.STICKER_THUMBNAIL_MAX_SIZE=m;g.canvasToBlob=o;g.urlToFile=a;g.urlToThumbnail=e;g.urlToThumbnailSpec=f;g.boundHeightWidth=s;g.urlToImageSpec=t}),98);
__d("WAMsgType",[],(function(a,b,c,d,e,f){"use strict";a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="DocumentFile",n="ExpiredEphemeral",o="EphemeralSettingAdmin",p="EphemeralSyncResponse",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s="AlertICDC",t="GroupInvite",u="NoteReply",v="Reaction",w="SenderKeyDistribution",x="EditAction",y="ReceiverFetch",z="Raven",A="GroupPollCreate",B="GroupPollUpdate",C={ADMIN:i,CIPHERTEXT:c,DELETE_FOR_ME:q,DOCUMENT_FILE:m,EDIT_ACTION:x,EPHEMERAL_SETTING_ADMIN:o,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r,EPHEMERAL_SYNC_RESPONSE:p,EXPIRED_EPHEMERAL:n,FUTUREPROOF:b,GIF:k,GROUP_INVITE:t,ICDC_ALERT:s,IMAGE:e,PTT:h,REACTION:v,REVOKED:j,SK_DISTRIBUTION:w,STICKER:l,TEXT:a,UNAVAILABLE:d,VIDEO:g,RECEIVER_FETCH:y,RAVEN:z,GROUP_POLL_CREATE:A,GROUP_POLL_UPDATE:B};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.DOCUMENT_FILE=m;f.EXPIRED_EPHEMERAL=n;f.EPHEMERAL_SETTING_ADMIN=o;f.EPHEMERAL_SYNC_RESPONSE=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.ICDC_ALERT=s;f.GROUP_INVITE=t;f.NOTE_REPLY=u;f.REACTION=v;f.SK_DISTRIBUTION=w;f.EDIT_ACTION=x;f.RECEIVER_FETCH=y;f.RAVEN=z;f.GROUP_POLL_CREATE=A;f.GROUP_POLL_UPDATE=B;f.MSG_TYPE=C}),66);
__d("MAWMsgType",["WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return j.has(a)};b=function(a){return k.has(a)||j.has(a)};c="EphemeralScreenshotAction";e="Raven";f="RavenAction";var h="XMA",i="BumpExistingMessage";d=babelHelpers["extends"]({},d("WAMsgType").MSG_TYPE,{BUMP_EXISTING_MESSAGE:i,EPHEMERAL_SCREENSHOT_ACTION:c,RAVEN:e,RAVEN_ACTION:f,XMA:h});var j=new Set([d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.XMA,d.RAVEN,d.DOCUMENT_FILE,d.RECEIVER_FETCH]),k=new Set([d.TEXT,d.REVOKED,d.XMA,d.BUMP_EXISTING_MESSAGE]),l=new Set([d.TEXT,d.IMAGE,d.VIDEO,d.PTT,d.GIF,d.STICKER,d.DOCUMENT_FILE,d.UNAVAILABLE,d.EXPIRED_EPHEMERAL,d.REVOKED,d.XMA,d.RAVEN,d.RECEIVER_FETCH]);i=function(a){return l.has(a)};g.isMAWSupportedMediaType=a;g.isEBSupportedMsgType=b;g.EPHEMERAL_SCREENSHOT_ACTION=c;g.MSG_TYPE=d;g.mawSupportedMediaTypes=j;g.isQuotedMsgType=i}),98);
__d("MAWThreadUpdateMiddlewareGatingUtil",["MAWMsgType","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.ICDC_ALERT:case d("MAWMsgType").MSG_TYPE.SK_DISTRIBUTION:return c("gkx")("5915");case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EDIT_ACTION:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE:return c("gkx")("5916");case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:case d("MAWMsgType").MSG_TYPE.RECEIVER_FETCH:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.GROUP_INVITE:case d("MAWMsgType").MSG_TYPE.RAVEN:case d("MAWMsgType").MSG_TYPE.RAVEN_ACTION:return c("gkx")("6762");case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE:case d("MAWMsgType").MSG_TYPE.GROUP_POLL_UPDATE:return!1;default:a;return!1}}function b(){return c("gkx")("3739")}function e(){return c("gkx")("8147")}function f(){return i()}function h(){return c("gkx")("6484")}function i(){var a;return(a=c("qex")._("67"))!=null?a:!0}function j(){var a;return(a=c("qex")._("385"))!=null?a:!1}function k(){var a;return(a=c("qex")._("426"))!=null?a:!1}function l(){var a;return(a=c("qex")._("74"))!=null?a:!1}function m(){var a;return(a=c("qex")._("95"))!=null?a:!1}function n(a,b){var d,e=!1,f=e,g="none",h=g;switch(a){case"exposure_logging_disabled":f=(d=c("qex")._("987"))!=null?d:e;h=(d=c("qex")._("1223"))!=null?d:g;break;case"exposure_logging_enabled":f=(d=c("qex")._("1264"))!=null?d:e;h=(d=c("qex")._("1273"))!=null?d:g;break;default:a;return!1}switch(b){case"not_specifically_incoming_or_outgoing":case"incoming_msg":return f;case"outgoing_msg_from_HIM":return f&&h==="him";case"outgoing_msg_from_send_reporter_v1":return f&&h==="send_reporter_v1";case"outgoing_msg_from_send_reporter_v2":return f&&h==="send_reporter_v2";default:b;return!1}}g.isThreadUpdateEnabledViaMiddlewareForMsgType=a;g.isThreadUpdateEnabledViaMiddlewareForReactions=b;g.isPeristedUnbumpEnabled=e;g.isThrottledUpdatesEnabled=f;g.isFixEnabledForUnthrottlingOutgoingMsgs=h;g.isMiddlewareCacheOptimizationEnabled=j;g.isMiddlewareCacheReverseOQBatchEnabled=k;g.isMiddlewareFilterOptimisticEnabled=l;g.isMiddlewareFilterSpamEnabled=m;g.isNewMiThreadCreationFlowEnabled=n}),98);
__d("MAWThreadUtils",["LSIntEnum","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return a.threads.where("jid").equals(b).modify(c)}function b(a){a=d("WAJids").switchOnMsgrChatJidType(a,{group:function(){return(h||(h=d("LSIntEnum"))).ofNumber(16)},user:function(){return(h||(h=d("LSIntEnum"))).ofNumber(15)}});return a}g.updateThreadWithJid=a;g.getLSThreadTypeFromJid=b}),98);
__d("WACommon.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={EVERYONE:1,SILENT:2,AI:3,AI_IMAGINE:4};b={PLACEHOLDER:0,NO_PLACEHOLDER:1,IGNORE:2};c={};e={};f={};var h={};c.internalSpec={remoteJid:[1,(d=d("WAProtoConst")).TYPES.STRING],fromMe:[2,d.TYPES.BOOL],id:[3,d.TYPES.STRING],participant:[4,d.TYPES.STRING]};e.internalSpec={commandType:[1,d.TYPES.ENUM,a],offset:[2,d.TYPES.UINT32],length:[3,d.TYPES.UINT32],validationToken:[4,d.TYPES.STRING]};f.internalSpec={text:[1,d.TYPES.STRING],mentionedJid:[2,d.FLAGS.REPEATED|d.TYPES.STRING],commands:[3,d.FLAGS.REPEATED|d.TYPES.MESSAGE,e]};h.internalSpec={payload:[1,d.TYPES.BYTES],version:[2,d.TYPES.INT32]};g.COMMAND_COMMAND_TYPE=a;g.FUTURE_PROOF_BEHAVIOR=b;g.MessageKeySpec=c;g.CommandSpec=e;g.MessageTextSpec=f;g.SubProtocolSpec=h}),98);
__d("WAArmadilloXMA.pb",["WACommon.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){var h;a={INFO:0,EYE_OFF:1,NEWS_OFF:2,WARNING:3,PRIVATE:4,NONE:5,MEDIA_LABEL:6,POST_COVER:7,POST_LABEL:8,WARNING_SCREENS:9};b={OPEN_NATIVE:11};c={SINGLE:0,HSCROLL:1,PORTRAIT:3,STANDARD_DXMA:12,LIST_DXMA:15,GRID:16};e={UNSUPPORTED:-1,IG_STORY_PHOTO_MENTION:4,IG_SINGLE_IMAGE_POST_SHARE:9,IG_MULTIPOST_SHARE:10,IG_SINGLE_VIDEO_POST_SHARE:11,IG_STORY_PHOTO_SHARE:12,IG_STORY_VIDEO_SHARE:13,IG_CLIPS_SHARE:14,IG_IGTV_SHARE:15,IG_SHOP_SHARE:16,IG_PROFILE_SHARE:19,IG_STORY_PHOTO_HIGHLIGHT_SHARE:20,IG_STORY_VIDEO_HIGHLIGHT_SHARE:21,IG_STORY_REPLY:22,IG_STORY_REACTION:23,IG_STORY_VIDEO_MENTION:24,IG_STORY_HIGHLIGHT_REPLY:25,IG_STORY_HIGHLIGHT_REACTION:26,IG_EXTERNAL_LINK:27,IG_RECEIVER_FETCH:28,FB_FEED_SHARE:1e3,FB_STORY_REPLY:1001,FB_STORY_SHARE:1002,FB_STORY_MENTION:1003,FB_FEED_VIDEO_SHARE:1004,FB_GAMING_CUSTOM_UPDATE:1005,FB_PRODUCER_STORY_REPLY:1006,FB_EVENT:1007,FB_FEED_POST_PRIVATE_REPLY:1008,FB_SHORT:1009,FB_COMMENT_MENTION_SHARE:1010,FB_POST_MENTION:1011,MSG_EXTERNAL_LINK_SHARE:2e3,MSG_P2P_PAYMENT:2001,MSG_LOCATION_SHARING:2002,MSG_LOCATION_SHARING_V2:2003,MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:2004,MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:2005,MSG_RECEIVER_FETCH:2006,MSG_IG_MEDIA_SHARE:2007,MSG_GEN_AI_SEARCH_PLUGIN_RESPONSE:2008,MSG_REELS_LIST:2009,MSG_CONTACT:2010,MSG_THREADS_POST_SHARE:2011,MSG_FILE:2012,MSG_AVATAR_DETAILS:2013,MSG_AI_CONTACT:2014,MSG_MEMORIES_SHARE:2015,MSG_SHARED_ALBUM_REPLY:2016,MSG_SHARED_ALBUM:2017,MSG_OCCAMADILLO_XMA:2018,MSG_GEN_AI_SUBSCRIPTION:2021,MSG_GEN_AI_REMINDER:2022,MSG_GEN_AI_MEMU_ONBOARDING_RESPONSE:2023,MSG_NOTE_REPLY:2024,MSG_NOTE_MENTION:2025,RTC_AUDIO_CALL:3e3,RTC_VIDEO_CALL:3001,RTC_MISSED_AUDIO_CALL:3002,RTC_MISSED_VIDEO_CALL:3003,RTC_GROUP_AUDIO_CALL:3004,RTC_GROUP_VIDEO_CALL:3005,RTC_MISSED_GROUP_AUDIO_CALL:3006,RTC_MISSED_GROUP_VIDEO_CALL:3007,RTC_ONGOING_AUDIO_CALL:3008,RTC_ONGOING_VIDEO_CALL:3009,DATACLASS_SENDER_COPY:4e3};f={};var i={};f.internalSpec={associatedMessage:[1,(h=d("WAProtoConst")).TYPES.MESSAGE,(d=d("WACommon.pb")).SubProtocolSpec],targetType:[2,h.TYPES.ENUM,e],targetUsername:[3,h.TYPES.STRING],targetId:[4,h.TYPES.STRING],targetExpiringAtSec:[5,h.TYPES.INT64],xmaLayoutType:[6,h.TYPES.ENUM,c],ctas:[7,h.FLAGS.REPEATED|h.TYPES.MESSAGE,i],previews:[8,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.SubProtocolSpec],titleText:[9,h.TYPES.STRING],subtitleText:[10,h.TYPES.STRING],maxTitleNumOfLines:[11,h.TYPES.UINT32],maxSubtitleNumOfLines:[12,h.TYPES.UINT32],favicon:[13,h.TYPES.MESSAGE,d.SubProtocolSpec],headerImage:[14,h.TYPES.MESSAGE,d.SubProtocolSpec],headerTitle:[15,h.TYPES.STRING],overlayIconGlyph:[16,h.TYPES.ENUM,a],overlayTitle:[17,h.TYPES.STRING],overlayDescription:[18,h.TYPES.STRING],sentWithMessageId:[19,h.TYPES.STRING],messageText:[20,h.TYPES.STRING],headerSubtitle:[21,h.TYPES.STRING],xmaDataclass:[22,h.TYPES.STRING],contentRef:[23,h.TYPES.STRING],mentionedJid:[24,h.FLAGS.REPEATED|h.TYPES.STRING],commands:[25,h.FLAGS.REPEATED|h.TYPES.MESSAGE,d.CommandSpec]};i.internalSpec={buttonType:[1,h.TYPES.ENUM,b],title:[2,h.TYPES.STRING],actionUrl:[3,h.TYPES.STRING],nativeUrl:[4,h.TYPES.STRING],ctaType:[5,h.TYPES.STRING],actionContentBlob:[6,h.TYPES.STRING]};g.EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH=a;g.EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE=b;g.EXTENDED_CONTENT_MESSAGE_XMA_LAYOUT_TYPE=c;g.EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE=e;g.ExtendedContentMessageSpec=f;g.ExtendedContentMessage$CTASpec=i}),98);
__d("MAWXMAUtils",["I64","LSIntEnum","LSXmaContentType","MAWMsgType","WAArmadilloXMA.pb","WALogger","WATimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Hit Unreachable XMAType "," - checking isXMAShare"]);j=function(){return a};return a}function a(a){return!a||a.type!==d("MAWMsgType").MSG_TYPE.XMA?null:a}function b(a){if(a==null)return!1;switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_LOCAL_EVENT_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION:return c("gkx")("4247");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION:return!0;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING_V2:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_LOCATION_SHARING:return c("gkx")("6952");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT:return c("gkx")("4902");case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_IGTV_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SHOP_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_GAMING_CUSTOM_UPDATE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_EVENT:return!1;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:d("WALogger").ERROR(j(),a);return!1}}function e(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_SHARE))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_MENTION))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_PRODUCER_STORY_REPLY)))}function f(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function k(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE}function l(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH}function m(a){return a==null?!1:a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE}function n(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_POST_PRIVATE_REPLY}function o(a,b){return a!=null&&a||b!=null&&b<d("WATimeUtils").unixTime()}function p(a){a=a.ctas;a!=null&&(a=a.filter(function(a){return a.buttonType!==d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE}));return a}function q(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function r(a){return babelHelpers["extends"]({},a,{ctas:void 0,defaultCTA:void 0,defaultPreviewMediaId:void 0,faviconMediaId:void 0,headerMediaId:void 0,headerTitle:void 0,isTombstoned:!0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,overlayDescription:void 0,overlayIconGlyph:void 0,overlayTitle:void 0,previewMediaIds:void 0,subtitleText:void 0,targetId:void 0,targetUsername:void 0,titleText:void 0})}function s(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY:return!0;default:return!1}}function t(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_PRODUCER_STORY_REPLY}function u(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION}function v(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_MENTION?!0:!1}function w(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_POST_MENTION}function x(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return!0;default:return!1}}function y(a){return v(a)||x(a)}function z(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE}function A(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE||a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE}function B(a){return a===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_HIGHLIGHTS_TAB_FRIEND_UPDATES_REPLY}function C(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_GROUP_VIDEO_CALL:return!0;default:return!1}}g.maybeXMAMessage=a;g.isXMAShare=b;g.isXMAFBStory=e;g.isXMAStoryShare=f;g.isXMAExternalLinkShare=k;g.isReceiverFetchXMA=l;g.isIGXMAStoryShare=m;g.isXMAPostPrivateReply=n;g.isXMAExpired=o;g.removeCTAsForStoryMentionXMA=p;g.buildUnstoredTombstonedXMA=q;g.buildTombstonedDbXMA=r;g.isXMAStoryReply=s;g.isXMAStoryProducerReply=t;g.isXMAStoryReaction=u;g.isFBXMAStoryMention=v;g.isFBXMAPostMention=w;g.isIGXMAStoryMention=x;g.isXMAStoryMention=y;g.isIGXMAPostShare=z;g.isXMAStoryHighlightShare=A;g.isXMAMsgHighlightsTabFriendUpdatesReply=B;g.isRtcXMA=C}),98);
__d("MWLSThreadDisplayContext",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.value;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWLSThreadDisplayContextProvider=a;g.useMWLSThreadDisplayContext=b}),98);
__d("WAWebDataUrlToBlob",["err"],(function(a,b,c,d,e,f,g){var h=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;function a(a){var b=a.match(h);if(!b)throw c("err")("invalid data URI");var d=b[2]?b[1]:"text/plain"+(b[3]||";charset=US-ASCII"),e=!!b[4];a=a.slice(b[0].length);e?b=atob(a):b=decodeURIComponent(a);e=new ArrayBuffer(b.length);a=new Uint8Array(e);for(e=0;e<b.length;e+=1)a[e]=b.charCodeAt(e);return new Blob([a],{type:d})}g.dataURLtoBlob=a}),98);/*FB_PKG_DELIM*/
__d("BaseInfiniteScrollList.old.react",["BaseScrollableAreaContext","CometDialogContext","CometInfiniteScrollTrigger.react","CometScrollableArea.react","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(28);if(b[0]!==a){var e=a.forceBrowserDefault,f=a.items,g=a.loadingIndicator;a.nextFocusableElementRef;var h=a.onScroll,k=a.onScrollBottom,l=a.onScrollTop;a.prevFocusableElementRef;var m=a.renderItem,n=a.role,o=a.testid,p=a.xstyle,q=babelHelpers.objectWithoutPropertiesLoose(a,["forceBrowserDefault","items","loadingIndicator","nextFocusableElementRef","onScroll","onScrollBottom","onScrollTop","prevFocusableElementRef","renderItem","role","testid","xstyle"]);e=e;f=f;g=g;h=h;k=k;l=l;m=m;n=n;o=o;p=p;q=q;b[0]=a;b[1]=e;b[2]=f;b[3]=g;b[4]=h;b[5]=k;b[6]=l;b[7]=m;b[8]=n;b[9]=o;b[10]=q;b[11]=p}else e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],q=b[10],p=b[11];a=j(c("CometDialogContext"));var r=j(c("BaseScrollableAreaContext"));a==null&&r.length>0&&c("FBLogger")("comet_ui").blameToPreviousFrame().warn("For XPlat React compatibility, BaseInfiniteScrollList should not be nested inside scrollable containers such as BaseScrollableArea with the same orientation. It may cause unexpected behaviors and break infinite scroll in React Native platforms.");b[12]!==f||b[13]!==m?(a=f.map(m),b[12]=f,b[13]=m,b[14]=a):a=b[14];b[15]!==g||b[16]!==q?(r=i.jsx(c("CometInfiniteScrollTrigger.react"),babelHelpers["extends"]({},q,{children:g})),b[15]=g,b[16]=q,b[17]=r):r=b[17];b[18]!==e||b[19]!==h||b[20]!==k||b[21]!==l||b[22]!==n||b[23]!==a||b[24]!==r||b[25]!==o||b[26]!==p?(f=i.jsxs(c("CometScrollableArea.react"),{forceBrowserDefault:e,horizontal:!1,onScroll:h,onScrollBottom:k,onScrollTop:l,role:n,testid:void 0,xstyle:p,children:[a,r]}),b[18]=e,b[19]=h,b[20]=k,b[21]=l,b[22]=n,b[23]=a,b[24]=r,b[25]=o,b[26]=p,b[27]=f):f=b[27];return f}g["default"]=a}),98);
__d("BaseInfiniteScrollList.react",["cr:5501","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(2),e;c[0]!==a?(e=i.jsx(b("cr:5501"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}g["default"]=a}),98);
__d("CometMessagingJewelCommunitiesQPBannerContainerPassthroughQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6488000047956149"}),null);
__d("FBIconAppFacebookCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"M103.5 917a5.997 5.997 0 0 0-1.45 11.817v-3.984h-1.238V923h1.239v-.79c0-2.042.924-2.988 2.927-2.988.38 0 1.035.075 1.303.149v1.661a7.953 7.953 0 0 0-.693-.022c-.984 0-1.363.373-1.363 1.342V923h1.96l-.335 1.833h-1.623v4.119A5.997 5.997 0 0 0 103.5 917",transform:"translate(-450 -1073) translate(352.5 156.5)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSRestrictedAccountsPlusIcon",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("483772"),20);g["default"]=a}),98);
__d("LSClearDiscoverableChatsParticipantsAndRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(248).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(249).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearDiscoverableChatsParticipantsAndRangesStoredProcedure";a.__tables__=["discoverable_chat_participants","discoverable_chat_participants_ranges_v2__generated"];e.exports=a}),null);
__d("LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure",["LSClearDiscoverableChatsParticipantsAndRanges","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSClearDiscoverableChatsParticipantsAndRanges"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpsertDiscoverableChatsParticipantsRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(249).put({threadId:a[0],minName:"",source:a[4],maxName:a[5],isLoadingBefore:!1,isLoadingAfter:a[2],hasMoreBefore:!1,hasMoreAfter:a[1],nextPageCursor:a[3]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertDiscoverableChatsParticipantsRangesStoredProcedure";a.__tables__=["discoverable_chat_participants_ranges_v2__generated"];e.exports=a}),null);
__d("LSFetchDiscoverableChatParticipants",["LSIssueNewTask","LSUpsertDiscoverableChatsParticipantsRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(d){return c.storedProcedure(b("LSUpsertDiscoverableChatsParticipantsRanges"),a[0],!1,!0,"",a[2],a[3])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[2]=d[6])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("cursor",a[1]),d[4].set("source",a[2]),d[4].set("sync_group",d[2]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"fetch_discoverable_chat_participant_list",c.i64.cast([0,110006]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchDiscoverableChatParticipantsStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSFetchDiscoverableChatParticipantsStoredProcedure",["LSFetchDiscoverableChatParticipants","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchDiscoverableChatParticipants"),e.threadKey,e.cursor,e.source,e.maxName);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateMessageSearchQueryStatus",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(70).put({query:a[0],type_:a[1],threadKeyV2:a[5]==null?b.i64.cast([0,0]):a[5],status:a[2],hasNextPage:a[3],nextPageCursor:a[4],resultCount:a[6]})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSSearchUpdateMessageSearchQueryStatusStoredProcedure";a.__tables__=["message_search_queries"];e.exports=a}),null);
__d("LSIssueMessageSearchQuery",["LSIssueNewTask","LSUpdateMessageSearchQueryStatus"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSUpdateMessageSearchQueryStatus"),a[0],a[1],c.i64.cast([0,1]),void 0,a[3],a[2],c.i64.cast([0,0]))},function(e){return d[0]=new c.Map(),d[0].set("query",a[0]),d[0].set("type",a[1]),d[0].set("thread_key",a[2]),d[0].set("next_page_cursor",a[3]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"message_search",c.i64.cast([0,107]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSSearchIssueMessageSearchQueryStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueMessageSearchQueryStoredProcedure",["LSIssueMessageSearchQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueMessageSearchQuery"),e.query,e.type_,e.threadKey,e.nextPageCursor);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWCutoverQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={instanceKey:0,isInProgress:!1};function a(a){h.isInProgress&&c("QPLUserFlow").endCancel(c("qpl")._(1056840990,"2431"),{instanceKey:h.instanceKey});c("QPLUserFlow").start(c("qpl")._(1056840990,"2431"),{annotations:{bool:{is_dtc:a}},instanceKey:++h.instanceKey,timeoutInMs:1e4});h.isInProgress=!0;return h.instanceKey}function b(a,b,d){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(1056840990,"2431"),b,babelHelpers["extends"]({instanceKey:a},d))}function d(a,b){if(a==null)return;c("QPLUserFlow").addAnnotations(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}function e(a){if(a==null)return;h.isInProgress=!1;c("QPLUserFlow").endSuccess(c("qpl")._(1056840990,"2431"),{instanceKey:a})}function f(a,b){if(a==null)return;c("QPLUserFlow").endFailure(c("qpl")._(1056840990,"2431"),b,{instanceKey:a})}g.startQpl=a;g.addPoint=b;g.addAnnotations=d;g.endSuccess=e;g.endFailure=f}),98);
__d("MAWFTSMergeCutoverSearchResults",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var c,e;c=(i||(i=d("I64"))).add((c=a.matchCount)!=null?c:(i||(i=d("I64"))).of_string("1"),(c=b.matchCount)!=null?c:(i||(i=d("I64"))).of_string("1"));b=i.max((e=a.messageTimestampMs)!=null?e:(i||(i=d("I64"))).minus_one,(e=b.messageTimestampMs)!=null?e:(i||(i=d("I64"))).minus_one);return babelHelpers["extends"]({},a,{contextLine:h._(/*BTDS*/"__JHASH__MOcENwPdyTO__JHASH__",[h._plural(i.to_int32(c),"number")]).toString(),matchCount:c,matchLengths:void 0,matchOffsets:void 0,messageId:void 0,messageTimestampMs:(i||(i=d("I64"))).equal(b,(i||(i=d("I64"))).minus_one)?void 0:b})}g.mergeCutoverSearchResults=a}),226);
__d("MAWFTSUniversalSearchQPLLogger",["QPLUserFlow","emptyFunction","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={hasStarted:!1,instanceKey:5e3},i=c("qpl")._(25301522,"2409");function a(){h.hasStarted&&j();h.instanceKey++;h.hasStarted=!0;c("QPLUserFlow").start(i,{annotations:{bool:{isInThread:!1}},instanceKey:h.instanceKey});return h.instanceKey}function j(a){if(!h.hasStarted||a!=null&&h.instanceKey!==a)return;h.hasStarted=!1;c("QPLUserFlow").endCancel(i,{instanceKey:h.instanceKey})}function b(a){var b=a.annotations,d=a.instanceKey;a=a.point;if(!h.hasStarted||d!=null&&h.instanceKey!==d)return;c("QPLUserFlow").addPoint(i,a,{instanceKey:h.instanceKey});b!=null&&k({annotations:b,instanceKey:h.instanceKey})}function k(a){var b=a.annotations;a=a.instanceKey;if(!h.hasStarted||a!=null&&h.instanceKey!==a)return;c("QPLUserFlow").addAnnotations(i,b,{instanceKey:h.instanceKey})}function d(a){if(!h.hasStarted||a!=null&&h.instanceKey!==a)return;h.hasStarted=!1;c("QPLUserFlow").endSuccess(i,{annotations:{"int":{result_count:h.currentResultCount}},instanceKey:h.instanceKey})}e={getCurrentInstanceKey:function(){return h.instanceKey},qplAddAnnotations:k,qplAddPoint:b,qplCancel:j,qplMarkFirstResultShowUp:c("emptyFunction"),qplStart:a,qplSuccess:d,updateCurrentResultCount:c("emptyFunction")};f=e;g["default"]=f}),98);
__d("MWContentSearchUtils",["fbt","I64","LSIntEnum","LSMessageSearchType","MAWVault","escapeRegExp","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=c("gkx")("1798");function l(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function m(a,b){a=l(a).split(" ");var d=l(b),e=[],f=[];a.forEach(function(a){var b=new RegExp(c("escapeRegExp")(a),"gi");b=d.matchAll(b);b=Array.from(b);b=b.map(function(a){return a.index});var g=b.map(function(b){return a.length});f.push.apply(f,b);e.push.apply(e,g)});return{matchLengths:e.join(","),matchOffsets:f.join(",")}}function a(a,b,e,f){if(e!=null&&(b===1||(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE)))){f=d("MAWVault").isVaulted(e)?d("MAWVault").unvault(e):e;e=m(a,f);return babelHelpers["extends"]({contextLine:f},e)}else return{contextLine:h._(/*BTDS*/"__JHASH__MOcENwPdyTO__JHASH__",[h._plural(b,"number")]).toString(),matchLengths:void 0,matchOffsets:void 0}}function b(a,b){return a===1&&b!=null?b:void 0}function e(a,b){return a===1&&b!=null?b:void 0}function f(a){return a!=null?(i||(i=d("I64"))).of_float(a):void 0}function n(a,b){a=(i||(i=d("I64"))).of_float(-a);return b==null?a:i.min(a,b)}function o(a,b){if(!k||a.messageTimestampMs==null||b.messageTimestampMs==null)if((i||(i=d("I64"))).gt(a.globalIndex,b.globalIndex))return 1;else if((i||(i=d("I64"))).lt(a.globalIndex,b.globalIndex))return-1;else return 0;else if((i||(i=d("I64"))).lt(a.messageTimestampMs,b.messageTimestampMs))return 1;else if((i||(i=d("I64"))).gt(a.messageTimestampMs,b.messageTimestampMs))return-1;else return 0}g.getContextLineAndMatches=a;g.getMessageOtid=b;g.getMessageId=e;g.getMessageTimestamp=f;g.getGlobalIndex=n;g.searchResultsCompareFn=o}),226);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("MAWUniversalMessageSearch",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSMessagingThreadTypeUtil","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWFTSMergeCutoverSearchResults","MAWFTSUniversalSearchQPLLogger","MAWMsgType","MWContentSearchUtils","MWSearchThreadUtils","Promise","ReQL","WAJids","asyncToGeneratorRuntime","groupBy","promiseDone","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),l=new Map(),m=c("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MAWUniversalMessageSearch");function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){yield a.message_search_queries.put(babelHelpers["extends"]({hasNextPage:!1,query:b,threadKeyV2:(j||(j=d("I64"))).one,type_:k},c))});return o.apply(this,arguments)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(j||(j=d("I64"))).to_string(b.threadKey);b.matchCount!=null&&l.set(c,(j||(j=d("I64"))).to_float(b.matchCount));c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.message_search_results).getKeyRange(k,b.query,b.threadKey)));if(c==null)yield a.message_search_results.put(babelHelpers["extends"]({},b));else{var e=d("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(c,b);yield a.message_search_results.upsert([k,c.query,c.threadKey,c.globalIndex],babelHelpers["extends"]({},e,{globalIndex:b.globalIndex}))}});return q.apply(this,arguments)}function a(a,b){var c;c=(c=l.get((j||(j=d("I64"))).to_string(a)))!=null?c:0;c+=b;l.set((j||(j=d("I64"))).to_string(a),c)}function e(){l.clear()}function r(a,b){return!d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)?null:(b=l.get((j||(j=d("I64"))).to_string(a)))!=null?b:null}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g){l.clear();yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield n(a,g,{resultCount:(j||(j=d("I64"))).zero,status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":144");c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"search_local_result_start"});var o=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:g,searchMode:d("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}));o=o.map(function(a){if(a.recordType==="msg"){a.matchedTerms;a.recordType;a=babelHelpers.objectWithoutPropertiesLoose(a,["matchedTerms","recordType"]);return babelHelpers["extends"]({},a)}}).filter(Boolean);o=c("groupBy")(o,function(a){return a.chatJid});var q=Object.values(o);c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{"int":{numResult:q.length}},point:"search_local_result_end"});c("promiseDone")((h||(h=b("Promise"))).all(q.map(function(){var h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(h,i){var l=h[0].chatJid;yield c("waitForMiActMappingForUniversalSearch")(a,l);var n=(yield d("MWSearchThreadUtils").getThreadDataForSearchResult(a,l,e,k));if(n==null)return;var o=n.profilePicUrl,q=n.secondaryProfilePicUrl,r=n.threadDisplayName,s=n.threadKey;n=n.threadType;var t=h.sort(function(a,b){return b.sortOrderMs-a.sortOrderMs})[0],u=h.length===1&&t.msg==null?{id:t.externalId,sortOrderMs:t.sortOrderMs}:null,v={displayName:r,globalIndex:d("MWContentSearchUtils").getGlobalIndex(t.sortOrderMs),matchCount:(j||(j=d("I64"))).of_int32(h.length),profilePicUrl:o,query:g,secondaryProfilePicUrl:q,threadKey:s,threadType:n,type_:k};if(u==null)yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield p(a,babelHelpers["extends"]({},v,d("MWContentSearchUtils").getContextLineAndMatches(g,h.length,t==null?void 0:(a=t.msg)==null?void 0:a.content,k),{messageId:d("MWContentSearchUtils").getMessageId(h.length,t==null?void 0:(a=t.msg)==null?void 0:a.msgId),messageOtid:d("MWContentSearchUtils").getMessageOtid(h.length,t==null?void 0:t.externalId),messageTimestampMs:d("MWContentSearchUtils").getMessageTimestamp(t==null?void 0:t.sortOrderMs)}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":245");else{c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+i+"_start"});r=(yield m.load().then(function(b){b=b.issueQueryAsPromiseForSearchResult;return b(a,d("WAJids").threadIdForChatJid(l),[u])}));if((r==null?void 0:r.messages.length)!==0){var w=r==null?void 0:r.messages[0];c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({point:"fetch_missing_message_"+i+"_end"});w!=null&&w.type===d("MAWMsgType").MSG_TYPE.TEXT&&(w==null?void 0:(o=w.msgContent)==null?void 0:o.content)!=null&&w.sortOrderMs!=null&&(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield p(a,babelHelpers["extends"]({},v,d("MWContentSearchUtils").getContextLineAndMatches(g,h.length,t==null?void 0:(a=t.msg)==null?void 0:a.content,k),{messageOtid:w.externalId,messageTimestampMs:w.sortOrderMs!=null?(j||(j=d("I64"))).of_float(w.sortOrderMs):void 0}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":292"))}else c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{bool:{failedFetchingMissingMessage:!0}},point:"fetch_missing_message_"+i+"_end"})}});return function(a,b){return h.apply(this,arguments)}}())),function(){c("MAWFTSUniversalSearchQPLLogger").qplAddPoint({annotations:{"int":{numResult:q.length}},point:"issue_secure_search_query_end"}),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield n(a,g,{hasNextPage:!1,resultCount:(j||(j=d("I64"))).of_int32(q.length),status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").COMPLETE)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":333"))},function(a){c("FBLogger")("maw_fts_search").mustfix("Error while searching in secure threads. Err: %s",a==null?void 0:a.message)})});return t.apply(this,arguments)}g.updateSecureMsgMatchCountForThread=a;g.clearSecureMsgMatchCountForThread=e;g.getSecureMsgsMatchCountForThread=r;g.search=s}),98);
__d("MDSInfiniteScrollList.react",["BaseInfiniteScrollList.react","MDSScrollableAreaStyles","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,f;b[0]!==a?(f=a.xstyle,e=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==f?(a=[c("MDSScrollableAreaStyles").unthemed,f],b[3]=f,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(f=i.jsx(c("BaseInfiniteScrollList.react"),babelHelpers["extends"]({forceBrowserDefault:!0,xstyle:a},e)),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("MWDialogTextPairing.react",["MWDialogContentTypeValues","MWXTextPairing.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);c("vulture")("aj3LT3QT0Qd");var e;b[0]!==a?(e=i.jsx(c("MWXTextPairing.react"),babelHelpers["extends"]({},a,{level:d("MWDialogContentTypeValues").textPairingLevel})),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWGroupMembershipListItem",["I64","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h,i={BroadcastChannelParticipant:"broadcastChannelParticipantType",CommunityMember:"communityMemberType",ParticipantAndContact:"participantAndContactType",ServerSearchResult:"serverSearchResultType"};function a(a){if(a.type===i.ParticipantAndContact)return a.participant.isAdmin;if(a.type===i.CommunityMember)return a.communityMember.isAdmin;return a.type===i.BroadcastChannelParticipant?a.participant.isAdmin:!1}function b(a){if(a.type===i.ParticipantAndContact)return a.participant.isModerator;return a.type===i.CommunityMember?a.communityMember.isModerator:!1}function e(a){return a.type===i.CommunityMember?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,a.communityMember):!1}function f(a){if(a.type===i.ParticipantAndContact)return a.contact.id;if(a.type===i.CommunityMember)return a.communityMember.contactId;return a.type===i.BroadcastChannelParticipant?a.participant.contactId:(h||(h=d("I64"))).of_string(a.serverSearchResult.resultId)}g.MWGroupMembershipMemberTypes=i;g.isAdmin=a;g.isModerator=b;g.isHost=e;g.contactId=f}),98);
__d("MWGroupMembershipListItemWrapper",["MWGroupMembershipListItem"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.tag){case"ParticipantAndContact":return{contact:a.value[1],participant:a.value[0],type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact};case"CommunityMember":return{communityMember:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember};case"ServerSearchResult":return{serverSearchResult:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult};case"BroadcastChannelParticipant":return{participant:a.value,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.BroadcastChannelParticipant}}}g.tToRE=a}),98);
__d("MWInboxMessageSearchPanelHeader.react",["fbt","MWResponsiveLayoutConstants","MWResponsiveLayoutContext.react","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext;function a(a){var b=d("react-compiler-runtime").c(13),e=a.onReturn;a=a.titleComponent;var f=k(c("MWResponsiveLayoutContext.react")),g;b[0]!==f||b[1]!==e?(g=function(){e(),f==null?void 0:f.popCard(d("MWResponsiveLayoutConstants").MWLayoutPanel.INFO_PANEL)},b[0]=f,b[1]=e,b[2]=g):g=b[2];g=g;var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"__JHASH__wSyF3E_Fmrl__JHASH__"),b[3]=i):i=b[3];b[4]!==g?(i=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:i,onPress:g,size:32,type:"deemphasized"})}),b[4]=g,b[5]=i):i=b[5];b[6]!==a?(g=a!=null?a:j.jsx(c("MWXText.react"),{type:"bodyLink2",children:h._(/*BTDS*/"__JHASH__pNtZGTdyKvp__JHASH__")}),b[6]=a,b[7]=g):g=b[7];b[8]!==g?(a=j.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:g}),b[8]=g,b[9]=a):a=b[9];b[10]!==i||b[11]!==a?(g=j.jsxs(c("MWXRow.react"),{paddingHorizontal:16,paddingTop:16,spacingHorizontal:8,children:[i,a]}),b[10]=i,b[11]=a,b[12]=g):g=b[12];return g}g["default"]=a}),226);
__d("isEBSearchEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4801")}g["default"]=a}),98);
__d("MWInboxSecureContentSearch",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSearchMsg","MAWBridgeSendAndReceive","MAWChatJid","MAWFTSMergeCutoverSearchResults","MAWMiActOnActThreadReadyDeferred","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","Promise","ReQL","WAJids","asyncToGeneratorRuntime","emptyFunction","groupBy","isEBSearchEnabled","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("JSResourceForInteraction")("MAWAsyncEBIssueBulkMessagesPointQuery").__setRef("MWInboxSecureContentSearch"),l=c("justknobx")._("2605");function a(a,c,e){return(j||(j=b("Promise"))).all([d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants,[]).getKeyRange(a),d("ReQL").fromTableAscending(e.tables.contacts)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a))]).then(function(a){var b=a[0];a[1];a=b.filter(function(a){a[0];a=a[1];a=(h||(h=d("I64"))).equal(a.id,c);return!a}).map(function(a){a[0];a=a[1];return a});return d("ReQL").firstAsync(a)})}function m(a,c){return d("MAWChatJid").toThreadKeyMaybe(c,a.chatJid).then(function(e){return e==null?(j||(j=b("Promise"))).resolve([null,a]):(j||(j=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.threads).getKeyRange(e)),j.resolve(a)])})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b))));return a});return o.apply(this,arguments)}function p(a,b){var e=b.query;b=b.threadKey;return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.message_search_results).getKeyRange((i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),e,b))}function q(a,e,g,k,l,o,q,r){r===void 0&&(r=c("LSSearchRequestStatusType").COMPLETE);var s=function(f){return m(a,f).then(function(a){var m=a[0];if(m==null)return;var q=a[1],s=q.msg;if(s==null)return;if(q!=null)return(j||(j=b("Promise"))).all([d("MWSearchThreadUtils").getThreadPics(m,l,o),d("MWSearchThreadUtils").getThreadParticipants(m,o),(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))?n(o,s.sender):(j||(j=b("Promise"))).resolve(null),(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))?p(f,{query:g,threadKey:m.threadKey}):(j||(j=b("Promise"))).resolve(null)]).then(function(a){var n=a[0],o=n[0];n=n[1];var p=a[1],t=a[2];a=a[3];(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))&&d("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(m.threadKey,e);p=babelHelpers["extends"]({},d("MWContentSearchUtils").getContextLineAndMatches(g,e,s.content,k),{displayName:d("MWSearchThreadUtils").getThreadDisplayName(l,m,p,t,k),globalIndex:(h||(h=d("I64"))).of_float(-q.sortOrderMs),matchCount:h.of_int32(e),messageId:s.msgId,messageOtid:q.externalId,messageTimestampMs:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))&&e>1?void 0:(h||(h=d("I64"))).of_string(""+q.sortOrderMs),profilePicUrl:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&t!=null?t.profilePictureUrl:o,query:g,secondaryProfilePicUrl:(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE))&&t!=null?t.profilePictureFallbackUrl:n,threadKey:m.threadKey,threadType:m.threadType,type_:k});if((h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD))||a==null)o=f.message_search_results.put(p);else{t=d("MAWFTSMergeCutoverSearchResults").mergeCutoverSearchResults(a,p);o=f.message_search_results.upsert([k,a.query,a.threadKey,a.globalIndex],babelHelpers["extends"]({},t,{globalIndex:p.globalIndex}))}return(j||(j=b("Promise"))).all([f.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:g,resultCount:h.of_int32(e),status:(i||(i=d("LSIntEnum"))).ofNumber(r),threadKeyV2:m.threadKey,type_:k}),o]).then(c("emptyFunction"))})})};return q!=null?s(q):o.runInTransaction(function(a){return s(a)},"readwrite",void 0,void 0,f.id+":294")}function r(a,b,c,d){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){f!=null&&f.flow.qplAddPoint({instanceKey:f.instanceKey,point:"search_local_result_start"});c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{query:c,searchMode:d("MAWBridgeSearchMsg").MESSAGE_CONTENT_SEARCH}));return(j||(j=b("Promise"))).all(c.map(function(b){if(b.recordType==="msg"){b.matchedTerms;b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["matchedTerms","recordType"]);return d("MAWChatJid").toThreadKeyMaybe(a.tables,c.chatJid).then(function(a){return[c,a]})}}).filter(Boolean)).then(function(a){a=e!=null?a.filter(function(a){a[0];a=a[1];return a!=null&&(h||(h=d("I64"))).equal(a,e)}):a.filter(function(a){a[0];a=a[1];return a!=null});var b=null;e!=null&&(b={"int":{numResult:a.length}});f!=null&&f.flow.qplAddPoint({annotations:babelHelpers["extends"]({},b),instanceKey:f.instanceKey,point:"search_local_result_end"});return a})});return s.apply(this,arguments)}function e(a,e,f,g){d("MAWUniversalMessageSearch").clearSecureMsgMatchCountForThread();return r(f,a,void 0,g).then(function(k){k=Object.values(c("groupBy")(k,function(a){a[0];a=a[1];return a==null?"":(h||(h=d("I64"))).to_string(a)}));g!=null&&g.flow.qplAddAnnotations({annotations:{"int":{numResult:k.length}}});return k.map(function(b){var g=b[0];if(g!==null){g=g[0];return q(g,b.length,a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return(j||(j=b("Promise"))).all([a,d]).then(c("emptyFunction"))},(j||(j=b("Promise"))).resolve())})}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(d("WAJids").isAuthorSystem(b))return null;if(d("WAJids").isAuthorMe(b)){a=(yield d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));return(h||(h=d("I64"))).to_string(a)}return d("WAJids").userIdFromJid(b)});return u.apply(this,arguments)}function v(a,e,f,g,h,k){return(j||(j=b("Promise"))).all(g.map(function(b){return q(b,h,f,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),k,a,e)})).then(c("emptyFunction"))}function w(a,e,f,g,h,k){return(j||(j=b("Promise"))).all(g.map(function(g){var l=g.author,m=g.externalId,n=g.msgContent,o=g.sortOrderMs,p=g.ts;return(n==null?void 0:n.content)==null||o==null?(j||(j=b("Promise"))).resolve():t(a,l).then(function(g){if(g==null){c("FBLogger")("maw_message_search").mustfix("Contact ID is not a FBID %s",l);return(j||(j=b("Promise"))).resolve()}g={chatJid:f,externalId:m,msg:{content:n.content,sender:g,ts:p},sortOrderMs:o};return q(g,h,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),k,a)})})).then(c("emptyFunction"))}function x(a,e,g,m,n){return m.runInTransaction(function(b){return b.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:a,resultCount:(h||(h=d("I64"))).of_int32(0),status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING),threadKeyV2:e,type_:i.ofNumber(c("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,f.id+":514").then(function(b){return r(m,a,e,n)}).then(function(o){var p=o.length,r=o.filter(function(a){var b=a[0];a[1];return b.msg!=null}).length,s=r,t=function(){var f=o.map(function(a){a=a[0];return a}).filter(function(a){return a.msg==null});if(f.length===0)return(j||(j=b("Promise"))).resolve();f=f.slice(0,l);n.flow.qplAddPoint({annotations:{"int":{numRequestedMessages:f.length}},instanceKey:n.instanceKey,point:"fetch_missing_messages_start"});return c("MAWMiActOnActThreadReadyDeferred")(m,e,"MWInboxMessageSearchInput.react",function(c,e){var h=f.map(function(a){return{id:a.externalId,sortOrderMs:a.sortOrderMs}}),i=d("WAJids").threadIdForChatJid(e);return k.load().then(function(c){var d=c.issueQueryAsPromiseForSearchResult;c=d(m,i,h);return c==null?(j||(j=b("Promise"))).resolve():c.then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.messages;var c=b;if(b.length!==h.length){n.flow.qplAddPoint({annotations:{"int":{numRemainingMessages:h.length-b.length}},instanceKey:n.instanceKey,point:"fetch_missing_messages_partial"});var f=h.filter(function(a){return!c.some(function(b){return b.externalId===a.id})});if(f.length>0){f=(yield d(m,i,f));f!=null&&(c=[].concat(b,f.messages))}}s=r+c.length;n.flow.qplAddPoint({annotations:{"int":{numRespondedMessages:c.length}},instanceKey:n.instanceKey,point:"fetch_missing_messages_end"});return w(m,a,e,c,s,g)});return function(a){return c.apply(this,arguments)}}())})})};return(j||(j=b("Promise"))).all([o.map(function(b){b=b[0];return q(b,p,a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),g,m,void 0,c("LSSearchRequestStatusType").PENDING)}).reduce(function(a,d){return(j||(j=b("Promise"))).all([a,d]).then(c("emptyFunction"))},j.resolve()),c("isEBSearchEnabled")()?t():(j||(j=b("Promise"))).resolve()]).then(function(b){return m.runInTransaction(function(b){return b.message_search_queries.put({hasNextPage:void 0,nextPageCursor:void 0,query:a,resultCount:(h||(h=d("I64"))).of_int32(s),status:(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:e,type_:i.ofNumber(c("LSMessageSearchType").MESSAGE)})},"readwrite",void 0,void 0,f.id+":670")}).then(function(a){return(j||(j=b("Promise"))).resolve()})})}g.getThreadOtherParticipantContact=a;g.searchSecureDatabaseThreads=e;g.addBridgeSearchMsgsToSearchResult=v;g.addMessagesToSearchResult=w;g.searchSecureDatabaseMessages=x}),98);
__d("MWLSGroupMembershipMemberCellProfilePhoto.react",["fbt","IntlVariations","MWXProfilePhoto.react","MWXTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.linkProps,f=a.name,g=a.onPress,i=a.profilePictureUrl;a=a.showTooltip;var k;b[0]!==f?(k=h._(/*BTDS*/"__JHASH__5FWHZ8StuMQ__JHASH__",[h._name("name",f,c("IntlVariations").GENDER_UNKNOWN)]),b[0]=f,b[1]=k):k=b[1];var l;b[2]!==i?(l={uri:i},b[2]=i,b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==k||b[8]!==l?(i=j.jsx(c("MWXProfilePhoto.react"),{alt:f,"aria-label":k,linkProps:e,onPress:g,shape:"circle",size:36,source:l}),b[4]=e,b[5]=f,b[6]=g,b[7]=k,b[8]=l,b[9]=i):i=b[9];e=i;if(a){b[10]!==f?(g=h._(/*BTDS*/"__JHASH__gvt-u-jxLjT__JHASH__",[h._name("name",f,c("IntlVariations").GENDER_UNKNOWN)]),b[10]=f,b[11]=g):g=b[11];b[12]!==e||b[13]!==g?(k=j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:g,children:e}),b[12]=e,b[13]=g,b[14]=k):k=b[14];return k}return e}g["default"]=a}),226);
__d("useMWLSGroupMembershipMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24535998679380437"}),null);
__d("useMWLSGroupMembershipMenuQuery$Parameters",["useMWLSGroupMembershipMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("useMWLSGroupMembershipMenuQuery_facebookRelayOperation"),metadata:{},name:"useMWLSGroupMembershipMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWLSGroupMembershipMenu.entrypoint",["JSResourceForInteraction","useMWLSGroupMembershipMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{groupMembershipMenuQueryRef:{parameters:c("useMWLSGroupMembershipMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMenu.entrypoint")};g["default"]=a}),98);
__d("useMWNavigateToThreadFromGroupMembership",["FBLogger","LSIntEnum","MAWVerifyThreadCutover","MWPBumpEntityKey","Promise","ReQL","asyncToGeneratorRuntime","cr:874","gkx","promiseDone","react-compiler-runtime","useMWNavigation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){if(f)return!0;if(c("gkx")("8556")){f=(yield d("MAWVerifyThreadCutover").verifyContactCutoverOrDefaultE2EEWhenReady((j||(j=b("Promise"))).resolve(a),e));return f!=null}f=(yield d("MAWVerifyThreadCutover").verifyThreadCutover((j||(j=b("Promise"))).resolve(a),e));return f});return l.apply(this,arguments)}function a(){var a=d("react-compiler-runtime").c(4),e=(i||(i=c("useReStore")))(),f=c("useMWNavigation")(),g=b("cr:874")(),j;a[0]!==g||a[1]!==e||a[2]!==f?(j=function(a,b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","chat_members_overflow_message"),c("promiseDone")(k(e,a,b),function(b){if(b)c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a)).then(function(a){if(a!=null&&g!=null)return g([a],[]);else{c("FBLogger")("Unable to fetch contact","maw_threads");return}}));else return f.openInbox({clientThreadKey:void 0,threadKey:a,threadType:(h||(h=d("LSIntEnum"))).ofNumber(1)},"groupMembers")})},a[0]=g,a[1]=e,a[2]=f,a[3]=j):j=a[3];return j}g["default"]=a}),98);
__d("MWLSGroupMembershipMemberCell.react",["fbt","AddOnEndOverride.react","BaseMiddotSeparator.react","GenderConst","I64","Int64Hooks","LSContactBlockedByViewerStatus","LSContactGenderToGenderConst","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","LSThreadBitOffset","LSWhatsAppConnectStatus","MWCMThreadTypes.react","MWGroupMembershipListItem","MWLSContactTypeExactUtils","MWLSGroupMembershipMemberCellProfilePhoto.react","MWLSGroupMembershipMenu.entrypoint","MWPActor.react","MWXCircleButton.react","MWXEntryPointPopoverTrigger.react","MWXIconDots3Horizontal","MWXListCell.react","MWXPressable.react","MWXText.react","MWXTextPairing.react","MWXTooltip.react","getFBTSafeGenderFromGenderConst","getLSMediaContactProfilePictureUrl","gkx","pageID","promiseDone","react","react-compiler-runtime","useMWNavigateToThreadFromGroupMembership","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));j.useMemo;var n=h._(/*BTDS*/"__JHASH__3WTOYPxVm2l__JHASH__"),o=h._(/*BTDS*/"__JHASH__J1b76x4xKfs__JHASH__"),p=h._(/*BTDS*/"__JHASH__d3jtAkHct5c__JHASH__"),q="member_list_profile_sheet_source_"+c("pageID");function r(a,b){var e=d("react-compiler-runtime").c(6);bb0:{if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!==""){var f;e[0]!==a.serverSearchResult.contextLine?(f=[m.jsx(m.Fragment,{children:a.serverSearchResult.contextLine})],e[0]=a.serverSearchResult.contextLine,e[1]=f):f=e[1];a=f;break bb0}e[2]!==b?(f=b.filter(s),e[2]=b,e[3]=f):f=e[3];b=f;if(b.length>0){e[4]!==b?(f=m.jsx(c("BaseMiddotSeparator.react"),{children:b}),e[4]=b,e[5]=f):f=e[5];a=f;break bb0}a=null}return a}function s(a){return a!=null}function t(a){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.contactTypeExact,h=b.gender,i=b.name,j=b.secondaryName,m=b.waConnectStatus,n=e.groupParticipantJoinState,o=e.isSuperAdmin;e=e.subscribeSource;return{gender:c("LSContactGenderToGenderConst")(h),isBlocked:!(k||(k=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:k.equal(n,l.ofNumber(c("LSGroupParticipantJoinState").INVITED)),isSuperAdmin:o===!0,name:i,nonWaAddressable:k.equal(m,l.ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE)),profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(b),secondaryName:j!=null&&d("MWLSContactTypeExactUtils").isIgContact(g)?j:null,subscribeSource:(h=e)!=null?h:null,username:b.username}}if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;n=f.isBlocked;o=f.name;i=f.nickname;m=f.profilePictureUrl;g=f.subtitle;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(j=n)!=null?j:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(e=i)!=null?e:o,nonWaAddressable:!1,profilePictureUrl:(h=m)!=null?h:"<PLACEHOLDER>",secondaryName:i!=null?o:null,subscribeSource:null,subtitle:g}}if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.BroadcastChannelParticipant){b=a.participant;f=b.isBlocked;n=b.name;j=b.nickname;e=b.profilePictureUrl;m=b.profilePictureUrlFallback;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:(h=f)!=null?h:!1,isInvitedByViewer:!1,isSuperAdmin:!1,name:(i=j)!=null?i:n,nonWaAddressable:!1,profilePictureUrl:(g=(o=e)!=null?o:m)!=null?g:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}b=a.serverSearchResult;f=b.displayName;h=b.profilePicUrl;return{gender:c("GenderConst").NOT_A_PERSON,isBlocked:!(k||(k=d("I64"))).equal(b.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),isInvitedByViewer:!1,isSuperAdmin:!1,name:f,nonWaAddressable:!1,profilePictureUrl:(j=h)!=null?j:"<PLACEHOLDER>",secondaryName:null,subscribeSource:null}}function u(a,b,c,e,f,g,i){var j,k,l;j=(j=d("MWGroupMembershipListItem").isAdmin(a))!=null?j:!1;k=(k=d("MWGroupMembershipListItem").isModerator(a))!=null?k:!1;l=(l=d("MWGroupMembershipListItem").isHost(a))!=null?l:!1;a=t(a);var m=a.isInvitedByViewer,q=a.isSuperAdmin,r=a.nonWaAddressable,s=a.subscribeSource;a=a.subtitle;if(b&&r&&!m)return h._(/*BTDS*/"__JHASH__YJ7dDY2F-1___JHASH__").toString();if(b&&!r&&m)return h._(/*BTDS*/"__JHASH__XW-fqo6HqSP__JHASH__").toString();if(s!=null&&q)return c?n:s;if(j&&e)return n;if(k&&g)return o;if(l&&f)return p;return c&&i&&a!=null?a:null}function a(a){var b=d("react-compiler-runtime").c(67),e=a.canMessageUser,g=a.folder,j=a.isMAWParticipantSuperAdmin,n=a.isSecure,o=a.membershipListItem,p=a.onClose,s=a.showAdminIndicator,v=a.showHostIndicator,w=a.showInvitedByViewerOnly,x=a.showModeratorIndicator,y=a.thread;a=v===void 0?!1:v;v=w===void 0?!1:w;var z=(i||(i=c("useReStore")))();w=d("MWPActor.react").useActor();var A;b[0]!==o?(A=d("MWGroupMembershipListItem").contactId(o),b[0]=o,b[1]=A):A=b[1];var B=A;A=d("LSThreadBitOffset").has(66,y)&&d("MWCMThreadTypes.react").isStandardCMThread(y.threadType);var C=c("gkx")("23433")&&c("gkx")("538"),D=c("gkx")("6992"),E=c("useMWNavigateToThreadFromGroupMembership")(),F;b[2]!==o?(F=t(o),b[2]=o,b[3]=F):F=b[3];F=F;var G=F.gender,H=F.isBlocked,I=F.isInvitedByViewer,J=F.isSuperAdmin,K=F.name,L=F.profilePictureUrl,M=F.secondaryName,N=F.subscribeSource;F=F.username;var O=d("MWCMThreadTypes.react").isJoinedCMThread(y.threadType),P,Q;b[4]!==B||b[5]!==z||b[6]!==g||b[7]!==y.threadKey?(P=function(){g!=null&&c("promiseDone")(z.runInTransaction(function(a){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(a),{fbGroupId:g==null?void 0:g.folderId,requestId:q,source:(l||(l=d("LSIntEnum"))).ofNumber(14),targetUserId:B,threadId:y.threadKey})},"readwrite",void 0,void 0,f.id+":329"))},Q=[B,z,g,y.threadKey],b[4]=B,b[5]=z,b[6]=g,b[7]=y.threadKey,b[8]=P,b[9]=Q):(P=b[8],Q=b[9]);var R=d("Int64Hooks").useCallbackInt64(P,Q);b[10]!==H?(P=H?h._(/*BTDS*/"__JHASH__iywW1hlnypb__JHASH__"):null,b[10]=H,b[11]=P):P=b[11];Q=u(o,n,O,s,a,x,A);H=N!=null&&!J&&!O?N:null;s=C&&(F==null?void 0:F.length)?(D?"@":"")+F:null;b[12]!==M||b[13]!==s||b[14]!==P||b[15]!==Q||b[16]!==H?(a=[P,M,Q,H,s],b[12]=M,b[13]=s,b[14]=P,b[15]=Q,b[16]=H,b[17]=a):a=b[17];x=r(o,a);A=n&&I&&!v;b[18]!==B||b[19]!==n||b[20]!==E||b[21]!==p?(J=function(){E(B,n),p()},b[18]=B,b[19]=n,b[20]=E,b[21]=p,b[22]=J):J=b[22];O=J;if(b[23]!==(g==null?void 0:g.fbGroupId)){C=(k||(k=d("I64"))).to_string((N=g==null?void 0:g.fbGroupId)!=null?N:(k||(k=d("I64"))).zero);b[23]=g==null?void 0:g.fbGroupId;b[24]=C}else C=b[24];b[25]!==w?(D=(k||(k=d("I64"))).to_string(w),b[25]=w,b[26]=D):D=b[26];b[27]!==C||b[28]!==D?(F={groupID:C,userID:D},b[27]=C,b[28]=D,b[29]=F):F=b[29];b[30]!==g||b[31]!==j||b[32]!==o||b[33]!==p||b[34]!==y?(M={folder:g,isMAWParticipantSuperAdmin:j,membershipListItem:o,onCloseDialog:p,thread:y},b[30]=g,b[31]=j,b[32]=o,b[33]=p,b[34]=y,b[35]=M):M=b[35];b[36]!==B||b[37]!==R||b[38]!==G||b[39]!==K?(s=function(a,b,d,e,f,g,i){return m.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:h._(/*BTDS*/"__JHASH__I91w8MVMuJd__JHASH__"),children:m.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconDots3Horizontal"),label:h._(/*BTDS*/"__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",K,c("getFBTSafeGenderFromGenderConst")(G))]),onHoverIn:function(a){R(),e==null?void 0:e(a)},onHoverOut:function(){f==null?void 0:f()},onPress:function(){return b()},onPressIn:g,ref:a,size:36,testid:void 0,type:"deemphasized"})})},b[36]=B,b[37]=R,b[38]=G,b[39]=K,b[40]=s):s=b[40];b[41]!==F||b[42]!==M||b[43]!==s?(P=m.jsx(c("AddOnEndOverride.react"),{children:m.jsx(c("MWXEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:F,otherProps:M,popoverEntryPoint:c("MWLSGroupMembershipMenu.entrypoint"),popoverType:"menu",preloadTrigger:"button",children:s})}),b[41]=F,b[42]=M,b[43]=s,b[44]=P):P=b[44];b[45]!==e||b[46]!==K||b[47]!==O||b[48]!==L?(Q=m.jsx(c("MWLSGroupMembershipMemberCellProfilePhoto.react"),{name:K,onPress:O,profilePictureUrl:L,showTooltip:e}),b[45]=e,b[46]=K,b[47]=O,b[48]=L,b[49]=Q):Q=b[49];b[50]!==x||b[51]!==B||b[52]!==n||b[53]!==K||b[54]!==O||b[55]!==E||b[56]!==p||b[57]!==A?(H=x!=null?m.jsx(c("MWXTextPairing.react"),{body:m.jsx(c("MWXText.react"),{color:A?"disabled":"secondary",type:"body4",children:x}),headline:m.jsx(c("MWXPressable.react"),{onPress:function(){E(B,n),p()},overlayDisabled:!0,children:m.jsx(c("MWXText.react"),{color:A?"disabled":"primary",type:"headline4",children:K})}),level:4}):m.jsx(c("MWXTextPairing.react"),{body:m.jsx(c("MWXPressable.react"),{onPress:O,overlayDisabled:!0,children:m.jsx(c("MWXText.react"),{align:"start",numberOfLines:1,type:"headline4",children:K})}),level:4}),b[50]=x,b[51]=B,b[52]=n,b[53]=K,b[54]=O,b[55]=E,b[56]=p,b[57]=A,b[58]=H):H=b[58];b[59]!==B?(a=(k||(k=d("I64"))).to_string(B),b[59]=B,b[60]=a):a=b[60];I="mw_participant_cell_"+(k||(k=d("I64"))).to_string(B);b[61]!==P||b[62]!==Q||b[63]!==H||b[64]!==a||b[65]!==I?(v=m.jsx(c("MWXListCell.react"),{addOnEnd:P,addOnEndVerticalAlign:"center",addOnStart:Q,content:H,size:"medium",testid:void 0},a),b[61]=P,b[62]=Q,b[63]=H,b[64]=a,b[65]=I,b[66]=v):v=b[66];return v}g["default"]=a}),226);
__d("useMAWGetGroupSuperAdmin",["Int64Hooks","MAWMiActOnActThreadReadyDeferred","cr:9779","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){var g=d("react-compiler-runtime").c(6),i=(h||(h=c("useReStore")))(),j,k;g[0]!==i||g[1]!==e||g[2]!==f||g[3]!==a?(j=function(){if(b("cr:9779")!=null&&e){var d=b("cr:9779").sendAndReceive;c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(i,a,"useMAWGetGroupSuperAdmin",function(a,b){return d("backend","getGroupSuperAdmin",{chatJid:b}).then(function(a){return f(a)})}))}},k=[i,e,f,a],g[0]=i,g[1]=e,g[2]=f,g[3]=a,g[4]=j,g[5]=k):(j=g[4],k=g[5]);d("Int64Hooks").useEffectInt64(j,k)}g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.react",["fbt","I64","LSGroupParticipantJoinState","LSIntEnum","LSMessagingThreadTypeUtil","MDSInfiniteScrollList.react","MWDialogTextPairing.react","MWGroupMembershipListItem","MWLSGroupMembershipMemberCell.react","MWMemberListGlimmer.react","MWPActor.react","emptyFunction","react","react-compiler-runtime","react-strict-dom","useMAWGetGroupSuperAdmin"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.useState,n={noHosts:{alignItems:"x6s0dn4",alignSelf:"xamitd3",display:"x78zum5",flexGrow:"x1iyjqo2",height:"x1egiwwb",justifyContent:"xl56j7k",width:"xdzyupr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),e=a.disableScroll,f=a.doSortParticipants,g=a.folder,i=a.hasMore,k=a.isLoading,s=a.onClose,t=a.onLoadMore,u=a.participantsAndContacts,v=a.showAdmodIndicator,w=a.showAdmodsOnly,x=a.showHostsOnly,y=a.showInvitedByViewerOnly,z=a.thread;a=e===void 0?!1:e;e=f===void 0?!0:f;f=i===void 0?!1:i;i=k===void 0?!1:k;var A=s===void 0?c("emptyFunction"):s;k=t===void 0?c("emptyFunction"):t;s=m(c("emptyFunction"));var B=s[0];t=s[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(s=d("MWPActor.react").isAPPlus(),b[0]=s):s=b[0];var C=s;b[1]!==u||b[2]!==w||b[3]!==x||b[4]!==y?(s=w?u.filter(r):y?u.filter(q):x?u.filter(p):u,b[1]=u,b[2]=w,b[3]=x,b[4]=y,b[5]=s):s=b[5];u=s;b[6]!==e||b[7]!==u?(w=e?u.slice(0).sort(o):u,b[6]=e,b[7]=u,b[8]=w):w=b[8];s=w;b[9]!==z.threadType?(e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(z.threadType),b[9]=z.threadType,b[10]=e):e=b[10];var D=e;c("useMAWGetGroupSuperAdmin")(z.threadKey,D,t);b[11]!==g||b[12]!==D||b[13]!==A||b[14]!==v||b[15]!==y||b[16]!==B||b[17]!==z?(u=function(a){var b=d("MWGroupMembershipListItem").contactId(a);return l.jsx(c("MWLSGroupMembershipMemberCell.react"),{canMessageUser:!C,folder:g,isMAWParticipantSuperAdmin:D&&B!=null?B===(j||(j=d("I64"))).to_string(b):!1,isSecure:D,membershipListItem:a,onClose:A,showAdminIndicator:v,showHostIndicator:v,showInvitedByViewerOnly:y,showModeratorIndicator:v,thread:z},(j||(j=d("I64"))).to_string(b))},b[11]=g,b[12]=D,b[13]=A,b[14]=v,b[15]=y,b[16]=B,b[17]=z,b[18]=u):u=b[18];w=u;if(s.length===0&&x&&i===!1&&f===!1){b[19]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__M-jFobtfz3M__JHASH__"),b[19]=e):e=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx(d("react-strict-dom").html.div,{style:n.noHosts,children:l.jsx(c("MWDialogTextPairing.react"),{body:e,bodyColor:"secondary",headline:h._(/*BTDS*/"__JHASH__7DQH5InZyqq__JHASH__"),textAlign:"center"})}),b[20]=t):t=b[20];return t}b[21]!==a||b[22]!==f||b[23]!==i||b[24]!==k||b[25]!==w||b[26]!==s?(u=a?s.map(w):l.jsx(c("MDSInfiniteScrollList.react"),{hasMore:f,isLoading:i,items:s,loadingIndicator:l.jsx(c("MWMemberListGlimmer.react"),{}),onLoadMore:k,renderItem:w}),b[21]=a,b[22]=f,b[23]=i,b[24]=k,b[25]=w,b[26]=s,b[27]=u):u=b[27];return u}function o(a,b){if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);if(a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);return a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ServerSearchResult?a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName):0}function p(a){return(a=d("MWGroupMembershipListItem").isHost(a))!=null?a:!1}function q(a){a=a.type===d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER);return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED))}function r(a){var b;b=(b=d("MWGroupMembershipListItem").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem").isModerator(a))!=null?a:!1;return b||a}g["default"]=a}),226);
__d("MWMessageSearchMessageSnippet.react",["MWXMessageTextWithEntities.react","MWXTextImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=function(a){return i.jsx(c("MWXTextImpl.react"),{color:"primary",type:"bodyLink4",children:a})};function a(a){var b=d("react-compiler-runtime").c(19);a=a.item;var e;if(b[0]!==a.contextLine||b[1]!==a.matchLengths||b[2]!==a.matchOffsets){var f,g;f=(f=(f=a.matchOffsets)==null?void 0:f.split(","))!=null?f:[];if(b[6]!==a.matchLengths){var h;h=(h=(h=a.matchLengths)==null?void 0:h.split(","))!=null?h:[];b[6]=a.matchLengths;b[7]=h}else h=b[7];var k=h;h=Number(f[0]);g=(g=(g=a.contextLine)==null?void 0:g.length)!=null?g:0;g=h+15>g;g=g?30:15;var l=Math.max(0,h-g);e=l>0;if(b[8]!==a.contextLine||b[9]!==l){h=(g=(h=a.contextLine)==null?void 0:h.slice(l,a.contextLine.length))!=null?g:"";b[8]=a.contextLine;b[9]=l;b[10]=h}else h=b[10];g=h;b[11]!==k||b[12]!==e||b[13]!==l?(h=function(a,b){return{entity:{__typename:"Bold"},length:Number(k[b]),offset:Number(a)-l+(e?3:0)}},b[11]=k,b[12]=e,b[13]=l,b[14]=h):h=b[14];f=f.map(h);b[0]=a.contextLine;b[1]=a.matchLengths;b[2]=a.matchOffsets;b[3]=e;b[4]=f;b[5]=g}else e=b[3],f=b[4],g=b[5];h=f;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(a={Bold:[j]},b[15]=a):a=b[15];f=e?"..."+g:g;b[16]!==h||b[17]!==f?(g=i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:h,renderers:a,text:f}),b[16]=h,b[17]=f,b[18]=g):g=b[18];return g}g["default"]=a}),98);
__d("MWParticipantsForBroadcastChannelUtils",["Int64Hooks","LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure","LSFactory","LSFetchDiscoverableChatParticipantsStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(6),g=(h||(h=c("useReStore")))(),j,k;e[0]!==g||e[1]!==b||e[2]!==a.threadKey||e[3]!==a.threadType?(j=function(){d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&c("promiseDone")(g.runInTransaction(function(e){return c("LSFetchDiscoverableChatParticipantsStoredProcedure")(c("LSFactory")(e),{cursor:"",maxName:"",source:(i||(i=d("LSIntEnum"))).ofNumber(b),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":39"))},k=[g,b,a.threadKey,a.threadType],e[0]=g,e[1]=b,e[2]=a.threadKey,e[3]=a.threadType,e[4]=j,e[5]=k):(j=e[4],k=e[5]);d("Int64Hooks").useEffectInt64(j,k)}function b(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(){return b.runInTransaction(k,"readwrite",void 0,void 0,f.id+":59")},a[0]=b,a[1]=e):e=a[1];return e}function k(a){return c("LSClearDiscoverableChatsParticipantsAndRangesStoredProcedure")(c("LSFactory")(a))}function e(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.discoverable_chat_participants_ranges_v2__generated||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.discoverable_chat_participants_ranges_v2__generated).getKeyRange(a)},b[0]=e.tables.discoverable_chat_participants_ranges_v2__generated,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];return d("ReQLSuspense").useFirst(g,i,f.id+":75")}g.useFetchBroadcastChannelMembers=a;g.useClearBroadcastChannelParticipantsList=b;g.useMWParticipantsForBroadcastChannelRanges=e}),98);
__d("MWQuickPromotionBroadcastChannelNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8112477978830362"}),null);
__d("MWRestrictedAccountsPlusIcon",["cr:6040"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:6040")}),98);
__d("MWRestrictedAccountsList.react",["fbt","CometScrollView.react","CometTopNavListDropdownTitle.react","I64","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","MWAddOnCircleContainer.react","MWRestrictedAccountsPlusIcon","MWXIcon.react","MWXLink.react","MWXListCellPressable.react","MWXProfilePhoto.react","MWXText.react","MWXTextPairing.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","promiseDone","react","react-compiler-runtime","useMWBaseChatOpenTabForUser","useMWLSJewelLoadMoreThreads","useMWNavigation","useMWXLazyDialog","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react")),n=l.useEffect,o=c("JSResourceForInteraction")("MWRestrictedAccountsListAddRestricteeDialog.react").__setRef("MWRestrictedAccountsList.react");function a(a){var b=d("react-compiler-runtime").c(44),e=a.hidePage,g=a.onClose,l=a.selectedThreadKey,r=(i||(i=c("useReStore")))();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=(j||(j=d("LSIntEnum"))).ofNumber(-15),b[0]=a):a=b[0];var s=c("useMWLSJewelLoadMoreThreads")(a),t=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT");a=c("useMWBaseChatOpenTabForUser")(void 0,"inboxRestricted");var u=a.openTabByThreadKey;b[1]!==s?(a=function(){s()},b[1]=s,b[2]=a):a=b[2];var v;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(v=[],b[3]=v):v=b[3];n(a,v);b[4]!==r.tables.contacts?(a=function(){return d("ReQL").fromTableAscending(r.tables.contacts).filter(p)},b[4]=r.tables.contacts,b[5]=a):a=b[5];b[6]!==r?(v=[r],b[6]=r,b[7]=v):v=b[7];a=d("ReQLSuspense").useArray(a,v,f.id+":82");b[8]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"__JHASH__XwrGXRjtVxi__JHASH__"),b[8]=v):v=b[8];v=v;var w;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"__JHASH__RkSfcqgblez__JHASH__",[h._param("=Learn how it works",m.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/1021314848608781",children:m.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._(/*BTDS*/"__JHASH__lTWOA7Lmc04__JHASH__")})}))]),b[9]=w):w=b[9];w=w;var x;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"__JHASH__9yvHPV04Ncn__JHASH__"),b[10]=x):x=b[10];x=x;var y;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(y={},b[11]=y):y=b[11];var z=y;y=c("useMWXLazyDialog")(o);var A=y[0];b[12]!==g||b[13]!==A?(y=function(){return A(z,g)},b[12]=g,b[13]=A,b[14]=y):y=b[14];var B=y,C=c("useMWNavigation")();b[15]!==e?(y=e!=null?m.jsx(c("CometTopNavListDropdownTitle.react"),{actions:[],onReturn:e,title:v}):m.jsx(c("CometTopNavListDropdownTitle.react"),{actions:[],title:v}),b[15]=e,b[16]=y):y=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v=m.jsx("div",babelHelpers["extends"]({className:"x1k70j0n x11i5rnm xzueoph x1mh8g0r xz9dl7a x14uny0o xsag5q8 xvpee5o"},{children:m.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:w})})),e={className:"xurb0ha x1sxyh0"},b[17]=v,b[18]=e):(v=b[17],e=b[18]);b[19]===Symbol["for"]("react.memo_cache_sentinel")?(w=m.jsx(c("MWAddOnCircleContainer.react"),{size:40,children:m.jsx(c("MWXIcon.react"),{icon:c("MWRestrictedAccountsPlusIcon")})}),x=m.jsx(c("MWXTextPairing.react"),{headline:x,headlineLineLimit:1,level:4}),b[19]=w,b[20]=x):(w=b[19],x=b[20]);b[21]!==B?(w=m.jsx(c("MWXListCellPressable.react"),{addOnStart:w,content:x,onPress:function(){return B()},testid:void 0}),b[21]=B,b[22]=w):w=b[22];if(b[23]!==a||b[24]!==r||b[25]!==t||b[26]!==C||b[27]!==g||b[28]!==u||b[29]!==l){b[31]!==r||b[32]!==t||b[33]!==C||b[34]!==g||b[35]!==u||b[36]!==l?(x=function(a){var b=a.name,e=a.secondaryName,f=(k||(k=d("I64"))).to_string(a.id);return m.jsx("li",{children:m.jsx(c("MWXListCellPressable.react"),{addOnStart:m.jsx(c("MWXProfilePhoto.react"),{shape:"circle",size:40,source:{uri:c("getLSMediaContactProfilePictureUrl")(a)}}),content:m.jsx(c("MWXTextPairing.react"),{body:e!=null&&b!==e?e:null,headline:b,level:4}),onPress:function(){c("promiseDone")(q(r,a.id).then(function(b){var c=(k||(k=d("I64"))).to_string(a.id)===b;if(t){u(b,!c);return g()}C.openInbox({threadKey:k.of_string(b),threadType:c?(j||(j=d("LSIntEnum"))).ofNumber(1):(j||(j=d("LSIntEnum"))).ofNumber(15)},"inboxRestricted")}))},selected:l!=null&&(k||(k=d("I64"))).equal(a.id,l),testid:void 0},f)},f)},b[31]=r,b[32]=t,b[33]=C,b[34]=g,b[35]=u,b[36]=l,b[37]=x):x=b[37];x=a.map(x);b[23]=a;b[24]=r;b[25]=t;b[26]=C;b[27]=g;b[28]=u;b[29]=l;b[30]=x}else x=b[30];b[38]!==w||b[39]!==x?(a=m.jsxs("ul",babelHelpers["extends"]({},e,{children:[w,x]})),b[38]=w,b[39]=x,b[40]=a):a=b[40];b[41]!==y||b[42]!==a?(e=m.jsxs(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[y,v,a]}),b[41]=y,b[42]=a,b[43]=e):e=b[43];return e}function p(a){return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}function q(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(b)).then(function(a){return(k||(k=d("I64"))).to_string((a=a==null?void 0:a.serverThreadKey)!=null?a:b)})}g["default"]=a}),226);
__d("MWXIconAppFacebook",["MWXSvgIcon","SVGIcon","cr:12273","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12273")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWPConversatioSearchQPLLogger",["QPLUserFlow","emptyFunction","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useMemo,k={currentResultCount:0,firstResultShowUp:!1,hasStarted:!1,instanceKey:0};function a(){var a=i(function(a){var b=a.annotations,d=a.instanceKey;a=a.point;if(!k.hasStarted)return;if(d!=null&&d!==k.instanceKey)return;c("QPLUserFlow").addPoint(c("qpl")._(25301522,"2409"),a,{data:b,instanceKey:k.instanceKey})},[]),b=i(function(a){if(!k.hasStarted)return;if(a!=null&&a!==k.instanceKey)return;k.hasStarted=!1;c("QPLUserFlow").endCancel(c("qpl")._(25301522,"2409"),{annotations:{"int":{result_count:k.currentResultCount}},instanceKey:k.instanceKey})},[]),d=i(function(a){k.hasStarted&&b();k.hasStarted=!0;k.instanceKey++;k.firstResultShowUp=!1;k.currentResultCount=0;c("QPLUserFlow").start(c("qpl")._(25301522,"2409"),{annotations:a,instanceKey:k.instanceKey});return k.instanceKey},[b]),e=i(function(a){if(!k.hasStarted)return;if(a!=null&&a!==k.instanceKey)return;k.hasStarted=!1;c("QPLUserFlow").endSuccess(c("qpl")._(25301522,"2409"),{annotations:{"int":{result_count:k.currentResultCount}},instanceKey:k.instanceKey})},[]),f=i(function(b){if(k.firstResultShowUp)return;k.firstResultShowUp=!0;a({instanceKey:b,point:"first_result_show_up"})},[a]),g=i(function(a){k.currentResultCount=a},[]),h=i(function(){return k.instanceKey},[]),l=j(function(){return{getCurrentInstanceKey:h,qplAddAnnotations:c("emptyFunction"),qplAddPoint:a,qplCancel:b,qplMarkFirstResultShowUp:f,qplStart:d,qplSuccess:e,updateCurrentResultCount:g}},[h,a,b,f,d,e,g]);return l}g["default"]=a}),98);
__d("useMWPConversationSearch",["I64","LSFactory","LSIntEnum","LSIssueMessageSearchQueryStoredProcedure","LSMessageSearchType","LSSearchRequestStatusType","MAWFTSRawStringMatcher","MAWThreadCutover","MWPConversationSearchContext.react","MWPConversationSearchLogger","MWPVisibleMessageContext.react","Promise","ReQL","ReQLSuspense","cr:7230","isMWNewSearchUXEnabled","nullthrows","promiseDone","react","react-compiler-runtime","useMWPConversatioSearchQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;e=j||d("react");e.useCallback;var m=e.useContext,n=e.useEffect;e.useMemo;var o=e.useRef,p=(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),q="useMWPConversationSearch";function r(a,b){a=[a,b].filter(Boolean);b=a.filter(function(a){return(k||(k=d("LSIntEnum"))).toNumber(a.status)===c("LSSearchRequestStatusType").COMPLETE});return b.length===0||b.length<a.length?void 0:b.reduce(function(a,b){return a+(l||(l=d("I64"))).to_float(b.resultCount)},0)}function s(a,b){if(b==null)return a==null?void 0:a.status;if(a==null)return b==null?void 0:b.status;if((k||(k=d("LSIntEnum"))).toNumber(a.status)===c("LSSearchRequestStatusType").FAILED||(k||(k=d("LSIntEnum"))).toNumber(b.status)===c("LSSearchRequestStatusType").FAILED)return(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").FAILED);a=Math.min((k||(k=d("LSIntEnum"))).toNumber(a.status),k.toNumber(b.status));return k.ofNumber(a)}function t(a,b){c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueMessageSearchQueryStoredProcedure")(c("LSFactory")(a),{nextPageCursor:b.nextPageCursor,query:b.query,threadKey:b.threadKeyV2,type_:p})},"readwrite",void 0,void 0,f.id+":100"))}function a(a){var e=d("react-compiler-runtime").c(86),g=m(d("MWPConversationSearchContext.react").context),j;e[0]!==g?(j=c("nullthrows")(g),e[0]=g,e[1]=j):j=e[1];g=j;var v=g.search,w=g.setSearch;j=c("useMWPConversatioSearchQPLLogger")();var x=j.qplCancel,y=j.qplMarkFirstResultShowUp,z=j.updateCurrentResultCount,A=o(null);g=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var B=g.setVisibleMessage,C=(i||(i=c("useReStore")))(),D=d("MAWThreadCutover").useGetCutoverMapping(v==null?void 0:v.threadKey);e[2]!==C||e[3]!==v||e[4]!==a?(j=function(){return v!=null?d("ReQL").fromTableAscending(C.tables.message_search_queries).getKeyRange(p,v.query,a):d("ReQL").empty()},g=[C,v,a],e[2]=C,e[3]=v,e[4]=a,e[5]=j,e[6]=g):(j=e[5],g=e[6]);var E=d("ReQLSuspense").useFirst(j,g,f.id+":141");e[7]!==D||e[8]!==C||e[9]!==v?(j=function(){return v!=null&&D!=null&&D.showOpenMessageHistory===!0?d("ReQL").fromTableAscending(C.tables.message_search_queries).getKeyRange(p,v.query,D.openThreadId):d("ReQL").empty()},g=[C,v,D],e[7]=D,e[8]=C,e[9]=v,e[10]=j,e[11]=g):(j=e[10],g=e[11]);var F=d("ReQLSuspense").useFirst(j,g,f.id+":153"),G=v==null?void 0:v.query;e[12]!==x||e[13]!==v?(j=function(){v==null&&x()},g=[x,v],e[12]=x,e[13]=v,e[14]=j,e[15]=g):(j=e[14],g=e[15]);n(j,g);e[16]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){var a,e;e=null;c("promiseDone")((h||(h=b("Promise"))).all([(a=b("cr:7230")==null?void 0:b("cr:7230").getInstance().then(function(a){e=a}))!=null?a:(h||(h=b("Promise"))).resolve(),d("MAWFTSRawStringMatcher").load().then(function(a){A.current=a})]));return function(){var a;(a=e)==null?void 0:a.removeNewMessagesListener(q)}},g=[],e[16]=j,e[17]=g):(j=e[16],g=e[17]);n(j,g);e[18]!==B?(j=function(a){B(function(b){return{contextLine:(b=a.contextLine)!=null?b:"",highlights:a.matchOffsets!=null&&a.matchLengths!=null?u(a.matchOffsets,a.matchLengths):[],messageId:a.messageId,messageOtid:a.messageOtid,source:"Search",timestamp:c("nullthrows")(a.messageTimestampMs)}})},e[18]=B,e[19]=j):j=e[19];var H=j;e[20]!==C||e[21]!==G||e[22]!==a?(g=function(){return G!=null?d("ReQL").fromTableAscending(C.tables.message_search_results).getKeyRange(p,G,a):d("ReQL").empty()},j=[C,G,a],e[20]=C,e[21]=G,e[22]=a,e[23]=g,e[24]=j):(g=e[23],j=e[24]);g=d("ReQLSuspense").useArray(g,j,f.id+":219");var I;e[25]!==D||e[26]!==C||e[27]!==G?(j=function(){return G!=null&&D!=null&&D.showOpenMessageHistory===!0?d("ReQL").fromTableAscending(C.tables.message_search_results).getKeyRange(p,G,D.openThreadId):d("ReQL").empty()},I=[C,G,D],e[25]=D,e[26]=C,e[27]=G,e[28]=j,e[29]=I):(j=e[28],I=e[29]);j=d("ReQLSuspense").useArray(j,I,f.id+":232");e[30]!==j||e[31]!==g?(I=[].concat(g,j),e[30]=j,e[31]=g,e[32]=I):I=e[32];j=I;var J=j;e[33]!==J.length||e[34]!==z?(g=function(){z(J.length)},e[33]=J.length,e[34]=z,e[35]=g):g=e[35];e[36]!==J||e[37]!==z?(I=[J,z],e[36]=J,e[37]=z,e[38]=I):I=e[38];n(g,I);var K=o(),L=v==null?void 0:v.selectedSearchResultIndex;e[39]!==J||e[40]!==H||e[41]!==y||e[42]!==L?(j=function(){if(J.length>0&&L!=null&&L<J.length){var a=J[L];K.current!==a&&(y(),c("isMWNewSearchUXEnabled")()||(c("MWPConversationSearchLogger").logMessageSearchMsgImpression(),H(a)),K.current=a)}},e[39]=J,e[40]=H,e[41]=y,e[42]=L,e[43]=j):j=e[43];e[44]!==J||e[45]!==H||e[46]!==y||e[47]!==L||e[48]!==B?(g=[H,J,L,B,y],e[44]=J,e[45]=H,e[46]=y,e[47]=L,e[48]=B,e[49]=g):g=e[49];n(j,g);e[50]!==H?(I=function(a){H(a)},e[50]=H,e[51]=I):I=e[51];j=I;e[52]!==J.length||e[53]!==C||e[54]!==F||e[55]!==E||e[56]!==v||e[57]!==L||e[58]!==w?(g=function(){if(v==null)return null;L===J.length-1&&(E==null?void 0:E.hasNextPage)===!0?t(C,E):L===J.length-1&&(F==null?void 0:F.hasNextPage)===!0&&t(C,F);w(babelHelpers["extends"]({},v,{selectedSearchResultIndex:v.selectedSearchResultIndex+1}));return v.selectedSearchResultIndex+1},e[52]=J.length,e[53]=C,e[54]=F,e[55]=E,e[56]=v,e[57]=L,e[58]=w,e[59]=g):g=e[59];I=g;e[60]!==v||e[61]!==w?(g=function(){if(v==null)return null;w(babelHelpers["extends"]({},v,{selectedSearchResultIndex:v.selectedSearchResultIndex-1}));return v.selectedSearchResultIndex-1},e[60]=v,e[61]=w,e[62]=g):g=e[62];g=g;var M;e[63]!==F||e[64]!==E?(M=s(E,F),e[63]=F,e[64]=E,e[65]=M):M=e[65];var N=M;M=(E==null?void 0:E.hasNextPage)===!0||(F==null?void 0:F.hasNextPage)===!0;var O;e[66]!==C||e[67]!==F||e[68]!==E||e[69]!==v||e[70]!==N?(O=function(){var a;if(v==null||(l||(l=d("I64"))).equal((a=N)!=null?a:(l||(l=d("I64"))).zero,(k||(k=d("LSIntEnum"))).ofNumber(c("LSSearchRequestStatusType").PENDING)))return;(E==null?void 0:E.hasNextPage)===!0?t(C,E):(F==null?void 0:F.hasNextPage)===!0&&t(C,F)},e[66]=C,e[67]=F,e[68]=E,e[69]=v,e[70]=N,e[71]=O):O=e[71];O=O;var P;e[72]!==F||e[73]!==E?(P=r(E,F),e[72]=F,e[73]=E,e[74]=P):P=e[74];P=P;var Q=v==null?void 0:v.query,R;e[75]!==P||e[76]!==J||e[77]!==M||e[78]!==O||e[79]!==j||e[80]!==I||e[81]!==g||e[82]!==L||e[83]!==N||e[84]!==Q?(R={hasMore:M,loadMore:O,navigateToResult:j,next:I,previous:g,query:Q,resultCount:P,searchResults:J,selectedSearchResultIndex:L,status:N},e[75]=P,e[76]=J,e[77]=M,e[78]=O,e[79]=j,e[80]=I,e[81]=g,e[82]=L,e[83]=N,e[84]=Q,e[85]=R):R=e[85];return R}function u(a,b){a=a.split(",");var c=b.split(",");return a.map(function(a,b){return{matchLength:parseInt(c[b],10),matchOffset:parseInt(a,10)}})}g["default"]=a}),98);
__d("useMWPStartConversationSearch",["Int64Hooks","LSClearMessageSearchTableStoredProcedure","LSFactory","LSIntEnum","LSIssueMessageSearchQueryStoredProcedure","LSMessageSearchType","MAWThreadCutover","MWPActor.react","MWPConversationSearchContext.react","MWPVisibleMessageContext.react","asyncToGeneratorRuntime","cr:7242","nullthrows","promiseDone","react","react-compiler-runtime","useMWPConversatioSearchQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useContext,l=(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE);function a(a){var e=d("react-compiler-runtime").c(10),g=d("MWPActor.react").useActor(),i=(h||(h=c("useReStore")))(),j=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),n=j.setVisibleMessage,p=c("useMWPConversatioSearchQPLLogger")();j=k(d("MWPConversationSearchContext.react").context);var q;e[0]!==j?(q=c("nullthrows")(j),e[0]=j,e[1]=q):q=e[1];j=q;var r=j.setSearch;e[2]!==g||e[3]!==i||e[4]!==p||e[5]!==r||e[6]!==n||e[7]!==a?(q=function(e,h){r({query:e,selectedSearchResultIndex:0,threadKey:a});n(o);var j=function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield i.runInTransaction(m,"readwrite",void 0,void 0,f.id+":61"),p.qplStart({bool:{isInThread:!0,isSecure:h}}),h&&b("cr:7242")!=null?(c("promiseDone")(b("cr:7242").searchSecureDatabaseMessages(e,a,g,i,{flow:p,instanceKey:p.getCurrentInstanceKey()})),c("promiseDone")(d("MAWThreadCutover").getCutoverThreadBySecureThreadKey(a),function(a){a!=null&&a.showOpenMessageHistory===!0&&c("promiseDone")(i.runInTransaction(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield c("LSIssueMessageSearchQueryStoredProcedure")(c("LSFactory")(b),{query:e,threadKey:a.openThreadId,type_:l})});return function(a){return d.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":89"))})):c("promiseDone")(i.runInTransaction(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield c("LSIssueMessageSearchQueryStoredProcedure")(c("LSFactory")(b),{query:e,threadKey:a,type_:l})});return function(a){return d.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":105"))});return function(){return j.apply(this,arguments)}}();c("promiseDone")(j())},j=[r,a,n,i,g,p],e[2]=g,e[3]=i,e[4]=p,e[5]=r,e[6]=n,e[7]=a,e[8]=q,e[9]=j):(q=e[8],j=e[9]);e=d("Int64Hooks").useCallbackInt64(q,j);return e}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield c("LSClearMessageSearchTableStoredProcedure")(c("LSFactory")(a),{type_:l})});return n.apply(this,arguments)}function o(a){}g["default"]=a}),98);
__d("useMWPThreadPointQueryOneToOneCutoverThreadThenNavigate",["I64","LSFactory","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCutoverQPLLogger","MAWJids","QPLUserFlow","ReQL","WABridgedAPI","WALoggerDeferred","asyncToGeneratorRuntime","justknobx","promiseDone","qpl","react","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished successfully for ThreadKey: ",""]);k=function(){return a};return a}var l=(h||d("react")).useCallback,m=c("justknobx")._("2707");function a(){var a=c("useAsyncReStore")();return l(function(e){var f=e.contactId,g=e.isOnDemandCutover,h=e.navigationApi,l=e.qplInstanceKey;d("MAWCutoverQPLLogger").addPoint(l,"tpq_then_navigate_started");d("MAWCutoverQPLLogger").addAnnotations(l,{bool:{is_od_cutover:(e=g)!=null?e:!1}});c("promiseDone")(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){function e(a,b){var e=a.clientThreadKey,g=a.threadKey;a=a.threadType;c("promiseDone")(c("WABridgedAPI").getDevices({ignoreDhash:!1,reason:"thread-point-querying-1-to-1-thread",users:new Set().add(d("MAWJids").toUserJid((i||(i=d("I64"))).to_string(f)))}));d("MAWCutoverQPLLogger").addPoint(l,"navigate_to_thread");d("MAWCutoverQPLLogger").endSuccess(l);h.openTabOrInbox({clientThreadKey:e,threadKey:g,threadType:a},(e=b)!=null?e:"preCutoverThread",void 0,void 0,{subEntrypoint:"threadPointQuery1To1"})}var o=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(f);if(m){var p=(yield d("ReQL").firstAsync(o));d("MAWCutoverQPLLogger").addPoint(l,"check_existing_mapping");d("MAWCutoverQPLLogger").addAnnotations(l,{bool:{has_mi_act_mapping:p!=null}});p=p!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(p.serverThreadKey)):null;if(p!=null)if(g===!0){var q=n(f,p.threadKey);e(p,q)}else e(p)}o.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){b=c.operation;if(b==="delete")return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_updated");c=(yield d("ReQL").firstAsync(o));if(c==null)return;d("MAWCutoverQPLLogger").addPoint(l,"mi_act_mapping_table_non_null");b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(c.serverThreadKey)));if(b==null)return;d("MAWCutoverQPLLogger").addPoint(l,"thread_non_null");if(g===!0){c=n(f,b.threadKey);e(b,c)}else e(b)});return function(a,b){return c.apply(this,arguments)}}());d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_started");c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:f})},"readwrite").then(function(){d("MAWCutoverQPLLogger").addPoint(l,"thread_point_query_succeeded"),c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(f))),g===!0&&c("QPLUserFlow").endSuccess(c("qpl")._(1056847893,"505"))})["catch"](function(a){d("MAWCutoverQPLLogger").endFailure(l,"TPQFailure");a="[Thread-Point-Query][OD-Cutover] LSThreadPointQueryAndRestoreMessagesWithJID finished with an error for ThreadKey: "+(i||(i=d("I64"))).to_string(f)+"\nError: "+a;c("promiseDone")(d("WALoggerDeferred").LOG(j(),a));g===!0&&c("QPLUserFlow").endFailure(c("qpl")._(1056847893,"505"),a)})});return function(b){return a.apply(this,arguments)}}())},[a])}function n(a,b){var c=d("LSThreadAttributionStore").getSource(void 0,(i||(i=d("I64"))).to_string(b));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown")return c.value;c=d("LSThreadAttributionStore").getSource(void 0,i.to_string(a));if(c.type==="MWLSEntrypoint"&&c.value!=="unknown"){d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(b),c.value);return c.value}return void 0}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1],e=[],f=[];return d.sequence([function(f){return d.sequence([function(f){return c("gkx")("7876")?d.resolve():(e[3]=new d.Map(),e[3].set("bump_timestamp_ms",a[1]),e[3].set("thread_key",a[0]),e[3].set("bumped_by_local_device_send",a[2]),e[3].set("tam_thread_subtype",d.i64.cast([0,0])),e[3].set("wa_jid",void 0),e[3].set("message_ephemeral_duration_in_sec",d.i64.cast([0,0])),e[3].set("message_product_type",void 0),e[3].set("is_message_deletion",!1),e[3].set("is_unbump",a[3]),e[4]=e[3].get("thread_key"),d.storedProcedure(b("LSCancelTaskByQueueName"),d.i64.to_string(e[4]),d.i64.cast([0,389])))},function(c){return e[0]=new d.Map(),e[0].set("bump_timestamp_ms",a[1]),e[0].set("thread_key",a[0]),e[0].set("bumped_by_local_device_send",a[2]),e[0].set("tam_thread_subtype",d.i64.cast([0,0])),e[0].set("wa_jid",void 0),e[0].set("message_ephemeral_duration_in_sec",d.i64.cast([0,0])),e[0].set("message_product_type",void 0),e[0].set("is_message_deletion",!1),e[0].set("is_unbump",a[3]),e[1]=e[0].get("thread_key"),e[2]=d.toJSON(e[0]),d.storedProcedure(b("LSIssueNewTask"),d.i64.to_string(e[1]),d.i64.cast([0,389]),e[2],void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]),void 0,void 0,d.i64.cast([0,0]),d.i64.cast([0,0]))}])},function(a){return d.resolve(f)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxBumpE2EEMetadataThreadStoredProcedure";a.__tables__=[];d=a;g["default"]=d}),98);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBumpE2EEMetadataThread"),e.threadKey,e.serverAuthoritativeTimestampMs,e.bumpedByLocalDeviceSend,e.isUnbump);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSClearMessagePlaceholderRangeStoredProcedure",["LSClearMessagePlaceholderRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSClearMessagePlaceholderRange"),e.threadKey,e.messageId,e.maxTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInsertNewMessageRangeStoredProcedure",["LSInsertNewMessageRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertNewMessageRange"),e.threadKey,e.newMinTs,e.newMaxTs,e.newMinMid,e.newMaxMid,e.lowerOverlap,e.upperOverlap,e.hasMoreBefore,e.hasMoreAfter,e.requestedMessageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJID",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("wa_jid"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,1021]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure",["LSSynchronousPromise","LSThreadPointQueryAndRestoreMessagesWithGroupJID","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSThreadPointQueryAndRestoreMessagesWithGroupJID"),e.waJid);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_self_remove",!1),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateE2EEMetadataParticipantsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSSynchronousPromise","LSUpdateE2EEMetadataParticipants","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateE2EEMetadataParticipants"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:b.i64.cast([2328,1316134911]),hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1,lastLoadedMessageId:a[4]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpsertAttachmentRangeStoredProcedure";a.__tables__=["attachments_ranges_v2__generated"];e.exports=a}),null);
__d("LSUpsertAttachmentRangeStoredProcedure",["LSSynchronousPromise","LSUpsertAttachmentRange","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpsertAttachmentRange"),e.threadKey,e.mediaGroup,e.newMinTs,e.hasMoreBefore,e.newLastLoadedMessageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),i=null;function a(){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){i=(yield h.load());return l});return j.apply(this,arguments)}function k(a){return new(c("nullthrows")(i))().tokenize(a)}function l(a,b){a=Array.from(k(a)).filter(function(a){return a.length>1});if(a.length===0)return!1;var c=Array.from(k(b));return a.every(function(a){return c.some(function(b){return b.startsWith(a)})})}g.load=a}),98);
__d("waitForMiActMappingForUniversalSearch",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWCurrentUser","Promise","ReQL","WAJids","asyncToGeneratorRuntime","emptyFunction","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=3e4,k=3e4;function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").toArrayAsync(a));return a.some(function(a){return a==null||(i||(i=d("I64"))).lt(a.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))})===!1});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f===void 0&&(f=c("emptyFunction"));g===void 0&&(g=c("emptyFunction"));var h=(i||(i=d("I64"))).of_string(d("MAWCurrentUser").getID()),j=d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e.serverThreadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,h)}),d("ReQL").fromTableAscending(a.tables.contacts)).map(function(a){a[0];a=a[1];return a}),m=null,n={contents:function(){}};function o(){f(e),n.contents()}if(yield l(j))return o();n.contents=j.subscribe(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.operation==="delete")return;m!=null&&window.clearTimeout(m);if(yield l(j))return o()});return function(b,c){return a.apply(this,arguments)}}());m=window.setTimeout(function(){n.contents(),g(c("err")("Contacts timed out"))},k)});return o.apply(this,arguments)}function a(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(i||(i=d("I64"))).of_string(d("WAJids").threadIdForChatJid(e)),k=d("WAJids").interpretAsGroupJid(e)!=null,l=d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(g);e=(yield d("ReQL").firstAsync(l));if(e!=null){yield n(a,e);return(h||(h=b("Promise"))).resolve(e)}var m=null,o=new(h||(h=b("Promise")))(function(d,e){var f={contents:function(){}};function g(a){f.contents(),d(a)}function h(a){f.contents(),e(a)}f.contents=l.subscribe(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,c){if(c.operation==="delete")return;m!=null&&window.clearTimeout(m);yield n(a,c.value,g,h)});return function(a,b){return c.apply(this,arguments)}}());m=window.setTimeout(function(){h(c("err")("MiActMapping timed out"))},j)});c("promiseDone")(a.runInTransaction(function(a){return k?c("LSThreadPointQueryAndRestoreMessagesWithGroupJIDStoredProcedure")(c("LSFactory")(a),{waJid:g}):c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:g})},"readwrite",void 0,void 0,f.id+":148"));try{e=(yield o)}catch(a){c("FBLogger")("mw_message_search").warn("Issue waiting for mi_act_mapping to be ready",a)}return e});return p.apply(this,arguments)}g["default"]=a}),98);
__d("MAWBridgeAddMessageSearchResultHandler",["I64","JSResourceForInteraction","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWFTSRawStringMatcher","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","isMAWUniversalSearchWithEBEnabled","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("JSResourceForInteraction")("MWInboxSecureContentSearch").__setRef("MAWBridgeAddMessageSearchResultHandler"),l=c("JSResourceForInteraction")("addMAWBridgeSearchMessagesToUniversalSearch").__setRef("MAWBridgeAddMessageSearchResultHandler"),m=(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),n=j.ofNumber(c("LSMessageSearchType").THREAD);function a(a,d,e){return e.length===0?(h||(h=b("Promise"))).resolve():(h||(h=b("Promise"))).all([q(a,d,e),s(a,d,e)]).then(c("emptyFunction"))}function o(a,b){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=(yield d("MAWFTSRawStringMatcher").load());return b.filter(function(b){b=(b=b.msg)==null?void 0:b.content;return b==null?!1:c(a,b)})});return p.apply(this,arguments)}function q(a,b,c){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.message_search_queries).getKeyRange(m)));if(g.length===0)return;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(e,f[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(e,h){return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=g.filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,h)})[0];if(b==null)return;var c=b.query;if(c==null||c.length<2)return;var j=(i||(i=d("I64"))).to_int32(b.resultCount);c=(yield o(c,f));if(c.length===0)return;var l=(yield k.load());l=l.addBridgeSearchMsgsToSearchResult;yield l(a,e,b.query,c,j+c.length,i.of_string(d("MAWCurrentUser").getID()))})().then(c("emptyFunction"))})});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(!c("isMAWUniversalSearchWithEBEnabled")())return;var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.message_search_queries).getKeyRange(n).filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,i.one)})));if(f==null)return;var g=f.query;if(g==null||g.length<2)return;var h=(yield o(g,e));if(h.length===0)return;var j=(yield l.load());yield c("waitForMiActMappingForUniversalSearch")(a,e[0].chatJid);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(b,e[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(b,c){return j(a,b,c,g,h,f)})});return t.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeBuildThreadSnippet",["MAWAdminMsg","MAWBridgeBuildMsgMentions","MAWLocalizationType","MAWVault","first","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a!=null?d("MAWVault").unvault(a):void 0}function i(a,b,c){if(a==null)return b;b=[].concat(b);switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:b[0]=a;break}return b}function j(a){return a.replace(/\$/g,"$$$$")}function a(a,b){var e=a.snippetContactIDs,f=a.snippetMentionJIDs,g=a.snippetParams,k=a.snippetSenderContactId;a=a.snippetType;if(g==null||a==null||e==null)return b;k!=null&&!e.includes(k)&&c("justknobx")._("3140")&&e.push(k);b=h(c("first")(g));k=d("MAWBridgeBuildMsgMentions").buildThreadSnippetWithMentions(b==null?null:j(b),f,e,a);b=k[0];f=k[1];return d("MAWAdminMsg").buildLocalizedString(i(b,g,a),f,a)}g.buildBridgeThreadSnippet=a}),98);
__d("MAWBridgeCallRestoreNativeOpHandler",["I64","Promise","WAJids","WALogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to call restore native op - echo and protobuf messages are both null"]);j=function(){return a};return a}var k=c("requireDeferred")("LSProtobufRestoreHandler").__setRef("MAWBridgeCallRestoreNativeOpHandler"),l=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("MAWBridgeCallRestoreNativeOpHandler");function a(a,c){var e=c.chatJid,f=c.decryptedMessagesProtobufs,g=c.echoMessages,m=c.hasMoreAfter,n=c.hasMoreBefore,o=c.isPointQuery,p=c.nextMessageTimestampMsAfter,q=c.nextMessageTimestampMsBefore,r=c.referenceTimestamp,s=c.requestId,t=c.taskSource;if(f!=null)return k.load().then(function(a){return a.handleProtobufRestoreHelper(d("WAJids").threadIdForChatJid(e),void 0,f,n,q,m,p,o,s,r,void 0,void 0,t,e)});else if(g!=null)return l.load().then(function(c){return c(a,0,(i||(i=d("I64"))).zero,g,n,q,m,p,o,d("WAJids").threadIdForChatJid(e),s,r,t,e).then(function(){return(h||(h=b("Promise"))).resolve()})});else d("WALogger").ERROR(j());return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("getMAWLastMessageCtaType",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:return"xma_rtc_missed_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:return"xma_rtc_missed_group_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:return"xma_rtc_missed_video";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:return"xma_rtc_missed_group_video"}}g["default"]=a}),98);
__d("MAWBridgeCentralizedThreadUpdateHandler",["FBLogger","I64","LSAuthorityLevel","LSBumpE2EEMetadataThreadStoredProcedure","LSDatabaseSingleton","LSFactory","LSIntEnum","LSOptimisticMarkThreadReadV2StoredProcedure","MAWBridgeBuildThreadSnippet","MAWBridgeFireAndForget","MAWChatJid","MAWLogAuthThreadWith0LAT","MAWMiActGetThreadLifecycleState","MAWODSProxy","MAWThreadBumpType","MAWThreadUpdateMiddlewareGatingUtil","MAWThreadUpdateType","ODS","ReQL","WAJids","WALoggerDeferred","WAOdsEnums","WATimeUtils","asyncToGeneratorRuntime","getMAWLastMessageCtaType","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Starting Thread Update on "," via middleware. threadKey: ",", authorityLevel: ",", lastActivityTimestampMs: ",", bumpTimestampMs: ",", bumpedByLocalDeviceSend: ",", bumpType: ",", threadUpdateType: ",", isUnbump: ",", isThrottled: "," from ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo][Middleware] Updated thread via middleware. threadKey: ",", bumpTimestampMs: ",",\n    original lastActivityTimestampMs: ","\n    , bumpedByLocalDeviceSend: ",", bumpType: ",", threadUpdateType: ",",  from ",""]);m=function(){return a};return a}function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("MAWChatJid").toThreadMaybe(a,b.jid));if(e==null){var f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWChatJid").toIntegerJid(b.jid),"MAWBridgeCentralizedThreadUpdateHandler"));c("FBLogger")("CentralizedThreadUpdate").mustfix("[Occamadillo][Middleware] missing thread for bumping jid: %s with thread state: %s",b.jid,f.type);return}return(h||(h=d("I64"))).lt(e.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&c("justknobx")._("2684")?B(e,b):o(a,e,b)});return n.apply(this,arguments)}function o(a,b,c){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=b;b=f;b=b.threadKey;var g=e.author,i=e.bumpedByLocalDeviceSend,k=e.bumpTimestampMs,l=e.threadUpdateType;if(l===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.NO_SNIPPET_OR_ACTIVITY_TS_UPDATE)return;var m=f.lastActivityTimestampMs;x(e,f,"Local",e.isUnbump,e.threadBumpType);if((h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).zero)){var n;E("zero_last_activity_timestamp");var o=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f.threadKey).take(5))),p=o.length;o=o.map(function(a){return(h||(h=d("I64"))).to_string(a.displayedContentTypes)}).join(",");c("FBLogger")("CentralizedThreadUpdate").warn("[Occamadillo][Middleware] Encountered lastActivityTs == 0 for thread jid : %s with authority level: %s, threadType : %s, threadStatus : %s, folderType : %s, numMsgs (limit 5): %s and msgContentTypes: [%s]",e.jid,(h||(h=d("I64"))).to_string(f.authorityLevel),h.to_string(f.threadType),h.to_string((n=f.threadStatus)!=null?n:(h||(h=d("I64"))).neg_one),f.folderName,p,o)}n=y(e,m);p=n.isUnbump;o=n.threadBumpType;if(l===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.BUMP_THREAD||l===d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD||p){E("bump_on_local");(!c("gkx")("8410")||p)&&(f=s(p,k,f),l!==d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD&&(f=u(k,f,p)));n=z(g,i,o,k,m,f.threadKey);if(n){g={readWatermarkTimestampMs:k,threadKey:b};n={bumpedByLocalDeviceSend:i,isUnbump:p,serverAuthoritativeTimestampMs:k,threadKey:b};(j||(j=d("ODS"))).bumpEntityKey(3185,"maw_tc_server_thread_bump",""+((i=e.centralizedThreadSnippetData.snippetType)!=null?i:"undefined"));x(e,f,"Server",p,o);yield q(c("LSFactory")(a),g,n,l)}}var r=v(e.centralizedThreadSnippetData,f);d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(r,"MAWBridgeCentralizedThreadUpdateHandler");return a.threads.put(r).then(function(){f!=null&&w(e,m,r)})});return p.apply(this,arguments)}function q(a,b,c,d){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){!c("gkx")("8410")&&f!==d("MAWThreadUpdateType").THREAD_UPDATE_TYPE.MARK_THREAD_AS_UNREAD&&(E("mark_thread_as_read_on_server"),yield c("LSOptimisticMarkThreadReadV2StoredProcedure")(a,b));E("bump_on_server");return c("LSBumpE2EEMetadataThreadStoredProcedure")(a,e)});return r.apply(this,arguments)}function s(a,b,c){return!t(a,b,c)?c:babelHelpers["extends"]({},c,{lastActivityTimestampMs:b})}function t(a,b,c){return a?(h||(h=d("I64"))).lt(b,c.lastActivityTimestampMs):(h||(h=d("I64"))).gt(b,c.lastActivityTimestampMs)}function u(a,b,c){return!c&&(h||(h=d("I64"))).lt(a,b.lastReadWatermarkTimestampMs)?b:babelHelpers["extends"]({},b,{lastReadWatermarkTimestampMs:a})}function v(a,b){if(c("gkx")("6478"))return b;var e=a.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(a.snippetSenderContactId):(h||(h=d("I64"))).zero,f=c("getMAWLastMessageCtaType")(a.snippetType);a=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(a,b.snippet);return babelHelpers["extends"]({},b,{lastMessageCtaType:f,snippet:a,snippetSenderContactId:e})}function w(a,b,e){c("promiseDone")(d("WALoggerDeferred").LOG(m(),(h||(h=d("I64"))).to_string(e.threadKey),h.to_string(e.lastActivityTimestampMs),h.to_string(b),a.bumpedByLocalDeviceSend,a.threadBumpType,a.threadUpdateType,a.description))}function x(a,b,e,f,g){e=[e,(h||(h=d("I64"))).to_string(b.threadKey),h.to_string(b.authorityLevel),h.to_string(b.lastActivityTimestampMs),h.to_string(a.bumpTimestampMs),a.bumpedByLocalDeviceSend,g,a.threadUpdateType,f,a.isThrottled,a.description];c("promiseDone")(d("WALoggerDeferred").LOG(l(),e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10]));(b=c("FBLogger")("CentralizedThreadUpdate")).info.apply(b,["[Occamadillo][Middleware] Starting Thread Update on %s with threadKey: %s, authority level: %s, lastActivityTimestampMs : %s, bumpTimestampMs : %s, bumpedByLocalDeviceSend : %s, bumpType : %s, threadUpdateType : %s, isUnbump : %s, isThrottled : %s from %s"].concat(e))}function y(a,b){var e=c("justknobx")._("3068");if(e)return{isUnbump:a.isUnbump,threadBumpType:a.threadBumpType};e=(h||(h=d("I64"))).lt(a.bumpTimestampMs,b);if(a.isThrottled&&e){switch(a.tableName){case"messages":E("unbump_from_message_in_throttle");break;case"reactions":E("unbump_from_reaction_in_throttle");break;default:E("unbump_from_throttle")}e=a.tableName==="reactions";e&&d("MAWThreadUpdateMiddlewareGatingUtil").isPeristedUnbumpEnabled()&&d("MAWBridgeFireAndForget").fireAndForget("backend","unbumpThread",{incomingUnbumpFromTs:d("WATimeUtils").castToMillisTime((h||(h=d("I64"))).to_float(b)),threadJid:a.jid});return{isUnbump:!0,threadBumpType:d("MAWThreadBumpType").THREAD_BUMP_TYPE.LOCAL_ONLY}}return{isUnbump:a.isUnbump,threadBumpType:a.threadBumpType}}function z(a,b,e,f,g,i){if(e!==d("MAWThreadBumpType").THREAD_BUMP_TYPE.LOCAL_AND_SERVER)return!1;if(A(a,b)){c("FBLogger")("CentralizedThreadUpdate").info("[Occamadillo][Middleware] Skipping receiver bump for own message on thread %s",(h||(h=d("I64"))).to_string(i));return!1}e=c("justknobx")._("2047");if(e){E("check_if_bump_is_newer_than_current_activity");a=(h||(h=d("I64"))).gt(f,g);a||E("server_bump_prevented");return a}return!0}function A(a,b){return!d("MAWThreadUpdateMiddlewareGatingUtil").isFixEnabledForUnthrottlingOutgoingMsgs()?!1:a!=null&&d("WAJids").isAuthorMe(a)&&b===!1}function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield (k||(k=d("LSDatabaseSingleton"))).LSDatabaseSingleton);E("wait_for_authoritative_thread_start");D(a.threadKey,e,function(a){E("wait_for_authoritative_thread_end");var g=(h||(h=d("I64"))).to_float(a.lastActivityTimestampMs);E("ts_of_authoritative_thread_after_wait_"+(g>0?"gt_0":"eq_0"));c("promiseDone")(e.runInTransaction(function(c){return o(c,a,b)},"readwrite",void 0,void 0,f.id+":546"))});return});return C.apply(this,arguments)}function D(a,b,e){var f=d("ReQL").fromTableAscending(b.tables.threads).getKeyRange(a).subscribe(function(a,b){if(b.operation==="delete")return;a=b.value;if((h||(h=d("I64"))).lt(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;e(a);return f()})}function E(a){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:a})}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["LSThreadBitOffset","MAWLogAuthThreadWith0LAT","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeDeleteGroupInviteHandler",function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e,f){var g=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.group_invites).getKeyRange(f)));return(h||(h=b("Promise"))).all(g.map(function(a){return e.group_invites["delete"](a.threadKey,a.inviterId,a.inviteeId)})).then(function(){if(!c("justknobx")._("1162"))return;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)),function(b){if(b==null)return;var c=d("LSThreadBitOffset").clear([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),e=c[0],f=c[1],g=c[2],h=c[3];c=c[4];d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(b,"MAWBridgeDeleteGroupInviteHandler");return a.threads.put(babelHelpers["extends"]({},b,{capabilities:e,capabilities2:f,capabilities3:g,capabilities4:h,capabilities5:c,snippet:void 0}))})})});return function(a,b){return e.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteMessageRangesV2Handler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeDeleteMessageRangesV2Handler",function(a,c){return a.messages_ranges_v2__generated["delete"](c,(h||(h=d("I64"))).of_float(b.minTimestampMs),b.minMsgId)})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["I64","LSMessageSendStatus","MAWChatJid","Promise","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return{messageContent:a.msgContent.content,originalMessagePk:a.originalMsgId,pk:a.editMsgHistoryId,sendStatus:a.sendStatus!=null?(i||(i=d("I64"))).of_int32(a.sendStatus):(i||(i=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(i||(i=d("I64"))).of_int32(a.editTs),threadKey:b}}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield d("MAWChatJid").toThreadKey(a.tables,c.threadJid,"MAWBridgeEditMsgHistoryAddedHandler"));c=j(c,a);return b.edit_message_history.put(c)});return l.apply(this,arguments)}function a(a,d,e){return(h||(h=b("Promise"))).all(e.map(function(b){return k(a,d,b)})).then(c("emptyFunction"))}g.composeEditHistoryMsg=j;g.call=a}),98);
__d("MAWBridgeFulfillRestorePromisePayloadHandler",["MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a.success?(d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(a.value.traceId),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(a.value.traceId)):(d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a.error.traceId,c("err")(a.error.message)),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a.error.traceId));return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["I64","MAWMiActOnMiThreadReadyForJid","ODS","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["\n            [Occamadillo] missing thread for updating group\n            with threadKey: ",""]);j=function(){return a};return a}function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.chatJid,"MAWBridgeGroupInfoUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f;f=(f=e.threadName)!=null?f:void 0;a=a.threads;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b)));if(g==null){(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_group_info_update","missing_thread");c("promiseDone")(d("WALoggerDeferred").WARN(j(),(i||(i=d("I64"))).to_string(b)));return}b=e.memberAddMode!=="all_member_add";yield a.put(babelHelpers["extends"]({},g,{needsAdminApprovalForNewParticipant:b,threadName:f}))});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime","justknobx"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=a.threads,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f).getKeyRange(e)));if(g==null)return;var j=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);if(!j)return;j=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(e)));if(j==null){c("justknobx")._("1162")&&(yield f.put(babelHelpers["extends"]({},g,{additionalThreadContext:void 0})));return}e=(i||(i=d("I64"))).equal((i||(i=d("I64"))).of_string(b.actorId),j.inviterId)?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(j.inviterId));if(e==null)return;b=h._(/*BTDS*/"__JHASH__UJFQkCMRFkv__JHASH__",[h._param("Inviter Name",e.name)]).toString();a=g.folderName==="inbox"?h._(/*BTDS*/"__JHASH__4F6x7gUU1-S__JHASH__").toString():g.additionalThreadContext;yield f.put(babelHelpers["extends"]({},g,{additionalThreadContext:a,snippet:b}))});return k.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeGroupInviteLoadedHandler",function(a,c){return j(a,b,c)})}g.callWithoutWaitingForAnything=j;g.call=a}),226);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWUpdateLSThreadCapabilities","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,f,g)]).then(c("emptyFunction"))})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,c){return a.attachments["delete"](c,b.msgId,String(b.plaintextHash))})}g.call=a}),98);
__d("MAWBridgeMsgRangeLoadedHandler",["I64","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["No messages found for thread "," with message id ",""]);j=function(){return a};return a}function a(a,e){if(e.rangeExtensionType==null){d("WALogger").ERROR(j(),e.threadJid,e.offsetMsgId);return(i||(i=b("Promise"))).resolve()}return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeMsgRangeLoadedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f,g,i,j,k,l;f=((f=e.rangeExtensionType)==null?void 0:f.minMsgTs)!=null?(h||(h=d("I64"))).of_float(e.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((g=e.rangeExtensionType)==null?void 0:g.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(e.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(i=(i=e.rangeExtensionType)==null?void 0:i.minMsgId)!=null?i:"";j=(j=(j=e.rangeExtensionType)==null?void 0:j.maxMsgId)!=null?j:"";k=(k=(k=e.rangeExtensionType)==null?void 0:k.hasMoreBefore)!=null?k:!1;l=(l=(l=e.rangeExtensionType)==null?void 0:l.hasMoreAfter)!=null?l:!1;var m=e.offsetMsgId;yield c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:l,hasMoreBefore:k,lowerOverlap:f,newMaxMid:j,newMaxTs:g,newMinMid:i,newMinTs:f,requestedMessageId:m,threadKey:b,upperOverlap:g})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeMsgUpdatedHandler",["FBLogger","MAWAdminMsgCTA","MAWMiActOnMiThreadReadyForJid","MAWMsgReplySnippet","MAWUpdateMsg","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.chatJid,"MAWBridgeMsgUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f,g=(yield (f=d("ReQL")).firstAsync(f.fromTableAscending(a.messages.index("messageId")).getKeyRange(e.msgId)));f=(yield f.firstAsync(f.fromTableAscending(a.attachments).getKeyRange(b,e.msgId)));if(g==null){c("FBLogger")("messenger_e2ee_web").info("existing message is null for type %s, and attachment is null: %s",e.type_,f==null);return}f=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,b,e));b=(yield d("MAWMsgReplySnippet").getReplySnippet(e));return d("MAWUpdateMsg").call(a,e,g,f,b)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeMsgsLoadedHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.chatJid,"MAWBridgeMsgsLoadedHandler",function(a,e){return c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:e}).then(function(){if(c("gkx")("23927")){var f,g,i,j,k,l,m,n;f=(f=(f=b.rangeExtensionType)==null?void 0:f.hasMoreBefore)!=null?f:!1;g=(g=(g=b.rangeExtensionType)==null?void 0:g.hasMoreAfter)!=null?g:!1;i=f&&((i=b.rangeExtensionType)==null?void 0:i.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;j=g&&((j=b.rangeExtensionType)==null?void 0:j.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;k=(k=(k=b.rangeExtensionType)==null?void 0:k.minMsgId)!=null?k:"";l=(l=(l=b.rangeExtensionType)==null?void 0:l.maxMsgId)!=null?l:"";m=((m=b.rangeExtensionType)==null?void 0:m.rangeKind)==="before"?i:d("MAWTimeUtils").MIN_TIMESTAMP_MS;n=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="after"?j:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:g,hasMoreBefore:f,lowerOverlap:m,newMaxMid:l,newMaxTs:j,newMinMid:k,newMinTs:i,threadKey:e,upperOverlap:n})}else{f=((g=b.rangeExtensionType)==null?void 0:g.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;l=((m=b.rangeExtensionType)==null?void 0:m.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(k=(j=b.rangeExtensionType)==null?void 0:j.minMsgId)!=null?k:"";m=(g=(n=b.rangeExtensionType)==null?void 0:n.maxMsgId)!=null?g:"";k=((j=b.rangeExtensionType)==null?void 0:j.rangeKind)==="extensionBefore"?f:d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="extensionAfter"?l:d("MAWTimeUtils").MAX_TIMESTAMP_MS;j=(n=(j=b.rangeExtensionType)==null?void 0:j.hasMoreBefore)!=null?n:!1;n=(n=(n=b.rangeExtensionType)==null?void 0:n.hasMoreAfter)!=null?n:!1;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:n,hasMoreBefore:j,lowerOverlap:k,newMaxMid:m,newMaxTs:l,newMinMid:i,newMinTs:f,threadKey:e,upperOverlap:g})}})})}g.call=a}),98);
__d("MAWBridgeNewMediaRangeHandler",["I64","LSFactory","LSIntEnum","LSUpsertAttachmentRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeNewMediaRangeHandler",function(a,e){var f=c("gkx")("2616")===!0?(h||(h=d("I64"))).of_float(b.earliestLoadedMediaTs):(h||(h=d("I64"))).of_int32(b.earliestLoadedMediaTs),g=b.hasMoreBefore,j=b.mediaGalleryGroup;return c("LSUpsertAttachmentRangeStoredProcedure")(c("LSFactory")(a),{hasMoreBefore:g,mediaGroup:(i||(i=d("LSIntEnum"))).ofNumber(j),newLastLoadedMessageId:b.lastLoadedMessageId,newMinTs:f,threadKey:e})})}function a(a,b){return j(a,b).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){if(c("qex")._("327")===!0)return!0;else return c("qex")._("121")===!0}function a(a){if(k())return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(42),a);else return a}function b(a){return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(4),a)}e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(18),d("LSBitOffset").set(j.ofNumber(56),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").empty)))))));f=a(b(d("LSBitOffset").set(j.ofNumber(7),d("LSBitOffset").set(j.ofNumber(6),d("LSBitOffset").set(j.ofNumber(9),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(19),d("LSBitOffset").set(j.ofNumber(35),d("LSBitOffset").set(j.ofNumber(3),d("LSBitOffset").set(j.ofNumber(43),e))))))))));a=d("LSBitOffset").set(j.ofNumber(17),d("LSBitOffset").set(j.ofNumber(60),d("LSBitOffset").set(j.ofNumber(16),d("LSBitOffset").set(j.ofNumber(26),d("LSBitOffset").set(j.ofNumber(28),d("LSBitOffset").clear(j.ofNumber(27),f))))));b=d("LSBitOffset").set((i||(i=d("I64"))).sub(j.ofNumber(103),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(85),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(109),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(74),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(65),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(64),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(106),i.of_string("64")),d("LSBitOffset").empty)))))));e=h._(/*BTDS*/"__JHASH__9ZFn8zMzjpf__JHASH__").toString();h=d("LSBitOffset").set(i.sub(j.ofNumber(172),i.of_string("64")),d("LSBitOffset").empty);g.defaultThreadCapabilities=f;g.defaultGroupThreadCapabilities=a;g.defaultThreadCapabilities_2=b;g.nullstateDescriptionText1=e;g.defaultThreadCapabilities_3=h;g.defaultThreadCapabilities_4=d("LSBitOffset").empty;g.defaultThreadCapabilities_5=d("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["DateConsts","FBLogger","I64","LSAuthorityLevel","LSCoreClientFolderType","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","MAWBridgeFireAndForget","MAWCreateOptimisticThread","MAWFolderUtils","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActThreadLifecycleState","MAWThreadDefaults","MAWThreadUpdateMiddlewareGatingUtil","MAWTimeUtils","Promise","WAJids","WALoggerDeferred","WATimeUtils","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread loading complete: jid ",", threadKey ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] New authoritative thread: jid ",", threadKey: ","), state: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Authoritative thread not found for clientThreadPk: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Thread is missing in Occamadillo verify thread exists"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Last activity timestamp = 0 from MI for thread: ",", using local state timestamp: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",",\n  description: ",""]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] Notifying MI server about thread: jid ",", state: ",". "]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] folder ID supplied to Occamadillo verify thread exists handler is not a valid system folder: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occam] no folder ID was supplied to Occamadillo verify thread exists handler"]);s=function(){return a};return a}function t(a){return(j||(j=d("I64"))).of_string(d("WAJids").threadIdForChatJid(a))}function u(a){var b=null;if(a==null)c("promiseDone")(d("WALoggerDeferred").WARN(s()));else try{b=d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a)}catch(e){b=null,c("promiseDone")(d("WALoggerDeferred").WARN(r(),a))}b==null&&(b=(j||(j=d("I64"))).of_int32(c("LSCoreClientFolderType").INBOX));return b}function v(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero)?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=b.clientThreadKey;b=b.numericJid;yield a.mi_act_mapping_table.put({clientThreadPk:b,jid:b,serverThreadKey:c})});return x.apply(this,arguments)}function y(a,b,c){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=t(e.jid),i=d("MAWThreadUpdateMiddlewareGatingUtil").isNewMiThreadCreationFlowEnabled("exposure_logging_enabled","not_specifically_incoming_or_outgoing");if(e.clientThreadKey==null){if(!i){var k=(yield d("MAWCreateOptimisticThread").createOptimisticThread(a));yield (h||(h=b("Promise"))).all([w(a,{clientThreadKey:k,numericJid:g}),A(a,{clientThreadKey:k,mawThread:e,numericJid:g,threadLifecycleState:f})])}}else{k=(j||(j=d("I64"))).of_string(e.clientThreadKey);yield w(a,{clientThreadKey:k,numericJid:g});i?yield c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(a),{waJid:g}):yield A(a,{clientThreadKey:k,mawThread:e,numericJid:g,threadLifecycleState:f})}});return z.apply(this,arguments)}function A(a,b){var e=b.clientThreadKey,f=b.mawThread,g=b.numericJid;b=b.threadLifecycleState;c("promiseDone")(d("WALoggerDeferred").LOG(q(),f.jid,b.type));b=c("LSFactory")(a);a=v(f.lastActivityTs);var h=u(f.folder),k=f.isGroup?(i||(i=d("LSIntEnum"))).ofNumber(16):(i||(i=d("LSIntEnum"))).ofNumber(15),l=(j||(j=d("I64"))).to_string(e),m=f.description;c("promiseDone")(d("WALoggerDeferred").LOG(p(),l,j.to_string(a),m));l=d("WATimeUtils").millisTime();var n=j.to_float(a);Math.abs(n-l)<d("DateConsts").MS_PER_SEC&&c("FBLogger")("messenger_e2ee_web").warn("[GetOrCreateThread] bumpTimestampMs is too close to now. bumpTimestampMs: %s, lastActivityTs: %s, now: %s, description: %s",n,f.lastActivityTs,l,m);return c("LSCreateE2EEMetadataThreadStoredProcedure")(b,{bumpTimestampMs:a,createdByLocalDevice:null,folderType:h,offlineThreadKey:e,threadType:k,waJid:g})}function B(a,b,e){a=a;(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero)&&(c("promiseDone")(d("WALoggerDeferred").WARN(o(),(j||(j=d("I64"))).to_string(e),j.to_string(b))),a=b);return a}var C=[105,17,25,24];function D(a,b){var c=C.filter(function(b){return d("LSThreadBitOffset").has(b,a)}),e=61,f=d("LSThreadBitOffset").has(e,a);f&&c.push(e);return d("LSThreadBitOffset").set(c,b?d("MAWThreadDefaults").defaultGroupThreadCapabilities:d("MAWThreadDefaults").defaultThreadCapabilities,d("MAWThreadDefaults").defaultThreadCapabilities_2,d("MAWThreadDefaults").defaultThreadCapabilities_3,d("MAWThreadDefaults").defaultThreadCapabilities_4,d("MAWThreadDefaults").defaultThreadCapabilities_5)}function E(a,b,c){return F.apply(this,arguments)}function F(){F=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.threads.get(e));if(g==null){c("promiseDone")(d("WALoggerDeferred").ERROR(n()));return(h||(h=b("Promise"))).resolve()}var i=f.clientThreadKey!=null?(j||(j=d("I64"))).of_string(f.clientThreadKey):g.clientThreadKey,k=B(g.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(f.lastActivityTs),e);f=D(g,f.isGroup);return a.threads.upsert([e],babelHelpers["extends"]({},g,{capabilities:f[0],capabilities2:f[1],capabilities3:f[2],capabilities4:f[3],capabilities5:f[4],clientThreadKey:i,lastActivityTimestampMs:k}))});return F.apply(this,arguments)}function G(a,b,c){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){yield a.mi_act_mapping_table.put({clientThreadPk:t(d.jid),jid:t(d.jid),serverThreadKey:c}),yield (h||(h=b("Promise"))).all([E(a,c,d),I(a,c,d)])});return H.apply(this,arguments)}function I(a,b,c){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(c.clientThreadKey!=null){c=(j||(j=d("I64"))).of_string(c.clientThreadKey);(j||(j=d("I64"))).equal(b,c)||(yield a.threads["delete"](c))}});return J.apply(this,arguments)}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.threads.get(e));g!=null&&(j||(j=d("I64"))).to_int32(g.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE&&(yield (h||(h=b("Promise"))).all([E(a,e,f),I(a,e,f)]));g==null&&c("promiseDone")(d("WALoggerDeferred").LOG(m(),t(f.jid)))});return L.apply(this,arguments)}function M(a,b){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(j||(j=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b.jid)),f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJidOrThreadKey(a,e,b.authoritativeThreadKey,"MAWBridgeOccamadilloVerifyThreadExistsHandler"));e=(e=b.description)!=null?e:"unknown";switch(f.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:return y(a,b,f).then(function(){return{previousState:f.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:var g=(j||(j=d("I64"))).to_string(f.serverThreadKey);c("promiseDone")(d("WALoggerDeferred").LOG(l(),b.jid,g,f.type));return G(a,f.serverThreadKey,b).then(function(){return{previousState:f.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:g=(j||(j=d("I64"))).to_string(f.serverThreadKey);c("promiseDone")(d("WALoggerDeferred").LOG(k(),b.jid,g));return K(a,f.serverThreadKey,b).then(function(){return{previousState:f.type}});case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[Occam] Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",f.type,b.jid,e);default:f.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[Occam] Unhandled VerifyThreadExists state: %s for JID: %s, from %s",f.type,b.jid,e)}});return N.apply(this,arguments)}function O(a,b,c){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield a.threads.get(b));if(a!=null){a={ephemeralExpirationInSec:(j||(j=d("I64"))).to_int32((b=a.disappearingSettingTtl)!=null?b:(j||(j=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(j.to_float((b=a.disappearingSettingUpdatedTs)!=null?b:(j||(j=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:c,settings:a})}});return P.apply(this,arguments)}function a(a,b){return Q.apply(this,arguments)}function Q(){Q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield M(a,b));e=e.previousState;if(b.clientThreadKey!=null){var f=(j||(j=d("I64"))).of_string(b.clientThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(f,b.jid,b.description))}if(b.authoritativeThreadKey!=null){f=(j||(j=d("I64"))).of_string(b.authoritativeThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(f,b.jid,b.description))}f=(f=b.authoritativeThreadKey)!=null?f:b.clientThreadKey;if(f!=null&&e!==d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE){e=(j||(j=d("I64"))).of_string(f);yield O(a,e,b.jid)}return});return Q.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWLogAuthThreadWith0LAT","MAWMessageRequestUtil","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","WADbContact","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeOneToOneMessageRequestLoadedHandler",function(a,f){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)).then(function(c){if(c==null)return(k||(k=b("Promise"))).resolve([void 0,void 0,void 0,!1]);var f=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((i||(i=d("I64"))).of_string(e.fbid)));return(k||(k=b("Promise"))).all([k.resolve(c),f,k.resolve(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType))])}).then(function(e){var f=e[0];if(f==null)return(k||(k=b("Promise"))).resolve();var g=e[1];if(g==null)return(k||(k=b("Promise"))).resolve();e=e[2];if(e===!1||e==null)return(k||(k=b("Promise"))).resolve();e=d("MAWContactRelationshipType").getContactRelationshipType(g);e=f.folderName==="inbox"&&e===d("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(i||(i=d("I64"))).equal(f.lastActivityTimestampMs,(i||(i=d("I64"))).zero);e&&(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(c("FBLogger")("messenger_web_product").mustfix("[MAW] Message Request loaded before contact is fully loaded"),e=!1);if(f.folderName==="pending"||f.folderName==="other"||f.folderName==="spam"||e){g=d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4,f.capabilities5);e=g[0];var l=g[1],m=g[2],n=g[3];g=g[4];var o=void 0;f.folderName==="inbox"&&(o=h._(/*BTDS*/"__JHASH__4F6x7gUU1-S__JHASH__").toString());e=[d("LSThreadBitOffset").set(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,e,l,m,n,g),o]}else e=[[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4],void 0];l=e[0];m=e[1];n=babelHelpers["extends"]({},f,{additionalThreadContext:m,capabilities:l[0],capabilities2:l[1],capabilities3:l[2],capabilities4:l[3]});d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(n,"MAWBridgeOneToOneMessageRequestLoadedHandler");return a.threads.put(n).then(c("emptyFunction"))})})}g.call=a}),226);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeParticipantUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","TemporaryLoggingUtilsForS406998Only","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(j||(j=d("I64"))).of_string(l);function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(j||(j=d("I64"))).of_string(b.fbid),g=d("MAWTimeUtils").toTimestamp(b.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs),o=b.isSuperAdmin?h._(/*BTDS*/"__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,p=(yield a.participants.get(e,f));p!=null?yield a.participants.put(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only({authorityLevel:p.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:p.isSuperAdmin,nickname:p.nickname,normalizedSearchTerms:p.normalizedSearchTerms,participantCapabilities:p.participantCapabilities,readActionTimestampMs:n,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e},"MAWBridgeParticipantUpdatedHandler.put")):yield a.participants.add(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only({authorityLevel:(j||(j=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:j.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e},"MAWBridgeParticipantUpdatedHandler.add"));yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,e);n=b.isAdmin;(j||(j=d("I64"))).equal(m,f)&&(n?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,e):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,e));p==null&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===b.fbid,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return o.apply(this,arguments)}function a(a,c){return c.fbid.startsWith("shadow_")?(i||(i=b("Promise"))).resolve():d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,c.threadJid,"MAWBridgeParticipantUpdatedHandler",function(a,b){return n(a,c,b)})}g.callWithoutWaitingForAnything=n;g.call=a}),226);
__d("MAWBridgeParticipantsUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","ReQLTable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e=e.participants.filter(function(a){return!a.fbid.startsWith("shadow_")});yield (i||(i=b("Promise"))).all(e.map(function(e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeParticipantsUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f=(k||(k=d("I64"))).of_string(e.fbid),g=d("MAWTimeUtils").toTimestamp(e.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(e.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(e.lastReadActionTs),o=e.isSuperAdmin?h._(/*BTDS*/"__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,p=!1,q=!1;yield d("ReQLTable").update(a.participants,[b,f],function(a){if(a!=null){q=!0;return{authorityLevel:a.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:(k||(k=d("I64"))).equal(i,(k||(k=d("I64"))).zero)?a.deliveredWatermarkTimestampMs:i,groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:a.isSuperAdmin,nickname:a.nickname,normalizedSearchTerms:a.normalizedSearchTerms,participantCapabilities:a.participantCapabilities,readActionTimestampMs:(k||(k=d("I64"))).equal(n,(k||(k=d("I64"))).zero)?a.readActionTimestampMs:n,readWatermarkTimestampMs:(k||(k=d("I64"))).equal(g,(k||(k=d("I64"))).zero)?a.readWatermarkTimestampMs:g,subscribeSource:o,threadKey:b}}else{q=!0;p=!0;return{authorityLevel:(k||(k=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:e.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:k.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:b}}});q&&(yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,b),(k||(k=d("I64"))).equal(m,f)&&(e.isAdmin?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,b):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,b)));p&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===e.fbid,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return function(b,c){return a.apply(this,arguments)}}())}))});return n.apply(this,arguments)}g.call=a}),226);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWRavenUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,c.threadJid,"MAWBridgeRavenActionMsgForUIHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=a.attachments;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e,c.ravenMsgId)));if(e==null)return(i||(i=b("Promise"))).resolve();if(e.ephemeralMediaState==null)return(i||(i=b("Promise"))).resolve();var f=(h||(h=d("I64"))).to_int32(e.ephemeralMediaState);if(e.ephemeralMediaViewMode==null)return(i||(i=b("Promise"))).resolve();var g=h.to_int32(e.ephemeralMediaViewMode);f=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(f);g=d("MAWMsg").MAWRavenMsgEphemeralType.cast(g);if(f==null||g==null)return(i||(i=b("Promise"))).resolve();f=d("MAWRavenUtils").getNextRavenMessageEphemeralState(f,g);if(f==null)return(i||(i=b("Promise"))).resolve();e.ephemeralMediaState;g=babelHelpers.objectWithoutPropertiesLoose(e,["ephemeralMediaState"]);e=babelHelpers["extends"]({ephemeralMediaState:h.of_int32(f)},g,{transportKey:"WhatsApp"});f=[g.threadKey,g.messageId,g.attachmentFbid];return a.upsert(f,e)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","TemporaryLoggingUtilsForS406998Only","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid),f=d("MAWTimeUtils").toTimestamp(b.lastReadWatermarkTs),g=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);b=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs);c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e)));c!=null&&(yield a.participants.put(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(g,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:g,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.readActionTimestampMs:b,readWatermarkTimestampMs:(h||(h=d("I64"))).equal(f,(h||(h=d("I64"))).zero)?c.readWatermarkTimestampMs:f,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero},"MAWBridgeReceivedReceiptHandler")))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeRefreshContactHandler",["LSFactory","LSRefetchContactRowIfExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:b})}g.call=a}),98);
__d("MAWBridgeRemoveMessageSearchResultHandler",["Promise","ReQL","asyncToGeneratorRuntime","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.message_search_results).filter(function(a){return e.includes(a.messageOtid)})));yield (h||(h=b("Promise"))).all(c.map(function(b){return a.message_search_results["delete"](b.type_,b.query,b.threadKey,b.globalIndex)}))})().then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(c("emptyFunction"))},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWBridgeThreadBumpedServerHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWCalculateBumpTimestampMs","MAWMiActOnMiThreadReadyForJid","WALoggerDeferred","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on server. threadKey: ",", bumpTimestampMs: ",", isLocalDeviceSend: ",", from ",""]);i=function(){return a};return a}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeThreadBumpedServerHandle",function(a,e){var f=b.lastActivityTs;f=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(f,b.lastMsgExternalId);c("promiseDone")(d("WALoggerDeferred").LOG(i(),(h||(h=d("I64"))).to_string(e),h.to_string(f),b.isCurrentDeviceSendingMsg,b.description));return c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:b.isCurrentDeviceSendingMsg,isUnbump:!1,serverAuthoritativeTimestampMs:f,threadKey:e})})}g.call=a}),98);
__d("MAWThreadBumpedV2LoggingUtils",["DateConsts","I64","LSAuthorityLevel","ODS","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,e,f){var g=(j||(j=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE),k=function(a){a=a.authorityLevel;return(j||(j=d("I64"))).equal(g,a)},l=d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages).getKeyRange(f.threadKey).filter(k)).then(function(a){return(j||(j=d("I64"))).to_float((a=a==null?void 0:a.timestampMs)!=null?a:(j||(j=d("I64"))).zero)});a=d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.reactions).getKeyRange(f.threadKey).filter(k).take(20)).then(function(a){return a.reduce(function(a,b){return Math.max(a,(j||(j=d("I64"))).to_float((a=b.reactionCreationTimestampMs)!=null?a:(j||(j=d("I64"))).zero))},0)});return(h||(h=b("Promise"))).all([l,a]).then(function(a){var b=a[0];a=a[1];b=Math.max(b,a);a=Math.floor((j||(j=d("I64"))).to_float(e.bumpTimestampMs)/d("DateConsts").MS_PER_SEC)*1e3;if(a!==b)return(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","thread_bump_call_unexpected");else return(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","thread_bump_call_expected")})}g.logIfBumpIsUnexpected=a}),98);
__d("MAWBridgeThreadBumpedV2Handler",["FBLogger","I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MAWBridgeBuildThreadSnippet","MAWLocalizationType","MAWLogAuthThreadWith0LAT","MAWMiActOnMiThreadReadyForJid","MAWODSProxy","MAWThreadBumpedV2LoggingUtils","ODS","Promise","ReQL","WALoggerDeferred","WAOdsEnums","asyncToGeneratorRuntime","getMAWLastMessageCtaType","gkx","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Skipping local bump for thread: ",", bumpTimestampMs: ",", DB lastActivityTimestampMs: ",", from ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on local (v2). threadKey: ",", bumpTimestampMs: ",", originalActivityTimestampMs: ",", originalReadTimestampMs : ",", isMessageAuthorMe: ","\n          from ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] missing thread for bumping threadKey: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread v2. threadKey: ",", bumpTimestampMs: ",", isMessageAuthorMe: ",", skipServerThreadBump: ",", from ",""]);n=function(){return a};return a}function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeThreadBumpedV2Handler",function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f,g){var p,q=e.bumpTimestampMs;p=(p=e.skipServerThreadBump)!=null?p:!1;var s=e.isMessageAuthorMe;c("promiseDone")(d("WALoggerDeferred").LOG(n(),(i||(i=d("I64"))).to_string(g),i.to_string(q),s,p,e.description));var t=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.threads).getKeyRange(g)));if(t==null){c("promiseDone")(d("WALoggerDeferred").WARN(m(),(i||(i=d("I64"))).to_string(g)));return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread")}c("justknobx")._("2374")&&c("promiseDone")(d("MAWThreadBumpedV2LoggingUtils").logIfBumpIsUnexpected(a,e,t));var u=r(e,t);if(u){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_BUMPED_V2,key:"bump_on_local"});c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(t.lastActivityTimestampMs),i.to_string(t.lastReadWatermarkTimestampMs),s,e.description));u=babelHelpers["extends"]({},t,{lastActivityTimestampMs:q});if(!c("gkx")("6478")){var v=e.snippetSenderContactId!=null?(i||(i=d("I64"))).of_string(e.snippetSenderContactId):void 0;v=(v=v)!=null?v:t.snippetSenderContactId;var w=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,t.snippet),x=c("getMAWLastMessageCtaType")(e.snippetType);u=babelHelpers["extends"]({},u,{lastMessageCtaType:x,snippet:w,snippetSenderContactId:v})}s&&(u=babelHelpers["extends"]({},u,{lastReadWatermarkTimestampMs:q}));d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(u,"MAWBridgeThreadBumpedV2Handler");yield f.threads.put(u)}else{c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(t.lastActivityTimestampMs),e.description));p||c("FBLogger")("MAWBridgeThreadBumpedV2Handler").mustfix("[Occamadillo] Bumping thread on server when thread should not be bumped: %s, bumpTimestampMs: %s, DB lastActivityTimestampMs: %s, snippetType: %s, from %s",(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(t.lastActivityTimestampMs),e.snippetType,e.description);return(h||(h=b("Promise"))).resolve()}if(!p){x={readWatermarkTimestampMs:q,threadKey:g};v={bumpedByLocalDeviceSend:s,isUnbump:(w=e==null?void 0:e.isUnbump)!=null?w:!1,serverAuthoritativeTimestampMs:q,threadKey:g};return o(c("LSFactory")(f),s,x,v)}return(h||(h=b("Promise"))).resolve()});return function(a,b){return f.apply(this,arguments)}}())}function o(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){b&&(d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_BUMPED_V2,key:"mark_thread_as_read_on_server"}),yield c("LSOptimisticMarkThreadReadV2StoredProcedure")(a,e));d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_BUMPED_V2,key:"bump_on_server"});return c("LSBumpE2EEMetadataThreadStoredProcedure")(a,f)});return p.apply(this,arguments)}var q=[(e=d("MAWLocalizationType")).LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION,e.LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE,e.LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE];function r(a,b){if(a.skipBumpTimestampValidation===!0)return!0;var e;c("justknobx")._("2773")?e=q.includes(a.snippetType):e=!1;if(e){(j||(j=d("ODS"))).bumpEntityKey(3185,"thread_bumped_v2","attempted_to_bump_with_prohibited_snippet_type");return!1}e=(i||(i=d("I64"))).ge(a.bumpTimestampMs,b.lastActivityTimestampMs);return e}g.call=a;g.prohibitedLocalizationsForThreadBumps=q}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadTimestampsHandler",["CurrentMessengerUser","I64","MAWLogAuthThreadWith0LAT","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","TemporaryLoggingUtilsForS406998Only","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs),f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(f==null||c.markUnread!==null&&c.markUnread===!1&&(h||(h=d("I64"))).ge(f.lastReadWatermarkTimestampMs,e))return;e=babelHelpers["extends"]({},f,{lastReadWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)});d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(e,"MAWBridgeThreadTimestampsHandler");yield a.threads.put(e);f=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getID());e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(b,f)));e!=null&&(yield a.participants.put(d("TemporaryLoggingUtilsForS406998Only").logIfInvalidParticipantAndReturnForS406998Only(babelHelpers["extends"]({},e,{readActionTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTimestampMs),readWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)}),"MAWBridgeThreadTimestampsHandler")))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeThreadTimestampsHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["I64","MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWLogAuthThreadWith0LAT","MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime","getMAWLastMessageCtaType","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)));if(e==null)return;var f=i(e,b);f=babelHelpers["extends"]({},e,{cannotReplyReason:f,folderName:e.folderName,muteExpireTimeMs:b.muteExpireTimeMs==null?e.muteExpireTimeMs:(h||(h=d("I64"))).of_float(b.muteExpireTimeMs),parentThreadKey:e.parentThreadKey});if(!c("gkx")("6478")){var g=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet),j=c("getMAWLastMessageCtaType")(b.snippetType);f=babelHelpers["extends"]({},f,{lastMessageCtaType:j,snippet:g,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)})}d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(f,"MAWBridgeThreadUpdatedHandler");yield a.threads.put(f)});return k.apply(this,arguments)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return j(a,b,c)})}g.callWithoutWaitingForAnything=j;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(1056849266,"1765"),b,{instanceKey:a})}function d(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function e(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.addAnnotations=b;g.endSuccess=d;g.endFailure=e}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeUnbumpOnThreadLoadHandler",["FBLogger","I64","MAWChatJid","MAWLogAuthThreadWith0LAT","MAWMiActGetThreadLifecycleState","MAWODSProxy","WAOdsEnums","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set();function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.jid,f=b.unbumpFromTs;b=b.unbumpToTs;var g=(yield d("MAWChatJid").toThreadMaybe(a,e));if(g==null){var j=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJid(a,d("MAWChatJid").toIntegerJid(e),"MAWBridgeCentralizedThreadUpdateHandler"));c("FBLogger")("UnbumpOnRefresh").mustfix("[UnbumpOnRefresh] missing thread for unbumping jid: %s with thread state: %s",e,j.type);return}if(i.has(e)){d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"unbump_already_processed"});return}i.add(e);if(!(h||(h=d("I64"))).equal(g.lastActivityTimestampMs,f))return;d("MAWODSProxy").odsBumpEntityKey({entity:d("WAOdsEnums").Entity.MAW_THREAD_UPDATE_MIDDLEWARE,key:"unbump_on_thread_load"});j=babelHelpers["extends"]({},g,{lastActivityTimestampMs:b});d("MAWLogAuthThreadWith0LAT").logAuthThreadWith0LAT(j,"MAWBridgeUnbumpOnThreadLoadHandler");yield a.threads.put(j)});return j.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateContactAsConnectedHandler",["FBLogger","I64","LSAddMessengerContactStoredProcedure","LSContactViewerRelationship","LSFactory","LSIntEnum","LSOptimisticAcceptMessageRequestStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWUpdateLSThreadCapabilities","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=e.contactUserId;e=e.threadJid;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((i||(i=d("I64"))).of_string(f))));if(g==null){c("FBLogger")("maw_bridge").warn("Missing contact in MAWBridgeUpdateContactAsConnectedHandler");return}var k=babelHelpers["extends"]({},g,{contactViewerRelationship:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)});return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e,"MAWBridgeUpdateContactAsConnectedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){yield (h||(h=b("Promise"))).allSettled([a.contacts.upsert([g.id],k),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:g.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:e})])});return function(b,c){return a.apply(this,arguments)}}())});return k.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateMessageRangeHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeUpdateMessageRangeHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f,g;yield c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:b});var i=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)));i!=null&&(yield a.messages_ranges_v2__generated["delete"](i.threadKey,i.minTimestampMs,i.minMessageId));var j=e.hasMoreAfter,k=e.hasMoreBefore,l=e.maxMsgId,m=e.minMsgId;f=k&&e.minMsgTs!=null?(h||(h=d("I64"))).of_float(e.minMsgTs):(f=i==null?void 0:i.minTimestampMs)!=null?f:d("MAWTimeUtils").MIN_TIMESTAMP_MS;var n=(i==null?void 0:i.minTimestampMs)!=null&&(h||(h=d("I64"))).lt(i==null?void 0:i.minTimestampMs,f),o=j&&e.maxMsgTs!=null?(h||(h=d("I64"))).of_float(e.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS,p=d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=(g=o)!=null?g:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:j,hasMoreBefore:n?(a=i==null?void 0:i.hasMoreBefore)!=null?a:!0:k,lowerOverlap:p,newMaxMid:(j=l)!=null?j:"",newMaxTs:o,newMinMid:n?(a=i==null?void 0:i.minMessageId)!=null?a:"":(k=m)!=null?k:"",newMinTs:n?(p=i==null?void 0:i.minTimestampMs)!=null?p:d("MAWTimeUtils").MIN_TIMESTAMP_MS:f,threadKey:b,upperOverlap:g})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeUpdateMinMessageHandler",["I64","MAWMiActOnMiThreadReadyForJid","ReQL","ReQLTable","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).of_float(b.minTimestampMs),f=b.minMessageId;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeUpdateMinMessageHandler",function(a,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(g)).then(function(h){if(h==null)return;var i=b.hasMoreBefore,j=i!=null?i:h.hasMoreBefore;return d("ReQLTable").update(a.messages_ranges_v2__generated,[g,h.minTimestampMs,h.minMessageId],function(a){if(a!=null)return{hasMoreAfter:a.hasMoreAfter,hasMoreBefore:j,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:f,minTimestampMs:e,threadKey:a.threadKey};throw c("unrecoverableViolation")("Thread is missing in updating the min message in message range","maw_threads")})})})}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadReadyForJid","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=String(e.xmaId);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,g){return a.attachments.get(g,e.msgId,f).then(function(i){if(i==null)return(h||(h=b("Promise"))).resolve();i=[i.defaultCtaId,i.attachmentCta1Id,i.attachmentCta2Id,i.attachmentCta3Id].filter(Boolean);i=i.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(i).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(g,e.msgId,f)).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d){if(d!=null){d=babelHelpers["extends"]({},d,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});yield a.attachments.put(d)}c("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return(h||(h=b("Promise"))).resolve()});return function(a){return d.apply(this,arguments)}}())})})})}g.call=a}),98);
__d("isInstamadilloDYI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("665")===!0}g["default"]=a}),98);
__d("MAWBridgeUIEventHandler",["FBLogger","JSResourceForInteraction","MAWAbPropsClient","MAWBridgeAddMessageSearchResultHandler","MAWBridgeCallRestoreNativeOpHandler","MAWBridgeCentralizedThreadUpdateHandler","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessageRangesV2Handler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeFulfillRestorePromisePayloadHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgRangeLoadedHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsLoadedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantUpdatedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeRefreshContactHandler","MAWBridgeRemoveMessageSearchResultHandler","MAWBridgeSyncContacts","MAWBridgeThreadBumpedServerHandler","MAWBridgeThreadBumpedV2Handler","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadTimestampsHandler","MAWBridgeThreadUpdatedHandler","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUnbumpOnThreadLoadHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateContactAsConnectedHandler","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateMessageRangeHandler","MAWBridgeUpdateMinMessageHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWEphemeralMessageExpirationStorage","MAWLoggerUtils","Promise","WAResultOrError","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","emptyFunction","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"]);l=function(){return a};return a}var m=(i=c("requireDeferred"))("MAWBridgeDeleteMessagesOfThreadHandler").__setRef("MAWBridgeUIEventHandler"),n=i("MAWBridgeIssuePointQueryHandler").__setRef("MAWBridgeUIEventHandler"),o=i("MAWBridgeStartTraceHandler").__setRef("MAWBridgeUIEventHandler"),p=i("MAWBridgeStartTraceWithTraceIdHandler").__setRef("MAWBridgeUIEventHandler"),q=i("MAWBridgeTraceRecordCheckpointHandler").__setRef("MAWBridgeUIEventHandler"),r=i("MAWBridgeUpdateTraceHandler").__setRef("MAWBridgeUIEventHandler"),s=i("MAWBridgeUploadMessageByBatchHandler").__setRef("MAWBridgeUIEventHandler"),t=i("MAWBridgeUploadMessageHandler").__setRef("MAWBridgeUIEventHandler");function u(a,e,f){switch(f.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(e,f.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(e,f.value);case"MsgClearCountdown":return(h||(h=b("Promise"))).resolve(d("MAWEphemeralMessageExpirationStorage").clearMessageFromExpiration(f.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(e);case"VerifyThreadExists":var g=f.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(e,g);case"CreateE2EEMetadataThread":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandler").call(e,f.value);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,e,f.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(e,f.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(e,f.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(e,f.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(e,f.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(e,f.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(e,f.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(e,f.value);case"ParticipantUpdated":return d("MAWBridgeParticipantUpdatedHandler").call(e,f.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(e,f.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(e,f.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(e,f.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(e,f.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(e,f.value);case"ThreadBumpedV2":return d("MAWBridgeThreadBumpedV2Handler").call(e,f.value);case"CentralizedThreadUpdate":return d("MAWBridgeCentralizedThreadUpdateHandler").call(e,f.value);case"UnbumpOnThreadLoad":return d("MAWBridgeUnbumpOnThreadLoadHandler").call(e,f.value);case"ThreadTimestampsUpdated":return d("MAWBridgeThreadTimestampsHandler").call(e,f.value);case"MsgsLoaded":return d("MAWBridgeMsgsLoadedHandler").call(e,f.value);case"MsgRangeLoaded":return d("MAWBridgeMsgRangeLoadedHandler").call(e,f.value);case"StartTrace":return o.load().then(function(a){return a.call(e,f.value)});case"UpdateTrace":return r.load().then(function(a){return a.call(e,f.value)});case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(e,f.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(e,f.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(e,f.value);case"ClockSkewUpdated":return(h||(h=b("Promise"))).resolve(d("WATimeUtils").setClockSkew(f.value));case"ABPropsUpdated":c("FBLogger")("messenger_e2ee_web").warn("[messenger_e2ee_web] ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return(h||(h=b("Promise"))).resolve(d("MAWAbPropsClient").rewrite(f.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(e,f.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(e,f.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(e,f.value);case"UploadMessage":return t.load().then(function(a){return a.call(e,f.value)});case"UploadMessageByBatch":return s.load().then(function(a){return a.call(e,f.value)});case"DeleteMessagesOfThread":return m.load().then(function(a){return a.call(e,f.value)});case"UploadAttachment":return c("JSResourceForInteraction")("MAWBridgeUploadAttachmentHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"ResignAttachmentCDNUrl":return c("JSResourceForInteraction")("MAWBridgeResignAttachmentCDNUrlHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(e,f.value);case"RestoreMessageBatch":d("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi"]).WARN(l());return(h||(h=b("Promise"))).resolve();case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(e,f.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(e,f.value);case"UpdateDyiStatus":d("WATagsLogger").TAGS(["labyrinth_web","labyrinth_dyi"]).WARN(k());return(h||(h=b("Promise"))).resolve();case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(e,f.value);case"TraceRecordCheckpoint":return q.load().then(function(a){return a.call(e,f.value)});case"DeleteMessageRangesV2":return d("MAWBridgeDeleteMessageRangesV2Handler").call(e,f.value);case"UpdateMinMessage":return d("MAWBridgeUpdateMinMessageHandler").call(e,f.value);case"IssuePointQuery":return n.load().then(function(a){return a.call(e,f.value)});case"ThreadBumpedServer":return d("MAWBridgeThreadBumpedServerHandler").call(e,f.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(e,f.value);case"StartTraceWithTraceId":return p.load().then(function(a){return a.call(e,f.value)});case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(e,f.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(e,f.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(e,f.value);case"EphemeralSettingsUpdatedForUI":return c("JSResourceForInteraction")("MAWBridgeEphemeralSettingsUpdatedForUIHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(e,f.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(e,f.value);case"UpdateMessageRange":return d("MAWBridgeUpdateMessageRangeHandler").call(e,f.value);case"RemoveMessageSearchResult":return d("MAWBridgeRemoveMessageSearchResultHandler").call(e,f.value);case"AddMessageSearchResult":return d("MAWBridgeAddMessageSearchResultHandler").call(a,e,f.value);case"FulfillRestorePromise":return d("MAWBridgeFulfillRestorePromisePayloadHandler").call(f.value);case"UpdateContactAsConnected":return d("MAWBridgeUpdateContactAsConnectedHandler").call(e,f.value);case"RefreshContact":return d("MAWBridgeRefreshContactHandler").call(e,f.value);case"NewReceiverFetchInfo":return d("MAWBridgeNewReceiverFetchInfoHandler").call(e,f.value);case"RestoreNativeOp":return d("MAWBridgeCallRestoreNativeOpHandler").call(e,f.value);default:return(h||(h=b("Promise"))).resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){c("recoverableViolation")("User is neither part of armadillo QE and dual send QE but somehow loaded this handler","maw_worker");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var e={};e=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},e);d("WATagsLogger").TAGS(["MAWBridgeUIEvent"]).LOG(j(),e)}c("promiseDone")(v(a,b),c("emptyFunction"),function(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",b.map(function(a){return a.tag}).join(", "))})}function v(a,b){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(yield a);a=d("MAWLoggerUtils").getInstanceKey();var h=e.map(function(a){return a.tag}),i="";d("MAWBridgeUIEventQueueQPLLogger").start(a,h);d("MAWBridgeUIEventQueueQPLLogger").addAnnotations(a,{"int":{queue_size:e.length}});var j;try{j=(yield g.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b=0;b<e.length;b++){var f=e[b];try{yield u(g,a,f)}catch(a){i=f.tag;return d("WAResultOrError").makeError(c("getErrorSafe")(a))}}return d("WAResultOrError").makeResult(!0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",{events:e,type:"maw_ui_bridge"},f.id+":368"))}catch(a){j=d("WAResultOrError").makeError(c("getErrorSafe")(a))}!j.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,i),c("FBLogger")("messenger_e2ee_web").catching(j.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB: %s",h.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)});return w.apply(this,arguments)}function e(a,b,c){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,d){try{yield u(a,b,d)}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",d.tag);throw b}});return x.apply(this,arguments)}g.handleEvents=a;g.handleShimEvent=e}),98);/*FB_PKG_DELIM*/
__d("AsyncData",["cr:696703"],(function(a,b,c,d,e,f,g){var h={},i={},j={};function k(a,b){var c=j[a]={result:b,status:"success"};h[a]&&(h[a].forEach(function(a){return a(c.result)}),delete h[a]);delete i[a]}function l(a,b){var c=j[a]={error:b,status:"error"};i[a]&&(i[a].forEach(function(a){return a(c.error)}),delete i[a]);delete h[a]}function a(a,b){k(a,b)}function c(a,b){l(a,b)}function d(a){var b={onLoaded:function(b){return n(a,b)},onError:function(b){return o(a,b)},cleanup:function(){return p(a)},peek:function(){return m(a)}};return b}e=null;function m(a){a=j[a];return a&&a.status==="success"?a.result:null}function n(a,c){var d=m(a);if(d!=null)c(d);else{h[a]=h[a]||[];d=c;if(b("cr:696703")){var e=b("cr:696703").getCallbackScheduler(),f=c;d=function(a){e(function(){return f(a)})}}h[a].push(d)}}function o(a,c){var d=j[a];if(d)d.status==="error"&&c(d.error);else{i[a]=i[a]||[];d=c;if(b("cr:696703")){var e=b("cr:696703").getCallbackScheduler(),f=c;d=function(a){e(function(){return f(a)})}}i[a].push(d)}}function p(a){delete j[a]}g.resolve=k;g.reject=l;g.resolveBlackBox=a;g.rejectBlackBox=c;g.getPreloaderRef_INTERNAL=d;g.__dumpValues=e;g.cleanup=p}),98);
__d("AsyncDataPreloader",["AsyncData","isEmptyObject"],(function(a,b,c,d,e,f,g){var h=new Map();a=function(){function a(a){var b=this;a=a.id;this.$1=a;this.$2=d("AsyncData").getPreloaderRef_INTERNAL(this.$1);this.$2.onLoaded(function(a){c("isEmptyObject")(a)&&h.set(b.getPreloaderName(),!0)});h.set(this.getPreloaderName(),!1)}var b=a.prototype;b.getID=function(){return this.$1};b.peek=function(){return this.$2.peek()};b.onLoaded=function(a){h.set(this.getPreloaderName(),!0);this.$2.onLoaded(a);return this};b.onError=function(a){h.set(this.getPreloaderName(),!0);this.$2.onError(a);return this};b.cleanup=function(){d("AsyncData").cleanup(this.$1)};b.getContextProvider=function(){return null};b.getPreloaderName=function(){return this.$1.replace(/^adp_(.*)_[a-z0-9]+$/,"$1")};a.getUsageMap=function(){return h};return a}();g["default"]=a}),98);
__d("CometNotificationsBadgeCountFragment_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"environment"}],kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountFragment_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometNotificationsBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"environment"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometNotificationsBadgeCountFragment_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometNotificationsBadgeCountQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}]},params:{id:"6243845039071039",metadata:{},name:"CometNotificationsBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometNotificationsBadgeCount.react",["fbt","CometNotificationsBadgeCountFragment_viewer.graphql","CometNotificationsBadgeCountQuery.graphql","CometPlaceholder.react","CometRelay","FDSNumberedBadge.react","hero-tracing","react","react-compiler-runtime","setupNotificationsLiveQuery","unrecoverableViolation","updateWidgetServiceWorker","useMaybeZeroNotificationsBadgeCount"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect;function a(a){var e=d("react-compiler-runtime").c(14),f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometNotificationsBadgeCountQuery.graphql"),{environment:"MAIN_SURFACE"});f=f.viewer;if(f==null)throw c("unrecoverableViolation")("The viewer recieving these notifications cannot be null","comet_feed");f=d("CometRelay").useFragment(j!==void 0?j:j=b("CometNotificationsBadgeCountFragment_viewer.graphql"),f);var g=c("useMaybeZeroNotificationsBadgeCount")(f==null?void 0:f.notifications_unseen_count);f=a.isBadgeHidden;var k=a.overflow,n=a.setBadgeCount,o=d("CometRelay").useRelayEnvironment(),p;e[0]!==o?(a=function(){var a=c("setupNotificationsLiveQuery")(o);return function(){return a.dispose()}},p=[o],e[0]=o,e[1]=a,e[2]=p):(a=e[1],p=e[2]);m(a,p);e[3]!==g||e[4]!==n?(a=function(){n&&n(g),c("updateWidgetServiceWorker")()},p=[g,n],e[3]=g,e[4]=n,e[5]=a,e[6]=p):(a=e[5],p=e[6]);m(a,p);e[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx("span",{}),e[7]=a):a=e[7];e[8]!==g||e[9]!==f||e[10]!==k?(p=f!==!0&&g>0?l.jsx(d("hero-tracing").HeroPagelet,{name:"NotificationsBadge",children:function(a,b){return l.jsxs(l.Fragment,{children:[l.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__dtNCkhbask___JHASH__"),overflow:k,ref:a,testid:void 0,value:g}),l.jsx(b,{})]})}}):null,e[8]=g,e[9]=f,e[10]=k,e[11]=p):p=e[11];e[12]!==p?(f=l.jsx(c("CometPlaceholder.react"),{fallback:a,children:p}),e[12]=p,e[13]=f):f=e[13];return f}g["default"]=a}),226);
__d("CometRouterUIComponentsDefaultErrorRoot.react",["cr:12338","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:12338")}),98);
__d("CometTopNavTabBadge.react",["ARIA_LABEL_PLACEHOLDER_FIXME","FDSNumberedBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.testid,f=a.value,g=a.isBadgeHidden,h=a.isTab,k=a.overflow,l=a.setBadgeCount,m;b[0]!==l||b[1]!==f?(a=function(){l==null?void 0:l(f)},m=[f,l],b[0]=l,b[1]=f,b[2]=a,b[3]=m):(a=b[2],m=b[3]);j(a,m);if(g===!0||f===0)return null;a=h===!0?"red":void 0;b[4]!==a||b[5]!==k||b[6]!==e||b[7]!==f?(m=i.jsx(c("FDSNumberedBadge.react"),{accessibilityText:c("ARIA_LABEL_PLACEHOLDER_FIXME"),color:a,overflow:k,testid:void 0,value:f}),b[4]=a,b[5]=k,b[6]=e,b[7]=f,b[8]=m):m=b[8];return m}g["default"]=a}),98);
__d("LSGetThreadDataFromTam.nop",["I64","LSMessagingThreadTypeUtil","LSResult","LSShape","LSVec","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.threads).filter(function(a){a=a.threadType;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}).take((h||(h=d("I64"))).to_int32(e))));a=b.map(function(a,b){var c=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs,f=a.threadKey;a=a.threadType;return d("LSShape").ofRecord({client_thread_pk:f,display_timestamp_ms:c,is_group_thread:d("LSMessagingThreadTypeUtil").isGroup(a),last_activity_timestamp_ms:c,last_read_watermark_timestamp_ms:e,server_thread_key:f,sort_order:(h||(h=d("I64"))).of_int32(b)})});return c("LSResult")(c("LSVec").ofArray(a))});function e(b,c,d){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSPlatformClientDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("LSPlatformClient").__setRef("LSPlatformClientDeferred");b=a;g["default"]=b}),98);
__d("LSPlatformClientSingleton",[],(function(a,b,c,d,e,f){"use strict";var g={contents:void 0};function a(a){g.contents=a}f.saveInstance=a}),66);
__d("maybeSetupMAWMainThreadLogger",["MessengerLogHistory","cr:6999","cr:7350","isArmadillo","isRegisterArmadilloOnIgEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h=d("MessengerLogHistory").getInstance("client_init"),i=(a=b("cr:6999"))!=null?a:b("cr:7350");e=function(){i!=null&&(c("isArmadillo")()||c("isRegisterArmadilloOnIgEnabled")())&&(h.debug("Starting MAW main thread logger setup..."),i.setupMainWaLogger(),h.debug("Starting MAW main thread logger setup success"))};g.maybeSetupMAWMainThreadLogger=e}),98);
__d("LSPlatformClientInstances",["FBLogger","LSPlatformArmadilloUtils","LSPlatformClientSingleton","LSPlatformLsInitLog","LSSuspense","MAWMIC","MessengerLogHistory","PromiseAnnotate","asyncToGeneratorRuntime","cr:2831","getErrorSafe","maybeSetupMAWMainThreadLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MessengerLogHistory").getInstance("client_init"),k=(i||(i=c("LSSuspense"))).makeCollection(),l=!1;function a(a,e,f){d("MAWMIC").startMAWMICFlow();l||(j.debug("[Occamadillo] Beginning hardcoded init sync"),l=!0,d("maybeSetupMAWMainThreadLogger").maybeSetupMAWMainThreadLogger());d("LSPlatformArmadilloUtils").reportInitStart();return(i||(i=c("LSSuspense"))).getFromCollection(k,a,function(){return(h||(h=d("PromiseAnnotate"))).setDisplayName(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("LSPlatformLsInitLog").addAnnotations({bool:{fromReact:f==null?void 0:f.fromReact}});j.debug("Messenger loading UI suspending");try{var g=b("cr:2831")!=null?yield b("cr:2831").maybeEvaluateInitSyncEagerly(a):!1;j.debug("Initializing LSPlatformClient...");g=(yield e(a,{didEvaluateInitSyncEagerly:g}));yield g.start();j.debug("Initializing LSPlatformClient success");d("LSPlatformClientSingleton").saveInstance(g);d("LSPlatformArmadilloUtils").reportInitEnd();return g}catch(a){g=c("getErrorSafe")(a);j.debug("Initializing LSPlatformClient failed");d("LSPlatformLsInitLog").fail("client_setup_failure",g);d("MAWMIC").fail("client_setup_failure",g);c("FBLogger")("ls_web_init").catching(g).warn("LSPlatformClient initialization failure");throw g}finally{j.debug("Messenger loading UI unsuspending")}})(),"InitLSPlatformClient")})}e={getOrInit:a};g["default"]=e}),98);
__d("LSPlatformClientProviderAddons.react",["CometPlaceholder.react","cr:6495","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProviderAddons",children:b("cr:6495")!=null&&i.jsx(b("cr:6495"),{})}),a[0]=e):e=a[0];return e}g["default"]=a}),98);
__d("LSPlatformClientProviderUtils",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1391")||c("qex")._("520")===!0}g.shouldInitialiseClientConcurrently=a}),98);
__d("MAWCondSetup.react",["cr:3921","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");f=c("gkx")("20836")?a.Fragment:(e=b("cr:3921"))!=null?e:a.Fragment;d=f;g["default"]=d}),98);
__d("MAWCondWrapper.react",["MAWCondSetup.react","MAWSetupWrapperOnce.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MAWCondSetup.react"),{}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MAWSetupWrapperOnce.react"),{setupComponent:e,children:a}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("LSPlatformClientProvider.react",["CometPlaceholder.react","LSDatabaseAfterInitSyncSingleton","LSPlatformClientInstances","LSPlatformClientProviderAddons.react","LSPlatformClientProviderUtils","LSPlatformErrorsCatcher.react","LSSuspense","MAWCondWrapper.react","ReStoreProvider.react","qex","react","react-compiler-runtime","suspendOrThrowIfUsedInSSR"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a,b){var e=d("react-compiler-runtime").c(3);if(e[0]!==a||e[1]!==b){var f=(h||(h=c("LSSuspense"))).getOrSuspend(a);f=c("LSPlatformClientInstances").getOrInit(f,b,{fromReact:!0});e[0]=a;e[1]=b;e[2]=f}else f=e[2];return f}function a(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.config;a=a.loadLSPlatformClient;e=m(e,a);b[0]!==c||b[1]!==e.db?(a=l.jsx((j||(j=d("ReStoreProvider.react"))).ReStoreProvider,{db:e.db,children:c}),b[0]=c,b[1]=e.db,b[2]=a):a=b[2];return a}var n=(h||(h=c("LSSuspense"))).makeWithPromise(d("LSDatabaseAfterInitSyncSingleton").LSDatabaseAfterInitSyncSingleton);function o(){(h||(h=c("LSSuspense"))).getOrSuspend(n)}function p(){o();return null}function q(a){var b=a.config;a=a.loadLSPlatformClient;m(b,a);return null}function b(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.config;a=a.loadLSPlatformClient;(i||(i=c("suspendOrThrowIfUsedInSSR")))("Messenger is not enabled for SSR");var g;b[0]!==f||b[1]!==a?(g=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"LSPlatformClientProvider.ClientLoad",children:l.jsx(q,{config:f,loadLSPlatformClient:a})}),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==g?(f=l.jsxs(l.Fragment,{children:[g,e]}),b[3]=e,b[4]=g,b[5]=f):f=b[5];return f}var r=d("LSPlatformClientProviderUtils").shouldInitialiseClientConcurrently()?b:a;function e(a){var b=d("react-compiler-runtime").c(16),e=a.children,f=a.config,g=a.errorFallback,h=a.loadLSPlatformClient;a=a.placeholder;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("qex")._("436"),b[0]=i):i=b[0];i=i;var j;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx(c("LSPlatformClientProviderAddons.react"),{}),b[1]=j):j=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i=i===!0?l.jsx(p,{}):null,b[2]=i):i=b[2];b[3]!==e||b[4]!==a?(i=l.jsxs(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.UISuspense",children:[i,e]}),b[3]=e,b[4]=a,b[5]=i):i=b[5];b[6]!==f||b[7]!==h||b[8]!==i?(e=l.jsxs(r,{config:f,loadLSPlatformClient:h,children:[j,i]}),b[6]=f,b[7]=h,b[8]=i,b[9]=e):e=b[9];b[10]!==a||b[11]!==e?(j=l.jsx(c("MAWCondWrapper.react"),{children:l.jsx(c("CometPlaceholder.react"),{fallback:a,name:"LSPlatformClientProvider.ClientProvider",children:e})}),b[10]=a,b[11]=e,b[12]=j):j=b[12];b[13]!==g||b[14]!==j?(f=l.jsx(c("LSPlatformErrorsCatcher.react"),{fallback:g,children:j}),b[13]=g,b[14]=j,b[15]=f):f=b[15];return f}g["default"]=e}),98);
__d("LSPlatformClientProviderWithDeferredLoadingStrategy.react",["LSPlatformClientDeferred","LSPlatformClientProvider.react","asyncToGeneratorRuntime","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var d=(yield c("LSPlatformClientDeferred").load());return d.make(a,b)});return k.apply(this,arguments)}function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.config,g=a.errorFallback;a=a.placeholder;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=i.jsx(c("LSPlatformClientProvider.react"),{config:f,errorFallback:g,loadLSPlatformClient:j,placeholder:a,children:e}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("LSRequestType",[],(function(a,b,c,d,e,f){a=Object.freeze({INIT_SYNC:1,RESUME_SYNC:2,TASK_BATCH:3,FIRE_FORGET:4,RESUME_SYNC_BATCH:5});f["default"]=a}),66);
__d("LSPlatformDGWTransport",["DGWClient","DGWExponentialBackoff","DGWLoggingContext","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","MWPBumpEntityKey","MessengerWebRegion","Promise","Random","asyncToGeneratorRuntime","err","gkx","promiseDone","setTimeout","unrecoverableViolation","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("3218"),k=c("gkx")("2659"),l=c("gkx")("6455"),m=0,n=!1,o=new Map(),p={connectionStatusChangeHandler:null,current:null,publishBuffer:new Map(),reconnectHandler:null,status:"Disconnected",subscribers:new Map()},q=null,r=!1;function s(a){a=1*Math.pow(2,a);a=Math.max(a,1);a=Math.min(a,64);return Math.ceil(a*(1e3+d("Random").random()*200))}function t(a){var b;if(r){var e;(e=p.current)==null?void 0:e.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","deviceId:"+a);return}r=!0;e=s(m++);var f="deviceId:"+a+", reconnectMs:"+e+", attempt:"+m;(b=p.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect",f);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect");c("setTimeout")(function(){u(a),r=!1},e)}function u(a){var b={deviceId:a,keepAliveMs:15e3,loggingId:c("uuidv4")(),serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:j};d("MessengerWebRegion").regionNullable!=null&&(b.regionHint=d("MessengerWebRegion").regionNullable);var e={onStreamGroupError:function(b){var c;p.connectionStatusChangeHandler&&p.connectionStatusChangeHandler("Disconnected","Stream Group Error");p.status="Disconnected";(c=p.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b));d("DGWStreamGroupCallbacks").isRetryableError(b)?(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),t(a)):d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+b);(b=p.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain","deviceId:"+a);t(a)},onStreamGroupTransportClose:function(){var b;p.connectionStatusChangeHandler&&p.connectionStatusChangeHandler("Disconnected","Stream Group Close");p.status="Disconnected";(b=p.current)==null?void 0:b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+a)}};p.status="Connecting";e=c("DGWClient")().createStreamGroup(e,b);e.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport","deviceId:"+a+", runtime_site_is_comet_fb_web:"+String(c("gkx")("2116")));c("promiseDone")(e.initTransport(),function(b){d("LSLogHistory").log("StreamGroupTransport Connected","debug");p.status="Connected";p.connectionStatusChangeHandler&&p.connectionStatusChangeHandler("Connected");n&&(p.reconnectHandler&&p.reconnectHandler());n=!0;(b=p.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","deviceId:"+a);(b=p.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"BufferFlushed",String(p.publishBuffer.size));m=0;p.publishBuffer.forEach(function(a,b,c){a.resolve(),p.publishBuffer["delete"](b)})},function(b){var c;d("LSLogHistory").log("StreamGroupTransport onError","debug");p.status="Disconnected";p.publishBuffer.clear();p.connectionStatusChangeHandler&&p.connectionStatusChangeHandler("Disconnected",b);(c=p.current)==null?void 0:c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError");t(a)});p.current=e;return p.current}function v(a){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=p.current;if(b==null)throw c("unrecoverableViolation")("LS Stream Group not initialized","ls_web_init");var e=new TextDecoder(),f={LSRequestType:"SYNC",method:"LightSpeed","xrs-stream-handler":"LSDGWStreamHandler"};d("LSPlatformDGWHostnameOverride").useHostNameOverride&&d("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(f["javascript-sandbox"]=d("LSPlatformDGWHostnameOverride").hostNameOverride);try{b=(yield b.establishStream({groupedStreamHeaders:f,loggingId:c("uuidv4")(),verboseLoggingEnabled:j},{onClose:function(){d("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(a){var b=e.decode(a);p.subscribers.forEach(function(a){a(b)})},onError:function(a){d("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(a){d("LSLogHistory").log("Stream finished sending data","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),a.close()},onStreamMustDrain:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),d("LSLogHistory").log("Stream must drain","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),a.close()}}));d("LSLogHistory").log("Stream Connected","debug");return b}catch(b){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+a);d("LSLogHistory").log("Error Establishing Stream. Disconnected","debug");throw b}});return w.apply(this,arguments)}var x="Disconnected";e=function(){return x};function a(a,b){if(l){q||(q=y(a,b));return q}else{var c=o.get(b);c||(c=y(a,b),o.set(b,c));return c}}function y(a,e){var f=new TextEncoder();u(e);return{cleanup:function(){var a;(a=p.current)==null?void 0:a.close();p.reconnectHandler=null;p.connectionStatusChangeHandler=null;p.publishBuffer.clear();p.subscribers.clear()},logEvent:function(a){var b;(b=p.current)==null?void 0:b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a)},onConnectionStatusChange:function(a){p.connectionStatusChangeHandler=a;return function(){p.connectionStatusChangeHandler=null}},onReconnect:function(a){p.reconnectHandler=a;return function(){p.reconnectHandler=null}},publish:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=(i||(i=d("LSIntEnum"))).toNumber(e);try{d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream."+(i||(i=d("LSIntEnum"))).toNumber(e));p.status!=="Connected"&&(yield z().then(function(){})["catch"](function(){var a;d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+g);(a=p.current)==null?void 0:a.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(g));return new(h||(h=b("Promise")))(function(a,b){return b({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})})}));var j=function(){return v(g)};j=k?yield d("DGWExponentialBackoff").callWithExponentialBackoff(j):yield v(g);try{4===(i||(i=d("LSIntEnum"))).unwrapIntEnum(e)?j.sendAndForget(f.encode(a)):yield j.send(f.encode(a))}catch(a){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"sendFailure."+g);throw a}}catch(a){a.message==="Max number of stream IDs reached"&&d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+g);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+g);(e=p.current)==null?void 0:e.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",g.toString());c("FBLogger")("messenger_web_product").catching(typeof a==="string"?c("err")(a):a).warn("Failed to create DGW stream and send payload %s",String(a));return new(h||(h=b("Promise")))(function(b,c){return c(a)})}});function e(b,c){return a.apply(this,arguments)}return e}(),subscribe:function(a){p.subscribers.set(a,a);return function(){p.subscribers["delete"](a)}}}}function z(){var a={reject:function(){},resolve:function(){}},c=d("Random").uint32(),e=new(h||(h=b("Promise")))(function(b,c){a.resolve=b,a.reject=c});p.publishBuffer.set(c,a);return e}g.getStatusForDebugging=e;g.LSPlatformDGWTransport=a}),98);
__d("LSPlatformCometTransportEager",["CurrentMessengerUser","LSDedicatedMqttChannel","LSPlatformDGWTransport","LSPlatformMqttRealtimeTransport","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return(h||(h=b("Promise"))).resolve({dgw:d("LSPlatformDGWTransport").LSPlatformDGWTransport,mqtt:function(a,b){return c("LSPlatformMqttRealtimeTransport")(a,b,{getInstance:d("LSDedicatedMqttChannel").getInstance(d("CurrentMessengerUser").isLoggedInNow),shutdownAndClear:d("LSDedicatedMqttChannel").shutdownAndClear})}})}g["default"]=a}),98);
__d("LSPlatformGraphQLLightspeedRequestQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"deviceId"},{defaultValue:null,kind:"LocalArgument",name:"requestId"},{defaultValue:null,kind:"LocalArgument",name:"requestPayload"},{defaultValue:null,kind:"LocalArgument",name:"requestType"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"device_id",variableName:"deviceId"},{kind:"Variable",name:"request_id",variableName:"requestId"},{kind:"Variable",name:"request_payload",variableName:"requestPayload"},{kind:"Variable",name:"request_type",variableName:"requestType"}],concreteType:"LightspeedWebResponse",kind:"LinkedField",name:"lightspeed_web_request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},{alias:null,args:null,concreteType:"LightspeedWebRequestDependency",kind:"LinkedField",name:"dependencies",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"experiments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"LSPlatformGraphQLLightspeedRequestQuery",selections:b},params:{id:"9944623912245126",metadata:{},name:"LSPlatformGraphQLLightspeedRequestQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("LSPlatformGraphQLLightspeedRequestQuery",["LSPlatformGraphQLLightspeedRequestQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("LSPlatformGraphQLLightspeedRequestQuery.graphql");g.query=a}),98);
__d("LSPlatformGraphQLLightspeedRequest",["CometRelay","LSPlatformGraphQLLightspeedRequestQuery","XPlatRelayEnvironment"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("CometRelay").fetchQuery(d("XPlatRelayEnvironment").getRelayEnvironment(),d("LSPlatformGraphQLLightspeedRequestQuery").query,{deviceId:a,requestId:b,requestPayload:c,requestType:e}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer)==null?void 0:a.lightspeed_web_request;if(a!=null)return babelHelpers["extends"]({dependencies:void 0},a)})}g["default"]=a}),98);
__d("LSPlatformLogTooManyPendingTasksForS337085.react",["FBLogger","MWPBumpEntityKey","ReQL","clearTimeout","gkx","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=c("justknobx")._("1134"),m=c("justknobx")._("1135"),n=c("gkx")("24156");function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=k(null),f=k(!1),g;a[0]!==b.tables.pending_tasks?(g=function(){var a=b.tables.pending_tasks.subscribe(function(){c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.tables.pending_tasks).take(l)),function(a){var b=a.length;if(b===l){if(e.current!=null)return;e.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_tasks","tasks_table_above_threshold"),f.current=!0,n&&c("FBLogger")("lsplatform_tasks","tasks_table_above_threshold").warn("pending tasks table is above threshold. It has %s tasks after %s ms",b,m)},m)}else c("clearTimeout")(e.current),f.current&&n&&c("FBLogger")("lsplatform_tasks","tasks_table_cleared").warn("pending tasks table is now cleared"),f.current=!1})});return function(){a()}},a[0]=b.tables.pending_tasks,a[1]=g):g=a[1];var i;a[2]!==b?(i=[b],a[2]=b,a[3]=i):i=a[3];j(g,i);return null}g["default"]=a}),98);
__d("LSPlatformMessengerConfig",["LSDatabaseSingleton","LSDatascriptEvaluatorMaybeDeferred","LSPlatformGraphQLLightspeedRequest","LSPlatformMessengerSyncParams","LSSuspense","LSVersion","ServerAppID","cr:2945","cr:3234","cr:3239","getMWLSRegion","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;h=(h=b("cr:3239"))!=null?h:c("LSPlatformGraphQLLightspeedRequest");function a(){return(j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton}function e(){return b("cr:2945")().then(function(a){return function(b,d){return 3===b?a.dgw(c("LSVersion"),d):a.mqtt(c("LSVersion"),d)}})}function f(){return c("LSDatascriptEvaluatorMaybeDeferred")()}h={appId:c("ServerAppID").app_id,eagerEvaluatorForInitSync:b("cr:3234"),executeGraphQLLightSpeedRequest:c("gkx")("3889")?h:c("LSPlatformGraphQLLightspeedRequest"),getDb:a,getEval:f,platformName:"Messenger",realtimeUnderylingTransport:e,region:c("getMWLSRegion")(),schemaVersion:c("LSVersion"),sendHardcodedInitSync:!0,syncParams:c("LSPlatformMessengerSyncParams")};a=(i||(i=c("LSSuspense"))).makeWithValue(h);g.config=h;g.configEagerlyLoaded=a}),98);
__d("LSScheduleOccamThreadsIntegrityChecker",["LSGetCursor","LSGetThreadDataFromTam.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[1]=c.createArray(),d[2]=c.createArray(),c.i64.neq(a[1],void 0)?d[3]=a[1]:d[3]=c.i64.cast([0,20]),c.forEach(c.db.table(220).fetch([[[c.i64.cast([0,95]),c.i64.cast([0,0])]]]),function(a){a=a.item;return d[10]=a.minLastActivityTimestampMs,d[9]=new c.Map(),d[9].set("has_more_before",a.hasMoreBefore),d[9].set("is_loading_before",a.isLoadingBefore),d[9].set("min_last_activity_timestamp_ms",d[10]),d[9].set("min_thread_key",a.minThreadKey),d[9].set("parent_thread_key",c.i64.cast([0,0])),d[11]=(d[2].push(d[9]),d[2]),c.forEach(c.islc(c.filter(c.db.table(9).fetch([[[{gte:d[10]}]],"lastActivityTimestampMs"]),function(a){return c.i64.ge(a.lastActivityTimestampMs,d[10])&&c.i64.eq(a.syncGroup,c.i64.cast([0,95]))&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(d[3])),function(a){a=a.item;return d[11]=new c.Map(),d[11].set("authority_level",a.authorityLevel),d[11].set("folder_name",a.folderName),d[11].set("last_activity_timestamp_ms",a.lastActivityTimestampMs),d[11].set("last_read_watermark_timestamp_ms",a.lastReadWatermarkTimestampMs),d[11].set("thread_key",a.threadKey),d[12]=(d[1].push(d[11]),d[1])})})},function(a){return d[4]=c.createArray(),c.nativeOperation(b("LSGetThreadDataFromTam.nop"),d[3]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[6]=c.createArray(),d[7]=new c.Map(),d[7].set("cursor",d[0]),d[7].set("mi_act_mapping_columns_for_integrity_check",d[6]),d[7].set("occam_threads_columns_for_integrity_check",d[1]),d[7].set("threads_ranges_columns_for_integrity_check",d[2]),d[7].set("tam_threads_columns_for_integrity_check",d[5]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"occam-threads-integrity-check",c.i64.cast([0,701]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxScheduleOccamThreadsIntegrityCheckerStoredProcedure";a.__tables__=["sync_group_threads_ranges","threads"];e.exports=a}),null);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadReadyForJid","Promise","ServerTime","WAChatState","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJidNoThrow(a,e.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.senderId),j=i.of_float(3e3+d("ServerTime").getMillis());if(e.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([f,g],{expirationTimestampMs:j,senderId:g,threadKey:f}).then(c("emptyFunction"));else if(e.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](f,g).then(c("emptyFunction"));else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MWChatBadgeCountQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"suppress_xac_groups"}],b=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"message_threads",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"suppress_xac_groups",variableName:"suppress_xac_groups"}],kind:"ScalarField",name:"unseen_count",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_loading_client_threads",storageKey:null}]}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatBadgeCountQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatBadgeCountQuery",selections:b},params:{id:"5218522061549416",metadata:{},name:"MWChatBadgeCountQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWJewelStopLoadingLogger",["QPLEvent","interaction-tracing","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect,k=c("qpl")._(30616158,"2565");function a(a,b){var e=d("react-compiler-runtime").c(4),f,g;e[0]!==a||e[1]!==b?(f=function(){b||c("interaction-tracing").InteractionTracingCore.getPendingInteractions().forEach(function(b){var c=b.getTrace();if(((c=c==null?void 0:c.completed)!=null?c:0)>0)return;b.getQPLEventMarkerId()===(i||(i=d("QPLEvent"))).getMarkerId(k)&&(b.addAnnotationInt("badgeCount",a),a===0&&b.forceCompleteTrace())})},g=[b,a],e[0]=a,e[1]=b,e[2]=f,e[3]=g):(f=e[2],g=e[3]);j(f,g)}g["default"]=a}),98);
__d("MWChatBadgeCount.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","CometRelay","FDSNumberedBadge.react","HeroInteractionIgnoreWithDiv.react","MWChatBadgeCountQuery.graphql","MWChatBadgeCountUpdates.react","cr:2290","hero-tracing","react","react-compiler-runtime","useMWJewelStopLoadingLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));f=j;var l=f.useEffect,m=f.useRef;function a(){return null}var n=(f=b("cr:2290"))!=null?f:a;function o(a){var e,f=d("react-compiler-runtime").c(12),g=a.overflow,j=a.setBadgeCount;a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("MWChatBadgeCountQuery.graphql"),{suppress_xac_groups:!1},{fetchPolicy:"store-or-network"});e=((e=a.viewer)==null?void 0:(e=e.message_threads)==null?void 0:e.is_loading_client_threads)!==!1;a=(a=a.viewer)==null?void 0:a.message_threads;var n=a!=null&&a.unseen_count!=null&&a.unseen_count>0?Math.min(d("MWChatBadgeCountUpdates.react").minSyncedThreads,a.unseen_count):0,o=m(null),p;f[0]!==n||f[1]!==j?(a=function(){j&&o.current!==n&&(o.current=n,j(n))},p=[n,j],f[0]=n,f[1]=j,f[2]=a,f[3]=p):(a=f[2],p=f[3]);l(a,p);c("useMWJewelStopLoadingLogger")(n,e);f[4]!==n||f[5]!==g?(a=n>0?k.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"__JHASH__XxoiYlTWwN7__JHASH__",[h._param("count",n)]),overflow:g,testid:void 0,value:n,vcIgnore:!0}):null,f[4]=n,f[5]=g,f[6]=a):a=f[6];f[7]!==e?(p=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MessengerBadgeLoadingHold",hold:e}),f[7]=e,f[8]=p):p=f[8];f[9]!==a||f[10]!==p?(g=k.jsxs(k.Fragment,{children:[a,p]}),f[9]=a,f[10]=p,f[11]=g):g=f[11];return g}function e(a){var b=d("react-compiler-runtime").c(7),e=a.overflow;a=a.setBadgeCount;var f=n(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("span",{}),b[0]=g):g=b[0];b[1]!==e||b[2]!==a?(g=k.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWChatBadgeCount",children:k.jsx(o,{overflow:e,setBadgeCount:a})}),b[1]=e,b[2]=a,b[3]=g):g=b[3];b[4]!==f||b[5]!==g?(e=k.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:k.jsx(d("hero-tracing").HeroInteraction,{alwaysMarkMutationRootAsVisualChange:!0,interactionDesc:"MSGR_JEWEL_BADGE",interactionUUID:f,pageletName:"MessengerJewelBadge",children:g})}),b[4]=f,b[5]=g,b[6]=e):e=b[6];return e}g["default"]=e}),226);
__d("MWChatBadgeUpdaterImpl.react",["CometErrorBoundary.react","ExecutionEnvironment","FBLogger","cr:4562","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function k(a){var b=c("FBLogger")("messenger_web_entrypoints");a!=null&&(b=b.catching(a));b.debug("Error loading MWChatBadgeCountUpdater")}function a(){var a=d("react-compiler-runtime").c(1);c("vulture")("3CSnFVE1UYm");var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=c("ExecutionEnvironment"))).canUseDOM?j.jsx(c("CometErrorBoundary.react"),{onError:k,children:b("cr:4562")&&j.jsx(b("cr:4562"),{})}):null,a[0]=e):e=a[0];return e}g["default"]=a}),98);
__d("MWChatHeadError.react",["fbt","ix","CometHeroFailTrigger.react","CometHeroInteractionWithDiv.react","MWChatInteraction","MWXIcon.react","MWXPressable.react","MWXTooltip.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={compose:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1useyqa",$$css:!0},dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0}},m=h._(/*BTDS*/"__JHASH__1kKkUA_eanI__JHASH__");function a(a){var b=d("react-compiler-runtime").c(7),e=a.contextRef;a=a.onPress;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("MWChatInteraction").get(d("MWChatInteraction").MW_CHATHEADS_LOAD),g=k.jsx(c("CometHeroFailTrigger.react"),{description:"Error while loading chatheads",fail:!0}),b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h=a==null,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("MWXIcon.react"),{icon:d("fbicon")._(i("502063"),24)}),b[2]=j):j=b[2];b[3]!==e||b[4]!==a||b[5]!==h?(f=k.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Comet initial load to chatheads VC",interactionUUID:f,children:[g,k.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:m,children:k.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:h,display:"inline",onPress:a,ref:e,xstyle:n,children:j})})]}),b[3]=e,b[4]=a,b[5]=h,b[6]=f):f=b[6];return f}function n(a){return[l.compose,l.dropShadow]}g["default"]=a}),226);
__d("MWChatDisabled.react",["MWChatHeadError.react","react","react-compiler-runtime","useShouldShowMessagingEntrypointInCometRoot","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.contextRef;a=a.onPress;c("vulture")("aqnh9KUD8oV");var f=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),g;b[0]!==e||b[1]!==a||b[2]!==f?(g=f?i.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xds687c xixxii4"},{children:i.jsx("div",babelHelpers["extends"]({className:"x191j7n5 x92rtbv x10l6tqk"},{children:i.jsx(c("MWChatHeadError.react"),{contextRef:e,onPress:a})}))})):null,b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWV2Chat.react",["CometErrorBoundary.react","FBLogger","JSResourceForInteraction","LSDatabaseAfterInitSyncSingleton","LSDatabaseSingleton","LSPlatformClientProviderWithDeferredLoadingStrategy.react","LSPlatformMessengerConfig","MWChatDisabled.react","MWChatInteraction","MWXLazyPopoverTrigger.react","cr:11569","gkx","react","react-compiler-runtime","shouldHideChatOnAppsSubdomain"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useLayoutEffect;function m(a){var b=c("FBLogger")("messenger_browser_clients");a!=null&&(b=b.catching(a));b.warn("Error loading MWV2Chat")}var n=c("JSResourceForInteraction")("MWChatErrorStatePopover.react").__setRef("MWV2Chat.react"),o=function(a){return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{error:a},popoverResource:n,position:"above",visibleOnLoad:!0,children:function(a,b){return j.jsx(c("MWChatDisabled.react"),{contextRef:a,onPress:b})}})},p=!c("gkx")("22788")||c("shouldHideChatOnAppsSubdomain")();function a(){var a=d("react-compiler-runtime").c(3),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[0]=e):e=a[0];l(r,e);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[1]=e):e=a[1];k(q,e);a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:o,onError:m,children:p?j.jsx(c("MWChatDisabled.react"),{}):b("cr:11569")&&j.jsx(c("LSPlatformClientProviderWithDeferredLoadingStrategy.react"),{config:d("LSPlatformMessengerConfig").configEagerlyLoaded,errorFallback:o,children:j.jsx(b("cr:11569"),{})})}),a[2]=e):e=a[2];return e}function q(){(p||b("cr:11569")==null)&&d("LSDatabaseAfterInitSyncSingleton").resolveInitSync((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton)}function r(){d("MWChatInteraction").addAutoChatTabMarkerPoint("mwv2_chat_rendered")}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadInputStrategy.react",["CometTypeaheadInputRoundedStrategy.react","SearchCometTypeaheadEventEmitterContext","cr:2012305","react","react-compiler-runtime","useMergeRefs","useRefEffect","useSearchCometEventEmitterContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef;f=i.forwardRef(a);function a(a,e){var f=d("react-compiler-runtime").c(13),g,h;f[0]!==a?(g=a.onChange,h=babelHelpers.objectWithoutPropertiesLoose(a,["onChange"]),f[0]=a,f[1]=g,f[2]=h):(g=f[1],h=f[2]);a=(a=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?a:{};var l=a.subscribeToGlobalTypeaheadFocus,m;f[3]!==g||f[4]!==l?(a=function(a){return l==null?void 0:l(function(){if(a==null)return;a.value="";a.focus();g("")})},m=[g,l],f[3]=g,f[4]=l,f[5]=a,f[6]=m):(a=f[5],m=f[6]);a=c("useRefEffect")(a,m);var n=k(null),o=k(!1),p;f[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(){var a=n.current;if(b("cr:2012305")!=null&&a!=null&&o.current===!1){b("cr:2012305").trackTypingPerf(a,"top_tab_serp_typeahead");o.current=!0;return function(){b("cr:2012305").unregisterTypingPerf(a),o.current=!1}}},p=[],f[7]=m,f[8]=p):(m=f[7],p=f[8]);j(m,p);m=c("useMergeRefs")(a,n);p=c("useMergeRefs")(m,e);f[9]!==p||f[10]!==g||f[11]!==h?(a=i.jsx(c("CometTypeaheadInputRoundedStrategy.react"),babelHelpers["extends"]({},h,{onChange:g,ref:p})),f[9]=p,f[10]=g,f[11]=h,f[12]=a):a=f[12];return a}e=f;g["default"]=e}),98);
__d("useCometInternalTypeaheadHeroTracing",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){var c=a?a.getInteractionUUID():null,d=a?a.getVCTrackerRef():null,e=c!=null&&a!=null&&!a.isResolved();return i(function(){var f=function(c,d){a&&d!=null&&a.setEventStartTime(d.timeStamp),b(c,d)};return{interactionUUID:c,onTracedChange:f,shouldHoldHeroTracing:e,vcTrackerRef:d}},[c,b,e,a,d])}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadLayoutContextualStrategy.react",["CometHeroHoldTrigger.react","CometHeroInteractionWithDiv.react","CometTypeaheadInternalLayoutInlineStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadHeroTracing","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useSearchCometGlobalTypeaheadStyles","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(74),e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;b[0]!==a?(y=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,j=a.onBlur,k=a.onChange,l=a.onClick,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,u=a.onShiftTab,v=a.onTab,w=a.onUpArrow,z=a.traceProvider,q=a.onLeftArrow,t=a.onRightArrow,A=a.viewRole,e=a.inputRef,B=a.xstyles,x=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","traceProvider","onLeftArrow","onRightArrow","viewRole","inputRef","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q,b[13]=r,b[14]=s,b[15]=t,b[16]=u,b[17]=v,b[18]=w,b[19]=x,b[20]=y,b[21]=z,b[22]=A,b[23]=B):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12],r=b[13],s=b[14],t=b[15],u=b[16],v=b[17],w=b[18],x=b[19],y=b[20],z=b[21],A=b[22],B=b[23]);b[24]!==y?(a=y===void 0?{}:y,b[24]=y,b[25]=a):a=b[25];y=a;a=y.afterViewContent;y=y.beforeViewContent;c("vulture")("7brrgTPtvjh");var C=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();C=C.isOpened;var D=c("useCometInternalTypeaheadState")(),E=D.activeEntries,F=D.highlightedEntry;D=D.secondaryActionHighlighted;var G=c("useCometInternalTypeaheadFetch")();G=G.isLoading;e=c("useCometTypeaheadInputRefs")(e);var H=e.composedRef;e=e.inputRef;var I=c("useSearchCometGlobalTypeaheadStyles")();B=(B=B)!=null?B:I;I=c("useCometInternalTypeaheadHeroTracing")(z,k);z=I.interactionUUID;k=I.onTracedChange;var J=I.shouldHoldHeroTracing;I=I.vcTrackerRef;var K;b[26]!==h||b[27]!==j||b[28]!==l||b[29]!==m||b[30]!==n||b[31]!==o||b[32]!==p||b[33]!==q||b[34]!==r||b[35]!==s||b[36]!==t||b[37]!==u||b[38]!==v||b[39]!==k||b[40]!==w?(K={onAbandonTypeahead_DO_NOT_USE:h,onBlur:j,onChange:k,onClick:l,onDownArrow:m,onEnter:n,onEscape:o,onHighlightEntry:p,onLeftArrow:q,onOutsideClick:r,onPressEntry:s,onRightArrow:t,onShiftTab:u,onTab:v,onUpArrow:w},b[26]=h,b[27]=j,b[28]=l,b[29]=m,b[30]=n,b[31]=o,b[32]=p,b[33]=q,b[34]=r,b[35]=s,b[36]=t,b[37]=u,b[38]=v,b[39]=k,b[40]=w,b[41]=K):K=b[41];b[42]!==e||b[43]!==K?(h={handlers:K,inputRef:e},b[42]=e,b[43]=K,b[44]=h):h=b[44];j=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[45]!==E||b[46]!==f||b[47]!==F||b[48]!==C||b[49]!==g||b[50]!==D||b[51]!==A?(l={activeEntries:E,helperText:f,highlightedEntry:F,inputLabel:g,isOpened:C,secondaryActionHighlighted:D,viewRole:A},b[45]=E,b[46]=f,b[47]=F,b[48]=C,b[49]=g,b[50]=D,b[51]=A,b[52]=l):l=b[52];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);b[53]!==J?(n=i.jsx(c("CometHeroHoldTrigger.react"),{description:"SearchInternalTypeahead",hold:J}),b[53]=J,b[54]=n):n=b[54];b[55]!==a||b[56]!==m||b[57]!==y||b[58]!==G||b[59]!==C?(o={afterViewContent:a,ariaProps:m,beforeViewContent:y,helperTextComponent:null,isLoading:G,isOpened:C},b[55]=a,b[56]=m,b[57]=y,b[58]=G,b[59]=C,b[60]=o):o=b[60];b[61]!==H||b[62]!==j||b[63]!==g||b[64]!==x||b[65]!==o||b[66]!==A||b[67]!==B?(p=i.jsx(c("CometTypeaheadInternalLayoutInlineStrategy.react"),babelHelpers["extends"]({},x,j,{extraLayoutProps:o,inputRef:H,label:g,viewRole:A,xstyles:B})),b[61]=H,b[62]=j,b[63]=g,b[64]=x,b[65]=o,b[66]=A,b[67]=B,b[68]=p):p=b[68];b[69]!==z||b[70]!==n||b[71]!==p||b[72]!==I?(q=i.jsxs(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"Search_Typeahead",interactionUUID:z,ref:I,children:[n,p]}),b[69]=z,b[70]=n,b[71]=p,b[72]=I,b[73]=q):q=b[73];return q}g["default"]=a}),98);
__d("SearchCometInterestsDeepDiveExperiments",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("24247")}g.hasTypeaheadRedirection=a}),98);
__d("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry",["Base64","ConstUriUtils","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","XCometSearchResultsControllerRouteBuilder","react-compiler-runtime","searchCometTypeaheadGetHighConfidenceResult","searchCometTypeaheadGetStsDisambiguation","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsEntryPointSurface","useSearchCometResultsURLBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={routeBuilder:c("XCometSearchResultsControllerRouteBuilder")},a[0]=b):b=a[0];var e=c("useSearchCometResultsURLBuilder")(b),f=c("useSearchCometHashtagRouteUrlBuilder")(),g=c("useSearchCometResultsEntryPointSurface")();a[1]!==f||a[2]!==g||a[3]!==e?(b=function(a){var b=a.entry,h=a.queryString;a=a.typeaheadSessionID;var i=b.label.toLowerCase(),j=b.metaData;j=j==null?void 0:j.markers;var k=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(i);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&k!=null&&!j.has("see_all"))return f({entryPointAction:"SEARCH_BOX",exploreEntryPoint:h===""?3:4,hashtag:k,typeaheadSessionID:a});else{h=b.rawData;k=(k=c("searchCometTypeaheadGetStsDisambiguation")(b))!=null?k:void 0;if(b.subtype==="keyword"&&j.has("disambiguation")){h=(j=(j=h.structuredInfo)==null?void 0:(h=j.disambiguation_result)==null?void 0:h.disambiguation_info_list[0])!=null?j:{};j=h.link_url;if(j!=null){h=d("ConstUriUtils").getUri(j);if(h!=null){j=new Map();g!=null&&j.set("__eps__",g);k!==void 0&&j.set("__stsd__",c("Base64").encode(JSON.stringify(k)));var l=new Map();for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];l.set(p,o)}p=h.addQueryParams(l);if(p!=null)return p.toString()}}}return e({entryPointAction:"SEARCH_BOX",highConfidenceResult:c("searchCometTypeaheadGetHighConfidenceResult")(b),query:i,stsDisambiguation:k,typeaheadSessionID:a})}},a[1]=f,a[2]=g,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps",["react","react-compiler-runtime","useCometRouterDispatcher","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(10),e=a.entry;a=a.queryString;var f=c("useCometRouterDispatcher")(),g=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")(),h;b[0]!==g||b[1]!==e||b[2]!==a?(h=g({entry:e,queryString:a}),b[0]=g,b[1]=e,b[2]=a,b[3]=h):h=b[3];g=h;var j=g;b[4]!==f||b[5]!==j?(e=function(){f!=null&&f.preloadRouteCode(j)},a=[f,j],b[4]=f,b[5]=j,b[6]=e,b[7]=a):(e=b[6],a=b[7]);i(e,a);b[8]!==j?(h={preloadCodeOnMount:!0,preventLocalNavigation:!0,url:j},b[8]=j,b[9]=h):h=b[9];g=h;return g}g["default"]=a}),98);
__d("useSearchCometGlobalTypeaheadViewStrategy",["fbt","CometSearchTypeaheadBaseViewRecentEmptyState.react","react","searchCometTypeaheadSTSMappings","useSearchCometGlobalTypeaheadKeywordViewItemLinkProps","useSearchCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo,l={view:{backgroundColor:"x1jx94hy",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"x1iofjn4",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){a=a.onHeaderActionPress;var b=k(function(){return[l.view]},[]),d=k(function(){return j.jsx(c("CometSearchTypeaheadBaseViewRecentEmptyState.react"),{})},[]);return c("useSearchCometTypeaheadViewListStrategy")({additionalEntryMappings:c("searchCometTypeaheadSTSMappings"),emptyStateContent:d,getLinkProps:c("useSearchCometGlobalTypeaheadKeywordViewItemLinkProps"),isScrollable:!0,onHeaderActionPress:a,seeAllLabelBuilder:m,xstyle:b})}function m(a){return h._(/*BTDS*/"__JHASH__LChIaXBIwAT__JHASH__",[h._implicitParam("=m1",j.jsx("strong",{children:h._(/*BTDS*/"__JHASH__BFbyaDXF_eS__JHASH__",[h._param("query",a)])}))])}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6484597208256495"}),null);
__d("useSearchCometTypeaheadBootstrapValidationQuery.graphql",["useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],concreteType:"SearchClientCachePolicyCheckResult",kind:"LinkedField",name:"search_client_cache_policy_check",plural:!1,selections:[{alias:null,args:null,concreteType:"SearchClientCachePolicyDecision",kind:"LinkedField",name:"policy_decision",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ids_to_remove",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"force_cache_refresh",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useSearchCometTypeaheadBootstrapValidationQuery",selections:c},params:{id:b("useSearchCometTypeaheadBootstrapValidationQuery_facebookRelayOperation"),metadata:{},name:"useSearchCometTypeaheadBootstrapValidationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useSearchCometTypeaheadBootstrapValidation",["CometRelay","CometRelayErrorHandling","filterNulls","react","react-compiler-runtime","recoverableViolation","useSearchCometTypeaheadBootstrapValidationQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var e=d("react-compiler-runtime").c(3),f=a.bootstrapDatasource,g=d("CometRelay").useRelayEnvironment();e[0]!==f||e[1]!==g?(a={validate:function(a){a=c("filterNulls")(a.map(k));d("CometRelay").fetchQuery(g,h!==void 0?h:h=b("useSearchCometTypeaheadBootstrapValidationQuery.graphql"),{input:{cache_types:["KEYWORD_BOOTSTRAP"],shown_suggestions:a}}).subscribe({error:j,next:function(a){a=a.search_client_cache_policy_check;for(var a=(a=a==null?void 0:a.policy_decision)!=null?a:[],b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;var e=d.cache_type,g=d.force_cache_refresh;d=d.ids_to_remove;if(e==="KEYWORD_BOOTSTRAP"){for(var e=d,d=Array.isArray(e),h=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(d){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;f.removeEntriesByEntID(i)}g===!0&&(f.clear(),f.bootstrap())}}}})}},e[0]=f,e[1]=g,e[2]=a):a=e[2];e=a;return e}function j(a){d("CometRelayErrorHandling").markErrorAsHandled(a)}function k(a){if(a.subtype!=="bootstrap")return null;a=(a=a.rawData.structuredInfo)!=null?a:{};a=a.direct_nav_result;if(a==null)return null;var b=a.ent_id;a=a.title;if(b==null||a==null){c("recoverableViolation")("Unexpected missing ent_id or title on direct_nav_result","search");return null}return{id:b,keyword:a}}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){function b(b){var c=d("react-compiler-runtime").c(15),e,f,g,h,j;c[0]!==b?(e=b.inputRef,f=b.onChange,g=b.onPressEntry,j=b.shouldQueryStringUpdateFromSelectedEntryOnClick,h=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onChange","onPressEntry","shouldQueryStringUpdateFromSelectedEntryOnClick"]),c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=h,c[5]=j):(e=c[1],f=c[2],g=c[3],h=c[4],j=c[5]);b=j===void 0?!1:j;c[6]!==f||c[7]!==g?(j=function(b,c){var a=b.metaData,d=b.subtype;a=a.markers;d=d==="recent"&&a.has("entity")||a.has("direct_nav");f(d?"":b.label);g==null?void 0:g(b,c)},c[6]=f,c[7]=g,c[8]=j):j=c[8];j=j;var k;c[9]!==e||c[10]!==j||c[11]!==f||c[12]!==h||c[13]!==b?(k=i.jsx(a,babelHelpers["extends"]({},h,{inputRef:e,onChange:f,onPressEntry:j,shouldQueryStringUpdateFromSelectedEntryOnClick:b})),c[9]=e,c[10]=j,c[11]=f,c[12]=h,c[13]=b,c[14]=k):k=c[14];return k}return b}g["default"]=a}),98);
__d("withSearchCometGlobalTypeaheadFocusKeyboardShortcut",["cometGetKeyCommandConfig","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometTypeaheadInputRefs","useGlobalKeyCommands"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){function b(b){var e=b.inputRef;b=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef"]);e=c("useCometTypeaheadInputRefs")(e);var f=e.composedRef,g=e.inputRef;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var h=e.dispatchIsOpened,l=j(function(){g.current!=null&&(g.current.focus(),h(!0))},[g,h]);e=k(function(){return[d("cometGetKeyCommandConfig").getCometKeyCommandConfig("global","search",l)]},[l]);c("useGlobalKeyCommands")(e);return i.jsx(a,babelHelpers["extends"]({},b,{inputRef:f}))}b.displayName=b.name+" [from "+f.id+"]";return b}g["default"]=a}),98);
__d("withSearchCometTypeaheadTraceEndReasonDecorator",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){function b(b){var c=d("react-compiler-runtime").c(13),e,f,g,h;c[0]!==b?(e=b.inputRef,f=b.onPressEntry,h=b.traceProvider,g=babelHelpers.objectWithoutPropertiesLoose(b,["inputRef","onPressEntry","traceProvider"]),c[0]=b,c[1]=e,c[2]=f,c[3]=g,c[4]=h):(e=c[1],f=c[2],g=c[3],h=c[4]);c[5]!==f||c[6]!==h?(b=function(a,b){h&&h.setEndReason("successful_user_action"),f==null?void 0:f(a,b)},c[5]=f,c[6]=h,c[7]=b):b=c[7];b=b;var j;c[8]!==e||c[9]!==b||c[10]!==g||c[11]!==h?(j=i.jsx(a,babelHelpers["extends"]({},g,{inputRef:e,onPressEntry:b,traceProvider:h})),c[8]=e,c[9]=b,c[10]=g,c[11]=h,c[12]=j):j=c[12];return j}return b}g["default"]=a}),98);
__d("SearchCometGlobalTypeahead.react",["fbt","BaseTypeahead.react","CometErrorBoundary.react","CometTypeaheadErrorFallback.react","FBLogger","SearchCometGlobalTypeaheadInputStrategy.react","SearchCometGlobalTypeaheadLayoutContextualStrategy.react","SearchCometInterestsDeepDiveExperiments","SearchCometInterestsDeepDiveUtil","SearchCometTypeaheadLoggingContextProvider","XCometSearchResultsControllerRouteBuilder","emptyFunction","qex","react","react-compiler-runtime","requireDeferred","searchCometGlobalTypeahead.config","unrecoverableViolation","useCometSearchTypeaheadTraceProvider","useCometTypeaheadNavigate","useCometTypeaheadStateQueryString","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource","useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry","useSearchCometGlobalTypeaheadViewStrategy","useSearchCometHashtagRouteUrlBuilder","useSearchCometResultsURLBuilder","useSearchCometTypeaheadBootstrapValidation","useSearchCometTypeaheadLoggingProvider","useSearchCometTypeaheadRecentDataSourceContextDecorator","useStable","withSearchCometGlobalTypeaheadCleanStateOnEntrySelection","withSearchCometGlobalTypeaheadFocusKeyboardShortcut","withSearchCometTypeaheadBaseNavigationDecorator","withSearchCometTypeaheadSERPWarmCallDecorator","withSearchCometTypeaheadTraceEndReasonDecorator"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.useEffect;b.useMemo;var m=b.useRef,n=c("requireDeferred")("ODS").__setRef("SearchCometGlobalTypeahead.react"),o=(e=c("qex")._("7"))!=null?e:!1;function a(a){var b=d("react-compiler-runtime").c(73),e,f,g,i,t,u,v,w,x,y;b[0]!==a?(y=a.autoOpen,e=a.inputXStyle,g=a.onClose,i=a.onEscape,t=a.onFocus,u=a.onHeaderActionPress,v=a.onPressEntry,w=a.onSelectFreeformQuery,f=a.queryString,x=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","inputXStyle","onClose","onEscape","onFocus","onHeaderActionPress","onPressEntry","onSelectFreeformQuery","queryString"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=t,b[6]=u,b[7]=v,b[8]=w,b[9]=x,b[10]=y):(e=b[1],f=b[2],g=b[3],i=b[4],t=b[5],u=b[6],v=b[7],w=b[8],x=b[9],y=b[10]);a=y===void 0?!1:y;y=c("useCometTypeaheadStateQueryString")(f);var z=y[0];f=y[1];var A=c("useSearchCometGlobalTypeaheadURLBuilderForKeywordEntry")();b[11]===Symbol["for"]("react.memo_cache_sentinel")?(y={routeBuilder:c("XCometSearchResultsControllerRouteBuilder")},b[11]=y):y=b[11];var B=c("useSearchCometResultsURLBuilder")(y),C=c("useSearchCometHashtagRouteUrlBuilder")();b[12]===Symbol["for"]("react.memo_cache_sentinel")?(y={tapPoint:"tap_search_bar"},b[12]=y):y=b[12];var D=c("useCometTypeaheadNavigate")(y),E=m(!1);y=c("useSearchCometGlobalTypeaheadNullStateDataSource")();var F;b[13]!==y?(F={config:c("searchCometGlobalTypeahead.config"),recentDataSource:y},b[13]=y,b[14]=F):F=b[14];var G=c("useSearchCometGlobalTypeaheadCompositeDataSource")(F);b[15]!==G?(y=G.getBootstrapKeywordsDataSource(),b[15]=G,b[16]=y):y=b[16];F=y;if(F==null)throw c("unrecoverableViolation")("Bootstrap datasource is missing","search");b[17]!==F?(y={bootstrapDatasource:F},b[17]=F,b[18]=y):y=b[18];F=c("useSearchCometTypeaheadBootstrapValidation")(y);var H=F.validate;b[19]!==H?(y=function(a){a=a.shownEntries;H(a)},b[19]=H,b[20]=y):y=b[20];var I=y;F=k(d("SearchCometTypeaheadLoggingContextProvider").CometLoggingProviderContext);y=F.logger;var J=F.onSessionStart,K=F.setSessionEndCallback;F=F.traceProvider;var L;L=y;F=F;var M;b[21]!==I?(M={context:"search_global",onSessionEnd:I},b[21]=I,b[22]=M):M=b[22];M=c("useSearchCometTypeaheadLoggingProvider")(M);c("useCometSearchTypeaheadTraceProvider")(y||M);l(function(){K(I)},[K,I]);if(L==null){L=M;n.onReady(r);throw c("FBLogger")("search").mustfix("Typeahead used without logger in context")}if(F==null)throw c("FBLogger")("search").mustfix("Typeahead used without traceProvider in context");y=c("useSearchCometTypeaheadRecentDataSourceContextDecorator")(G,!1);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(M={decorate:c("withSearchCometGlobalTypeaheadFocusKeyboardShortcut")},b[23]=M):M=b[23];b[24]!==y?(M=[y,M].filter(Boolean),b[24]=y,b[25]=M):M=b[25];y=M;M=y;var N;b[26]!==G?(y=function(){G.bootstrap()},N=[G],b[26]=G,b[27]=y,b[28]=N):(y=b[27],N=b[28]);l(y,N);b[29]!==t||b[30]!==J?(y=function(){E.current=!0,J(),t&&t()},b[29]=t,b[30]=J,b[31]=y):y=b[31];N=y;b[32]!==L||b[33]!==D||b[34]!==v||b[35]!==z||b[36]!==A?(y=function(a,b){var c;if(b===!0)return;b=a.metaData;b=b==null?void 0:b.markers;var d=b!=null&&b.has("entity");b=b!=null&&b.has("direct_nav");c=A({entry:a,queryString:z,typeaheadSessionID:(c=L)==null?void 0:c.getSessionID()});c=s(a,c,d,b);D(c);v==null?void 0:v(a)},b[32]=L,b[33]=D,b[34]=v,b[35]=z,b[36]=A,b[37]=y):y=b[37];L;y=y;var O;b[38]!==C||b[39]!==L||b[40]!==D||b[41]!==w||b[42]!==z||b[43]!==B?(O=function(a){var b=d("SearchCometInterestsDeepDiveUtil").getHashtagTag(a);if(d("SearchCometInterestsDeepDiveExperiments").hasTypeaheadRedirection()&&b!=null){b=C({entryPointAction:"SEARCH_BOX",exploreEntryPoint:z===""?3:4,hashtag:b,typeaheadSessionID:(b=L)==null?void 0:b.getSessionID()})}else{var c;b=B({entryPointAction:"SEARCH_BOX",query:a,typeaheadSessionID:(c=L)==null?void 0:c.getSessionID()})}D(b);w==null?void 0:w(a)},b[38]=C,b[39]=L,b[40]=D,b[41]=w,b[42]=z,b[43]=B,b[44]=O):O=b[44];L;O=O;var P;b[45]!==G||b[46]!==g?(P=function(){G.clearQueryCache(),g&&g()},b[45]=G,b[46]=g,b[47]=P):P=b[47];P=P;var Q=c("useStable")(q),R;b[48]===Symbol["for"]("react.memo_cache_sentinel")?(R=h._(/*BTDS*/"__JHASH___9EIWdQL4U5__JHASH__"),b[48]=R):R=b[48];R=R;var S=z==="";S=S?"grid":"listbox";var T;b[49]===Symbol["for"]("react.memo_cache_sentinel")?(T={bypassCacheRenderLimitCheck:o},b[49]=T):T=b[49];var U=x.inputEndContent,V;b[50]!==e?(V={hideIconOnFocus:!0,size:"large",xstyle:e},b[50]=e,b[51]=V):V=b[51];e=x.inputStartContent;var W;b[52]===Symbol["for"]("react.memo_cache_sentinel")?(W=h._(/*BTDS*/"__JHASH__oTSOcwn1bTU__JHASH__"),b[52]=W):W=b[52];var X=L,Y;b[53]!==u?(Y={onHeaderActionPress:u},b[53]=u,b[54]=Y):Y=b[54];u=c("useSearchCometGlobalTypeaheadViewStrategy")(Y);b[55]!==Q||b[56]!==a||b[57]!==G||b[58]!==P||b[59]!==N||b[60]!==y||b[61]!==O||b[62]!==i||b[63]!==x||b[64]!==z||b[65]!==f||b[66]!==M||b[67]!==V||b[68]!==X||b[69]!==u||b[70]!==F||b[71]!==S?(Y=j.jsx(c("CometErrorBoundary.react"),{fallback:p,children:j.jsx(Q,babelHelpers["extends"]({},x,{autoOpen:a,dataSource:G,dataSourceFetchConfigParams:T,decorators:M,inputEndContent:U,inputExtraProps:V,inputStartContent:e,inputStrategyRenderer:c("SearchCometGlobalTypeaheadInputStrategy.react"),label:W,layoutStrategyRenderer:c("SearchCometGlobalTypeaheadLayoutContextualStrategy.react"),loggingProvider:X,onChange:f,onClose:P,onEscape:i,onFocus:N,onPressEntry:y,onSelectFreeformQuery:O,placeholder:R,queryString:z,testid:void 0,traceProvider:F,viewRole:S,viewStrategyRenderer:u}))}),b[55]=Q,b[56]=a,b[57]=G,b[58]=P,b[59]=N,b[60]=y,b[61]=O,b[62]=i,b[63]=x,b[64]=z,b[65]=f,b[66]=M,b[67]=V,b[68]=X,b[69]=u,b[70]=F,b[71]=S,b[72]=Y):Y=b[72];return Y}function p(){return j.jsx(c("CometTypeaheadErrorFallback.react"),{})}p.displayName=p.name+" [from "+f.id+"]";function q(){var a;return((a=c("withSearchCometTypeaheadSERPWarmCallDecorator"))!=null?a:c("emptyFunction").thatReturnsArgument)(c("withSearchCometTypeaheadTraceEndReasonDecorator")(c("withSearchCometGlobalTypeaheadCleanStateOnEntrySelection")(c("withSearchCometTypeaheadBaseNavigationDecorator")(c("BaseTypeahead.react")))))}function r(a){a.bumpEntityKey(354,"typeahead.missing_logger_context","focused")}function s(a,b,c,d){var e=a.rawData,f;if(e!=null&&a.subtype==="recent"&&c){f=e==null?void 0:(c=e.profile)==null?void 0:c.url}if(e!=null&&(a.subtype==="keyword"||a.subtype==="bootstrap"||a.subtype==="recent")&&d){f=e==null?void 0:(c=e.structuredInfo)==null?void 0:(a=c.direct_nav_result)==null?void 0:a.link_url}return(d=f)!=null?d:b}g["default"]=a}),226);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","react-compiler-runtime","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),l=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),m={contents:!1};function a(){var a=d("react-compiler-runtime").c(3),b=(h||(h=c("useReStore")))(),e,f;a[0]!==b?(e=function(){if(m.contents)return;m.contents=!0;var a=d("ReQL").fromTableAscending(b.tables.user_visible_errors).subscribe(function(a,d){switch(d.operation){case"add":var e=d.value;a=e.presentationStyle;if(a!=null&&a!=="toast"&&a!=="undefined")return;l.onReady(function(a){a.mwPushErrorToast({body:e.errorBodyText!=null?c("translatedServerString")(e.errorBodyText):void 0,onDismiss:function(){k.onReady(function(a){a.removeUserVisibleErrorFromTable(b,e.errorId)})},title:c("translatedServerString")(e.errorTitleText)})});return;case"put":case"delete":return}});return function(){m.contents=!1;return a()}},f=[b],a[0]=b,a[1]=e,a[2]=f):(e=a[1],f=a[2]);return j(e,f)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BrowserSupportCore",["getVendorPrefixedName"],(function(a,b,c,d,e,f){"use strict";a={hasCSSAnimations:function(){return!!b("getVendorPrefixedName")("animationName")},hasCSSTransforms:function(){return!!b("getVendorPrefixedName")("transform")},hasCSS3DTransforms:function(){return!!b("getVendorPrefixedName")("perspective")},hasCSSTransitions:function(){return!!b("getVendorPrefixedName")("transition")}};c=a;f["default"]=c}),66);
__d("BrowserSupport",["BrowserSupportCore","ExecutionEnvironment","UserAgent_DEPRECATED","getVendorPrefixedName","memoize"],(function(a,b,c,d,e,f,g){var h,i,j,k=null;function l(){if((j||(j=c("ExecutionEnvironment"))).canUseDOM){k||(k=document.createElement("div"));return k}return null}b=function(a){return c("memoize")(function(){var b=l();return!b?!1:a(b)})};e=b(function(a){a.style.cssText="position:-moz-sticky;position:-webkit-sticky;position:-o-sticky;position:-ms-sticky;position:sticky;";return/sticky/.test(a.style.position)});f=b(function(a){return"scrollSnapType"in a.style||"webkitScrollSnapType"in a.style||"msScrollSnapType"in a.style});var m=b(function(a){return"scrollBehavior"in a.style});b=b(function(a){if(!("pointerEvents"in a.style))return!1;a.style.cssText="pointer-events:auto";return a.style.pointerEvents==="auto"});var n=(h=c("memoize"))(function(){return!(d("UserAgent_DEPRECATED").webkit()&&!d("UserAgent_DEPRECATED").chrome()&&d("UserAgent_DEPRECATED").windows())&&"FileList"in window&&"FormData"in window}),o=h(function(){return!!a.blob}),p=h(function(){return(j||(j=c("ExecutionEnvironment"))).canUseDOM&&document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","foreignObject").toString().includes("SVGForeignObject")}),q=h(function(){return!!window.MutationObserver});h=h(function(){var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd"},b=c("getVendorPrefixedName")("transition");return a[b]||null});var r=function(){return!!window.CanvasRenderingContext2D};g.hasCSSAnimations=(i=c("BrowserSupportCore")).hasCSSAnimations;g.hasCSSTransforms=i.hasCSSTransforms;g.hasCSS3DTransforms=i.hasCSS3DTransforms;g.hasCSSTransitions=i.hasCSSTransitions;g.hasPositionSticky=e;g.hasScrollSnapPoints=f;g.hasScrollBehavior=m;g.hasPointerEvents=b;g.hasFileAPI=n;g.hasBlobFactory=o;g.hasSVGForeignObject=p;g.hasMutationObserver=q;g.getTransitionEndEvent=h;g.hasCanvasRenderingContext2D=r}),98);
__d("DOMControl",["$","DataStore"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f,g){function h(a){return!/\S/.test(a||"")}function i(a){return h(a.value)}function a(a){return i(a)?"":a.value}function b(a){return a.value}function e(a,b){a.value=b||"";b=c("DOMControl").getInstance(a);b&&b.resetHeight&&b.resetHeight()}function f(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function j(a){a.value="",a.style.height=""}function k(a,b){d("CSS").conditionClass(a,"enter_submit",b)}function l(a){return d("CSS").hasClass(a,"enter_submit")}function m(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}g.isWhiteSpaceOnly=h;g.isEmpty=i;g.getValue=a;g.getValueRaw=b;g.setValue=e;g.setPlaceholder=f;g.reset=j;g.setSubmitOnEnter=k;g.getSubmitOnEnter=l;g.setMaxLength=m}),98);
__d("Form",["DOM","DOMQuery","DTSG","DTSGUtils","DataStore","FBLogger","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f,g){var h,i,j="FileList"in window,k="FormData"in window;function l(a){var b={};(h||(h=c("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(i||(i=c("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(i||(i=c("URI"))).decodeComponent(a[2]):null;b[d]=e}});return b}var m={getInputs:function(a){a===void 0&&(a=document);return[].concat(d("DOMQuery").scry(a,"input"),d("DOMQuery").scry(a,"select"),d("DOMQuery").scry(a,"textarea"),d("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};m.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=c===void 0?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value===b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName==="FORM"&&a.elements!==a?Array.from(a.elements):m.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,b){m.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=c("DataStore").get(a,"origDisabledState");b?(d===void 0&&c("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=b):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,b,c){m.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var b=0,e=a.options.length;b<e;b++){var f=a.options[b];f.selected&&c("select",a.name,f.value)}return}if(a.type==="file"){if(j){f=a.files;for(b=0;b<f.length;b++)c("file",a.name,f.item(b))}return}c(a.type,a.name,d("Input").getValue(a))}),b&&b.name&&b.type==="submit"&&d("DOMQuery").contains(a,b)&&d("DOMQuery").isNodeOfType(b,["input","button"])&&c("submit",b.name,b.value)},createFormData:function(a,b){if(!k)return null;var d=new FormData();if(a)if(c("isNode")(a))m.forEachValue(a,b,function(a,b,c){d.append(b,c)});else{b=l(a);for(a in b)b[a]==null?d.append(a,""):d.append(a,b[a])}return d},serialize:function(a,b){var c={};m.forEachValue(a,b,function(a,b,d){if(a==="file")return;m._serializeHelper(c,b,d)});return m._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:m._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=m._serializeFix(a[b]));b=Object.keys(a);if(b.length===0||b.some(isNaN))return a;b.sort(function(a,b){return a-b});var c=0,d=b.every(function(a){return+a===c++});return d?b.map(function(b){return a[b]}):a},post:function(a,b,e,f){f===void 0&&(f=!0);a=new(i||(i=c("URI")))(a);var g=document.createElement("form");g.action=a.toString();g.method="POST";g.style.display="none";var h=!c("isFacebookURI")(a);if(e){if(h){g.rel="noreferrer";if(e==="_blank"){e=btoa(c("Random").uint32());var j=window.open("about:blank",e);j!==void 0&&(j.opener=null)}}g.target=e}if(f&&(!h&&a.getSubdomain()!=="apps")){j=d("DTSG").getToken();j&&(b.fb_dtsg=j,c("SprinkleConfig").param_name&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(j)));c("LSD").token&&(b.lsd=c("LSD").token,c("SprinkleConfig").param_name&&!j&&(b[c("SprinkleConfig").param_name]=c("DTSGUtils").getNumericValue(c("LSD").token)))}m.createHiddenInputs(b,g);d("DOMQuery").getRootElement().appendChild(g);g.submit();return!1},post_UNSAFE_LET_ANYONE_IMPERSONATE_THE_USER_FOR_THESE_WRITES:function(a,b,c){m.post(a,b,c)},createHiddenInputs:function(a,b,d,e){e===void 0&&(e=!1);d=d||{};a=l(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=c("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;b.appendChild(g)}}return d},getFirstElement:function(a,b){b===void 0&&(b=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var e=[];for(var f=0;f<b.length;f++){e=d("DOMQuery").scry(a,b[f]);for(var g=0;g<e.length;g++){var h=e[g];try{var i=c("getElementPosition")(h);if(i.y>0&&i.x>0)return h}catch(a){}}}return null},focusFirst:function(a){a=m.getFirstElement(a);if(a){a.focus();return!0}return!1}};f.exports=m}),34);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);b.parseFiles=function(a){var b={};c("forEachObject")(a,function(a,c){if(Array.isArray(a))b[c]=a;else{b[c]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)b[c].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&b[c].push(a)}});return b};function b(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var e=b.prototype;e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setData=function(a){this._data=a;return this};e.setOption=function(a,b){this._option[a]=b;return this};e.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};e.setLimit=function(a){this._limit=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setRelativeTo=function(a){this._relativeTo=a;return this};e.setStatusElement=function(a){this._statusElement=a;return this};e.setURI=function(a){this._uri=a;return this};e.suspend=function(){this._suspended=!0;return this};e.resume=function(){this._suspended=!1;this._processQueue();return this};e.isUploading=function(){return this._inFlight};e._createFileUpload=function(a,b,c){return new h(a,b,c)};e._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};e._processUpload=function(a){var b=d("Form").createFormData(a.getData()||this._data);if(a.getFile()){b.append(a.getName(),a.getFile());var e=a.getFile().uploadID;e&&b.append("upload_id",e);a.getAdditionalData().forEach(function(a,c){return b.append(c,a)})}e=new(c("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(b).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var f in this._option)e.setOption(f,this._option[f]);for(f in this._customHeader)e.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&e.setRelativeTo(this._relativeTo);e.send();a.setAsyncRequest(e);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};e._abort=function(a){this._pending.indexOf(a)!==-1&&(c("removeFromArray")(this._pending,a),this._processQueue()),c("removeFromArray")(this._waiting,a),a.abort()};e._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};e._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};e._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};e._failure=function(a,b){if(a.isAborted())return;if(b.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(b))!==!1&&(this._preventDefaultErrorHandler||c("AsyncResponse").defaultErrorHandler(b));this._processQueue()};e._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};e._complete=function(a){c("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};b.isSupported=function(){return d("BrowserSupport").hasFileAPI()};return b}(c("mixin")(c("ArbiterMixin")));var h=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}();g["default"]=a}),98);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.setFiles=function(a){this._files=c("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)})};d.send=function(){var a=this;if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var b in this._files)this._files[b].forEach(function(c){a._uploads.push(a._createFileUpload(b,c))});this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};b.isSupported=function(){return c("AsyncUploadBase").isSupported()};return b}(c("AsyncUploadBase"));g["default"]=a}),98);
__d("CPXComposerConstants",[],(function(a,b,c,d,e,f){"use strict";a=120;b=68;c=90;d=160;e=10;var g=4;f.THUMBNAIL_WIDTH=a;f.THUMBNAIL_HEIGHT=b;f.REEL_THUMBNAIL_WIDTH=c;f.REEL_THUMBNAIL_HEIGHT=d;f.NUM_OF_THUMBNAILS=e;f.MAX_NUM_THUMBNAILS=g}),66);
__d("CanvasToBlobImpl",["BlobFactory"],(function(a,b,c,d,e,f){function a(a,c){a=atob(a.substr(a.indexOf(",")+1));var d=new Uint8Array(a.length);for(var e=0;e<a.length;e++)d[e]=a.charCodeAt(e);return b("BlobFactory").getBlob([d],{type:c})}e.exports={getBlob:a}}),null);
__d("VideoThumbnail_UNTYPED",["invariant"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getURL=function(){return this.$1};b.getData=function(){g(0,4844)};a.addTextToCanvasContext=function(a,b,c,d,e,f,g,h,i){a.fillStyle=h;a.textAlign=i;a.font=f+"px "+g;h=i==="center"?d+e/2:d;g=1;i=b.split("\n");for(d=i,b=Array.isArray(d),i=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(b){if(i>=d.length)break;j=d[i++]}else{i=d.next();if(i.done)break;j=i.value}j=j;var k="",l="";j=j.split(" ");for(var j=j,m=Array.isArray(j),n=0,j=m?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=j.length)break;o=j[n++]}else{n=j.next();if(n.done)break;o=n.value}o=o;l+=o;var p=a.measureText(l).width,q=a.measureText(o).width;if(q>e){k.length>0&&(a.fillText(k,h,c+f*g),g++);q="";var r="";for(var s=o,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var v;if(t){if(u>=s.length)break;v=s[u++]}else{u=s.next();if(u.done)break;v=u.value}v=v;r+=v;var w=a.measureText(r).width;w>e?(a.fillText(q,h,c+f*g),q=v,r=v,g++):q=r}k=q+" ";l=q+" "}else p>e?(a.fillText(k,h,c+f*g),k=o+" ",l=o+" ",g++):(l+=" ",k=l)}a.fillText(k,h,c+f*g);g++}return a};return a}();e.exports=a}),null);
__d("WebWorker",["invariant","BlobFactory","Bootloader","EventListener","FBLogger","SubscriptionsHandler","TrustedTypesWebWorkerScriptURLPolicy","URI","WebWorkerConfig","XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder","XHRRequest","cr:951783","emptyFunction","err","filterObject","getCrossOriginTransport","getWorkerInitScriptSPINParams","gkx","isSameOrigin","justknobx","memoize","nullthrows","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("20935")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate(),this.$12()};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("20935")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.useInitScript&&b("gkx")("21112")||this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);if(this.$4.useInitScript&&b("gkx")("21112")){var a;a=b("nullthrows")((a=b("XCometFBMultiSiteWebWorkerInitScriptControllerRouteBuilder").buildUri({}).addQueryParams(b("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString());var d=new window.URL(this.$4.url,window.location.href).href;if(d==null)throw b("err")("Can't start up worker without a resource url.");this.__worker=this.constructWorker(a,this.$4.name);this.__worker.postMessage({bundleUrl:d,doNotStartBundle:!0,isDev:!1,resource:this.$4,type:"sr-init"})}else this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,d){var e=!(this.$4.useInitScript&&b("gkx")("21112"));c.$16(a,this.$4.name,babelHelpers["extends"]({},d,{cross_page_transition:!!this.$9,state:this.$3}),e)};c.$18=function(a){return Object.keys(b("filterObject")({object_url:a&&c.$19(),data_url:a&&c.$20(),worker:c.isSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("isSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)b("justknobx")._("819")&&b("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",d.name,d.url),c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(b("gkx")("21112")&&d.useInitScript===!0)e();else{b("justknobx")._("819")&&b("FBLogger")("static_resources").warn("trying to instantiate blob/data Url Worker %s %s",d.name,d.url);if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length},!1)):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0},!1),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e)}return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&q()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e,f){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(g){g.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(f),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a,b){return m(a,b)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(c,d){return new a.Worker(b("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(c),d!=null?{name:d}:{})}var n=b("memoize")(function(){var a,c;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var d=m(a);d.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);
__d("dataURLToBlob",["BlobFactory","CanvasToBlobImpl","CanvasToBlobResource","Promise","WebWorker"],(function(a,b,c,d,e,f,g){var h,i=a.URL||a.webkitURL||{};function e(a,e){if(!i.createObjectURL||!c("BlobFactory").isSupported)return(h||(h=b("Promise"))).reject("Browser doesn't support this feature");if(c("WebWorker").isSupported())return new(h||(h=b("Promise")))(function(b,d){var f=new(c("WebWorker"))(c("CanvasToBlobResource")).setMessageHandler(function(a){b(a),f.terminate()}).setErrorHandler(function(a){d(a.message),f.terminate()}).execute().postMessage({dataURL:a,fileType:e})});else return(h||(h=b("Promise"))).resolve(d("CanvasToBlobImpl").getBlob(a,e))}g["default"]=e}),98);
__d("canvasToBlob",["Promise","dataURLToBlob","promiseDone"],(function(a,b,c,d,e,f,g){var h;function a(a,d,e){return new(h||(h=b("Promise")))(function(b,f){if(a.toBlob)a.toBlob(b,d,e);else{var g=a.toDataURL(d,e);c("promiseDone")(c("dataURLToBlob")(g,d).then(function(a){b(a)},f))}})}g["default"]=a}),98);
__d("CanvasVideoThumbnail",["EventListener","Promise","VideoThumbnail_UNTYPED","canvasToBlob","promiseDone"],(function(a,b,c,d,e,f,g){var h;a=function(a){babelHelpers.inheritsLoose(d,a);function d(b,c,d,e,f,g,h){var i;e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=0);h===void 0&&(h=0);i=a.call(this,null)||this;i.$CanvasVideoThumbnail$p_1=b;i.$CanvasVideoThumbnail$p_2=c;i.$CanvasVideoThumbnail$p_3=d;i.$CanvasVideoThumbnail$p_4=e;i.$CanvasVideoThumbnail$p_5=f;i.$CanvasVideoThumbnail$p_6=g;i.$CanvasVideoThumbnail$p_7=h;i.$CanvasVideoThumbnail$p_8=i.$CanvasVideoThumbnail$p_1.toDataURL("image/jpeg");return i}var e=d.prototype;e.getCanvas=function(){return this.$CanvasVideoThumbnail$p_1};e.getTime=function(){return this.$CanvasVideoThumbnail$p_3?this.$CanvasVideoThumbnail$p_3:0};e.getURL=function(){this.$CanvasVideoThumbnail$p_8||(this.$CanvasVideoThumbnail$p_8=this.$CanvasVideoThumbnail$p_1.toDataURL("image/jpeg"));return this.$CanvasVideoThumbnail$p_8};e.getData=function(){var a=this,d=document.createElement("canvas"),e=d.getContext("2d"),f=this.$CanvasVideoThumbnail$p_2;return new(h||(h=b("Promise")))(function(b,g){var h=c("EventListener").listen(f,"seeked",function(){h.remove(),a.$CanvasVideoThumbnail$p_9(d,e),c("promiseDone")(c("canvasToBlob")(d,"image/jpeg").then(b,g))});f.currentTime=a.$CanvasVideoThumbnail$p_3})};e.getDataWithText=function(a,d,e,f,g,i,j,k){var l=this,m=document.createElement("canvas"),n=m.getContext("2d"),o=this.$CanvasVideoThumbnail$p_2;return new(h||(h=b("Promise")))(function(b,h){var p=c("EventListener").listen(o,"seeked",function(){p.remove(),n.fillStyle=j,n.textAlign=k,l.$CanvasVideoThumbnail$p_9(m,n),n=c("VideoThumbnail_UNTYPED").addTextToCanvasContext(n,a,d,e,f,g,i,j,k),c("promiseDone")(c("canvasToBlob")(m,"image/jpeg").then(b,h))});o.currentTime=l.$CanvasVideoThumbnail$p_3})};e.$CanvasVideoThumbnail$p_9=function(a,b){var c=this.$CanvasVideoThumbnail$p_2;this.$CanvasVideoThumbnail$p_4||this.$CanvasVideoThumbnail$p_5?(a.width=this.$CanvasVideoThumbnail$p_4?this.$CanvasVideoThumbnail$p_4:c.videoWidth,a.height=this.$CanvasVideoThumbnail$p_5?this.$CanvasVideoThumbnail$p_5:c.videoHeight,this.$CanvasVideoThumbnail$p_10(a,b)):(a.width=c.videoWidth,a.height=c.videoHeight,b.drawImage(c,0,0,a.width,a.height))};e.$CanvasVideoThumbnail$p_10=function(a,b){var c=this.$CanvasVideoThumbnail$p_2,d=this.$CanvasVideoThumbnail$p_6,e=this.$CanvasVideoThumbnail$p_7,f=this.$CanvasVideoThumbnail$p_4?this.$CanvasVideoThumbnail$p_4:a.width,g=this.$CanvasVideoThumbnail$p_5?this.$CanvasVideoThumbnail$p_5:a.height;b.drawImage(c,d,e,f,g,0,0,a.width,a.height)};return d}(c("VideoThumbnail_UNTYPED"));g["default"]=a}),98);
__d("shield",[],(function(a,b,c,d,e,f){function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}f["default"]=a}),66);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","DOMQuery","DataStore","Event","FBLogger","Form","Parent","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f,g){function h(a){var b={};a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){b[a.name]=a.files});return b}function i(a){a=d("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g._allowCrossOrigin=!1;g._allowCrossPageTransition=!1;g._uploadInParallel=!1;g._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==g._form)return;if(g.inform("submit")===!1){a.prevent();return}g.submit(a)};g._click=function(a){a=a.getTarget();while(c("isElementNode")(a)){if(a.type==="submit"){g._clickTarget=a;c("setTimeout")(g._unclick,0);break}a=a.parentNode}};g._unclick=function(){g._clickTarget=null};g.initial=function(a){return g.inform("initial",{upload:a})};if(b.getAttribute("rel")==="async")throw c("FBLogger")("FileForm","primer-only").mustfixThrow("FileForm cannot be used with Primer forms.");if((b.getAttribute("method")||"").toUpperCase()!=="POST")throw c("FBLogger")("FileForm","post-only").mustfixThrow("FileForm must be used with POST forms.");g._form=b;g._previousEncoding=g._form.enctype;g._form.enctype=g._form.encoding="multipart/form-data";g._files=null;g._customHeader={};e&&g.enableBehaviors(e);g._options=f||{};g.setAllowCrossOrigin(g._options.allowCrossOrigin);g.setAllowCrossPageTransition(g._options.allowCrossPageTransition);g.setUploadInParallel(g._options.uploadInParallel);g.setConcurrentLimit(g._options.concurrentLimit);g.setPreprocessHandler(g._options.preprocessHandler);g.setNetworkErrorRetryLimit(g._options.networkErrorRetryLimit);g._listeners=[c("Event").listen(document.documentElement,"submit",g._handleSubmit),c("Event").listen(g._form,"click",g._click)];d("DataStore").set(g._form,"FileForm",babelHelpers.assertThisInitialized(g));return g}var e=b.prototype;e.getRoot=function(){return this._form};e.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};e.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};e.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};e.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};e.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};e.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};e.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};e.setFiles=function(a){this._files=a;return this};e.submit=function(a){var b=this,e;if(this._uploadInParallel&&c("AsyncUploadRequest").isSupported()){e=new(c("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(d("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var f in this._customHeader)e.setCustomHttpHeader(f,this._customHeader[f]);this._concurrentLimit&&e.setLimit(this._concurrentLimit);this._files?e.setFiles(this._files):e.setFiles(h(this._form));var g=[e.subscribe("progress",function(a,c){b.progress(c,c.getProgressEvent())}),e.subscribe("initial",function(a,c){b.initial(c)}),e.subscribe("success",function(a,c){b.success(c,c.getResponse())}),e.subscribe("start",function(a,c){b.inform("start",{upload:c})}),e.subscribe("failure",function(a,c){b.failure(c,c.getResponse());return!1}),e.subscribe("complete",function(){while(g.length)g.pop().unsubscribe()})]}else(function(){var a,f=b._files;if(f){a=d("Form").createFormData(d("Form").serialize(b._form,b._clickTarget));var g=c("AsyncUploadRequest").parseFiles(f);f=function(b){var c=g[b];c.length===1?a.append(b,c[0]):(b+="[]",c.forEach(function(c){a.append(b,c)}));b};for(var h in g)f(h)}else a=d("Form").createFormData(b._form,b._clickTarget);e=new(c("AsyncRequest"))().setRawData(a).setHandler(function(a){return b.success(null,a)}).setErrorHandler(function(a){return b.failure(null,a)}).setUploadProgressHandler(function(a){return b.progress(null,a)}).setInitialHandler(c("shield")(b.initial,b,null));b.inform("start",{upload:null})})();e.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=e;a&&a.prevent()};e.success=function(a,b){b={response:b,upload:a};this.inform("success",b)!==!1&&c("Event").fire(this._form,"success",b);this._cleanup()};e.failure=function(a,b){a={response:b,upload:a};this.inform("failure",a)!==!1&&(c("Event").fire(this._form,"error",a)!==!1&&c("AsyncResponse").defaultErrorHandler(b));this._cleanup()};e.progress=function(a,b){this.inform("progress",{event:b,upload:a})};e.abort=function(){this._request&&(this._request.abort(),this._cleanup())};e.clear=function(){i(this._form)};e.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;d("DataStore").remove(this._form,"FileForm")};e._cleanup=function(){this._request=null};e._getStatusElement=function(){return d("Parent").byClass(this._form,"stat_elem")||this._form};b.getInstance=function(a){return d("DataStore").get(a,"FileForm")};return b}(c("mixin")(c("ArbiterMixin"),c("BehaviorsMixin")));Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});g["default"]=a}),98);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};b=a;f["default"]=b}),66);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),66);
__d("ImageMetadata",["ImageExif","Promise","StringEncoding","emptyFunction","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;e=function(){function e(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var f=e.prototype;f.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=i[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};f.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,j)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+j.length,b-2-j.length)):this.$11(a+4,k)?(this.$1=a,this.$2=b,this.$13(a+4+k.length,b-2-k.length)):this.$11(a+4,l)&&this.$14(a+4+l.length,b-2-l.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};f.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};f.$12=function(a,b){a=emptyFunction;try{emptyFunction=c("emptyFunction");var e=d("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}b={};for(a in e){var f=e[a];typeof f==="string"&&(f=f.trim());b[a.trim()]=f}this.$3=b};f.$13=function(a,b){var c=new(d("StringEncoding").Decoder)(null,"truncate");try{c=c.decode(this.$6.slice(a,a+b));this.$4=c}catch(a){return}};f.$14=function(a){};f.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};f.$9=function(a){for(a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};f.hasAPP1=function(){return Boolean(this.$1)};f.hasExif=function(){return Boolean(this.$3)};f.hasXMP=function(){return Boolean(this.$4)};f.hasSize=function(){return Boolean(this.$5)};f.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};f.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};f.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};f.getXMPString=function(){return this.$4};f.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};f.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};e.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=e;c.next=3;return b("regeneratorRuntime").awrap(e.$16(a));case 3:c.t1=c.sent;return c.abrupt("return",new c.t0(c.t1));case 5:case"end":return c.stop()}},null,this)};e.$16=function(c){return new(h||(h=b("Promise")))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return e}();var i=[];i[216]={name:"SOI",length:0};i[192]={name:"SOF0"};i[193]={name:"SOF1"};i[194]={name:"SOF2"};i[195]={name:"SOF3"};i[197]={name:"SOF5"};i[198]={name:"SOF6"};i[199]={name:"SOF7"};i[200]={name:"JPG"};i[201]={name:"SOF9"};i[202]={name:"SOF10"};i[203]={name:"SOF11"};i[205]={name:"SOF13"};i[206]={name:"SOF14"};i[207]={name:"SOF15"};i[196]={name:"DHT"};i[219]={name:"DQT"};i[221]={name:"DRI",length:2};i[218]={name:"SOS"};i[208]={name:"RST0",length:0};i[209]={name:"RST1",length:0};i[210]={name:"RST2",length:0};i[211]={name:"RST3",length:0};i[212]={name:"RST4",length:0};i[213]={name:"RST5",length:0};i[214]={name:"RST6",length:0};i[215]={name:"RST7",length:0};i[224]={name:"APP0"};i[225]={name:"APP1"};i[226]={name:"APP2"};i[227]={name:"APP3"};i[228]={name:"APP4"};i[229]={name:"APP5"};i[230]={name:"APP6"};i[231]={name:"APP7"};i[232]={name:"APP8"};i[233]={name:"APP9"};i[234]={name:"APP10"};i[235]={name:"APP11"};i[236]={name:"APP12"};i[237]={name:"APP13"};i[238]={name:"APP14"};i[239]={name:"APP15"};i[254]={name:"COM"};i[217]={name:"EOI",length:0};var j="Exif\0\0",k="http://ns.adobe.com/xap/1.0/\0",l="http://ns.adobe.com/xmp/extension/\0";g["default"]=e}),98);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;function a(){return(g++).toString()}f.getNewID=a}),66);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f,g){function a(a){var b=h(a).length;a=i(a).length;return b>a}function b(a){return h(a).length>0}function d(a){return j(a).length>0}function h(a){return k(a,c("VideoUploadConfig").videoExtensions)}function i(a){var b={gif:!0};return k(a,b)}function j(a){var b={};Object.keys(c("ComposerXNativeAudioUploadsConfig").audioExtensions).forEach(function(a){b[a]=c("ComposerXNativeAudioUploadsConfig").audioExtensions[a]!==0});return k(a,b)}function k(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?(a=(a=a.split(".").pop())==null?void 0:a.toLowerCase())!=null?a:"":"";return b[a]})}g.hasEditableVideos=a;g.hasVideos=b;g.hasAudioFiles=d;g.filterVideos=h;g.filterNonEditableVideos=i;g.filterAudioFiles=j;g.filterFileOfSupportedType=k}),98);
__d("ResumableUploadServiceState.enum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CANCEL:"upload-cancel",FAIL:"upload-fail",FILE_TOO_LARGE:"upload-too-large",NOT_STARTED:"upload-not-started",PROGRESS:"upload-progress",START:"upload-start",SUCCESS:"upload-success",TRANSPORT_FAILURE:"upload-transport-fail"});f["default"]=a}),66);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["ImageMetadata","Promise","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=2048;d=function(){function d(){}d.genArrayBufferFromBlob=function(c){return new(h||(h=b("Promise")))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})};d.shouldCheckInServer=function(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<i||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0};d.genPhotosphereMetadata=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){c("promiseDone")(d.genArrayBufferFromBlob(a),function(a){try{var f=new(c("ImageMetadata"))(a);d.shouldCheckInServer(f)?c("promiseDone")(d.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}),function(a){a=a.payload;b({photoSphereMetadata:a,imageMetadata:f})},e):b({})}catch(a){a.__manual=!0,e(a)}},e)})};d.genPhotosphereMetadataFromServer=function(a,d,e){var f=this;return new(h||(h=b("Promise")))(function(b,g){new(c("XAsyncRequest"))(c("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:f.getExifString(e),height:a.y,width:a.x,xmp:d}).setHandler(b).setErrorHandler(g).send()})};d.getExifString=function(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})};d.getMayContainSphericalMetadata=function(a){return a!==""&&a.indexOf("GPano:")>-1};return d}();g["default"]=d}),98);
__d("SphericalImage",["SphericalImageUtils","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("SphericalImageUtils").genPhotosphereMetadata(a));case 2:d=e.sent;return e.abrupt("return",new this(d));case 4:case"end":return e.stop()}},null,this)};var d=a.prototype;d.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};d.getImageMetadata=function(){return this.props.imageMetadata};d.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};d.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};d.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};d.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[h]&&(a=this.props.photoSphereMetadata[h]);return a};return a}();g["default"]=a}),98);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}f.shouldResize360=a;f.shouldRecompress360=b}),66);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f,g){a=function(){function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}var b=a.prototype;b.updateFrameBuffer=function(){this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,b=this.$1.clientHeight||this.$1.height,d=a,e=b,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:b,0,0,a,b)}else g.drawImage(this.$2,(a-d)/2,(b-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};b.getDOMNode=function(){return this.$1};b.updateDimensions=function(a,b){this.$4=a,this.$5=b};return a}();g["default"]=a}),98);
__d("curry",["bind"],(function(a,b,c,d,e,f,g){a=c("bind")(null,c("bind"),null);b=a;g["default"]=b}),98);
__d("loadImageFromBlob",["Promise"],(function(a,b,c,d,e,f){var g;function a(a){return new(g||(g=b("Promise")))(function(b,c){var d=new Image();d.onload=function(){URL.revokeObjectURL(d.src),b(d)};d.onerror=function(a){URL.revokeObjectURL(d.src),c(a)};d.src=URL.createObjectURL(a)})}f["default"]=a}),66);
__d("XComposerPhotoUploader",["AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","Promise","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","asyncToGeneratorRuntime","curry","emptyFunction","loadImageFromBlob","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=a.URL||a.webkitURL||{};e=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||c("emptyFunction"),this.$7=a.onUploadsEnqueued||c("emptyFunction"),this.$8=a.onResizeStart||c("emptyFunction"),this.$11=a.onResizeProgress||c("emptyFunction"),this.$9=a.onResizeSuccess||c("emptyFunction"),this.$10=a.onResizeFailure||c("emptyFunction"),this.$12=a.onSphericalCheckFailure||c("emptyFunction"),this.$13=a.onSphericalCheckSuccess||c("emptyFunction"),this.$14=a.onUploadIsSpherical||c("emptyFunction"),this.$15=a.onUploadSent||c("emptyFunction"),this.$16=a.onUploadStart||c("emptyFunction"),this.$17=a.onUploadProgress||c("emptyFunction"),this.$18=a.onUploadSuccess||c("emptyFunction"),this.$19=a.onUploadFailure||c("emptyFunction")}var e=a.prototype;e.setUploadEndpoint=function(a){this.$1=a};e.setOption=function(a,b){this.$20[a]=b;return this};e.getUploadData=function(){return this.$2};e.setUploadData=function(a){this.$2=a};e.upload=function(a,b){var e=this;b||0;b=babelHelpers["extends"]({},this.$2);var f=null;if(!this.$21(a)){var g=d("PhotosUploadID").getNewID();a.uploadID=g;b.upload_id=g;this.$6({uploadID:g,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:j.createObjectURL?j.createObjectURL(a):null})}else{f=Array.from(a.files);f=f.filter(function(a){return!d("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(f.length===0)return;f.forEach(function(a){a.uploadID||(a.uploadID=d("PhotosUploadID").getNewID()),e.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:j.createObjectURL?j.createObjectURL(a):null})})}this.$7();g=new(c("FileInputUploader"))(a).setURI(this.$1).setData(b).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);f&&f.length>0&&(g.setFiles({farr:f}),this.$5?g.setPreprocessHandler(this.$22.bind(this)):g.setPreprocessHandler(this.$23.bind(this)),this.$4&&g.setConcurrentLimit(this.$4));g.subscribe("progress",function(b,c){return e.$17(e.$24(c,a),c)});g.subscribe("failure",function(b,c){return e.$19(e.$24(c,a),c,f)});g.subscribe("start",function(b,c){return e.$16(e.$24(c,a),c)});g.subscribe("success",function(b,c){return e.$18(e.$24(c,a),c)});try{g.send(),this.$15(a)}catch(a){throw a}};e.uploadFiles=function(a){var b=this;a=Array.from(a);var c=[];a.forEach(function(a){var e=d("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);b.$6({fileName:a.name,fileURL:j.createObjectURL?j.createObjectURL(a):null,isSpherical:!1,uploadID:e});c.push(e)});a=this.getAsyncFileUploadRequest(a,c);a.send()};e.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};e.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};e.$25=function(a,b){a=new(c("AsyncUploadRequest"))().setData(babelHelpers["extends"]({},b&&b.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);(b==null?void 0:b.preventDefaultErrorHandler)&&a.setPreventDefaultErrorHandler(!0);this.$4&&a.setLimit(this.$4);this.$5?a.setPreprocessHandler(this.$22.bind(this)):a.setPreprocessHandler(this.$23.bind(this));for(b in this.$20)a.setOption(b,this.$20[b]);return a};e.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};e.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};e.$23=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$27(a,d)})())};e.$27=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.getFile();c=(yield this.$28(c));var d=a.getFile().uploadID;c&&c.isSpherical()?this.$14(c.isSpherical(),c,d):this.$14(!1,null,"");b(a)});function c(b,c){return a.apply(this,arguments)}return c}();e.$22=function(a,d){var e=this;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield e.$29(a,d)})())};e.$28=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(i||(i=c("performanceNow")))();try{var d=(yield c("SphericalImage").createFromBlob(a));this.$13(a,(i||(i=c("performanceNow")))()-b,d);return d}catch(d){this.$12(a,(i||(i=c("performanceNow")))()-b);return null}});function d(b){return a.apply(this,arguments)}return d}();e.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};e.$32=function(a,b){b===void 0&&(b=c("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,b)};e.$33=function(a){return c("loadImageFromBlob")(a).then(function(a){return{width:a.width,height:a.height}})};e.$31=function(a,d,e){var f=this,g=c("curry")(this.$11,d.uploadID),i=c("curry")(this.$8,d),j=function(){return f.$33(d).then(i)};return new(h||(h=b("Promise")))(function(b,c){j(),a(d,function(a,d,e,f,g,h,i){a?c(a):e?b({originalWidth:f,originalHeight:g}):b({blob:d,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},g,e)})};e.$29=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.getFile(),f=this.$5.isEligible(e==null?void 0:e.size,e==null?void 0:e.type);if(!e||!d("PhotosMimeType").isJpeg(e.type)||!f){this.$14(!1,null,"");e&&c("promiseDone")(this.$33(e).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",e.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},c("emptyFunction")));b(a);return}f=(i||(i=c("performanceNow")))();var g,h;try{var j=null;j=(yield this.$28(e));if(j&&j.isSpherical()){this.$14(!0,j,e.uploadID);var k=j.getSize(),l=c("SphericalPhotoTypedConfig").upload_size_limit,m=j.getProjectionType(),n=!1;n=d("SphericalPhotoUploadHelper").shouldRecompress360(m,j.getBufferLength(),c("SphericalPhotoTypedConfig").upload_bytes_limit);j=d("SphericalPhotoUploadHelper").shouldResize360(m,k,l);k&&(j||n)&&(!j?g=(yield this.$32(e,Math.max(k.x,k.y)-1)):g=(yield this.$32(e)))}else this.$14(!1,null,""),g=(yield this.$30(e));g&&(g.blob!=null&&(h=g.blob,h.uploadID=e.uploadID,h.name=e.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",e.size).set("original_width",g.originalWidth).set("original_height",g.originalHeight).set("upload_width",g.outputWidth).set("upload_height",g.outputHeight));m=h===null;a.getFile().filename=e.name;this.$9(e,h||e,m,(i||(i=c("performanceNow")))()-f,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"))}catch(a){l=(i||(i=c("performanceNow")))()-f;this.$10(e,h||e,a,l)}b(a)});function e(b,c){return a.apply(this,arguments)}return e}();e.$21=function(a){return!!a.files&&c("AsyncUploadRequest").isSupported()};return a}();g["default"]=e}),98);
__d("genArrayBufferFromFile",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a){return"arrayBuffer"in a&&typeof a.arrayBuffer==="function"?a.arrayBuffer():new(g||(g=b("Promise")))(function(b,c){var d=new FileReader();d.onload=function(){var a=d.result;a instanceof ArrayBuffer?b(a):c()};d.onerror=function(){c(d.error)};d.readAsArrayBuffer(a)})}f["default"]=a}),66);
__d("genIsNonAnimatedWebPFile",["genArrayBufferFromFile"],(function(a,b,c,d,e,f,g){"use strict";var h=8;function a(a){return c("genArrayBufferFromFile")(a).then(function(a){a=new Uint8Array(a);var b=a.slice(12,16).reduce(function(a,b,c){return a+String.fromCharCode(b)},"");if(b==="VP8X"){b=a[20];b=b.toString(2).padStart(8,"0");if(b[6]==="1")return!i(a)}return!0})}function i(a){var b=12,c=0;while(c<2&&b+h<a.length){var d=j(a,b);d==="ANMF"&&c++;d=k(a,b+4);var e=d%2;d=h+d+e;b+=d}return c>1}function j(a,b){return a.slice(b,b+4).reduce(function(a,b,c){return a+String.fromCharCode(b)},"")}function k(a,b){return parseInt(a.slice(b,b+4).reduce(function(a,b,c){return b.toString(2).padStart(8,"0")+a},""),2)}g["default"]=a}),98);
__d("generateVideoThumbnails",["CPXComposerConstants","CanvasVideoThumbnail","HTMLMediaElementReadyStates","Promise","VideoFrameBuffer","cr:909281","gkx"],(function(a,b,c,d,e,f,g){var h,i=.5625;function a(a,d,e,f,g,i,o,p,q,r){g===void 0&&(g="contain");i===void 0&&(i=0);o===void 0&&(o=null);p===void 0&&(p=null);q===void 0&&(q=null);r===void 0&&(r=null);return new(h||(h=b("Promise")))(function(h,s){var t=document.createElement("canvas"),u=[],v=0,w=a.duration-i;r!=null&&(w=Math.min(w,r));var x=w/f,y=null,z=null,A,B=(w=p)!=null?w:j(o,d),C=(w=q)!=null?w:k(o,e),D=l(o,d),E=m(o,e);t.width=(w=B)!=null?w:d;t.height=(w=C)!=null?w:e;var F=new(c("VideoFrameBuffer"))(t,a,g,B,C,D,E);F.updateFrameBuffer();var G=function(){F.updateFrameBuffer();var b=new(c("CanvasVideoThumbnail"))(t,a,i+(v-1)*x,B,C,D,E);u.push(b);(!y||b.getURL().length>y.getURL().length)&&(y=b,z=n(o,a));I()},H=function(){if(a.readyState>=c("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)G();else if(b("cr:909281")!==null)var d=b("cr:909281").listen(a,"loadeddata",function(){d.remove(),G()});else a.addEventListener("loadeddata",G,{once:!0})},I=function(){v===0&&(b("cr:909281")!==null?A=b("cr:909281").listen(a,"seeked",H):a.addEventListener("seeked",H)),v<f?(a.currentTime=i+v*x,v++):(b("cr:909281")!==null?A&&A.remove():a.removeEventListener("seeked",H),h({thumbnails:u,selectedThumbnail:y,croppedThumbnailUri:z}))};if(a.videoWidth===0||a.videoHeight===0){s();return}I()})}function j(a,b){if(a&&a.spherical){if(a.stereoMode==="left-right")return b/2;if(a.projectionType==="cubemap")return b/3}return null}function k(a,b){return a&&a.spherical&&(a.stereoMode==="top-bottom"||a.projectionType==="cubemap")?b/2:null}function l(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/3:0}function m(a,b){return a&&a.spherical&&a.projectionType==="cubemap"?b/2:0}function n(a,b){var e=b.videoWidth!=null&&b.videoHeight!=null?b.videoWidth/b.videoHeight:i,f=e<1;if(a==null&&!f&&c("gkx")("5339")){a=document.createElement("canvas");f=a.getContext("2d");var g=b.videoWidth,h=b.videoHeight;a.width=g;a.height=h;f.drawImage(b,0,0,g,h);f=document.createElement("canvas");e>=1&&e<1.2?(b=g*(d("CPXComposerConstants").REEL_THUMBNAIL_WIDTH/d("CPXComposerConstants").REEL_THUMBNAIL_HEIGHT),e=h):(b=h,e=g);f.width=b;f.height=e;var j=f.getContext("2d");j.drawImage(a,0,0,g,h,0,0,b,e);return f.toDataURL("image/jpeg")}return null}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("FBIconChevronLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M457.905 1075.53a.75.75 0 0 0-1.06-1.06l-4.5 4.5a.75.75 0 0 0 0 1.06l4.5 4.5a.75.75 0 0 0 1.06-1.06l-3.97-3.97 3.97-3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconChevronRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M454.095 1083.47a.75.75 0 1 0 1.06 1.06l4.5-4.5a.75.75 0 0 0 0-1.06l-4.5-4.5a.75.75 0 0 0-1.06 1.06l3.97 3.97-3.97 3.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?b.i64.cast([0,1]):b.i64.cast([0,3])})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMediaSendInsertNewMediaSendStoredProcedure";a.__tables__=["media_send_jobs"];e.exports=a}),null);
__d("LSInsertNewMediaSendStoredProcedure",["LSInsertNewMediaSend","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInsertNewMediaSend"),e.offlineAttachmentId,e.offlineThreadingId,e.inMessageIndex,e.attachmentType,e.shouldTranscode,e.useDoublePhase,e.sendByServer,e.isSecure);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],a[10],void 0,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.loopAsync(d[2],function(e){return d[3]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[7]=d[4].get("offline_attachment_id"),d[8]=d[4].get("attachment_type"),d[9]=d[4].get("filename"),d[10]=d[4].get("filesize"),d[11]=d[4].get("attachment_index"),d[12]=d[4].get("has_media"),d[13]=d[4].get("has_xma"),d[14]=d[4].get("playable_url"),d[15]=d[4].get("playable_url_mime_type"),d[16]=d[4].get("playable_duration_ms"),d[17]=d[4].get("preview_url"),d[18]=d[4].get("preview_url_mime_type"),d[19]=d[4].get("mini_preview"),d[20]=d[4].get("preview_width"),d[21]=d[4].get("preview_height"),d[22]=d[4].get("xma_layout_type"),d[23]=d[4].get("xmas_template_type"),d[24]=d[4].get("cta1_title"),d[25]=d[4].get("cta2_title"),d[26]=d[4].get("cta3_title"),d[27]=d[4].get("image_url"),d[28]=d[4].get("action_url"),d[29]=d[4].get("title_text"),d[30]=d[4].get("subtitle_text"),d[31]=d[4].get("description_text"),d[32]=d[4].get("source_text"),d[33]=d[4].get("original_file_hash"),d[34]=d[4].get("sound_bite_client_sound_key"),d[35]=d[4].get("sound_bite_visual"),d[36]=d[4].get("ephemeral_media_state"),d[37]=d[4].get("waveform_data"),d[38]=d[4].get("sampling_frequency_hz"),d[17]!==void 0?d[39]=d[17]:d[39]=d[14],c.filter(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,c.i64.cast([0,20]))}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[39],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:c.i64.cast([0,20]),samplingFrequencyHz:d[38],waveformData:d[37]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],c.i64.cast([0,0]))?c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],void 0)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure";a.__tables__=["attachments"];e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",["LSLocalApplyOptimisticMessageWithAttachments","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSLocalApplyOptimisticMessageWithAttachments"),e.senderId,e.threadKey,e.threadType,e.text,e.snippet,e.snippetHasEmoji,e.stickerId,e.replySourceId,e.replySourceType,e.replySourceTypeV2,e.isForwarded,e.attachments,e.mentionData);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({TEXT:1,MEDIA_PREVIEW:2,AUDIO_CLIP:4,XMA_FALLBACK:8,LWA_WAVE:16,ADMIN:32,FILE_ATTACHMENT:64,GLYPH:128,TOMBSTONE:256,STORY_REPLY:512,SINGLE_XMA:1024,HSCROLL_XMA:2048,STICKER:4096,FORWARD_INDICATOR:8192,ANIMATED_IMAGE:16384,NULL_STATE:32768,ENCRYPTION_PLACEHOLDER:65536,FUTUREPROOF_PLACEHOLDER:131072,UNAVAILABLE_PLACEHOLDER:262144,LOCATION_PLACEHOLDER:524288,POLL_CREATION_PLACEHOLDER:1048576,CONTACT_SHARE_PLACEHOLDER:2097152,STORY_MENTION_PLACEHOLDER:4194304,META_AI_MESSAGE_PLACEHOLDER:8388608,BUMP_MESSAGE_PLACEHOLDER:16777216,BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_PLACEHOLDER:33554432,STICKER_RECEIVER_FETCH_UNSUPPORTED_PLACEHOLDER:67108864,RECEIVER_FETCH:134217728,STORY_MENTION:268435456,XMA_RECEIVER_FETCH:536870912,NOTE_MENTION_PLACEHOLDER:1073741824,POST_MENTION_PLACEHOLDER:2147483648,LIVE_LOCATION_PLACEHOLDER:4294967296,MESSENGER_MEMORY_PLACEHOLDER:8589934592});f["default"]=a}),66);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMessagePointQuery"),e.threadKey,e.messageId,e.threadType,e.numContextMessages);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticSendXMAMessageForwardFromSecureThread",["LSArrayGetObjectAt","LSIssueNewTaskWithExtraOperationsAndGetTaskID","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return c.storedProcedure(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,3]),a[4],void 0,void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[3]=c.i64.of_int32(a[6].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(e){return d[4]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(e){return d[7]=d[5].get("attachment_fbid"),d[8]=d[5].get("offline_attachment_id"),d[9]=d[5].get("attachment_type"),d[10]=d[5].get("filename"),d[11]=d[5].get("filesize"),d[12]=d[5].get("attachment_index"),d[13]=d[5].get("has_media"),d[14]=d[5].get("has_xma"),d[15]=d[5].get("playable_url"),d[16]=d[5].get("playable_url_mime_type"),d[17]=d[5].get("playable_duration_ms"),d[18]=d[5].get("preview_url"),d[19]=d[5].get("preview_url_mime_type"),d[20]=d[5].get("mini_preview"),d[21]=d[5].get("preview_width"),d[22]=d[5].get("preview_height"),d[23]=d[5].get("xma_layout_type"),d[24]=d[5].get("xmas_template_type"),d[25]=d[5].get("cta1_title"),d[26]=d[5].get("cta2_title"),d[27]=d[5].get("cta3_title"),d[28]=d[5].get("image_url"),d[29]=d[5].get("action_url"),d[30]=d[5].get("title_text"),d[31]=d[5].get("subtitle_text"),d[32]=d[5].get("description_text"),d[33]=d[5].get("source_text"),d[34]=d[5].get("original_file_hash"),d[35]=d[5].get("sound_bite_client_sound_key"),d[36]=d[5].get("sound_bite_visual"),d[37]=d[5].get("ephemeral_media_state"),c.sequence([function(b){return c.forEach(c.filter(c.db.table(16).fetch([[[a[1],d[0],d[7]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&b.messageId===d[0]&&b.attachmentFbid===d[7]&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[1],messageId:d[0],attachmentFbid:d[7],timestampMs:d[1],offlineAttachmentId:d[8],attachmentType:d[9],filename:d[10],filesize:d[11],attachmentIndex:d[12],hasMedia:d[13],hasXma:d[14],isSharable:!1,playableUrl:d[15],playableUrlMimeType:d[16],playableDurationMs:d[17],previewUrl:d[18],previewUrlMimeType:d[19],miniPreview:d[20],previewWidth:d[21],previewHeight:d[22],xmaLayoutType:d[23],xmasTemplateType:d[24],cta1Title:d[25],cta2Title:d[26],cta3Title:d[27],imageUrl:d[28],actionUrl:d[29],titleText:d[30],subtitleText:d[31],descriptionText:d[32],sourceText:d[33],ephemeralMediaState:d[37],originalFileHash:d[34],authorityLevel:c.i64.cast([0,20])})},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,!1)},function(e){return c.storedProcedure(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[7],d[15],void 0,void 0,d[16],d[18],void 0,void 0,d[19],d[21],d[22])}])}])}):c.resolve()},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[2]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[5],sendType:c.i64.cast([0,11]),markThreadRead:!1})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure";a.__tables__=["attachments","messages_optimistic_context"];e.exports=a}),null);
__d("LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure",["LSOptimisticSendXMAMessageForwardFromSecureThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticSendXMAMessageForwardFromSecureThread"),e.senderId,e.threadKey,e.threadType,e.text,e.isForwarded,e.source,e.attachments);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWDownloadMediaInWorkerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWDownloadMediaInWorker").__setRef("MAWDownloadMediaInWorkerDeferred");function a(a){h.onReady(function(b){return b.maybeDownloadMediaInWorker(a)})}function b(a){h.onReady(function(b){return b.downloadMediaInWorker(a)})}function d(a){h.onReady(function(b){return b.maybeDownloadMediaInWorkerWithPlaintextHash(a)})}function e(a){h.onReady(function(b){return b.maybeBulkDownloadMediaInWorker(a)})}g.maybeDownloadMediaInWorker=a;g.downloadMediaInWorker=b;g.maybeDownloadMediaInWorkerWithPlaintextHash=d;g.maybeBulkDownloadMediaInWorker=e}),98);
__d("MAWSendFileMsgTypes",["WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a}function b(a){return d("WAStanzaUtils").toStanzaId(a)}g.toOfflineAttachmentIDFromStanzaId=a;g.toOfflineAttachmentIDFromString=b}),98);
__d("MAWSecureAttachmentGroupingUtils",["I64","LSIntEnum","MAWSendFileMsgTypes","MessagingAttachmentType","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){a=a.reduce(function(a,b){(h||(h=d("I64"))).equal(b.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))?a.mediaStagingsImage.push(b):a.mediaStagingsOther.push(b);return a},{mediaStagingsImage:[],mediaStagingsOther:[]});var b=a.mediaStagingsImage;a=a.mediaStagingsOther;return[].concat(b,a)}function b(a){var b=new Map();a=a.filter(function(a){return(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))});var e=a.length;if(e>1){var f=c("uuidv4")();a.forEach(function(a,c){b.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{groupId:f,groupIndex:c,groupSize:e})})}return b}function e(a){var b=new Map(),d=a.length;if(d>1){var e=c("uuidv4")();a.forEach(function(a,c){b.set(a,{groupId:e,groupIndex:c,groupSize:d})})}return b}g.orderMediaStagingsForGrouping=a;g.generateMediaGroupMetadataForMediaStagings=b;g.generateMediaGroupMetadataForMessageIds=e}),98);
__d("MAWForwardMessage",["MAWBridgeSendAndReceive","MAWCreateOneToOneThread","MAWExternalId","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWMiActOnActThreadReady","MAWSecureAttachmentGroupingUtils","MAWThreadId","Promise","WAResultOrError","asyncToGeneratorRuntime","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("MAWThreadId").isSecureThreadId(a.tables,b));if(!f){f=(yield d("MAWCreateOneToOneThread").call(a,b,void 0,"MAWForwardMessage",e));e=f.jid;return c(e,!0)}f=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWForwardMessage"));e=f.chatJid;return c(e,!1)});return j.apply(this,arguments)}function a(a,b,c,d,e){return l(a,b,c,d,e)}function e(a,b,c,d,e){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var i=d("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMessageIds(e);if(d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled())return(h||(h=b("Promise"))).all(e.map(function(b){return l(a,c,b,f,g,i.get(b))})).then(function(a){var b=a.find(function(a){return(a==null?void 0:a.success)===!1});return b!=null?[b]:a});else yield (h||(h=b("Promise"))).allSettled([e.map(function(b){return l(a,c,b,f,g,i.get(b))})])});return k.apply(this,arguments)}function l(a,b,e,f,g,h){var j=d("MAWExternalId").generateExternalId();return i(a,b,function(i,k){return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(e).then(function(e){if(e!=null)return d("MAWGetEphemeralSettings").getEphemeralSetting(i,b).then(function(b){b=d("MAWBridgeSendAndReceive").sendAndReceive("backend","forwardMsg",{args:{args:{mediaGroupMetadata:h,source:f},chatJid:i,ephemeralSetting:(b=b)!=null?b:void 0,externalId:j,isFirstMsg:k,protocolMsgId:e},qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:g});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?b:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:i,externalId:j},b,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:g},a)});else return d("WAResultOrError").makeResult({description:"unexpected null protocolMsgId",messageType:"fixMe"})})},g)}g.maybeCreateNewThreadAndCallback=i;g.forwardMessage=a;g.forwardMessageBatch=e}),98);
__d("MAWForwardMessageFromSecureThread.react",["FBLogger","I64","LSFactory","LSHotEmojiSize","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSOptimisticSendMessageV2StoredProcedure","LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure","LSShape","LSVec","MAWBridgeSendAndReceive","MAWDbMedia","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","MessagePowerUp","MessagingAttachmentType","OfflineThreadingId","Promise","ReQL","WAHashUtils","asyncToGeneratorRuntime","cr:2472","gkx","promiseDone","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c){return{action_url:void 0,attachment_fbid:b,attachment_index:(j||(j=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:b,original_file_hash:void 0,playable_duration_ms:a.playableDurationMs,playable_url:URL.createObjectURL(c),playable_url_mime_type:c.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function l(a,b,c,e){var f;return{action_url:(f=b==null?void 0:b.actionUrl)!=null?f:b==null?void 0:b.nativeUrl,attachment_fbid:c,attachment_index:(j||(j=d("I64"))).zero,attachment_type:a.attachmentType,cta1_title:a.cta1Title,cta2_title:a.cta2Title,cta3_title:a.cta3Title,description_text:a.descriptionText,filename:a.filename,filesize:a.filesize,has_media:!1,has_xma:!0,image_url:void 0,mini_preview:void 0,offline_attachment_id:c,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:e!=null?URL.createObjectURL(e):void 0,playable_url_mime_type:e==null?void 0:e.type,preview_height:void 0,preview_url:e!=null?URL.createObjectURL(e):void 0,preview_url_mime_type:e==null?void 0:e.type,preview_width:void 0,source_text:a.sourceText,subtitle_text:a.subtitleText,title_text:a.titleText,xma_layout_type:a.xmaLayoutType,xmas_template_type:a.xmasTemplateType}}function m(a,e,f,g,i,j,k,l){l=c("LSFactory")(l);return c("LSOptimisticSendXMAMessageForwardFromSecureThreadStoredProcedure")(l,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(j)]),isForwarded:i,senderId:a,source:k,text:(l=g)!=null?l:void 0,threadKey:e,threadType:f}).then(function(){return(h||(h=b("Promise"))).resolve()})}function n(a,b){return a==null||b==null?void 0:{amplitudes:b.split(",").map(parseFloat),sampling_freq:a}}function o(a,e,g,k,l,m,o,p,q){var r=c("LSFactory")(p);return c("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(r,{attachments:c("LSVec").ofArray([d("LSShape").ofRecord(e)]),isForwarded:m,senderId:o,threadKey:l,threadType:k}).then(function(a){var c=a[0];a[1];return p.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!1,messageId:void 0,offlineThreadingId:c,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(j||(j=d("I64"))).of_string(c),threadAttributionSource:q,threadKey:l}).then(function(){return(h||(h=b("Promise"))).resolve(c)})}).then(function(a){var f=e.attachment_fbid;return c("LSInsertNewMediaSendStoredProcedure")(r,{attachmentType:e.attachment_type,inMessageIndex:(j||(j=d("I64"))).zero,isSecure:!1,offlineAttachmentId:f,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}).then(function(){return(h||(h=b("Promise"))).resolve([a,f])})}).then(function(b){var h=b[0],k=b[1];b=function(b,e){if(e==null||e.length===0)return;c("promiseDone")(a.runInTransaction(function(a){var b=c("LSFactory")(a);return c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(j||(j=d("I64"))).of_string(e),offlineAttachmentId:k}).then(function(){return d("MWPOpenComposerUtils").resumeSendJob(b,h)})},"readwrite",void 0,void 0,f.id+":222"))};return d("MWPComposerMediaUploadUtil").startUpload(void 0,void 0,b,void 0,(j||(j=d("I64"))).equal(e.attachment_type,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)),[g],[k],void 0,void 0,n(e.sampling_frequency_hz,e.waveform_data),void 0,void 0)})}function a(a,b,c,d,e,f,g,h){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,p,q,r,s,t){if(r!=null){var u=r.attachmentType;if(!((j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))||(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))))throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_sharing");var v=null;if(!(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))){isFinite(r.attachmentFbid)?v=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(r.attachmentFbid,10))})):v=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:"MAWForwardMessageFromSecureThread",plaintextHash:d("WAHashUtils").stringToPlaintextHash(r.attachmentFbid)}));if(v==null)return}yield a.runInTransaction(function(f){switch(!0){case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):if(v==null)throw c("unrecoverableViolation")("Blob can not be null for MessagingAttachmentType.AUDIO","messenger_web_sharing");var w=new File([v],"mediaForwardedFromSecureThread",{type:v.type}),x=d("OfflineThreadingId").createOfflineThreadingID();x=d("MWPComposerMediaUploadUtil").getAudioAttachment(x,w,(j||(j=d("I64"))).to_int32((x=r.playableDurationMs)!=null?x:(j||(j=d("I64"))).zero)/1e3,n(r.samplingFrequencyHz!=null?(j||(j=d("I64"))).to_int32(r.samplingFrequencyHz):void 0,r.waveformData));return o(a,x,w,g,e,q,s,f,t);case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return d("ReQL").firstAsync(d("ReQL").fromTableDescending(f.attachment_ctas).getKeyRange((x=r.defaultCtaId)!=null?x:(j||(j=d("I64"))).zero)).then(function(a){var e,f=r.xmaPreviewFbid;if(f==null){c("FBLogger")("messenger_web_sharing").mustfix("XMA preview fbid is null when forwarding XMA");return(h||(h=b("Promise"))).resolve([a,void 0])}if(c("gkx")("7858"))isFinite(r.xmaPreviewFbid)?(c("FBLogger")("messenger_web_sharing").warn("XMA preview fbid is not a plaintextHash when forwarding XMA"),e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(f,10))})):e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByHashedPlaintextHash",{description:"MAWForwardMessageFromSecureThread",plaintextHash:d("WAHashUtils").stringToPlaintextHash(f)});else try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{description:"MAWForwardMessageFromSecureThread",mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(f,10))})}catch(d){c("FBLogger")("messenger_web_sharing").mustfix("XMA preview fbid is not a valid mediaId when forwarding XMA %s",d);return(h||(h=b("Promise"))).resolve([a,void 0])}return e.then(function(c){return(h||(h=b("Promise"))).resolve([a,c])})["catch"](function(d){c("recoverableViolation")("Unable to getBlobDataUrlByXMAId, from MAWForwardMessageFromSecureThread","messenger_web_media",{error:d},{trackOnly:!0});return(h||(h=b("Promise"))).resolve([a,void 0])})}).then(function(a){var c=a[0];a=a[1];var h=null;a!=null&&(h=new File([a],"xmaForwardedFromSecureThread",{type:a.type}));a=d("OfflineThreadingId").createOfflineThreadingID();c=l(r,c,a,h);a=p.text;h=b("cr:2472")==null||a==null?a:b("cr:2472").unvault(a);return m(s,e,g,h,q,c,t,f)});case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):case(j||(j=d("I64"))).equal(u,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):if(v==null)throw c("unrecoverableViolation")("Blob can not be null for MessagingAttachmentType.AUDIO","messenger_web_sharing");x=new File([v],(w=r.filename)!=null?w:"mediaForwardedFromSecureThread",{type:v.type});w=d("OfflineThreadingId").createOfflineThreadingID();w=k(r,w,x);return o(a,w,x,g,e,q,s,f,t);default:throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_sharing")}},"readwrite",void 0,void 0,f.id+":329")}else{var w=p.text;if(w==null)throw c("unrecoverableViolation")("We do not support forwarding this type","messenger_web_sharing");var x=b("cr:2472")==null?w:b("cr:2472").unvault(w),y=x==="\ud83d\udc4d"&&p.hotEmojiSize!=null&&(j||(j=d("I64"))).equal(p.hotEmojiSize,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)),z=y?(j||(j=d("I64"))).of_string("369239263222822"):void 0;yield a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!1,is_forwarded:q,mark_read:!1,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:t,sticker_id:z}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:s,text:y?void 0:x,threadKey:e,threadType:g})},"readwrite",void 0,void 0,f.id+":558")}});return p.apply(this,arguments)}g.getMediaAttachment=k;g.uploadAndSendMediaToOpenThread=o;g.forwardMessage=a}),98);
__d("MAWFowardMessageFromOpenThread",["I64","LSIntEnum","MAWBridgeSendAndReceive","MAWDocumentPreProcess","MAWFetchXMABlob","MAWFetchXMAData","MAWForwardMessage","MAWGetEphemeralSettings","MAWGetImageSpec","MAWImagePreProcess","MAWMessageSendReporter","MAWMessageSendReporterV2","MAWUnshimUrl","MAWVideoUtils","MessagingAttachmentType","Promise","ReQL","WAArmadilloXMA.pb","WABlobToArrayBuffer","asyncToGeneratorRuntime","qpl","sendToSentQPLLogger","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="369239263222822",l="369239343222814",m="369239383222810";function n(a){return a===k||a===l||a===m}function o(a,c){return(j||(j=b("Promise"))).all([d("MAWGetImageSpec").getImageSpec_DEPRECATED(a),j.resolve(a),c.arrayBuffer(),d("MAWGetImageSpec").getImageSpec_DEPRECATED(c)]).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0],c=a[1],e=a[2];a=a[3];return{file:c,imageSpec:b,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(c),thumbnailUrlAndSpec:{duration:void 0,height:a.height,jpegThumbnail:e,width:a.width},type:"image"}});return function(b){return a.apply(this,arguments)}}())}function p(a){return d("MAWVideoUtils").getVideoThumbnailUrlAndSpec(a).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){return{file:a,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(a),thumbnailUrlAndSpec:b,type:"video"}});return function(a){return c.apply(this,arguments)}}())}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"MAWFowardMessageFromOpenThread",url:a}));b=a==null?void 0:new File([a],b,{type:a.type});a=b!=null?yield d("MAWGetImageSpec").getImageSpec_DEPRECATED(b):null;return b!=null&&a!=null?{file:b,height:a.height,width:a.width}:void 0});return r.apply(this,arguments)}function s(a,b,c){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.tables.attachment_ctas).getKeyRange(a)));return c==null||b==null&&c.actionUrl==null?null:{actionUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(a=c==null?void 0:c.actionUrl)!=null?a:void 0,title:(c=b)!=null?c:void 0}});return t.apply(this,arguments)}function u(a,b,c,d){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=(yield w(b,e));if((g==null?void 0:g.actionUrl)==null){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(f,"null_xma_url");throw c("unrecoverableViolation")("Cannot forward XMA to secure threads without a defaultCTA and actionUrl","messenger_web_sharing")}a=(yield d("MAWFetchXMAData").fetchXMAData(a,g.actionUrl,[f]));if(a.linkType==="unknown"){d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()||d("sendToSentQPLLogger").markSendToSentFail(f,"unknown_xma_link_type");throw c("unrecoverableViolation")("Cannot forward XMA to secure threads with an unknown link type","messenger_web_sharing")}if(a.linkType==="external")return A(b,g,e,a);else return y(a,f)});return v.apply(this,arguments)}function w(a,b){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=a.actionUrl,e=a.defaultCtaId;a=a.defaultCtaTitle;if(e==null)return null;e=(yield s(e,a,b));return(b=e)!=null?b:{actionUrl:(e=c)!=null?e:void 0,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:(b=c)!=null?b:void 0,title:(e=a)!=null?e:void 0}});return x.apply(this,arguments)}function y(a,b){return z.apply(this,arguments)}function z(){z=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("MAWFetchXMAData").makeXMAFileArgs(a,b));var c=a.ctas,e=a.defaultCTA,f=a.overlayIconGlyph,g=a.subtitle_text,h=a.title_text;a=a.xma_message_type;c={ctas:c,defaultCTA:e,overlayIconGlyph:f,subtitleText:g,titleText:h};return babelHelpers["extends"]({},b,{xmaArgs:c,xmaMessageType:(e=a)!=null?e:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE})});return z.apply(this,arguments)}function A(a,b,c,d){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){var g=a.attachmentCta1Id,i=a.attachmentCta2Id,k=a.attachmentCta3Id,l=a.cta1Title,m=a.cta2Title,n=a.cta3Title,o=a.faviconUrl,p=a.headerImageUrl,r=a.headerTitle,t=a.maxSubtitleNumOfLines,u=a.maxTitleNumOfLines,v=a.previewUrl,w=a.subtitleText;a=a.titleText;o=(yield (j||(j=b("Promise"))).all([[o,"favicon"],[p,"headerImage"],[v,"preview"]].map(function(a){return q(a[0],a[1])})));p=o[0];v=o[1];o=o[2];var x=[];if(g!=null){g=(yield s(g,l,e));g!=null&&x.push(g)}if(i!=null){l=(yield s(i,m,e));l!=null&&x.push(l)}if(k!=null){g=(yield s(k,n,e));g!=null&&x.push(g)}l={ctas:x.map(function(a){return babelHelpers["extends"]({},a,{actionUrl:d("MAWUnshimUrl").unshimUrl(a.actionUrl),nativeUrl:d("MAWUnshimUrl").unshimUrl(a.nativeUrl)})}),defaultCTA:babelHelpers["extends"]({},c,{actionUrl:d("MAWUnshimUrl").unshimUrl(c.actionUrl),nativeUrl:d("MAWUnshimUrl").unshimUrl(c.nativeUrl)}),headerTitle:r,maxSubtitleNumOfLines:(h||(h=d("I64"))).to_int32((i=t)!=null?i:(h||(h=d("I64"))).zero),maxTitleNumOfLines:h.to_int32((m=u)!=null?m:(h||(h=d("I64"))).zero),overlayIconGlyph:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE,subtitleText:w,titleText:a};return{faviconFileArgs:p,headerFileArgs:v,previewFileArgs:o,xmaArgs:l,xmaMessageType:f.xma_message_type}});return B.apply(this,arguments)}function C(a){var e=a.attachmentType,f=a.filename,g=a.playableDurationMs,k=a.playableUrl,l=a.playableUrlMimeType,m=a.previewUrl,n=a.previewUrlMimeType;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))||(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))){if(k==null)throw c("unrecoverableViolation")("If you see this error, there is no playableUrl for this attachment","messenger_web_sharing");var q=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));if(m!=null){a=q?m+"&":k;var r=q?m+"&":m;return(j||(j=b("Promise"))).all([window.fetch(a).then(function(a){return a.blob()}),window.fetch(r).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:q?n:l});a=new File([a],"previewForwardedFromOpenThread",{type:n});if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return o(b,a);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return p(b);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return o(b,a);throw c("unrecoverableViolation")("shouldn't have this error in forward message from open thread","messenger_web_sharing")})}a=q?k+"&":k;return window.fetch(a).then(function(a){return a.blob()}).then(function(a){if(q&&l==="video/mp4")throw c("unrecoverableViolation")("If you see this error, there is only mp4 url for gif","messenger_web_sharing");a=new File([a],(a=f)!=null?a:"mediaForwardedFromOpenThread",{type:l});if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return d("MAWImagePreProcess").imagePreprocess(a,!1);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return p(a);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))return d("MAWDocumentPreProcess").documentPreprocess(a);if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return(j||(j=b("Promise"))).all([d("MAWImagePreProcess").getJpegThumbnailInfo(a,400),d("MAWGetImageSpec").getImageSpec_DEPRECATED(a),j.resolve(a)]).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a[0],c=a[1];a=a[2];return{file:a,imageSpec:c,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(a),thumbnailUrlAndSpec:b,type:"image"}});return function(b){return a.apply(this,arguments)}}());throw c("unrecoverableViolation")("shouldn't have this error in forward message from open thread","messenger_web_sharing")})}if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))){if(k!=null)return window.fetch(k+"&").then(function(a){return a.blob()}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;a=new File([a],"mediaForwardedFromOpenThread",{type:l});return{durations:(h||(h=d("I64"))).to_int32((b=g)!=null?b:(h||(h=d("I64"))).zero)/1e3,file:a,isPtt:!0,plaintext:yield d("WABlobToArrayBuffer").blobToArrayBuffer(a),type:"audio"}});return function(b){return a.apply(this,arguments)}}());throw c("unrecoverableViolation")("If you see this error, there is no playableUrl for this audio attachment","messenger_web_sharing")}if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))){if(k==null&&m==null)throw c("unrecoverableViolation")("If you see this error, there is no url for this sticker","messenger_web_sharing");return k!=null?m!=null?(j||(j=b("Promise"))).all([window.fetch(k).then(function(a){return a.blob()}),window.fetch(m).then(function(a){return a.blob()})]).then(function(a){var b=a[0];a=a[1];b=new File([b],"mediaForwardedFromOpenThread",{type:l});a=new File([a],"previewForwardedFromOpenThread",{type:n});return o(b,a)}):window.fetch(k).then(function(a){return a.blob()}).then(function(a){a=new File([a],"mediaForwardedFromOpenThread",{type:l});return o(a,a)}):window.fetch(m).then(function(a){return a.blob()}).then(function(a){return d("MAWImagePreProcess").imagePreprocess(new File([a],"previewForwardedFromOpenThread",{type:n}),!0)})}throw c("unrecoverableViolation")("We do not support forwarding other media types. Received attachment "+(i||(i=d("LSIntEnum"))).toNumber(e),"messenger_web_sharing")}function a(a,e,f,g,j,k,l,m,o){return d("MAWForwardMessage").maybeCreateNewThreadAndCallback(e,f,function(p,q){var r=d("MAWGetEphemeralSettings").getEphemeralSetting(p,f),s=q;return r.then(function(f){if(k!=null){if(n(k.attachmentFbid)){var q;q=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:{content:"\ud83d\udc4d",ephemeralSetting:(q=f)!=null?q:void 0,isFirstMsg:s,isForwarded:j,source:l,specialTextSize:1},chatJid:p,externalId:o,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?q:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:p,externalId:o},q,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m},e)}return(h||(h=d("I64"))).equal(k.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?u(a,k,e,m).then(function(a){var b,h=a.faviconFileArgs,i=a.headerFileArgs,j=a.previewFileArgs,k=a.xmaArgs;a=a.xmaMessageType;a=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:{content:g.text,ephemeralSetting:(b=f)!=null?b:void 0,isFirstMsg:s,isForwarded:!0,xmaMessageType:(b=a)!=null?b:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE},chatJid:p,faviconFile:h,headerFile:i,previewFile:j,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m,xmaArgs:k,xmaMsgExternalId:o});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?a:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:p,externalId:o},a,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m},e)}):C(k).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;switch(a.type){case"image":var g,h=a.imageSpec,i=a.thumbnailUrlAndSpec;b={args:{ephemeralSetting:(g=f)!=null?g:void 0,height:h.height,isFirstMsg:s,isForwarded:j,jpegThumbnail:i==null?void 0:i.jpegThumbnail,jpegThumbnailHeight:i==null?void 0:i.height,jpegThumbnailWidth:i==null?void 0:i.width,source:l,width:h.width},attachmentType:"image",chatJid:p,externalId:o};break;case"video":g=a.thumbnailUrlAndSpec;b={args:{duration:g.duration,ephemeralSetting:(i=f)!=null?i:void 0,height:g.height,isFirstMsg:s,isForwarded:j,jpegThumbnail:g.jpegThumbnail,jpegThumbnailHeight:g.height,jpegThumbnailWidth:g.width,source:l,width:g.width},attachmentType:"video",chatJid:p,externalId:o};break;case"audio":h=a.durations;i=a.isPtt;b={args:{duration:Math.round(h),ephemeralSetting:(g=f)!=null?g:void 0,isFirstMsg:s,isForwarded:j,isPtt:i,source:l},attachmentType:"audio",chatJid:p,externalId:o};break;case"document":b={args:{ephemeralSetting:(h=f)!=null?h:void 0,filename:a.filename,isFirstMsg:s,isForwarded:j,source:l},attachmentType:"application",chatJid:p,externalId:o};break}if(b==null)throw c("unrecoverableViolation")("We do not support forwarding this attachment type: "+a.type,"messenger_web_sharing");i=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers["extends"]({},b,{mimeType:a.file.type,plaintext:(g=a.plaintext)!=null?g:yield d("WABlobToArrayBuffer").blobToArrayBuffer(a.file),qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m}));return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?i:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:p,externalId:o},i,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m},e)});return function(b){return a.apply(this,arguments)}}())}q=g.text;if(q!=null){q=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:{content:g.text,ephemeralSetting:(q=f)!=null?q:void 0,isFirstMsg:s,isForwarded:j,source:l},chatJid:p,externalId:o,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m});return d("MAWMessageSendReporterV2").isMessageSendReporterV2Enabled()?q:d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:p,externalId:o},q,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:m},e)}throw c("unrecoverableViolation")("We do not support forwarding this types","messenger_web_sharing")})},m)}g.downloadMediaByUrl=C;g.forwardMessage=a}),98);
__d("MAWMiActOnActThreadReadyDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMiActOnActThreadReady").__setRef("MAWMiActOnActThreadReadyDeferred");function a(a,b,c,d){return h.load().then(function(e){e=e.onActThreadReady;return e(a.tables,b,c,d)})}g["default"]=a}),98);
__d("MWXIconChevronLeft",["MWXSvgIcon","SVGIcon","cr:12366","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12366")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconChevronRight",["MWXSvgIcon","SVGIcon","cr:12368","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12368")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatMediaViewerNavigationTapTarget.react",["CometTrackingNodeProvider.react","Locale","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("Locale").isRTL(),l={buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{opacity:"x1hc1fzr",transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{opacity:"x1hc1fzr",transform:"xzycz3q",$$css:!0},fullHeight:{height:"x5yr21d",$$css:!0},invisible:{opacity:"xg01cxk",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",visibility:"xlshs6z",$$css:!0},navButton:{alignItems:"x6s0dn4",display:"x78zum5",opacity:"x197sbye",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",opacity:"x1hc1fzr",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x1jl3cmp",transitionTimingFunction:"x1dhq9h",willChange:"xfwg19i",zIndex:"x1vjfegm",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.direction,f=a.invisible,g=a.label,i=a.onClick,m=a.testid;a=a.trackingNode;f=f===void 0?!1:f;var n=k?c("MWXIconChevronRight"):c("MWXIconChevronLeft"),o=k?c("MWXIconChevronLeft"):c("MWXIconChevronRight"),p;b[0]!==e?(p=function(a){a=a.hovered;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.navButton,l.buttonContainerBackground,a&&(e==="previous"?l.buttonContainerHoverLeft:l.buttonContainerHoverRight)),{children:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1l31dnx x14yjl9h xudhj91 x18nykt9 xww2gxu x1qeybcx x78zum5 x1vqgdyp xl56j7k x100vrsf"},{children:j.jsx(c("MWXIconStrict.react"),{icon:e==="previous"?n:o,size:20})}))}))},b[0]=e,b[1]=p):p=b[1];var q;b[2]!==g||b[3]!==i||b[4]!==p||b[5]!==m?(q=j.jsx(c("MWXPressable.react"),{"aria-label":g,focusable:!1,onPress:i,testid:void 0,xstyle:l.tapTargetOverlay,children:p}),b[2]=g,b[3]=i,b[4]=p,b[5]=m,b[6]=q):q=b[6];g=q;b[7]!==f?(i=(h||(h=c("stylex"))).props(l.root,f&&l.invisible,l.fullHeight),b[7]=f,b[8]=i):i=b[8];b[9]!==g||b[10]!==a?(p=a!=null?j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:a,children:g}):g,b[9]=g,b[10]=a,b[11]=p):p=b[11];b[12]!==i||b[13]!==p?(m=j.jsx("div",babelHelpers["extends"]({},i,{children:p})),b[12]=i,b[13]=p,b[14]=m):m=b[14];return m}g["default"]=a}),98);
__d("MWThumbnailDurationPill",["getFormattedTimestamp","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={durationDisplay:{alignItems:"x6s0dn4",fontSize:"x1ncwhqj",paddingTop:"x1nn3v0j",paddingEnd:"xsyo7zv",paddingBottom:"x1120s5i",paddingStart:"x16hj40l",position:"x10l6tqk",verticalAlign:"xxymvpz",$$css:!0},largeThumbnailSpacing:{bottom:"xqo3gd",end:"x1923su1",$$css:!0},newStyle:{backgroundColor:"x18l40ae",borderTopStartRadius:"x13zp6kq",borderTopEndRadius:"x1mcfq15",borderBottomEndRadius:"xrosliz",borderBottomStartRadius:"x1wb7cse",color:"x14ctfv",$$css:!0},oldStyle:{backgroundColor:"xal61yo",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",bottom:"xrb244j",color:"x14ctfv",end:"x4r51d9",$$css:!0},smallThumbnailSpacing:{bottom:"xbfrwjf",end:"xlr8s2x",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.spacing;a=a.videoDuration;var f;b[0]!==e?(f=(h||(h=c("stylex"))).props([k.durationDisplay].concat(c("gkx")("8622")?[k.newStyle,e==="TIGHT"?k.smallThumbnailSpacing:k.largeThumbnailSpacing]:[k.oldStyle])),b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=c("getFormattedTimestamp")(a),b[2]=a,b[3]=e):e=b[3];b[4]!==f||b[5]!==e?(a=j.jsx("div",babelHelpers["extends"]({},f,{children:e})),b[4]=f,b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("MWChatVideoPlayerControls.react",["MWThumbnailDurationPill","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","cr:10680","gkx","justknobx","react","react-compiler-runtime","useVideoPlayerDefaultControlsVisibility","useVideoPlayerHasStartedPlayingAtLeastOnce"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a){var b=d("react-compiler-runtime").c(3);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={className:"x12y6twl x1g0ag68"},b[0]=c):c=b[0];b[1]!==a?(c=j.jsx("span",babelHelpers["extends"]({},c,{children:a})),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var e=d("react-compiler-runtime").c(15),f=a.hideExpandButton;a=a.isMediaViewer;var g=c("useVideoPlayerDefaultControlsVisibility")(),h=g.isControlsVisible;g=g.onUserInteraction;var l=(i||(i=d("VideoPlayerHooks"))).usePaused(),m;e[0]!==l?(m={forceVisible:l},e[0]=l,e[1]=m):m=e[1];l=b("cr:10680")(m);m=l.bigPlayButtonElement;l=i.useIsFullscreen();var n=i.useDuration(),o=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),p=i.usePlaying(),q=i.useEnded();o=!o&&!p||q;e[2]!==n||e[3]!==f||e[4]!==l||e[5]!==a||e[6]!==g||e[7]!==o?(p=l?j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerPlaybackControl.react"),{}),j.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:g})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g}),j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:g})]})]}):c("gkx")("8623")&&o?j.jsx(c("MWThumbnailDurationPill"),{spacing:"WIDE",videoDuration:n}):j.jsxs(j.Fragment,{children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[c("justknobx")._("2253")&&a===!0?j.jsx(c("VideoPlayerPlaybackTimer.react"),{}):null,j.jsx(k,{children:j.jsx(c("VideoPlayerPlaybackControl.react"),{})})]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:g})}),j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[f?null:j.jsx(k,{children:j.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:g})}),j.jsx(k,{children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:g})})]})]}),e[2]=n,e[3]=f,e[4]=l,e[5]=a,e[6]=g,e[7]=o,e[8]=p):p=e[8];e[9]!==h||e[10]!==p?(q=j.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:h,children:p}),e[9]=h,e[10]=p,e[11]=q):q=e[11];n=q;e[12]!==m||e[13]!==n?(f=j.jsxs(j.Fragment,{children:[m,n]}),e[12]=m,e[13]=n,e[14]=f):f=e[14];return f}g["default"]=a}),98);
__d("MWSetupMediaRenderQpl.react",["FBLogger","VideoPlayerHooks","performanceAbsoluteNow","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(5),e=a.context,f=a.mediaRenderQpl,g=(j||(j=d("VideoPlayerHooks"))).useController(),i=l(),m;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){f==null?void 0:f.addPoint("setup-video-media-render-qpl",{string:{context:e}});var a=function(){var a=g.getCurrentState();if(a.error!=null){var b=a.error.errorName,d=a.error.errorType,j=a.error.errorMessageFormat+" - "+a.error.errorMessageParams.join(",");f==null?void 0:f.endFail("load-video-error",{string:{video_error_message:j,video_error_name:b,video_error_type:d}});c("FBLogger")("messenger_web_media","load-video-error").warn("%s Video Player Error: %s",e,j);(b=i.current)==null?void 0:b.remove()}d=a.domEventsLatestPerfMs.loadeddata!=null&&a.domEventsLatestPerfMs.loadeddata>0;d&&(f==null?void 0:f.addPoint("video-state-loaded-data"));j=a.domEventsLatestPerfMs.loadedmetadata!=null&&a.domEventsLatestPerfMs.loadedmetadata>0;j&&(f==null?void 0:f.addPoint("video-state-loaded-metadata"));d=(b=g.internal_getStateMachineState())==null?void 0:b.uncontrolledState;j=d==null?void 0:d.videoElementReadyState;j!=null&&j>0&&(f==null?void 0:f.addPoint("video-state-ready-state",{"int":{ready_state:j}}));b=a.domEventsLatestPerfMs.canplay!=null&&a.domEventsLatestPerfMs.canplay>0;if(b){var k=(h||(h=c("performanceAbsoluteNow")))();f==null?void 0:f.addPoint("video-state-can-play");c("setTimeout")(function(){var a;f==null?void 0:f.endSuccess(void 0,k);(a=i.current)==null?void 0:a.remove()},500)}};i.current=g.subscribe(function(){a()});a();return function(){var a;(a=i.current)==null?void 0:a.remove()}},m=[e,f,g],b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=m):(a=b[3],m=b[4]);k(a,m);return null}g["default"]=a}),98);
__d("MWVideoPlayerControllerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({ref:{current:null}});g["default"]=b}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","CometVideoPlayerLoggingConfigForMWChat","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","MWSetupMediaRenderQpl.react","MWVideoPlayerControllerContext.react","VideoPlayerDefaultControls.react","VideoPlayerHooks","VideoPlayerInteractionOverlay.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","react","react-compiler-runtime","useVideoPlayerClickToPauseInteraction","useVideoPlayerClickToPlayInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect,m={link_context:null,navChainContent:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},n=-1;function o(a){var b=d("react-compiler-runtime").c(10),e=a.controls,f=a.hideExpandButton,g=a.isMediaViewer;a=a.shouldForcePauseOnClick;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h={shouldUnmute:!0},b[0]=h):h=b[0];h=c("useVideoPlayerClickToPlayInteraction")(h);var k=c("useVideoPlayerClickToPauseInteraction")(),l=(i||(i=d("VideoPlayerHooks"))).usePaused();l=l&&!a?h:k;b[1]!==l?(a=j.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{pressInteraction:l}),b[1]=l,b[2]=a):a=b[2];b[3]!==e||b[4]!==f||b[5]!==g?(h=p(e,f,g),b[3]=e,b[4]=f,b[5]=g,b[6]=h):h=b[6];b[7]!==a||b[8]!==h?(k=j.jsxs(j.Fragment,{children:[a,h]}),b[7]=a,b[8]=h,b[9]=k):k=b[9];return k}var p=function(a,b,d){switch(a){case"mwchat":return j.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0,isMediaViewer:d===!0});case"default":return j.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}},q=function(a){return a!=null?function(b){return{objectFit:a}}:null};function r(a){a=a.children;var b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("MWVideoPlayerControllerContext.react"));l(function(){e.ref.current=b;return function(){e.ref.current=null}},[e,b]);return a}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(42),e=a.autoPlaySetting,f=a.controls,g=a.errorBoundaryFallback,h=a.fbid,i=a.hdSrc,k=a.hideExpandButton,p=a.initialForceHD,s=a.isMediaViewer,t=a.loopCount,u=a.mediaRenderQpl,v=a.originalHeight,w=a.originalWidth,x=a.pixelsFit,y=a.sdSrc,z=a.shouldForcePauseOnClick,A=a.startTimestamp;a=a.volumeSetting;var B=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();p=(p=p)!=null?p:!1;var C;b[0]!==i||b[1]!==y||b[2]!==p?(C=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:i,hdSrcPreferred:p,sdSrc:y}),b[0]=i,b[1]=y,b[2]=p,b[3]=C):C=b[3];var D=C;b[4]!==D||b[5]!==u?(i=function(){u==null?void 0:u.addPoint("render-chat-video-player"),D instanceof Error&&(u==null?void 0:u.endFail("load-video-player-error",{string:{player_implementation_error_message:D.message,player_implementation_error_name:D.name}}))},y=[D,u],b[4]=D,b[5]=u,b[6]=i,b[7]=y):(i=b[6],y=b[7]);l(i,y);if(D instanceof Error){b[8]!==g?(p=g==null?void 0:g(),b[8]=g,b[9]=p):p=b[9];return p}b[10]!==D?(C=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:D,typename:"VideoPlayerProgressiveImplementation"}],b[10]=D,b[11]=C):C=b[11];i=C;p=(y=e)!=null?y:B;b[12]!==p?(C=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",p,!0),"respect_user_settings",null),b[12]=p,b[13]=C):C=b[13];e=C;b[14]!==v||b[15]!==w?(y=c("computeAspectRatio")(w,v),b[14]=v,b[15]=w,b[16]=y):y=b[16];B=y;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("CometVideoPlayerLoggingConfigForMWChat").createCometVideoPlayerLoggingConfigForMWChat(),b[17]=p):p=b[17];v=(C=t)!=null?C:n;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(w={v2:[d("CometProductAttribution").getProductAttributionEntryV2(m)]},b[18]=w):w=b[18];b[19]!==x?(y=q(x),b[19]=x,b[20]=y):y=b[20];b[21]!==u?(t=j.jsx(c("MWSetupMediaRenderQpl.react"),{context:"MWChat",mediaRenderQpl:u}),b[21]=u,b[22]=t):t=b[22];C=k===!0;x=s===!0;b[23]!==f||b[24]!==z||b[25]!==C||b[26]!==x?(k=j.jsx(r,{children:j.jsx(o,{controls:f,hideExpandButton:C,isMediaViewer:x,shouldForcePauseOnClick:z})}),b[23]=f,b[24]=z,b[25]=C,b[26]=x,b[27]=k):k=b[27];b[28]!==t||b[29]!==k?(s=j.jsxs(c("VideoPlayerSurface.react"),{children:[t,k]}),b[28]=t,b[29]=k,b[30]=s):s=b[30];b[31]!==g||b[32]!==h||b[33]!==i||b[34]!==A||b[35]!==v||b[36]!==y||b[37]!==s||b[38]!==B||b[39]!==e||b[40]!==a?(f=j.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},e,{errorBoundaryFallback:g,implementations:i,key:h,loggingConfig:p,loopCount:v,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:w,renderVideoPixelsFit:y,startTimestamp:A,subOrigin:"messenger_thread",videoFBID:h,videoPixelsAspectRatio:B,volumeSetting:a}),s),b[31]=g,b[32]=h,b[33]=i,b[34]=A,b[35]=v,b[36]=y,b[37]=s,b[38]=B,b[39]=e,b[40]=a,b[41]=f):f=b[41];return f}g["default"]=a}),98);
__d("MWInboxMessageSearchStatusTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IN_PROGRESS","COMPLETE","NOT_RUNNING","NOT_REQUIRED"]);c=b("$InternalEnum").Mirrored(["IN_PROGRESS","COMPLETE","NOT_STARTED"]);d=b("$InternalEnum").Mirrored(["NOT_STARTED","IN_PROGRESS","COMPLETE","FAILED"]);f.RestoreStatus=a;f.OverallStatus=c;f.PrimarySearchStatus=d}),66);
__d("MWMediaRenderQplUtils",["CurrentUser","E2EELinkPreviewXMADataType","I64","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMessageContentType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingInitiatingSource","LSReplyMessageAttachmentType","LSXmaContentType","MAWLoggerUtils","MessagingAttachmentType","MessagingThreadType","QPLUserFlow","ServerTime","VisibilityAPI","VisibilityState","justknobx","mergeDeep","objectEntries","performanceAbsoluteNow","qpl","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m=l.useEffect,n=l.useLayoutEffect,o=l.useMemo,p=l.useRef,q=60*60*24,r=3*q,s=7*q,t=2*s,u=4*s,v=c("qpl")._(25302828,"2195"),w=c("justknobx")._("2945"),x=1e3,y=c("objectEntries")(c("LSMessageContentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map()),z=c("objectEntries")(c("LSReplyMessageAttachmentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function a(a){return A(a.displayedContentTypes)}function A(a){if(d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a)){var b;return(b=y.get(1024))!=null?b:"UNKNOWN"}return(b=y.get((k||(k=d("I64"))).to_float(a)))!=null?b:"UNKNOWN"}function b(a){return a==null?"UNKNOWN":(a=z.get((k||(k=d("I64"))).to_int32(a)))!=null?a:"UNKNOWN"}function B(a){var b;if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))b=(j||(j=d("LSIntEnum"))).ofNumber(16384);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))b=(j||(j=d("LSIntEnum"))).ofNumber(2);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))b=(j||(j=d("LSIntEnum"))).ofNumber(2);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)))b=(j||(j=d("LSIntEnum"))).ofNumber(4);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))b=(j||(j=d("LSIntEnum"))).ofNumber(64);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)))b=(j||(j=d("LSIntEnum"))).ofNumber(64);else if((k||(k=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))b=(j||(j=d("LSIntEnum"))).ofNumber(1024);else return"UNKNOWN";return A(b)}var C=c("objectEntries")(c("MessagingAttachmentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function e(a){return D(a.attachmentType)}function D(a){return(a=C.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var E=c("objectEntries")(c("MessagingThreadType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function f(a){a=a.threadType;return F(a)}function F(a){return(a=E.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var G=c("objectEntries")(c("LSXmaContentType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function H(a){return(a=G.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var I=c("objectEntries")(c("LSMessagingInitiatingSource")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function J(a){return a!=null?(a=I.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN":"UNKNOWN"}var K=c("objectEntries")(c("E2EELinkPreviewXMADataType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function L(a){return(a=K.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var M=c("objectEntries")(c("LSMessageReplySourceType")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function N(a){return(a=M.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}var O=c("objectEntries")(c("LSMessageReplySourceTypeV2")).reduce(function(a,b){var c=b[0];b=b[1];a.set(b,c);return a},new Map());function P(a){return(a=O.get((k||(k=d("I64"))).to_float(a)))!=null?a:"UNKNOWN"}function Q(a,b,e,f){var g=(h||(h=c("performanceAbsoluteNow")))(),i=function(d,e){c("QPLUserFlow").addPoint(a,"window_visibility_change_"+(e?"hidden":"visible"),{instanceKey:b}),e&&c("QPLUserFlow").addAnnotations(a,{bool:{window_was_hidden:!0}},{instanceKey:b})},j=function(a){var b=d("VisibilityAPI").canUseVisibilityAPI?d("VisibilityAPI").isVisibilityHidden():void 0;b={bool:{window_is_hidden_on_end:b}};return a!=null?c("mergeDeep")(a,b):b};return{addAnnotations:function(d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},addPoint:function(d,e){c("QPLUserFlow").addPoint(a,d,{data:e,instanceKey:b})},endCancel:function(f){e!=null&&(e.current=!0);var g=(h||(h=c("performanceAbsoluteNow")))(),k=j();d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endCancel(a,{annotations:k,cancelReason:f,instanceKey:b,timestamp:g})},x)},endFail:function(f,g){e!=null&&(e.current=!0);var k=(h||(h=c("performanceAbsoluteNow")))(),l=c("mergeDeep")(j(g),{string:{fail_reason:f}});d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endFailure(a,"render-failure",{annotations:l,instanceKey:b,timestamp:k})},x)},endSuccess:function(f,g){e!=null&&(e.current=!0);var k=(g=g)!=null?g:(h||(h=c("performanceAbsoluteNow")))(),l=j(f);d("VisibilityState").unsubscribe(i);c("setTimeout")(function(){c("QPLUserFlow").endSuccess(a,{annotations:l,instanceKey:b,timestamp:k})},x)},getInstanceKey:function(){return b},start:function(a){var e,j=g;e=(e=f)!=null?e:{};if(a!=null&&a.isManualRetry===!0){var k;j=(h||(h=c("performanceAbsoluteNow")))();e=c("mergeDeep")(e,{bool:{is_manual_retry:!0},"int":{manual_retry_count:((k=a.manualRetryCount)!=null?k:0)+1},string:{previousManualRetryErrorDetails:a.previousManualRetryErrorDetails}})}c("QPLUserFlow").start(v,{annotations:e,cancelOnUnload:!0,instanceKey:b,timeoutInMs:w,timestamp:j});d("VisibilityState").subscribe(i)}}}function R(a,b,e){var f=a.attachmentType,g=p(!1),h=o(function(){var h=d("MAWLoggerUtils").getInstanceKey(),i=c("CurrentUser").getAppID();i={string:{app_id:(i=i)!=null?i:void 0,attachment_type:D(f),content_type:B(f),entry_point:e,thread_type:F(b),transport_key:a.transportKey,xma_content_type:a.xmaContentType!=null?H(a.xmaContentType):void 0}};return babelHelpers["extends"]({},Q(v,h,g,i))},[a.messageId]);n(function(){h==null?void 0:h.start()},[h]);m(function(){return function(){g.current===!1&&(h==null?void 0:h.getInstanceKey())!=null&&(h==null?void 0:h.endCancel(706))}},[h]);return h}function S(a,b,c){a=a+(b?"0":"1")+(c?"1":"0");return d("MAWLoggerUtils").getInstanceKeyFromId(a)}function T(a,b,e,f,g){g===void 0&&(g={});b=(k||(k=d("I64"))).le(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));a=S(a,b,e);c("QPLUserFlow").endFailure(v,f,{annotations:g,instanceKey:a})}function U(a,b,e,f,g){g===void 0&&(g={});b=(k||(k=d("I64"))).le(b,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));a=S(a,b,e);c("QPLUserFlow").addPoint(v,f,{data:g,instanceKey:a})}function V(a){var b=(k||(k=d("I64"))).of_float(d("ServerTime").getMillis());b=k.to_float(k.sub(b,a))/1e3;b<q?a="less_than_one_day":b<r?a="between_one_and_three_days":b<s?a="between_three_days_and_one_week":b<t?a="between_one_and_two_weeks":b<u?a="between_two_weeks_and_one_month":a="more_than_one_month";return a}function W(a){if(a==null||a<=0)return"invalid_duration";else if(a<=30)return"duration less than 30 seconds";else if(a<=1*60)return"duration between 30 seconds and 1 minute";else if(a<=2*60)return"duration between 1 minute and 2 minutes";else if(a<=3*60)return"duration between 2 minutes and 3 minutes";else if(a<=5*60)return"duration between 3 minutes and 5 minutes";else if(a<=10*60)return"duration between 5 minutes and 10 minutes";else if(a<=30*60)return"duration between 10 minutes and 30 minutes";else if(a<=1*60*60)return"duration between 30 minutes and 1 hour";else if(a<=2*60*60)return"duration between 1 hour and 2 hours";else return"duration above 2 hours"}g.event=v;g.QPL_TIMEOUT=w;g.QPL_END_DELAY_MS=x;g.getMessageContentTypeString=a;g.getMessageContentTypeStringFromEnum=A;g.getReplyMessageAttachmentTypeStringFromEnum=b;g.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate=B;g.getAttachmentTypeString=e;g.getAttachmentTypeStringFromEnum=D;g.getThreadTypeString=f;g.getThreadTypeStringFromEnum=F;g.getXmaContentTypeStringFromEnum=H;g.getMessagingInitiationSourceStringFromEnum=J;g.getE2EELinkPreviewXMADataTypeStringFromEnum=L;g.getMessageReplySourceTypeStringFromEnum=N;g.getMessageReplySourceTypeV2StringFromEnum=P;g.createQplFlowCommon=Q;g.useCommonMediaRenderQplForAttachment=R;g.getThreadViewMediaRenderQplInstanceKey=S;g.endThreadViewMediaRenderQpl=T;g.addThreadViewMediaRenderQplPoint=U;g.calculateDiffBucketFromTimestamp=V;g.convertDurationToStringBucket=W}),98);
__d("MWV2MediaViewerContainer.react",["MessengerBlurpleLogoSvg.react","UNTRANSLATED_STRING_FIXME","XMessengerDotComCometRootControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.actions,f=a.children;a=a.shouldShowMessengerLogo;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o xh8yej3 x1uvtmcs"},b[0]=g):g=b[0];var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x16q8cke x10l6tqk x1tk7jg1"},b[1]=h):h=b[1];if(b[2]!==a){var j;j=((j=a)!=null?j:!1)?i.jsx("a",{"aria-label":c("UNTRANSLATED_STRING_FIXME")("Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:i.jsx(c("MessengerBlurpleLogoSvg.react"),{height:"40",width:"40"})}):null;b[2]=a;b[3]=j}else j=b[3];b[4]!==j?(a=i.jsx("div",babelHelpers["extends"]({},h,{children:j})),b[4]=j,b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x92rtbv x10l6tqk x1tk7jg1"},b[6]=h):h=b[6];b[7]!==e?(j=i.jsx("div",babelHelpers["extends"]({},h,{children:e})),b[7]=e,b[8]=j):j=b[8];b[9]!==f||b[10]!==a||b[11]!==j?(h=i.jsxs("div",babelHelpers["extends"]({},g,{"data-testid":void 0,children:[f,a,j]})),b[9]=f,b[10]=a,b[11]=j,b[12]=h):h=b[12];return h}g["default"]=a}),98);
__d("MWV2MediaViewerControlsFallback.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.onClose;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"__JHASH__tnRfHlva-bL__JHASH__"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:e,onPress:a,size:36,type:"dark-overlay"})})}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("XComposerPhotoUploaderImmediate",["Promise","XComposerPhotoUploader","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;a={load:function(){return(h||(h=b("Promise"))).resolve(c("XComposerPhotoUploader"))},preload:c("emptyFunction")};g["default"]=a}),98);
__d("acceptMAWMessageRequest",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","MAWUpdateLSThreadCapabilities","Promise","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){if(!j||g==null)return;var k=g[1],l=babelHelpers["extends"]({},k,{contactViewerRelationship:(i||(i=d("I64"))).of_string("2")});c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([a.contacts.upsert([k.id],l),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:k.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,e.threadKey),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:e.threadKey})])},"readwrite",void 0,void 0,f.id+":37"))}g["default"]=a}),98);
__d("useMWMediaViewerOpenQPLLogger",["qpl","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("requireDeferred")("QPLUserFlow").__setRef("useMWMediaViewerOpenQPLLogger"),j=c("qpl")._(25298743,"1403"),k=6e3*10;function a(){var a=d("react-compiler-runtime").c(1),b=n,c=m,e=l;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={endCancel:e,endSuccess:c,startFlow:b},a[0]=e):e=a[0];return e}function l(a){i.onReadyImmediately(function(b){b.endCancel(j,{cancelReason:a})})}function m(a){i.onReadyImmediately(function(b){b.endSuccess(j,{annotations:a})})}function n(a){var b=a.attachmentType,c=a.entryPoint;a=a.isSecure;var d={attachmentType:b,entryPoint:c,isSecure:((b=a)!=null?b:!1).toString()};i.onReadyImmediately(function(a){a.start(j,{annotations:{string:babelHelpers["extends"]({},d)},cancelOnUnload:!0,timeoutInMs:k})})}g.useMWMediaViewerOpenQPLLogger=a}),98);
__d("useVideoPlayerHasStartedSeekingSinceLastPlay",["VideoPlayerHooks","createVideoStateHook","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var k=b.stateHook;function a(){var a=d("react-compiler-runtime").c(5),b=k(!1),c=b[0],e=b[1],f=(i||(i=d("VideoPlayerHooks"))).useSeeking(),g=i.usePlaying(),h;a[0]!==g||a[1]!==f||a[2]!==e?(b=function(){f&&!g&&e(!0),g&&e(!1)},h=[g,f,e],a[0]=g,a[1]=f,a[2]=e,a[3]=b,a[4]=h):(b=a[3],h=a[4]);j(b,h);return c}g["default"]=a}),98);
__d("useMWVideoPlayerBigPlayButtonOverlay.react",["MWVideoPlayerPlayButton.react","VideoPlayerHooks","react","react-compiler-runtime","useVideoPlayerHasStartedPlayingAtLeastOnce","useVideoPlayerHasStartedSeekingSinceLastPlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(14),e;b[0]!==a?(e=a===void 0?{}:a,b[0]=a,b[1]=e):e=b[1];a=e;e=a.buttonSize;var f=a.forceVisible,g=a.overrideInteraction,h=a.shouldUnmute;a=e===void 0?"large":e;e=(i||(i=d("VideoPlayerHooks"))).usePaused();var k=i.useEnded(),l=c("useVideoPlayerHasStartedPlayingAtLeastOnce")(),m=c("useVideoPlayerHasStartedSeekingSinceLastPlay")(),n=i.useLastMuteReason(),o=i.useController(),p;b[2]!==o||b[3]!==n||b[4]!==h?(p=function(){o.play("user_initiated"),h===!0&&n!=="user_initiated"&&o.setMuted(!1,"product_initiated")},b[2]=o,b[3]=n,b[4]=h,b[5]=p):p=b[5];p=p;g=g!=null?g.handler:p;p=f===!0||f===!1?f:!l&&e;f=a==="small"?"SMALL":"LARGE";l=k&&!m?"REPLAY":"PLAY";b[6]!==p||b[7]!==g||b[8]!==f||b[9]!==l?(e=j.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:p,onClick:g,size:f,type:l}),b[6]=p,b[7]=g,b[8]=f,b[9]=l,b[10]=e):e=b[10];a=e;b[11]!==a||b[12]!==p?(k={bigPlayButtonElement:a,bigPlayButtonIsVisible:p},b[11]=a,b[12]=p,b[13]=k):k=b[13];return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MAWMICSchema",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a=c("qpl")._(1056839232,"112");b={process_offline_queue_end:"process_offline_queue_end",maw_init_end:"maw_init_end",ls_init_end:"ls_init_end",thread_mapping_end:"thread_mapping_end",thread_mapping_start:"thread_mapping_start",ls_sync_end:"ls_sync_end",backend_setup_ready:"backend_setup_ready",occamadillo_thread_mapping_txn_reached:"occamadillo_thread_mapping_txn_reached",occamadillo_thread_mapping_txn_passed_bulk_get:"occamadillo_thread_mapping_txn_passed_bulk_get",occamadillo_thread_mapping_txn_loaded_participants_and_msgs:"occamadillo_thread_mapping_txn_loaded_participants_and_msgs"};d={occamadilloCallingSources:"occamadilloCallingSources",occamadilloBulkBatchSizes:"occamadilloBulkBatchSizes",occamadilloBatchesSentToWorker:"occamadilloBatchesSentToWorker",occamadilloDuplicateThreads:"occamadilloDuplicateThreads",occamadilloPendingThreadsAfterInitSync:"occamadilloPendingThreadsAfterInitSync"};g.EVENT=a;g.POINTS=b;g.ANNOTATIONS=d}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){(function(a){var b=function(a){var b,c=new Float64Array(16);if(a)for(b=0;b<a.length;b++)c[b]=a[b];return c},c=function(){throw new Error("no PRNG")},d=new Uint8Array(16),e=new Uint8Array(32);e[0]=9;var f=b(),g=b([1]),h=b([56129,1]),i=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),j=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function n(a,b,c,d){a[b]=c>>24&255,a[b+1]=c>>16&255,a[b+2]=c>>8&255,a[b+3]=c&255,a[b+4]=d>>24&255,a[b+5]=d>>16&255,a[b+6]=d>>8&255,a[b+7]=d&255}function o(a,b,c,d,e){var f,g=0;for(f=0;f<e;f++)g|=a[b+f]^c[d+f];return(1&g-1>>>8)-1}function p(a,b,c,d){return o(a,b,c,d,16)}function q(a,b,c,d){return o(a,b,c,d,32)}function r(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;var r=e,s=f,t=g,u=h,v=i,w=j,x=k,y=l,z=m,A=b,B=n,C=o,D=p,E=q,F=c,G=d,H;for(var I=0;I<20;I+=2)H=r+D|0,v^=H<<7|H>>>32-7,H=v+r|0,z^=H<<9|H>>>32-9,H=z+v|0,D^=H<<13|H>>>32-13,H=D+z|0,r^=H<<18|H>>>32-18,H=w+s|0,A^=H<<7|H>>>32-7,H=A+w|0,E^=H<<9|H>>>32-9,H=E+A|0,s^=H<<13|H>>>32-13,H=s+E|0,w^=H<<18|H>>>32-18,H=B+x|0,F^=H<<7|H>>>32-7,H=F+B|0,t^=H<<9|H>>>32-9,H=t+F|0,x^=H<<13|H>>>32-13,H=x+t|0,B^=H<<18|H>>>32-18,H=G+C|0,u^=H<<7|H>>>32-7,H=u+G|0,y^=H<<9|H>>>32-9,H=y+u|0,C^=H<<13|H>>>32-13,H=C+y|0,G^=H<<18|H>>>32-18,H=r+u|0,s^=H<<7|H>>>32-7,H=s+r|0,t^=H<<9|H>>>32-9,H=t+s|0,u^=H<<13|H>>>32-13,H=u+t|0,r^=H<<18|H>>>32-18,H=w+v|0,x^=H<<7|H>>>32-7,H=x+w|0,y^=H<<9|H>>>32-9,H=y+x|0,v^=H<<13|H>>>32-13,H=v+y|0,w^=H<<18|H>>>32-18,H=B+A|0,C^=H<<7|H>>>32-7,H=C+B|0,z^=H<<9|H>>>32-9,H=z+C|0,A^=H<<13|H>>>32-13,H=A+z|0,B^=H<<18|H>>>32-18,H=G+F|0,D^=H<<7|H>>>32-7,H=D+G|0,E^=H<<9|H>>>32-9,H=E+D|0,F^=H<<13|H>>>32-13,H=F+E|0,G^=H<<18|H>>>32-18;r=r+e|0;s=s+f|0;t=t+g|0;u=u+h|0;v=v+i|0;w=w+j|0;x=x+k|0;y=y+l|0;z=z+m|0;A=A+b|0;B=B+n|0;C=C+o|0;D=D+p|0;E=E+q|0;F=F+c|0;G=G+d|0;a[0]=r>>>0&255;a[1]=r>>>8&255;a[2]=r>>>16&255;a[3]=r>>>24&255;a[4]=s>>>0&255;a[5]=s>>>8&255;a[6]=s>>>16&255;a[7]=s>>>24&255;a[8]=t>>>0&255;a[9]=t>>>8&255;a[10]=t>>>16&255;a[11]=t>>>24&255;a[12]=u>>>0&255;a[13]=u>>>8&255;a[14]=u>>>16&255;a[15]=u>>>24&255;a[16]=v>>>0&255;a[17]=v>>>8&255;a[18]=v>>>16&255;a[19]=v>>>24&255;a[20]=w>>>0&255;a[21]=w>>>8&255;a[22]=w>>>16&255;a[23]=w>>>24&255;a[24]=x>>>0&255;a[25]=x>>>8&255;a[26]=x>>>16&255;a[27]=x>>>24&255;a[28]=y>>>0&255;a[29]=y>>>8&255;a[30]=y>>>16&255;a[31]=y>>>24&255;a[32]=z>>>0&255;a[33]=z>>>8&255;a[34]=z>>>16&255;a[35]=z>>>24&255;a[36]=A>>>0&255;a[37]=A>>>8&255;a[38]=A>>>16&255;a[39]=A>>>24&255;a[40]=B>>>0&255;a[41]=B>>>8&255;a[42]=B>>>16&255;a[43]=B>>>24&255;a[44]=C>>>0&255;a[45]=C>>>8&255;a[46]=C>>>16&255;a[47]=C>>>24&255;a[48]=D>>>0&255;a[49]=D>>>8&255;a[50]=D>>>16&255;a[51]=D>>>24&255;a[52]=E>>>0&255;a[53]=E>>>8&255;a[54]=E>>>16&255;a[55]=E>>>24&255;a[56]=F>>>0&255;a[57]=F>>>8&255;a[58]=F>>>16&255;a[59]=F>>>24&255;a[60]=G>>>0&255;a[61]=G>>>8&255;a[62]=G>>>16&255;a[63]=G>>>24&255}function s(a,b,c,d){var e=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,f=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,g=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,h=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,i=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,j=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,k=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,l=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,m=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24;b=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24;var n=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,o=c[16]&255|(c[17]&255)<<8|(c[18]&255)<<16|(c[19]&255)<<24,p=c[20]&255|(c[21]&255)<<8|(c[22]&255)<<16|(c[23]&255)<<24,q=c[24]&255|(c[25]&255)<<8|(c[26]&255)<<16|(c[27]&255)<<24;c=c[28]&255|(c[29]&255)<<8|(c[30]&255)<<16|(c[31]&255)<<24;d=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24;e=e;f=f;g=g;h=h;i=i;j=j;k=k;l=l;m=m;b=b;n=n;o=o;p=p;q=q;c=c;d=d;var r;for(var s=0;s<20;s+=2)r=e+p|0,i^=r<<7|r>>>32-7,r=i+e|0,m^=r<<9|r>>>32-9,r=m+i|0,p^=r<<13|r>>>32-13,r=p+m|0,e^=r<<18|r>>>32-18,r=j+f|0,b^=r<<7|r>>>32-7,r=b+j|0,q^=r<<9|r>>>32-9,r=q+b|0,f^=r<<13|r>>>32-13,r=f+q|0,j^=r<<18|r>>>32-18,r=n+k|0,c^=r<<7|r>>>32-7,r=c+n|0,g^=r<<9|r>>>32-9,r=g+c|0,k^=r<<13|r>>>32-13,r=k+g|0,n^=r<<18|r>>>32-18,r=d+o|0,h^=r<<7|r>>>32-7,r=h+d|0,l^=r<<9|r>>>32-9,r=l+h|0,o^=r<<13|r>>>32-13,r=o+l|0,d^=r<<18|r>>>32-18,r=e+h|0,f^=r<<7|r>>>32-7,r=f+e|0,g^=r<<9|r>>>32-9,r=g+f|0,h^=r<<13|r>>>32-13,r=h+g|0,e^=r<<18|r>>>32-18,r=j+i|0,k^=r<<7|r>>>32-7,r=k+j|0,l^=r<<9|r>>>32-9,r=l+k|0,i^=r<<13|r>>>32-13,r=i+l|0,j^=r<<18|r>>>32-18,r=n+b|0,o^=r<<7|r>>>32-7,r=o+n|0,m^=r<<9|r>>>32-9,r=m+o|0,b^=r<<13|r>>>32-13,r=b+m|0,n^=r<<18|r>>>32-18,r=d+c|0,p^=r<<7|r>>>32-7,r=p+d|0,q^=r<<9|r>>>32-9,r=q+p|0,c^=r<<13|r>>>32-13,r=c+q|0,d^=r<<18|r>>>32-18;a[0]=e>>>0&255;a[1]=e>>>8&255;a[2]=e>>>16&255;a[3]=e>>>24&255;a[4]=j>>>0&255;a[5]=j>>>8&255;a[6]=j>>>16&255;a[7]=j>>>24&255;a[8]=n>>>0&255;a[9]=n>>>8&255;a[10]=n>>>16&255;a[11]=n>>>24&255;a[12]=d>>>0&255;a[13]=d>>>8&255;a[14]=d>>>16&255;a[15]=d>>>24&255;a[16]=k>>>0&255;a[17]=k>>>8&255;a[18]=k>>>16&255;a[19]=k>>>24&255;a[20]=l>>>0&255;a[21]=l>>>8&255;a[22]=l>>>16&255;a[23]=l>>>24&255;a[24]=m>>>0&255;a[25]=m>>>8&255;a[26]=m>>>16&255;a[27]=m>>>24&255;a[28]=b>>>0&255;a[29]=b>>>8&255;a[30]=b>>>16&255;a[31]=b>>>24&255}function t(a,b,c,d){r(a,b,c,d)}function u(a,b,c,d){s(a,b,c,d)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(a,b,c,d,e,f,g){var h=new Uint8Array(16),i=new Uint8Array(64),j;for(j=0;j<16;j++)h[j]=0;for(j=0;j<8;j++)h[j]=f[j];while(e>=64){t(i,h,g,v);for(j=0;j<64;j++)a[b+j]=c[d+j]^i[j];f=1;for(j=8;j<16;j++)f=f+(h[j]&255)|0,h[j]=f&255,f>>>=8;e-=64;b+=64;d+=64}if(e>0){t(i,h,g,v);for(j=0;j<e;j++)a[b+j]=c[d+j]^i[j]}return 0}function x(a,b,c,d,e){var f=new Uint8Array(16),g=new Uint8Array(64),h;for(h=0;h<16;h++)f[h]=0;for(h=0;h<8;h++)f[h]=d[h];while(c>=64){t(g,f,e,v);for(h=0;h<64;h++)a[b+h]=g[h];d=1;for(h=8;h<16;h++)d=d+(f[h]&255)|0,f[h]=d&255,d>>>=8;c-=64;b+=64}if(c>0){t(g,f,e,v);for(h=0;h<c;h++)a[b+h]=g[h]}return 0}function y(a,b,c,d,e){var f=new Uint8Array(32);u(f,d,e,v);e=new Uint8Array(8);for(var g=0;g<8;g++)e[g]=d[g+16];return x(a,b,c,e,f)}function z(a,b,c,d,e,f,g){var h=new Uint8Array(32);u(h,f,g,v);g=new Uint8Array(8);for(var i=0;i<8;i++)g[i]=f[i+16];return w(a,b,c,d,e,g,h)}var A=function(a){this.buffer=new Uint8Array(16);this.r=new Uint16Array(10);this.h=new Uint16Array(10);this.pad=new Uint16Array(8);this.leftover=0;this.fin=0;var b,c;b=a[0]&255|(a[1]&255)<<8;this.r[0]=b&8191;c=a[2]&255|(a[3]&255)<<8;this.r[1]=(b>>>13|c<<3)&8191;b=a[4]&255|(a[5]&255)<<8;this.r[2]=(c>>>10|b<<6)&7939;c=a[6]&255|(a[7]&255)<<8;this.r[3]=(b>>>7|c<<9)&8191;b=a[8]&255|(a[9]&255)<<8;this.r[4]=(c>>>4|b<<12)&255;this.r[5]=b>>>1&8190;c=a[10]&255|(a[11]&255)<<8;this.r[6]=(b>>>14|c<<2)&8191;b=a[12]&255|(a[13]&255)<<8;this.r[7]=(c>>>11|b<<5)&8065;c=a[14]&255|(a[15]&255)<<8;this.r[8]=(b>>>8|c<<8)&8191;this.r[9]=c>>>5&127;this.pad[0]=a[16]&255|(a[17]&255)<<8;this.pad[1]=a[18]&255|(a[19]&255)<<8;this.pad[2]=a[20]&255|(a[21]&255)<<8;this.pad[3]=a[22]&255|(a[23]&255)<<8;this.pad[4]=a[24]&255|(a[25]&255)<<8;this.pad[5]=a[26]&255|(a[27]&255)<<8;this.pad[6]=a[28]&255|(a[29]&255)<<8;this.pad[7]=a[30]&255|(a[31]&255)<<8};A.prototype.blocks=function(a,b,c){var d=this.fin?0:1<<11,e,f,g,h,i,j,k,l,m,n,o,p=this.h[0],q=this.h[1],r=this.h[2],s=this.h[3],t=this.h[4],u=this.h[5],v=this.h[6],w=this.h[7],x=this.h[8],y=this.h[9],z=this.r[0],A=this.r[1],B=this.r[2],C=this.r[3],D=this.r[4],E=this.r[5],F=this.r[6],G=this.r[7],H=this.r[8],I=this.r[9];while(c>=16)e=a[b+0]&255|(a[b+1]&255)<<8,p+=e&8191,f=a[b+2]&255|(a[b+3]&255)<<8,q+=(e>>>13|f<<3)&8191,e=a[b+4]&255|(a[b+5]&255)<<8,r+=(f>>>10|e<<6)&8191,f=a[b+6]&255|(a[b+7]&255)<<8,s+=(e>>>7|f<<9)&8191,e=a[b+8]&255|(a[b+9]&255)<<8,t+=(f>>>4|e<<12)&8191,u+=e>>>1&8191,f=a[b+10]&255|(a[b+11]&255)<<8,v+=(e>>>14|f<<2)&8191,e=a[b+12]&255|(a[b+13]&255)<<8,w+=(f>>>11|e<<5)&8191,f=a[b+14]&255|(a[b+15]&255)<<8,x+=(e>>>8|f<<8)&8191,y+=f>>>5|d,e=0,f=e,f+=p*z,f+=q*(5*I),f+=r*(5*H),f+=s*(5*G),f+=t*(5*F),e=f>>>13,f&=8191,f+=u*(5*E),f+=v*(5*D),f+=w*(5*C),f+=x*(5*B),f+=y*(5*A),e+=f>>>13,f&=8191,g=e,g+=p*A,g+=q*z,g+=r*(5*I),g+=s*(5*H),g+=t*(5*G),e=g>>>13,g&=8191,g+=u*(5*F),g+=v*(5*E),g+=w*(5*D),g+=x*(5*C),g+=y*(5*B),e+=g>>>13,g&=8191,h=e,h+=p*B,h+=q*A,h+=r*z,h+=s*(5*I),h+=t*(5*H),e=h>>>13,h&=8191,h+=u*(5*G),h+=v*(5*F),h+=w*(5*E),h+=x*(5*D),h+=y*(5*C),e+=h>>>13,h&=8191,i=e,i+=p*C,i+=q*B,i+=r*A,i+=s*z,i+=t*(5*I),e=i>>>13,i&=8191,i+=u*(5*H),i+=v*(5*G),i+=w*(5*F),i+=x*(5*E),i+=y*(5*D),e+=i>>>13,i&=8191,j=e,j+=p*D,j+=q*C,j+=r*B,j+=s*A,j+=t*z,e=j>>>13,j&=8191,j+=u*(5*I),j+=v*(5*H),j+=w*(5*G),j+=x*(5*F),j+=y*(5*E),e+=j>>>13,j&=8191,k=e,k+=p*E,k+=q*D,k+=r*C,k+=s*B,k+=t*A,e=k>>>13,k&=8191,k+=u*z,k+=v*(5*I),k+=w*(5*H),k+=x*(5*G),k+=y*(5*F),e+=k>>>13,k&=8191,l=e,l+=p*F,l+=q*E,l+=r*D,l+=s*C,l+=t*B,e=l>>>13,l&=8191,l+=u*A,l+=v*z,l+=w*(5*I),l+=x*(5*H),l+=y*(5*G),e+=l>>>13,l&=8191,m=e,m+=p*G,m+=q*F,m+=r*E,m+=s*D,m+=t*C,e=m>>>13,m&=8191,m+=u*B,m+=v*A,m+=w*z,m+=x*(5*I),m+=y*(5*H),e+=m>>>13,m&=8191,n=e,n+=p*H,n+=q*G,n+=r*F,n+=s*E,n+=t*D,e=n>>>13,n&=8191,n+=u*C,n+=v*B,n+=w*A,n+=x*z,n+=y*(5*I),e+=n>>>13,n&=8191,o=e,o+=p*I,o+=q*H,o+=r*G,o+=s*F,o+=t*E,e=o>>>13,o&=8191,o+=u*D,o+=v*C,o+=w*B,o+=x*A,o+=y*z,e+=o>>>13,o&=8191,e=(e<<2)+e|0,e=e+f|0,f=e&8191,e=e>>>13,g+=e,p=f,q=g,r=h,s=i,t=j,u=k,v=l,w=m,x=n,y=o,b+=16,c-=16;this.h[0]=p;this.h[1]=q;this.h[2]=r;this.h[3]=s;this.h[4]=t;this.h[5]=u;this.h[6]=v;this.h[7]=w;this.h[8]=x;this.h[9]=y};A.prototype.finish=function(a,b){var c=new Uint16Array(10),d,e;if(this.leftover){e=this.leftover;this.buffer[e++]=1;for(;e<16;e++)this.buffer[e]=0;this.fin=1;this.blocks(this.buffer,0,16)}d=this.h[1]>>>13;this.h[1]&=8191;for(e=2;e<10;e++)this.h[e]+=d,d=this.h[e]>>>13,this.h[e]&=8191;this.h[0]+=d*5;d=this.h[0]>>>13;this.h[0]&=8191;this.h[1]+=d;d=this.h[1]>>>13;this.h[1]&=8191;this.h[2]+=d;c[0]=this.h[0]+5;d=c[0]>>>13;c[0]&=8191;for(e=1;e<10;e++)c[e]=this.h[e]+d,d=c[e]>>>13,c[e]&=8191;c[9]-=1<<13;d=(d^1)-1;for(e=0;e<10;e++)c[e]&=d;d=~d;for(e=0;e<10;e++)this.h[e]=this.h[e]&d|c[e];this.h[0]=(this.h[0]|this.h[1]<<13)&65535;this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535;this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535;this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535;this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535;this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535;this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535;this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;c=this.h[0]+this.pad[0];this.h[0]=c&65535;for(e=1;e<8;e++)c=(this.h[e]+this.pad[e]|0)+(c>>>16)|0,this.h[e]=c&65535;a[b+0]=this.h[0]>>>0&255;a[b+1]=this.h[0]>>>8&255;a[b+2]=this.h[1]>>>0&255;a[b+3]=this.h[1]>>>8&255;a[b+4]=this.h[2]>>>0&255;a[b+5]=this.h[2]>>>8&255;a[b+6]=this.h[3]>>>0&255;a[b+7]=this.h[3]>>>8&255;a[b+8]=this.h[4]>>>0&255;a[b+9]=this.h[4]>>>8&255;a[b+10]=this.h[5]>>>0&255;a[b+11]=this.h[5]>>>8&255;a[b+12]=this.h[6]>>>0&255;a[b+13]=this.h[6]>>>8&255;a[b+14]=this.h[7]>>>0&255;a[b+15]=this.h[7]>>>8&255};A.prototype.update=function(a,b,c){var d,e;if(this.leftover){e=16-this.leftover;e>c&&(e=c);for(d=0;d<e;d++)this.buffer[this.leftover+d]=a[b+d];c-=e;b+=e;this.leftover+=e;if(this.leftover<16)return;this.blocks(this.buffer,0,16);this.leftover=0}c>=16&&(e=c-c%16,this.blocks(a,b,e),b+=e,c-=e);if(c){for(d=0;d<c;d++)this.buffer[this.leftover+d]=a[b+d];this.leftover+=c}};function B(a,b,c,d,e,f){f=new A(f);f.update(c,d,e);f.finish(a,b);return 0}function C(a,b,c,d,e,f){var g=new Uint8Array(16);B(g,0,c,d,e,f);return p(a,b,g,0)}function D(a,b,c,d,e){if(c<32)return-1;z(a,0,b,0,c,d,e);B(a,16,a,32,c-32,a);for(b=0;b<16;b++)a[b]=0;return 0}function E(a,b,c,d,e){var f=new Uint8Array(32);if(c<32)return-1;y(f,0,32,d,e);if(C(b,16,b,32,c-32,f)!==0)return-1;z(a,0,b,0,c,d,e);for(f=0;f<32;f++)a[f]=0;return 0}function F(a,b){var c;for(c=0;c<16;c++)a[c]=b[c]|0}function G(a){var b,c,d=1;for(b=0;b<16;b++)c=a[b]+d+65535,d=Math.floor(c/65536),a[b]=c-d*65536;a[0]+=d-1+37*(d-1)}function H(a,b,c){var d;c=~(c-1);for(var e=0;e<16;e++)d=c&(a[e]^b[e]),a[e]^=d,b[e]^=d}function I(a,c){var d,e,f=b(),g=b();for(d=0;d<16;d++)g[d]=c[d];G(g);G(g);G(g);for(c=0;c<2;c++){f[0]=g[0]-65517;for(d=1;d<15;d++)f[d]=g[d]-65535-(f[d-1]>>16&1),f[d-1]&=65535;f[15]=g[15]-32767-(f[14]>>16&1);e=f[15]>>16&1;f[14]&=65535;H(g,f,1-e)}for(d=0;d<16;d++)a[2*d]=g[d]&255,a[2*d+1]=g[d]>>8}function J(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);I(c,a);I(d,b);return q(c,0,d,0)}function K(a){var b=new Uint8Array(32);I(b,a);return b[0]&1}function L(a,b){var c;for(c=0;c<16;c++)a[c]=b[2*c]+(b[2*c+1]<<8);a[15]&=32767}function M(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]+c[d]}function N(a,b,c){for(var d=0;d<16;d++)a[d]=b[d]-c[d]}function O(a,b,c){var d,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=c[0],K=c[1],L=c[2],M=c[3],N=c[4],O=c[5],P=c[6],Q=c[7],R=c[8],S=c[9],T=c[10],U=c[11],V=c[12],W=c[13],X=c[14];c=c[15];d=b[0];e+=d*J;f+=d*K;g+=d*L;h+=d*M;i+=d*N;j+=d*O;k+=d*P;l+=d*Q;m+=d*R;n+=d*S;o+=d*T;p+=d*U;q+=d*V;r+=d*W;s+=d*X;t+=d*c;d=b[1];f+=d*J;g+=d*K;h+=d*L;i+=d*M;j+=d*N;k+=d*O;l+=d*P;m+=d*Q;n+=d*R;o+=d*S;p+=d*T;q+=d*U;r+=d*V;s+=d*W;t+=d*X;u+=d*c;d=b[2];g+=d*J;h+=d*K;i+=d*L;j+=d*M;k+=d*N;l+=d*O;m+=d*P;n+=d*Q;o+=d*R;p+=d*S;q+=d*T;r+=d*U;s+=d*V;t+=d*W;u+=d*X;v+=d*c;d=b[3];h+=d*J;i+=d*K;j+=d*L;k+=d*M;l+=d*N;m+=d*O;n+=d*P;o+=d*Q;p+=d*R;q+=d*S;r+=d*T;s+=d*U;t+=d*V;u+=d*W;v+=d*X;w+=d*c;d=b[4];i+=d*J;j+=d*K;k+=d*L;l+=d*M;m+=d*N;n+=d*O;o+=d*P;p+=d*Q;q+=d*R;r+=d*S;s+=d*T;t+=d*U;u+=d*V;v+=d*W;w+=d*X;x+=d*c;d=b[5];j+=d*J;k+=d*K;l+=d*L;m+=d*M;n+=d*N;o+=d*O;p+=d*P;q+=d*Q;r+=d*R;s+=d*S;t+=d*T;u+=d*U;v+=d*V;w+=d*W;x+=d*X;y+=d*c;d=b[6];k+=d*J;l+=d*K;m+=d*L;n+=d*M;o+=d*N;p+=d*O;q+=d*P;r+=d*Q;s+=d*R;t+=d*S;u+=d*T;v+=d*U;w+=d*V;x+=d*W;y+=d*X;z+=d*c;d=b[7];l+=d*J;m+=d*K;n+=d*L;o+=d*M;p+=d*N;q+=d*O;r+=d*P;s+=d*Q;t+=d*R;u+=d*S;v+=d*T;w+=d*U;x+=d*V;y+=d*W;z+=d*X;A+=d*c;d=b[8];m+=d*J;n+=d*K;o+=d*L;p+=d*M;q+=d*N;r+=d*O;s+=d*P;t+=d*Q;u+=d*R;v+=d*S;w+=d*T;x+=d*U;y+=d*V;z+=d*W;A+=d*X;B+=d*c;d=b[9];n+=d*J;o+=d*K;p+=d*L;q+=d*M;r+=d*N;s+=d*O;t+=d*P;u+=d*Q;v+=d*R;w+=d*S;x+=d*T;y+=d*U;z+=d*V;A+=d*W;B+=d*X;C+=d*c;d=b[10];o+=d*J;p+=d*K;q+=d*L;r+=d*M;s+=d*N;t+=d*O;u+=d*P;v+=d*Q;w+=d*R;x+=d*S;y+=d*T;z+=d*U;A+=d*V;B+=d*W;C+=d*X;D+=d*c;d=b[11];p+=d*J;q+=d*K;r+=d*L;s+=d*M;t+=d*N;u+=d*O;v+=d*P;w+=d*Q;x+=d*R;y+=d*S;z+=d*T;A+=d*U;B+=d*V;C+=d*W;D+=d*X;E+=d*c;d=b[12];q+=d*J;r+=d*K;s+=d*L;t+=d*M;u+=d*N;v+=d*O;w+=d*P;x+=d*Q;y+=d*R;z+=d*S;A+=d*T;B+=d*U;C+=d*V;D+=d*W;E+=d*X;F+=d*c;d=b[13];r+=d*J;s+=d*K;t+=d*L;u+=d*M;v+=d*N;w+=d*O;x+=d*P;y+=d*Q;z+=d*R;A+=d*S;B+=d*T;C+=d*U;D+=d*V;E+=d*W;F+=d*X;G+=d*c;d=b[14];s+=d*J;t+=d*K;u+=d*L;v+=d*M;w+=d*N;x+=d*O;y+=d*P;z+=d*Q;A+=d*R;B+=d*S;C+=d*T;D+=d*U;E+=d*V;F+=d*W;G+=d*X;H+=d*c;d=b[15];t+=d*J;u+=d*K;v+=d*L;w+=d*M;x+=d*N;y+=d*O;z+=d*P;A+=d*Q;B+=d*R;C+=d*S;D+=d*T;E+=d*U;F+=d*V;G+=d*W;H+=d*X;I+=d*c;e+=38*u;f+=38*v;g+=38*w;h+=38*x;i+=38*y;j+=38*z;k+=38*A;l+=38*B;m+=38*C;n+=38*D;o+=38*E;p+=38*F;q+=38*G;r+=38*H;s+=38*I;b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);b=1;d=e+b+65535;b=Math.floor(d/65536);e=d-b*65536;d=f+b+65535;b=Math.floor(d/65536);f=d-b*65536;d=g+b+65535;b=Math.floor(d/65536);g=d-b*65536;d=h+b+65535;b=Math.floor(d/65536);h=d-b*65536;d=i+b+65535;b=Math.floor(d/65536);i=d-b*65536;d=j+b+65535;b=Math.floor(d/65536);j=d-b*65536;d=k+b+65535;b=Math.floor(d/65536);k=d-b*65536;d=l+b+65535;b=Math.floor(d/65536);l=d-b*65536;d=m+b+65535;b=Math.floor(d/65536);m=d-b*65536;d=n+b+65535;b=Math.floor(d/65536);n=d-b*65536;d=o+b+65535;b=Math.floor(d/65536);o=d-b*65536;d=p+b+65535;b=Math.floor(d/65536);p=d-b*65536;d=q+b+65535;b=Math.floor(d/65536);q=d-b*65536;d=r+b+65535;b=Math.floor(d/65536);r=d-b*65536;d=s+b+65535;b=Math.floor(d/65536);s=d-b*65536;d=t+b+65535;b=Math.floor(d/65536);t=d-b*65536;e+=b-1+37*(b-1);a[0]=e;a[1]=f;a[2]=g;a[3]=h;a[4]=i;a[5]=j;a[6]=k;a[7]=l;a[8]=m;a[9]=n;a[10]=o;a[11]=p;a[12]=q;a[13]=r;a[14]=s;a[15]=t}function P(a,b){O(a,b,b)}function Q(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=253;e>=0;e--)P(d,d),e!==2&&e!==4&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function R(a,c){var d=b(),e;for(e=0;e<16;e++)d[e]=c[e];for(e=250;e>=0;e--)P(d,d),e!==1&&O(d,d,c);for(e=0;e<16;e++)a[e]=d[e]}function S(a,c,d){var e=new Uint8Array(32),f=new Float64Array(80),g,i=b(),j=b(),k=b(),l=b(),m=b(),n=b();for(g=0;g<31;g++)e[g]=c[g];e[31]=c[31]&127|64;e[0]&=248;L(f,d);for(g=0;g<16;g++)j[g]=f[g],l[g]=i[g]=k[g]=0;i[0]=l[0]=1;for(g=254;g>=0;--g)c=e[g>>>3]>>>(g&7)&1,H(i,j,c),H(k,l,c),M(m,i,k),N(i,i,k),M(k,j,l),N(j,j,l),P(l,m),P(n,i),O(i,k,i),O(k,j,m),M(m,i,k),N(i,i,k),P(j,i),N(k,l,n),O(i,k,h),M(i,i,l),O(k,k,i),O(i,l,n),O(l,j,f),P(j,m),H(i,j,c),H(k,l,c);for(g=0;g<16;g++)f[g+16]=i[g],f[g+32]=k[g],f[g+48]=j[g],f[g+64]=l[g];d=f.subarray(32);c=f.subarray(16);Q(d,d);O(c,c,d);I(a,c);return 0}function T(a,b){return S(a,b,e)}function U(a,b){c(b,32);return T(a,b)}function V(a,b,c){var e=new Uint8Array(32);S(e,c,b);return u(a,d,e,v)}var W=D,X=E;function aa(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return W(a,b,c,d,g)}function ba(a,b,c,d,e,f){var g=new Uint8Array(32);V(g,e,f);return X(a,b,c,d,g)}var ca=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function da(a,b,c,d){var e=new Int32Array(16),f=new Int32Array(16),g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=a[0],H=a[1],I=a[2],J=a[3],K=a[4],L=a[5],M=a[6],N=a[7],O=b[0],P=b[1],Q=b[2],R=b[3],S=b[4],T=b[5],U=b[6],V=b[7],W=0;while(d>=128){for(y=0;y<16;y++)z=8*y+W,e[y]=c[z+0]<<24|c[z+1]<<16|c[z+2]<<8|c[z+3],f[y]=c[z+4]<<24|c[z+5]<<16|c[z+6]<<8|c[z+7];for(y=0;y<80;y++){g=G;h=H;i=I;j=J;k=K;l=L;m=M;N;o=O;p=P;q=Q;r=R;s=S;t=T;u=U;V;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(K>>>14|S<<32-14)^(K>>>18|S<<32-18)^(S>>>41-32|K<<32-(41-32));B=(S>>>14|K<<32-14)^(S>>>18|K<<32-18)^(K>>>41-32|S<<32-(41-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=K&L^~K&M;B=S&T^~S&U;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=ca[y*2];B=ca[y*2+1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=e[y%16];B=f[y%16];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;w=E&65535|F<<16;x=C&65535|D<<16;A=w;B=x;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=(G>>>28|O<<32-28)^(O>>>34-32|G<<32-(34-32))^(O>>>39-32|G<<32-(39-32));B=(O>>>28|G<<32-28)^(G>>>34-32|O<<32-(34-32))^(G>>>39-32|O<<32-(39-32));C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;A=G&H^G&I^H&I;B=O&P^O&Q^P&Q;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;n=E&65535|F<<16;v=C&65535|D<<16;A=j;B=r;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=w;B=x;C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;j=E&65535|F<<16;r=C&65535|D<<16;H=g;I=h;J=i;K=j;L=k;M=l;N=m;G=n;P=o;Q=p;R=q;S=r;T=s;U=t;V=u;O=v;if(y%16===15)for(z=0;z<16;z++)A=e[z],B=f[z],C=B&65535,D=B>>>16,E=A&65535,F=A>>>16,A=e[(z+9)%16],B=f[(z+9)%16],C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+1)%16],x=f[(z+1)%16],A=(w>>>1|x<<32-1)^(w>>>8|x<<32-8)^w>>>7,B=(x>>>1|w<<32-1)^(x>>>8|w<<32-8)^(x>>>7|w<<32-7),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,w=e[(z+14)%16],x=f[(z+14)%16],A=(w>>>19|x<<32-19)^(x>>>61-32|w<<32-(61-32))^w>>>6,B=(x>>>19|w<<32-19)^(w>>>61-32|x<<32-(61-32))^(x>>>6|w<<32-6),C+=B&65535,D+=B>>>16,E+=A&65535,F+=A>>>16,D+=C>>>16,E+=D>>>16,F+=E>>>16,e[z]=E&65535|F<<16,f[z]=C&65535|D<<16}A=G;B=O;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[0];B=b[0];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[0]=G=E&65535|F<<16;b[0]=O=C&65535|D<<16;A=H;B=P;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[1];B=b[1];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[1]=H=E&65535|F<<16;b[1]=P=C&65535|D<<16;A=I;B=Q;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[2];B=b[2];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[2]=I=E&65535|F<<16;b[2]=Q=C&65535|D<<16;A=J;B=R;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[3];B=b[3];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[3]=J=E&65535|F<<16;b[3]=R=C&65535|D<<16;A=K;B=S;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[4];B=b[4];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[4]=K=E&65535|F<<16;b[4]=S=C&65535|D<<16;A=L;B=T;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[5];B=b[5];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[5]=L=E&65535|F<<16;b[5]=T=C&65535|D<<16;A=M;B=U;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[6];B=b[6];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[6]=M=E&65535|F<<16;b[6]=U=C&65535|D<<16;A=N;B=V;C=B&65535;D=B>>>16;E=A&65535;F=A>>>16;A=a[7];B=b[7];C+=B&65535;D+=B>>>16;E+=A&65535;F+=A>>>16;D+=C>>>16;E+=D>>>16;F+=E>>>16;a[7]=N=E&65535|F<<16;b[7]=V=C&65535|D<<16;W+=128;d-=128}return d}function Y(a,b,c){var d=new Int32Array(8),e=new Int32Array(8),f=new Uint8Array(256),g,h=c;d[0]=1779033703;d[1]=3144134277;d[2]=1013904242;d[3]=2773480762;d[4]=1359893119;d[5]=2600822924;d[6]=528734635;d[7]=1541459225;e[0]=4089235720;e[1]=2227873595;e[2]=4271175723;e[3]=1595750129;e[4]=2917565137;e[5]=725511199;e[6]=4215389547;e[7]=327033209;da(d,e,b,c);c%=128;for(g=0;g<c;g++)f[g]=b[h-c+g];f[c]=128;c=256-128*(c<112?1:0);f[c-9]=0;n(f,c-8,h/536870912|0,h<<3);da(d,e,f,c);for(g=0;g<8;g++)n(a,8*g,d[g],e[g]);return 0}function ea(a,c){var d=b(),e=b(),f=b(),g=b(),h=b(),i=b(),k=b(),l=b(),m=b();N(d,a[1],a[0]);N(m,c[1],c[0]);O(d,d,m);M(e,a[0],a[1]);M(m,c[0],c[1]);O(e,e,m);O(f,a[3],c[3]);O(f,f,j);O(g,a[2],c[2]);M(g,g,g);N(h,e,d);N(i,g,f);M(k,g,f);M(l,e,d);O(a[0],h,i);O(a[1],l,k);O(a[2],k,i);O(a[3],h,l)}function fa(a,b,c){var d;for(d=0;d<4;d++)H(a[d],b[d],c)}function ga(a,c){var d=b(),e=b(),f=b();Q(f,c[2]);O(d,c[0],f);O(e,c[1],f);I(a,e);a[31]^=K(d)<<7}function ha(a,b,c){var d,e;F(a[0],f);F(a[1],g);F(a[2],g);F(a[3],f);for(e=255;e>=0;--e)d=c[e/8|0]>>(e&7)&1,fa(a,b,d),ea(b,a),ea(a,a),fa(a,b,d)}function ia(a,c){var d=[b(),b(),b(),b()];F(d[0],k);F(d[1],l);F(d[2],g);O(d[3],k,l);ha(a,d,c)}function ja(a,d,e){var f=new Uint8Array(64),g=[b(),b(),b(),b()];e||c(d,32);Y(f,d,32);f[0]&=248;f[31]&=127;f[31]|=64;ia(g,f);ga(a,g);for(e=0;e<32;e++)d[e+32]=a[e];return 0}var ka=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function la(a,b){var c,d,e,f;for(d=63;d>=32;--d){c=0;for(e=d-32,f=d-12;e<f;++e)b[e]+=c-16*b[d]*ka[e-(d-32)],c=Math.floor((b[e]+128)/256),b[e]-=c*256;b[e]+=c;b[d]=0}c=0;for(e=0;e<32;e++)b[e]+=c-(b[31]>>4)*ka[e],c=b[e]>>8,b[e]&=255;for(e=0;e<32;e++)b[e]-=c*ka[e];for(d=0;d<32;d++)b[d+1]+=b[d]>>8,a[d]=b[d]&255}function ma(a){var b=new Float64Array(64),c;for(c=0;c<64;c++)b[c]=a[c];for(c=0;c<64;c++)a[c]=0;la(a,b)}function na(a,c,d,e){var f=new Uint8Array(64),g=new Uint8Array(64),h=new Uint8Array(64),i,j=new Float64Array(64),k=[b(),b(),b(),b()];Y(f,e,32);f[0]&=248;f[31]&=127;f[31]|=64;var l=d+64;for(i=0;i<d;i++)a[64+i]=c[i];for(i=0;i<32;i++)a[32+i]=f[32+i];Y(h,a.subarray(32),d+32);ma(h);ia(k,h);ga(a,k);for(i=32;i<64;i++)a[i]=e[i];Y(g,a,d+64);ma(g);for(i=0;i<64;i++)j[i]=0;for(i=0;i<32;i++)j[i]=h[i];for(i=0;i<32;i++)for(c=0;c<32;c++)j[i+c]+=g[i]*f[c];la(a.subarray(32),j);return l}function oa(a,c){var d=b(),e=b(),h=b(),j=b(),k=b(),l=b(),n=b();F(a[2],g);L(a[1],c);P(h,a[1]);O(j,h,i);N(h,h,a[2]);M(j,a[2],j);P(k,j);P(l,k);O(n,l,k);O(d,n,h);O(d,d,j);R(d,d);O(d,d,h);O(d,d,j);O(d,d,j);O(a[0],d,j);P(e,a[0]);O(e,e,j);J(e,h)&&O(a[0],a[0],m);P(e,a[0]);O(e,e,j);if(J(e,h))return-1;K(a[0])===c[31]>>7&&N(a[0],f,a[0]);O(a[3],a[0],a[1]);return 0}function pa(a,c,d,e){var f,g=new Uint8Array(32),h=new Uint8Array(64),i=[b(),b(),b(),b()],j=[b(),b(),b(),b()];if(d<64)return-1;if(oa(j,e))return-1;for(f=0;f<d;f++)a[f]=c[f];for(f=0;f<32;f++)a[f+32]=e[f];Y(h,a,d);ma(h);ha(i,j,h);ia(j,c.subarray(32));ea(i,j);ga(g,i);d-=64;if(q(c,0,g,0)){for(f=0;f<d;f++)a[f]=0;return-1}for(f=0;f<d;f++)a[f]=c[f+64];return d}var qa=32,ra=24,sa=32,ta=16,ua=32,va=32,wa=32,xa=32,ya=32,za=ra,Aa=sa,Ba=ta,Z=64,Ca=32,Da=64,Ea=32,Fa=64;a.lowlevel={crypto_core_hsalsa20:u,crypto_stream_xor:z,crypto_stream:y,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:x,crypto_onetimeauth:B,crypto_onetimeauth_verify:C,crypto_verify_16:p,crypto_verify_32:q,crypto_secretbox:D,crypto_secretbox_open:E,crypto_scalarmult:S,crypto_scalarmult_base:T,crypto_box_beforenm:V,crypto_box_afternm:W,crypto_box:aa,crypto_box_open:ba,crypto_box_keypair:U,crypto_hash:Y,crypto_sign:na,crypto_sign_keypair:ja,crypto_sign_open:pa,crypto_secretbox_KEYBYTES:qa,crypto_secretbox_NONCEBYTES:ra,crypto_secretbox_ZEROBYTES:sa,crypto_secretbox_BOXZEROBYTES:ta,crypto_scalarmult_BYTES:ua,crypto_scalarmult_SCALARBYTES:va,crypto_box_PUBLICKEYBYTES:wa,crypto_box_SECRETKEYBYTES:xa,crypto_box_BEFORENMBYTES:ya,crypto_box_NONCEBYTES:za,crypto_box_ZEROBYTES:Aa,crypto_box_BOXZEROBYTES:Ba,crypto_sign_BYTES:Z,crypto_sign_PUBLICKEYBYTES:Ca,crypto_sign_SECRETKEYBYTES:Da,crypto_sign_SEEDBYTES:Ea,crypto_hash_BYTES:Fa,gf:b,D:i,L:ka,pack25519:I,unpack25519:L,M:O,A:M,S:P,Z:N,pow2523:R,add:ea,set25519:F,modL:la,scalarmult:ha,scalarbase:ia};function Ga(a,b){if(a.length!==qa)throw new Error("bad key size");if(b.length!==ra)throw new Error("bad nonce size")}function Ha(a,b){if(a.length!==wa)throw new Error("bad public key size");if(b.length!==xa)throw new Error("bad secret key size")}function $(){for(var a=0;a<arguments.length;a++)if(!(arguments[a]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ia(a){for(var b=0;b<a.length;b++)a[b]=0}a.randomBytes=function(a){var b=new Uint8Array(a);c(b,a);return b};a.secretbox=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(sa+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+sa]=a[f];D(e,d,d.length,b,c);return e.subarray(ta)};a.secretbox.open=function(a,b,c){$(a,b,c);Ga(c,b);var d=new Uint8Array(ta+a.length),e=new Uint8Array(d.length);for(var f=0;f<a.length;f++)d[f+ta]=a[f];if(d.length<32)return null;return E(e,d,d.length,b,c)!==0?null:e.subarray(sa)};a.secretbox.keyLength=qa;a.secretbox.nonceLength=ra;a.secretbox.overheadLength=ta;a.scalarMult=function(a,b){$(a,b);if(a.length!==va)throw new Error("bad n size");if(b.length!==ua)throw new Error("bad p size");var c=new Uint8Array(ua);S(c,a,b);return c};a.scalarMult.base=function(a){$(a);if(a.length!==va)throw new Error("bad n size");var b=new Uint8Array(ua);T(b,a);return b};a.scalarMult.scalarLength=va;a.scalarMult.groupElementLength=ua;a.box=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox(b,c,d)};a.box.before=function(a,b){$(a,b);Ha(a,b);var c=new Uint8Array(ya);V(c,a,b);return c};a.box.after=a.secretbox;a.box.open=function(b,c,d,e){d=a.box.before(d,e);return a.secretbox.open(b,c,d)};a.box.open.after=a.secretbox.open;a.box.keyPair=function(){var a=new Uint8Array(wa),b=new Uint8Array(xa);U(a,b);return{publicKey:a,secretKey:b}};a.box.keyPair.fromSecretKey=function(a){$(a);if(a.length!==xa)throw new Error("bad secret key size");var b=new Uint8Array(wa);T(b,a);return{publicKey:b,secretKey:new Uint8Array(a)}};a.box.publicKeyLength=wa;a.box.secretKeyLength=xa;a.box.sharedKeyLength=ya;a.box.nonceLength=za;a.box.overheadLength=a.secretbox.overheadLength;a.sign=function(a,b){$(a,b);if(b.length!==Da)throw new Error("bad secret key size");var c=new Uint8Array(Z+a.length);na(c,a,a.length,b);return c};a.sign.open=function(a,b){$(a,b);if(b.length!==Ca)throw new Error("bad public key size");var c=new Uint8Array(a.length);a=pa(c,a,a.length,b);if(a<0)return null;b=new Uint8Array(a);for(a=0;a<b.length;a++)b[a]=c[a];return b};a.sign.detached=function(b,c){b=a.sign(b,c);c=new Uint8Array(Z);for(var d=0;d<c.length;d++)c[d]=b[d];return c};a.sign.detached.verify=function(a,b,c){$(a,b,c);if(b.length!==Z)throw new Error("bad signature size");if(c.length!==Ca)throw new Error("bad public key size");var d=new Uint8Array(Z+a.length),e=new Uint8Array(Z+a.length),f;for(f=0;f<Z;f++)d[f]=b[f];for(f=0;f<a.length;f++)d[f+Z]=a[f];return pa(e,d,d.length,c)>=0};a.sign.keyPair=function(){var a=new Uint8Array(Ca),b=new Uint8Array(Da);ja(a,b);return{publicKey:a,secretKey:b}};a.sign.keyPair.fromSecretKey=function(a){$(a);if(a.length!==Da)throw new Error("bad secret key size");var b=new Uint8Array(Ca);for(var c=0;c<b.length;c++)b[c]=a[32+c];return{publicKey:b,secretKey:new Uint8Array(a)}};a.sign.keyPair.fromSeed=function(a){$(a);if(a.length!==Ea)throw new Error("bad seed size");var b=new Uint8Array(Ca),c=new Uint8Array(Da);for(var d=0;d<32;d++)c[d]=a[d];ja(b,c,!0);return{publicKey:b,secretKey:c}};a.sign.publicKeyLength=Ca;a.sign.secretKeyLength=Da;a.sign.seedLength=Ea;a.sign.signatureLength=Z;a.hash=function(a){$(a);var b=new Uint8Array(Fa);Y(b,a,a.length);return b};a.hash.hashLength=Fa;a.verify=function(a,b){$(a,b);if(a.length===0||b.length===0)return!1;return a.length!==b.length?!1:o(a,0,b,0,a.length)===0?!0:!1};a.setPRNG=function(a){c=a};(function(){var b=typeof self!=="undefined"?self.crypto||self.msCrypto:null;if(b&&b.getRandomValues){var c=65536;a.setPRNG(function(a,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=c)b.getRandomValues(f.subarray(e,e+Math.min(d-e,c)));for(e=0;e<d;e++)a[e]=f[e];Ia(f)})}else b&&b.randomBytes&&a.setPRNG(function(a,c){var d,e=b.randomBytes(c);for(d=0;d<c;d++)a[d]=e[d];Ia(e)})})()})(typeof g!=="undefined"&&g.exports?g.exports:self.nacl=self.nacl||{})}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(a,b,c,d,e,f){e.exports=b("tweetnacl-1.0.3")()}),null);
__d("WACryptoDependencies",["tweetnacl"],(function(a,b,c,d,e,f,g){"use strict";var h=self.crypto;function a(a){h=a;var b=65536;d("tweetnacl").setPRNG(function(c,d){var e,f=new Uint8Array(d);for(e=0;e<d;e+=b)a.getRandomValues(f.subarray(e,e+Math.min(d-e,b)));for(e=0;e<d;e++)c[e]=f[e];for(e=0;e<f.length;e++)f[e]=0})}function b(){return h}g.setCrypto=a;g.getCrypto=b}),98);
__d("WAHex",["WACryptoDependencies","err"],(function(a,b,c,d,e,f,g){"use strict";var h=16,i=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70],j=[48,49,50,51,52,53,54,55,56,57,97,98,99,100,101,102];function a(a){a=new Uint8Array(a);d("WACryptoDependencies").getCrypto().getRandomValues(a);return k(a)}function k(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(i[d>>4],i[d&15])}return String.fromCharCode.apply(String,b)}function b(a){var b=[];for(var c=0;c<a.length;c++){var d=a[c];b.push(j[d>>4],j[d&15])}return String.fromCharCode.apply(String,b)}function e(a){a=m(a);if(a.length%2!==0)throw c("err")('parseHex given hex "'+a+'" which is not a multiple of 8-bits.');var b=new Uint8Array(a.length>>1);for(var d=0,e=0;d<a.length;d+=2,e++)b[e]=l(a,d)<<4|l(a,d+1);return b.buffer}function l(a,b){a=a.charCodeAt(b);if(a<=57)return a-48;else if(a<=70)return 10+a-65;else return 10+a-97}function m(a){if(/[^0-9a-fA-F]/.test(a))throw c("err")('"'+a+'" is not a valid hex');return a}function f(a){var b=a.buffer;return a.byteOffset===0&&a.length===b.byteLength?b:b.slice(a.byteOffset,a.byteOffset+a.length)}function n(a){var b=!0,c=a.length;while(b&&c){var d=a[--c];b=32<=d&&d<127}if(b)return JSON.stringify(String.fromCharCode.apply(String,a));else return k(a)}function o(a,b){b===void 0&&(b=!1);a=m(a);w(a,h);return(b?"-":"")+"0x"+q(a,h)}function p(a,b,c){c===void 0&&(c=!1);a=x(a);b=x(b);return(c?"-":"")+"0x"+a+b}function q(a,b){b=b-a.length;a=a;for(var c=0;c<b;c++)a="0"+a;return a}function r(a){var b=a<0;a=b?(-a).toString(16):a.toString(16);return o(a,b)}function s(a){return a.substring(a.indexOf("0x")+2)}function t(a){return a[0]==="-"}function u(a,b){var c=t(a),d=t(b);if(c!==d)return!c;d=s(a)>s(b);return c?!d:d}function v(a){return t(a)?a.slice(1):"-"+a}function w(a,b){if(a.length>b)throw c("err")('"'+a+'" is longer than '+b*4+" bits.")}function x(a){if(a>4294967295||a<-4294967296)throw c("err")("uint32ToLowerCaseHex given number over 32 bits");a=(a>=0?a:4294967296+a).toString(16);return q(a,8)}g.NUM_HEX_IN_LONG=h;g.HEX_LOWER=j;g.randomHex=a;g.toHex=k;g.toLowerCaseHex=b;g.parseHex=e;g.hexAt=l;g.hexOrThrow=m;g.bytesToBuffer=f;g.bytesToDebugString=n;g.createHexLong=o;g.createHexLongFrom32Bits=p;g.hexLongFromNumber=r;g.hexLongToHex=s;g.hexLongIsNegative=t;g.isBiggerHexLong=u;g.negateHexLong=v}),98);
__d("WALoggerUtils",["WAHex"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(typeof a==="string")return"'"+a+"'";else if(a==null||typeof a!=="object")return String(a);else if(Array.isArray(a))return"["+a.join(",")+"]";else if(a instanceof Uint8Array)if(a.length<64)return"<<"+i(a)+">>";else{var b=a.subarray(0,32);return"<<"+i(b)+", "+(a.length-b.length)+" more bytes>>"}else if(a instanceof Error)return a.name?"("+a.name+")":"";else if(a.toString===Object.prototype.toString)return JSON.stringify(a,function(a,b){return a?String(b):b});else return String(a)}function i(a){var b=!0,c=a.length;while(b&&c){var e=a[--c];b=32<=e&&e<127}if(b)return JSON.stringify(String.fromCharCode.apply(String,a));else return d("WAHex").toHex(a)}function a(a,b){var c=[a[0]];b.forEach(function(b,d){c.push(h(b),a[d+1])});return c.join("")}function b(a){return a}function c(a){return a*100+"%"}g.debugStr=h;g.bytesToDebugString=i;g.rebuildTemplate=a;g.dynamicLoggingSampling=b;g.loggingSamplingAsString=c}),98);
__d("WANullthrows",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="?");if(a==null)throw c("err")("Unexpected null or undefined: "+b);return a}g["default"]=a}),98);
__d("WATagsLogger",["Promise","WALoggerUtils","WANullthrows","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[","] ",""]);i=function(){return a};return a}var j,k=new(h||b("Promise"))(function(a){j=a});function a(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(k);case 2:case"end":return a.stop()}},null,this)}var l=null;function e(a){l=a,j==null?void 0:j(),j=null}function m(){return c("WANullthrows")(l,"WALogger called before initialization")}function n(a){return{TAGS:function(b){return n([].concat(a,b))},DEV:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"DEV",template:b,expressions:e,logString:g};m().debug(g,a,h);return o(h)},DEV_XMPP:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"DEV_XMPP",template:b,expressions:e,logString:g};m().logRestricted(g,a,h);return o(h)},LOG:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"LOG",template:b,expressions:e,logString:g};m().info(g,a,h);return o(h)},WARN:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"WARN",template:b,expressions:e,logString:g};m().warn(g,a,h);return o(h)},ERROR:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"ERROR",template:b,expressions:e,logString:g},i=void 0;for(var j=0;j<e.length;j++){var k=e[j];if(k instanceof Error){i=k;break}}i!=null?m().error(g,a,i,h):m().error(g,a,void 0,h);return o(h)},CATCHING:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"CATCHING",template:b,expressions:e,logString:g};m().error(g,a,void 0,h);return o(h)},EXPECTED_ERROR:function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];var g=d("WALoggerUtils").rebuildTemplate(b,e),h={level:"ERROR",template:b,expressions:e,logString:g,tags:[].concat(a)};return o(h)}}}function o(a){return{verbose:function(){a.verbose=!0;return o(a)},color:function(b){a.color=b;return o(a)},devConsole:function(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];(b=m()).devConsole.apply(b,[a.level,a.logString,[]].concat(d));return o(a)},sendLogs:function(b,c){if(m().sendLogs!=null)a.sendLogs={reason:b,sampling:c==null?void 0:c.sampling,sendLogsType:c==null?void 0:c.sendLogsType},m().sendLogs==null?void 0:m().sendLogs(a);else if(a.level!=="ERROR"&&a.level!=="CATCHING")return n([]).ERROR(i(),b,a.logString);return o(a)},tags:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];a.tags=c;m().tags!=null&&(m().tags==null?void 0:m().tags(c));return o(a)},expect:function(b){if(a.level!=="ERROR")return o(a);var c=void 0;for(var d=a.expressions,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;if(g instanceof Error){c=g;break}}f=(d=(f=(g=c)==null?void 0:g.message)!=null?f:(e=c)==null?void 0:e.name)!=null?d:(g=c)==null?void 0:g.description;for(e=0;e<b.length;e++){d=b[e];if(f==null?void 0:f.includes(d)){m().error(a.logString,[].concat((g=a.tags)!=null?g:[],["expected-error-log"]),(d=c)!=null?d:void 0,a);return o(a)}}m().error(a.logString,(g=a==null?void 0:a.tags)!=null?g:[],(d=c)!=null?d:void 0,a);return o(a)}}}g.whenReady=a;g.initializeWaLogger=e;g.TAGS=n;g.getWaLoggerAdditionalOptions=o}),98);
__d("WALogger",["$InternalEnum","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum").Mirrored(["UNCAUGHT_EXCEPTION_SAD","UNHANDLED_REJECTED_PROMISE_SAD","CRASH_OR_UNRECOVERABLE_ERROR_SAD","USER_FORCEFULLY_LOGGED_OUT_SAD","UNCATEGORIZED_SAD","EXTREMELY_BAD_USER_EXPERIENCE_SAD","UNCAUGHT_EXCEPTION","UNHANDLED_REJECTED_PROMISE","MINOR_ISSUE","INVESTIGATION","COUNTING_STAT","UNCATEGORIZED"]);c=new Set([a.UNCATEGORIZED_SAD,a.UNCAUGHT_EXCEPTION_SAD,a.UNHANDLED_REJECTED_PROMISE_SAD,a.CRASH_OR_UNRECOVERABLE_ERROR_SAD,a.USER_FORCEFULLY_LOGGED_OUT_SAD,a.EXTREMELY_BAD_USER_EXPERIENCE_SAD]);e=d("WATagsLogger").TAGS([]);f=e.DEV;b=e.DEV_XMPP;d=e.LOG;var h=e.WARN,i=e.ERROR;e=e.EXPECTED_ERROR;g.SendLogsType=a;g.SadSendLogsTypes=c;g.DEV=f;g.DEV_XMPP=b;g.LOG=d;g.WARN=h;g.ERROR=i;g.EXPECTED_ERROR=e}),98);
__d("WADynamicRouterAsync",["Promise","WALogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);i=function(){return a};return a}var j={sentinel:"RESPONSE_NAMESPACE"},k={sentinel:"NOT_HANDLED"};a=function(){function a(){var a=this;this.$2=(h||(h=b("Promise"))).resolve();this.$3=new Map();this.$5=0;this.$6=null;this.$7=null;this.$8=null;this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$4==null?void 0:a.$4(b,c,d),a.$10(b,c,d,null,e)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$4==null?void 0:a.$4(c,d,e);return new(h||(h=b("Promise")))(function(b,g){a.$10(c,d,e,function(c){try{var d=n(c);d?d.call(c,function(c){a.$10(j,"",c,b,f)},function(b){a.$10(j,"",b,g,!1)}):a.$10(j,"",c,b,f)}catch(b){a.$10(j,"",b,g,!1)}},f)})};this.$9=function(){var b=a.$7;if(!b)return;var c=a.$3,d;while(b&&!(d=l(c,b)))a.$7=b=b.nextRoute;if(!b||!d)return;c=a.$11(d,b);var e=!0;if(c!==k){var f=b.prevRoute,g=b.nextRoute;a.$7===b&&(a.$7=g);f?f.nextRoute=g:a.$6=g;g?g.prevRoute=f:(e=!1,a.$8=f)}e&&a.$2.then(a.$9)["finally"](function(){});return c}}var e=a.prototype;e.setAckPayload=function(a){this.$1=a};e.getAckPayoad=function(){return this.$1};e.hasHandlerForNamespace=function(a){return this.$3.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$3.keys())};e.setOnRouteCalled=function(a){this.$4=a};e.setNamespaceHandler=function(a,b){var c=this.$3,d=c.get(a);if(d===b)return;++this.$5;c.set(a,b);if(!d){c=this.$6;c&&(this.$7||this.$2.then(this.$9)["finally"](function(){}),this.$7=c)}};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(i(),e,a);throw c("err")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};e.$10=function(a,b,c,d,e){var f=this.$8;a={namespace:a,route:b,arg:c,resolver:d,prevRoute:f,nextRoute:null,silentLog:e};this.$8=a;b=!0;f?(f.nextRoute=a,b=!this.$7):this.$6=a;b&&l(this.$3,a)&&(this.$7=a,this.$2.then(this.$9)["finally"](function(){}))};e.$11=function(a,d){var e=d.route,f=d.arg,g=d.resolver;d=d.silentLog;var i=this.$5,j=null,l=null;try{j=a(e,f,g,d)}catch(a){l=(h||(h=b("Promise"))).reject(a)}if(j===k)if(i===this.$5)l=(h||(h=b("Promise"))).reject(c("err")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return k;if(g){l&&g(l);return}else return l};return a}();function l(a,b){b=b.namespace;return b===j?m:a.get(b)}function m(a,b,c){c(b)}function n(a){if(a!=null&&(typeof a==="object"||typeof a==="function")){a=a.then;return typeof a==="function"?a:null}return null}g.NOT_HANDLED=k;g.DynamicRouter=a}),98);
__d("WABridge",["WADynamicRouterAsync","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(h!=null)return;h=a}function b(){if(h==null){h=new(d("WADynamicRouterAsync").DynamicRouter)();return h}return h}function e(a){throw c("err")("setBridge is only for tests")}g.makeWABridge=a;g.getBridge=b;g.setBridge__TESTS_ONLY=e}),98);
__d("WAResultOrError",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g;function h(a,b){if(b!=null)return{success:!1,error:a,payload:b};else return{success:!1,error:a}}function i(a){return{success:!0,value:a}}function a(a,b){return!a.success?a:i(b(a.value))}function c(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(a);case 2:d=e.sent;if(d.success){e.next=5;break}return e.abrupt("return",d);case 5:return e.abrupt("return",i(c(d.value)));case 6:case"end":return e.stop()}},null,this)}function j(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(a.success){e.next=2;break}return e.abrupt("return",a);case 2:e.next=4;return b("regeneratorRuntime").awrap(c(a.value));case 4:d=e.sent;return e.abrupt("return",i(d));case 6:case"end":return e.stop()}},null,this)}function d(a,b){return a.success?i(a.value):h(b(a.error),a.payload)}function k(a,c){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(!a.success){e.next=2;break}return e.abrupt("return",i(a.value));case 2:e.next=4;return b("regeneratorRuntime").awrap(c(a.error));case 4:d=e.sent;return e.abrupt("return",h(d,a.payload));case 6:case"end":return e.stop()}},null,this)}function e(a,b){return a.success?b(a.value):a}function l(a,c){return a.success?c(a.value):(g||(g=b("Promise"))).resolve(a)}function m(a){return function(b){return j(b,a)}}function n(a){return function(c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(k(c,a));case 2:case"end":return d.stop()}},null,this)}}f.makeError=h;f.makeResult=i;f.mapResult=a;f.mapAsyncResult=c;f.asyncMapResult=j;f.mapError=d;f.asyncMapError=k;f.chain=e;f.asyncChain=l;f.onResult=m;f.catchError=n}),66);
__d("WAExceededStorageQuota",["Promise","WABridge","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=typeof importScripts==="function",j=!1,k=new Set();function a(){return j}function l(a){j=a,i&&d("WABridge").getBridge().fireAndForget("event","storageQuota",{exceededStorageQuota:j}),k.forEach(function(b){return b(a)})}function c(a){k.add(a);return function(){return k["delete"](a)}}function e(a){if(a==null)return;if(a instanceof Error&&r(a)||(a==null?void 0:a.inner)instanceof Error&&r(a.inner)){l(!0);return}}function f(a){a.addEventListener("abort",function(a){a=a.target.error;r(a)&&l(!0)})}var m="storage_quota_check",n="storage_quota_check_store",o="storage_quota_check_key";function p(){return new(h||(h=b("Promise")))(function(a){var b=indexedDB.open(m);b.onerror=function(b){b=q(b.target.error,"db-open-failure");a(b)};b.onupgradeneeded=function(a){a=a.target.result;a.createObjectStore(n)};b.onsuccess=function(b){b=b.target.result;b=b.transaction([n],"readwrite");b.oncomplete=function(){a(d("WAResultOrError").makeResult("storage-quota-sufficient"))};b.onerror=function(b){b=q(b.target.error,"transaction-failure");a(b)};b.onabort=function(b){b=q(b.target.error,"transaction-abort");a(b)};var c=b.objectStore(n);b=new Blob([new Uint8Array(1024)]);b=c.add(b,o);b.onerror=function(b){b=q(b.target.error,"write-faiure");a(b)};b.onsuccess=function(){var b=c["delete"](o);b.onerror=function(b){b=q(b.target.error,"delete-failure");a(b)};b.onsuccess=function(){}}}})}function q(a,b){if(r(a)){l(!0);return d("WAResultOrError").makeResult("storage-quota-exceeded")}return d("WAResultOrError").makeError(b)}function r(a){return a==null?!1:Boolean(a instanceof self.DOMException&&(a.code===22||a.code===1014||a.name==="QuotaExceededError"||a.name==="NS_ERROR_DOM_QUOTA_REACHED"))}g.getExceededStorageQuota=a;g.setExceededStorageQuota=l;g.subscribe=c;g.checkQuotaExceededError=e;g.listenToQuotaExceededError=f;g.checkStorageQuota=p}),98);
__d("WAPromiseCacheWithTtl",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=0,d=null;return function(){var e=Date.now();if(d!=null&&e-c<=a)return d;c=e;d=b();return d}}f.cacheWithTtl=a}),66);
__d("WAStorageEstimator",["Promise","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return navigator.storage!=null&&typeof navigator.storage.estimate==="function"?navigator.storage.estimate().then(function(a){return d("WAResultOrError").makeResult(a)})["catch"](function(a){return d("WAResultOrError").makeError({type:"runtime-error",runtimeError:a})}):(h||(h=b("Promise"))).resolve(d("WAResultOrError").makeError({type:"not-support"}))}g.estimateStorage=a}),98);
__d("WAGetStorageQplAnnotations",["Promise","WAExceededStorageQuota","WALogger","WAPromiseCacheWithTtl","WAStorageEstimator"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info. unexpected-runtimer-error: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info. runtime-error: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info: ",""]);k=function(){return a};return a}c=1e3*60;e=1e3*60*5;var l=d("WAPromiseCacheWithTtl").cacheWithTtl(c,d("WAStorageEstimator").estimateStorage),m=d("WAPromiseCacheWithTtl").cacheWithTtl(e,d("WAExceededStorageQuota").checkStorageQuota);function a(){return(h||(h=b("Promise"))).all([l(),m()]).then(function(a){var b=a[0];a[1];b.success||(b.error.type==="not-support"?d("WALogger").DEV(k(),b.error):(b.error.type,d("WALogger").WARN(j(),b.error.runtimeError)));a=b.success?b.value:{};b=a.quota;var c=a.usage;a=a.usageDetails;return{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()},"int":{storageCache:a==null?void 0:a.caches,storageIndexedDB:a==null?void 0:a.indexedDB,storageQuota:b,storageServiceWorkerRegistrations:a==null?void 0:a.serviceWorkerRegistrations,storageUsage:c}}})["catch"](function(a){d("WALogger").ERROR(i(),a);throw a})}g.getStorageQplAnnotations=a}),98);
__d("WAResolvable",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){var a=this;this.$1=function(){};this.$2=!1;this.isSettled=!1;this.promise=new(g||(g=b("Promise")))(function(b){a.$1=b})}var c=a.prototype;c.resolve=function(a){this.$2=!0,this.isSettled=!0,this.$1(a)};c.reject=function(a){this.isSettled=!0,this.resolve((g||(g=b("Promise"))).reject(a))};c.resolveWasCalled=function(){return this.$2};return a}();f.Resolvable=a}),66);
__d("waitForMAWMIC",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("WAResolvable").Resolvable)();b=a.promise;g.resolvable=a;g.promise=b}),98);/*FB_PKG_DELIM*/
__d("XPlatReactTextEncoder",[],(function(a,b,c,d,e,f){"use strict";a=self.TextEncoder;f.TextEncoder=a}),66);
__d("base64Binary",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b="";for(var c=0;c<a.byteLength;c+=3){var d=a.subarray(c,c+3);b+=k(d)}d=(a.byteLength+2)%3;return b.slice(0,b.length+d-2)+"==".slice(d)}function b(a){var b;a.length%4===0||h(0,51156);var c=a.length/4;b=(b=(b=a.match(/={0,2}$/))==null?void 0:b[0].length)!=null?b:0;b=new Uint8Array(c*3-b);for(var d=0;d<c;d++){var e=l(a.slice(d*4,d*4+4));b.set(e.subarray(0,b.byteLength-d*3),d*3)}return b}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=">___?456789:;<=___\0___\0\x01\x02\x03\x04\x05\x06\x07\b\t\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19______\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123";function k(a){var b;a=a[0]<<16|((b=a[1])!=null?b:0)<<8|((b=a[2])!=null?b:0);return String.fromCharCode(i.charCodeAt(a>>>18),i.charCodeAt(a>>>12&63),i.charCodeAt(a>>>6&63),i.charCodeAt(a&63))}function l(a){a=j.charCodeAt(a.charCodeAt(0)-43)<<18|j.charCodeAt(a.charCodeAt(1)-43)<<12|j.charCodeAt(a.charCodeAt(2)-43)<<6|j.charCodeAt(a.charCodeAt(3)-43);return new Uint8Array([a>>>16,a>>>8&255,a&255])}g.encode=a;g.decode=b}),98);
__d("Base64Utils",["XPlatReactTextEncoder","base64Binary"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("base64Binary").encode(new(d("XPlatReactTextEncoder").TextEncoder)().encode(a))}function b(a){return d("base64Binary").encode(new Uint8Array(a))}function c(a){return d("base64Binary").decode(a).buffer}g.encodeUnicode=a;g.fromArrayBuffer=b;g.toArrayBuffer=c}),98);
__d("CryptoLogger",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("FBLogger")("labyrinth_web","crypto."+a)}function b(a,b){return b instanceof Error?a.catching(b):a}g.CryptoLogger=a;g.captureError=b}),98);
__d("EncryptedBackupsDYITypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NotStarted:0,InProgress:1,Completed:2,Failed:3});c=b("$InternalEnum")({Armadillo:0,Instamadillo:1});f.EncryptedBackupsDYIState=a;f.EncryptedBackupsDYIConfig=c}),66);
__d("GetLsDatabaseForComet",["asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("GetLsDatabase").__setRef("GetLsDatabaseForComet");function a(){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield h.load());return a.get()});return i.apply(this,arguments)}g.get=a}),98);
__d("bs_caml",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a<b)return-1;else if(a===b)return 0;else return 1}function b(a,b){if(a)if(b)return 0;else return 1;else if(b)return-1;else return 0}function c(a,b){if(a===b)return 0;else if(a<b)return-1;else if(a>b||a===a)return 1;else if(b===b)return-1;else return 0}function d(a,b){if(a===b)return 0;else if(a<b)return-1;else return 1}function e(a,b){if(a)return b;else return a}function g(a,b){if(a<b)return a;else return b}function h(a,b){if(a<b)return a;else return b}function i(a,b){if(a<b)return a;else return b}function j(a,b){if(a<b)return a;else return b}function k(a,b){if(a)return a;else return b}function l(a,b){if(a>b)return a;else return b}function m(a,b){if(a>b)return a;else return b}function n(a,b){if(a>b)return a;else return b}function o(a,b){if(a>b)return a;else return b}function p(a,b){if(a[1]===b[1])return a[0]===b[0];else return!1}function q(a,b){var c=b[0],d=a[0];if(d>c)return!0;else if(d<c)return!1;else return a[1]>=b[1]}function r(a,b){return!p(a,b)}function s(a,b){return!q(a,b)}function t(a,b){if(a[0]>b[0])return!0;else if(a[0]<b[0])return!1;else return a[1]>b[1]}function u(a,b){return!t(a,b)}function v(a,b){if(q(a,b))return b;else return a}function w(a,b){if(t(a,b))return a;else return b}f.caml_int_compare=a;f.caml_bool_compare=b;f.caml_float_compare=c;f.caml_string_compare=d;f.caml_bool_min=e;f.caml_int_min=g;f.caml_float_min=h;f.caml_string_min=i;f.caml_int32_min=j;f.caml_bool_max=k;f.caml_int_max=l;f.caml_float_max=m;f.caml_string_max=n;f.caml_int32_max=o;f.i64_eq=p;f.i64_neq=r;f.i64_lt=s;f.i64_gt=t;f.i64_le=u;f.i64_ge=q;f.i64_min=v;f.i64_max=w}),null);
__d("bs_caml_int64",["bs_caml"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,b){return[b,a>>>0]}var h=[-2147483648,0],i=[2147483647,4294967295],j=[0,1],k=[0,0],l=[-1,4294967295];function m(a){return(a&-2147483648)!==0}function n(a){return(a&-2147483648)===0}function c(a){var b=a[1];a=a[0];b=b+1|0;return[a+(b===0?1:0)|0,b>>>0]}function o(a){var b=(a[1]^-1)+1|0;return[(a[0]^-1)+(b===0?1:0)|0,b>>>0]}function p(a,b,c){var d=a[1],e=d+b|0;d=m(d)&&(m(b)||n(e))||m(b)&&n(e)?1:0;return[a[0]+c+d|0,e>>>0]}function q(a,b){return p(a,b[1],b[0])}function d(a,c){if(c!==null)return(g||(g=b("bs_caml"))).i64_eq(a,c);else return!1}function e(a,c){if(c!==void 0)return(g||(g=b("bs_caml"))).i64_eq(a,c);else return!1}function r(a,c){if(c==null)return!1;else return(g||(g=b("bs_caml"))).i64_eq(a,c)}function s(a,b,c){b=(b^-1)+1>>>0;c=(c^-1)+(b===0?1:0)|0;return p(a,b,c)}function t(a,b){return s(a,b[1],b[0])}function u(a,b){if(b===0)return a;var c=a[1];if(b>=32)return[c<<(b-32|0),0];else return[c>>>(32-b|0)|a[0]<<b,c<<b>>>0]}function v(a,b){if(b===0)return a;var c=a[0],d=b-32|0;if(d===0)return[0,c>>>0];else if(d>0)return[0,c>>>d];else return[c>>>b,(c<<(-d|0)|a[1]>>>b)>>>0]}function w(a,b){if(b===0)return a;var c=a[0];if(b<32)return[c>>b,(c<<(32-b|0)|a[1]>>>b)>>>0];else return[c>=0?0:-1,c>>(b-32|0)>>>0]}function x(a){if(a[0]!==0)return!1;else return a[1]===0}function y(a,b){while(!0){var c=b,d=a,e,f=d[0],g=0,i=0,j;if(f!==0)j=4;else{if(d[1]===0)return k;j=4}if(j===4)if(c[0]!==0)i=3;else{if(c[1]===0)return k;i=3}i===3&&(f!==-2147483648||d[1]!==0?g=2:e=c[1]);if(g===2){j=c[0];i=d[1];g=0;j!==-2147483648||c[1]!==0?g=3:e=i;if(g===3){g=c[1];if(f<0){if(j>=0)return o(y(o(d),c));b=o(c);a=o(d);continue}if(j<0)return o(y(d,o(c)));d=f>>>16;c=f&65535;f=i>>>16;i=i&65535;var l=j>>>16;j=j&65535;var m=g>>>16;g=g&65535;var n,p,q,r=i*g;q=(r>>>16)+f*g;p=q>>>16;q=(q&65535)+i*m;p=p+(q>>>16)+c*g;n=p>>>16;p=(p&65535)+f*m;n=n+(p>>>16);p=(p&65535)+i*j;n=n+(p>>>16);p=p&65535;n=n+(d*g+c*m+f*j+i*l)&65535;return[p|n<<16,(r&65535|(q&65535)<<16)>>>0]}}if((e&1)===0)return k;else return h}}function z(a,b){return[a[0]^b[0],(a[1]^b[1])>>>0]}function A(a,b){return[a[0]|b[0],(a[1]|b[1])>>>0]}function B(a,b){return[a[0]&b[0],(a[1]&b[1])>>>0]}function C(a){return a[0]*4294967296+a[1]}function D(a){if(isNaN(a)||!isFinite(a))return k;if(a<=-9223372036854776e3)return h;if(a+1>=9223372036854776e3)return i;if(a<0)return o(D(-a));var b=a/4294967296|0;a=a%4294967296|0;return[b,a>>>0]}function E(a){var b=a[0],c=b>>21;if(c===0)return!0;else if(c===-1)return!(a[1]===0&&b===-2097152);else return!1}function F(a){if(E(a))return String(C(a));if(a[0]<0)if((g||(g=b("bs_caml"))).i64_eq(a,h))return"-9223372036854775808";else return"-"+F(o(a));var c=D(Math.floor(C(a)/10)),d=c[1],e=c[0];a=s(s(a,d<<3,d>>>29|e<<3),d<<1,d>>>31|e<<1);d=a[1];e=a[0];if(d===0&&e===0)return F(c)+"0";if(e<0){a=(d^-1)+1>>>0;e=Math.ceil(a/10);a=10*e-a;return F(s(c,e|0,0))+String(a|0)}e=Math.floor(d/10);a=d-10*e;return F(p(c,e|0,0))+String(a|0)}function G(a,c){while(!0){var d=c,e=a,f=e[0],i=0,m;if(d[0]!==0||d[1]!==0)m=2;else throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};if(m===2)if(f!==-2147483648)if(f!==0)i=1;else{if(e[1]===0)return k;i=1}else if(e[1]!==0)i=1;else{if((g||(g=b("bs_caml"))).i64_eq(d,j)||(g||(g=b("bs_caml"))).i64_eq(d,l))return e;if((g||(g=b("bs_caml"))).i64_eq(d,h))return j;m=w(e,1);m=u(G(m,d),1);var n;if(m[0]!==0)n=3;else{if(m[1]===0)if(d[0]<0)return j;else return o(j);n=3}if(n===3){n=t(e,y(d,m));return q(m,G(n,d))}}if(i===1){m=d[0];if(m!==-2147483648)n=2;else{if(d[1]===0)return k;n=2}if(n===2){if(f<0){if(m>=0)return o(G(o(e),d));c=o(d);a=o(e);continue}if(m<0)return o(G(e,o(d)));i=k;n=e;while((g||(g=b("bs_caml"))).i64_ge(n,d)){f=Math.floor(C(n)/C(d));m=1>f?1:f;e=Math.ceil(Math.log(m)/Math.LN2);f=e<=48?1:Math.pow(2,e-48);e=D(m);var p=y(e,d);while(p[0]<0||(g||(g=b("bs_caml"))).i64_gt(p,n))m=m-f,e=D(m),p=y(e,d);x(e)&&(e=j);i=q(i,e);n=t(n,p)}return i}}}}function H(a,b){return t(a,y(G(a,b),b))}function I(a,b){var c=G(a,b);return[c,t(a,y(c,b))]}function J(a,b){var c=b[0],d=a[0];d=d<c?-1:d===c?0:1;if(d!==0)return d;c=b[1];d=a[1];if(d<c)return-1;else if(d===c)return 0;else return 1}function K(a){return[a<0?-1:0,a>>>0]}function L(a){return a[1]|0}function M(a){var b=a[1];a=a[0];var c=function(a){return(a>>>0).toString(16)};if(a===0&&b===0)return"0";if(b===0)return c(a)+"00000000";if(a===0)return c(b);b=c(b);var d=8-b.length|0;if(d<=0)return c(a)+b;else return c(a)+("0".repeat(d)+b)}function N(a){return[2147483647&a[0],a[1]]}function O(a){return function(a,b){return new Float64Array(new Int32Array([a,b]).buffer)[0]}(a[1],a[0])}function P(a){a=function(a){return new Int32Array(new Float64Array([a]).buffer)}(a);return[a[1],a[0]>>>0]}f.mk=a;f.succ=c;f.min_int=h;f.max_int=i;f.one=j;f.zero=k;f.neg_one=l;f.of_int32=K;f.to_int32=L;f.add=q;f.neg=o;f.sub=t;f.lsl_=u;f.lsr_=v;f.asr_=w;f.is_zero=x;f.mul=y;f.xor=z;f.or_=A;f.and_=B;f.equal_null=d;f.equal_undefined=e;f.equal_nullable=r;f.to_float=C;f.of_float=D;f.div=G;f.mod_=H;f.compare=J;f.float_of_bits=O;f.bits_of_float=P;f.div_mod=I;f.to_hex=M;f.discard_sign=N;f.to_string=F}),null);
__d("bs_caml_format",["bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";var g,h;function i(a){if(a>=65)if(a>=97)if(a>=123)return-1;else return a-87|0;else if(a>=91)return-1;else return a-55|0;else if(a>57||a<48)return-1;else return a-48|0}function j(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10;case 3:return 2}}function k(a){var b=1,c=2,d=0,e=a.charCodeAt(d);switch(e){case 43:d=d+1|0;break;case 44:break;case 45:b=-1;d=d+1|0;break;default:}if(a[d]==="0"){e=a.charCodeAt(d+1|0);if(e>=89)if(e>=111){if(e<121)switch(e){case 111:c=0;d=d+2|0;break;case 117:d=d+2|0;break;case 112:case 113:case 114:case 115:case 116:case 118:case 119:break;case 120:c=1;d=d+2|0;break}}else e===98&&(c=3,d=d+2|0);else if(e!==66){if(e>=79)switch(e){case 79:c=0;d=d+2|0;break;case 85:d=d+2|0;break;case 80:case 81:case 82:case 83:case 84:case 86:case 87:break;case 88:c=1;d=d+2|0;break}}else c=3,d=d+2|0}return[d,b,c]}function a(a){var b=k(a),c=b[0],d=j(b[2]),e=4294967295,f=a.length,g=c<f?a.charCodeAt(c):0;g=i(g);if(g<0||g>=d)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};var h=function(b,c){while(!0){var g=c,h=b;if(g===f)return h;var j=a.charCodeAt(g);if(j===95){c=g+1|0;continue}j=i(j);if(j<0||j>=d)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};h=d*h+j;if(h>e)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};c=g+1|0;b=h;continue}};b=b[1]*h(g,c+1|0);h=b|0;if(d===10&&b!==h)throw{RE_EXN_ID:"Failure",_1:"int_of_string",Error:new Error()};return h}function c(a){var c=k(a),d=c[2],e=c[0],f=(g||(g=b("bs_caml_int64"))).of_int32(j(d));c=g.of_int32(c[1]);var l;switch(d){case 0:l=[536870911,4294967295];break;case 1:l=[268435455,4294967295];break;case 2:l=[429496729,2576980377];break;case 3:l=(g||(g=b("bs_caml_int64"))).max_int;break}var m=a.length;d=e<m?a.charCodeAt(e):0;d=g.of_int32(i(d));if((h||(h=b("bs_caml"))).i64_lt(d,(g||(g=b("bs_caml_int64"))).zero)||(h||(h=b("bs_caml"))).i64_ge(d,f))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};var n=function(c,d){while(!0){var e=d,j=c;if(e===m)return j;var k=a.charCodeAt(e);if(k===95){d=e+1|0;continue}k=(g||(g=b("bs_caml_int64"))).of_int32(i(k));if((h||(h=b("bs_caml"))).i64_lt(k,(g||(g=b("bs_caml_int64"))).zero)||(h||(h=b("bs_caml"))).i64_ge(k,f)||(h||(h=b("bs_caml"))).i64_gt(j,l))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};j=g.add(g.mul(f,j),k);d=e+1|0;c=j;continue}};c=g.mul(c,n(d,e+1|0));n=g.or_(c,g.zero);if((h||(h=b("bs_caml"))).i64_eq(f,[0,10])&&(h||(h=b("bs_caml"))).i64_neq(c,n))throw{RE_EXN_ID:"Failure",_1:"int64_of_string",Error:new Error()};return n}function l(a){switch(a){case 0:return 8;case 1:return 16;case 2:return 10}}function m(a){if(a>=65&&a<=90||a>=192&&a<=214||a>=216&&a<=222)return a+32|0;else return a}function n(a){var b=a.length;if(b>31)throw{RE_EXN_ID:"Invalid_argument",_1:"format_int: format too long",Error:new Error()};var c={justify:"+",signstyle:"-",filter:" ",alternate:!1,base:2,signedconv:!1,width:0,uppercase:!1,sign:1,prec:-1,conv:"f"},d=0;while(!0){var e=d;if(e>=b)return c;var f=a.charCodeAt(e),g=0;if(f>=69)if(f>=88)if(f>=121)g=1;else switch(f){case 88:c.base=1;c.uppercase=!0;d=e+1|0;continue;case 101:case 102:case 103:g=5;break;case 100:case 105:g=4;break;case 111:c.base=0;d=e+1|0;continue;case 117:c.base=2;d=e+1|0;continue;case 89:case 90:case 91:case 92:case 93:case 94:case 95:case 96:case 97:case 98:case 99:case 104:case 106:case 107:case 108:case 109:case 110:case 112:case 113:case 114:case 115:case 116:case 118:case 119:g=1;break;case 120:c.base=1;d=e+1|0;continue}else if(f>=72)g=1;else{c.signedconv=!0;c.uppercase=!0;c.conv=String.fromCharCode(m(f));d=e+1|0;continue}else switch(f){case 35:c.alternate=!0;d=e+1|0;continue;case 32:case 43:g=2;break;case 45:c.justify="-";d=e+1|0;continue;case 46:c.prec=0;var h=e+1|0;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(h)())c.prec=(Math.imul(c.prec,10)+a.charCodeAt(h)|0)-48|0,h=h+1|0;d=h;continue;case 33:case 34:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 44:case 47:g=1;break;case 48:c.filter="0";d=e+1|0;continue;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:g=3;break;default:g=1}switch(g){case 1:d=e+1|0;continue;case 2:c.signstyle=String.fromCharCode(f);d=e+1|0;continue;case 3:c.width=0;h=e;while(function(b){return function(){var c=a.charCodeAt(b)-48|0;return c>=0&&c<=9}}(h)())c.width=(Math.imul(c.width,10)+a.charCodeAt(h)|0)-48|0,h=h+1|0;d=h;continue;case 4:c.signedconv=!0;c.base=2;d=e+1|0;continue;case 5:c.signedconv=!0;c.conv=String.fromCharCode(f);d=e+1|0;continue}}}function o(a,b){var c=a.justify,d=a.signstyle,e=a.filter,f=a.alternate,g=a.base,h=a.signedconv,i=a.width,j=a.uppercase;a=a.sign;var k=b.length;h&&(a<0||d!=="-")&&(k=k+1|0);f&&(g===0?k=k+1|0:g===1&&(k=k+2|0));var l="";if(c==="+"&&e===" ")for(var m=k;m<i;++m)l=l+e;h&&(a<0?l=l+"-":d!=="-"&&(l=l+d));f&&g===0&&(l=l+"0");f&&g===1&&(l=l+"0x");if(c==="+"&&e==="0")for(m=k;m<i;++m)l=l+e;l=j?l+b.toUpperCase():l+b;if(c==="-")for(h=k;h<i;++h)l=l+" ";return l}function d(a,b){if(a==="%d")return String(b);a=n(a);b=b<0?a.signedconv?(a.sign=-1,-b>>>0):b>>>0:b;b=b.toString(l(a.base));if(a.prec>=0){a.filter=" ";var c=a.prec-b.length|0;c>0&&(b="0".repeat(c)+b)}return o(a,b)}function p(a){if(!(h||(h=b("bs_caml"))).i64_lt(a,(g||(g=b("bs_caml_int64"))).zero))return(g||(g=b("bs_caml_int64"))).to_string(a);var c=[0,10];a=(g||(g=b("bs_caml_int64"))).discard_sign(a);a=g.div_mod(a,c);c=g.div_mod(g.add([0,8],a[1]),c);a=g.add(g.add([214748364,3435973836],a[0]),c[0]);return g.to_string(a)+"0123456789"[g.to_int32(c[1])]}function q(a){var c="",d=[0,8],e="01234567";if((h||(h=b("bs_caml"))).i64_lt(a,(g||(g=b("bs_caml_int64"))).zero)){var f=(g||(g=b("bs_caml_int64"))).discard_sign(a);f=g.div_mod(f,d);var i=g.add([268435456,0],f[0]);f=f[1];c=e[g.to_int32(f)]+c;while((h||(h=b("bs_caml"))).i64_neq(i,(g||(g=b("bs_caml_int64"))).zero)){var j=(g||(g=b("bs_caml_int64"))).div_mod(i,d);i=j[0];f=j[1];c=e[g.to_int32(f)]+c}}else{j=(g||(g=b("bs_caml_int64"))).div_mod(a,d);f=j[0];i=j[1];c=e[g.to_int32(i)]+c;while((h||(h=b("bs_caml"))).i64_neq(f,(g||(g=b("bs_caml_int64"))).zero)){a=(g||(g=b("bs_caml_int64"))).div_mod(f,d);f=a[0];i=a[1];c=e[g.to_int32(i)]+c}}return c}function e(a,c){if(a==="%d")return(g||(g=b("bs_caml_int64"))).to_string(c);a=n(a);c=a.signedconv&&(h||(h=b("bs_caml"))).i64_lt(c,(g||(g=b("bs_caml_int64"))).zero)?(a.sign=-1,(g||(g=b("bs_caml_int64"))).neg(c)):c;var d=a.base,e;switch(d){case 0:e=q(c);break;case 1:e=(g||(g=b("bs_caml_int64"))).to_hex(c);break;case 2:e=p(c);break}if(a.prec>=0){a.filter=" ";d=a.prec-e.length|0;c=d>0?"0".repeat(d)+e:e}else c=e;return o(a,c)}function r(a,b){a=n(a);var c=a.prec<0?6:a.prec,d=b<0?(a.sign=-1,-b):b;b="";if(isNaN(d))b="nan",a.filter=" ";else if(isFinite(d)){var e=a.conv;switch(e){case"e":b=d.toExponential(c);e=b.length;b[e-3|0]==="e"&&(b=b.slice(0,e-1|0)+("0"+b.slice(e-1|0)));break;case"f":b=d.toFixed(c);break;case"g":var f=c!==0?c:1;b=d.toExponential(f-1|0);e=b.indexOf("e");c=Number(b.slice(e+1|0))|0;if(c<-4||d>=1e21||d.toFixed().length>f){var g=e-1|0;while(b[g]==="0")g=g-1|0;b[g]==="."&&(g=g-1|0);b=b.slice(0,g+1|0)+b.slice(e);g=b.length;b[g-3|0]==="e"&&(b=b.slice(0,g-1|0)+("0"+b.slice(g-1|0)))}else{var h=f;if(c<0)h=h-(c+1|0)|0,b=d.toFixed(h);else while(function(){b=d.toFixed(h);return b.length>(f+1|0)}())h=h-1|0;if(h!==0){e=b.length-1|0;while(b[e]==="0")e=e-1|0;b[e]==="."&&(e=e-1|0);b=b.slice(0,e+1|0)}}break;default:}}else b="inf",a.filter=" ";return o(a,b)}var s=function(a,b,c){if(!isFinite(a))return isNaN(a)?"nan":a>0?"infinity":"-infinity";var d=a==0&&1/a==-Infinity?1:a>=0?0:1;d&&(a=-a);var e=0;if(!(a==0))if(a<1)while(a<1&&e>-1022)a*=2,e--;else while(a>=2)a/=2,e++;var f=e<0?"":"+",g="";if(d)g="-";else switch(c){case 43:g="+";break;case 32:g=" ";break;default:break}if(b>=0&&b<13){d=Math.pow(2,b*4);a=Math.round(a*d)/d}c=a.toString(16);if(b>=0){d=c.indexOf(".");if(d<0)c+="."+"0".repeat(b);else{a=d+1+b;c.length<a?c+="0".repeat(a-c.length):c=c.substr(0,a)}}return g+"0x"+c+"p"+f+e.toString(10)},t=function(a,b){var c=+a;if(a.length>0&&c===c)return c;a=a.replace(/_/g,"");c=+a;if(a.length>0&&c===c||/^[+-]?nan$/i.test(a))return c;var d=/^ *([+-]?)0x([0-9a-f]+)\.?([0-9a-f]*)p([+-]?[0-9]+)/i.exec(a);if(d){var e=d[3].replace(/0+$/,""),f=parseInt(d[1]+d[2]+e,16);d=(d[4]|0)-4*e.length;c=f*Math.pow(2,d);return c}if(/^\+?inf(inity)?$/i.test(a))return Infinity;if(/^-inf(inity)?$/i.test(a))return-Infinity;throw b};function u(a){return t(a,{RE_EXN_ID:"Failure",_1:"float_of_string"})}var v=d,w=d,x=a,y=a;f.caml_format_float=r;f.caml_hexstring_of_float=s;f.caml_format_int=d;f.caml_nativeint_format=v;f.caml_int32_format=w;f.caml_float_of_string=u;f.caml_int64_format=e;f.caml_int_of_string=a;f.caml_int32_of_string=x;f.caml_int64_of_string=c;f.caml_nativeint_of_string=y}),null);
__d("bs_caml_exceptions",[],(function(a,b,c,d,e,f){"use strict";var g={contents:0};function a(a){g.contents=g.contents+1|0;return a+("/"+g.contents)}function b(a){if(a==null)return!1;else return typeof a.RE_EXN_ID==="string"}function c(a){return a.RE_EXN_ID}f.id=g;f.create=a;f.caml_is_extension=b;f.caml_exn_slot_name=c}),null);
__d("bs_caml_option",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.BS_PRIVATE_NESTED_SOME_NONE!==void 0}function g(a){if(a===void 0)return{BS_PRIVATE_NESTED_SOME_NONE:0};else if(a!==null&&a.BS_PRIVATE_NESTED_SOME_NONE!==void 0)return{BS_PRIVATE_NESTED_SOME_NONE:a.BS_PRIVATE_NESTED_SOME_NONE+1|0};else return a}function b(a){if(a==null)return;else return g(a)}function c(a){if(a===void 0)return;else return g(a)}function d(a){if(a===null)return;else return g(a)}function h(a){if(!(a!==null&&a.BS_PRIVATE_NESTED_SOME_NONE!==void 0))return a;a=a.BS_PRIVATE_NESTED_SOME_NONE;if(a===0)return;else return{BS_PRIVATE_NESTED_SOME_NONE:a-1|0}}function e(a){if(a===void 0)return;else return h(a)}function i(a){if(a!==void 0)return a.VAL;else return a}f.nullable_to_opt=b;f.undefined_to_opt=c;f.null_to_opt=d;f.valFromOption=h;f.some=g;f.isNested=a;f.option_get=e;f.option_unwrap=i}),null);
__d("bs_caml_js_exceptions",["bs_caml_exceptions","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("Caml_js_exceptions.Error");function a(a){if(b("bs_caml_exceptions").caml_is_extension(a))return a;else return{RE_EXN_ID:g,_1:a}}function c(a){if(a.RE_EXN_ID===g)return b("bs_caml_option").some(a._1)}f.$$Error=g;f.internalToOCamlException=a;f.caml_as_js_exn=c}),null);
__d("bs_int64",["bs_caml","bs_caml_format","bs_caml_int64","bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";var g,h;function a(a){return(g||(g=b("bs_caml_int64"))).sub(a,g.one)}function c(a){if((h||(h=b("bs_caml"))).i64_ge(a,(g||(g=b("bs_caml_int64"))).zero))return a;else return(g||(g=b("bs_caml_int64"))).neg(a)}function d(a){return(g||(g=b("bs_caml_int64"))).xor(a,g.neg_one)}function e(a){try{return b("bs_caml_format").caml_int64_of_string(a)}catch(c){a=b("bs_caml_js_exceptions").internalToOCamlException(c);if(a.RE_EXN_ID==="Failure")return;throw a}}var i=(g||(g=b("bs_caml_int64"))).compare;function j(a,c){return(g||(g=b("bs_caml_int64"))).compare(a,c)===0}var k=g.zero,l=g.one,m=g.neg_one,n=g.succ,o=g.max_int,p=g.min_int,q=g.to_string;f.zero=k;f.one=l;f.minus_one=m;f.succ=n;f.pred=a;f.abs=c;f.max_int=o;f.min_int=p;f.lognot=d;f.of_string_opt=e;f.to_string=q;f.compare=i;f.equal=j}),null);
__d("I64",["bs_caml","bs_caml_format","bs_caml_int64","bs_int64","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return function(){var b=a.apply(void 0,arguments);b._tag||(b._tag="i64");return b}}function b(a){return function(){var b=a.apply(void 0,arguments);b!=null&&!b._tag&&(b._tag="i64");return b}}f=a((h||(h=c("bs_caml_int64"))).mk);var j=a(h.succ),k=a(function(){return(h||(h=c("bs_caml_int64"))).min_int})(),l=a(function(){return(h||(h=c("bs_caml_int64"))).max_int})(),m=a(function(){return(h||(h=c("bs_caml_int64"))).one})(),n=a(function(){return(h||(h=c("bs_caml_int64"))).zero})(),o=a(function(){return(h||(h=c("bs_caml_int64"))).neg_one})(),p=a(h.of_int32),q=a(h.add),r=a(h.neg),s=a(h.sub),t=a(h.lsl_),u=a(h.lsr_),v=a(h.asr_),w=a(h.mul),x=a(h.xor),y=a(h.or_),z=a(h.and_),A=a(h.of_float),B=a(h.div),C=a(h.mod_),D=a(function(){return c("bs_int64").minus_one})(),E=a(c("bs_int64").abs),F=a(c("bs_int64").lognot);b=b(c("bs_int64").of_string_opt);var G,H;if(typeof BigInt==="function"){var I=BigInt(32),J=BigInt(4294967295);G=function(a){return BigInt.asIntN(64,(BigInt(a[0])<<I)+BigInt(a[1])).toString()};H=function(a){a=BigInt.asIntN(64,BigInt(a));a=[Number(a>>I),Number(a&J)];a._tag="i64";return a}}else G=(h||(h=c("bs_caml_int64"))).to_string,H=a(c("bs_caml_format").caml_int64_of_string);G=G;H=H;var K=a((i||(i=c("bs_caml"))).i64_max);a=a(i.i64_min);function L(a){if(Array.isArray(a)&&a.length===2){var b=a[0];a=a[1];if(typeof b==="number"&&Number.isInteger(b)&&typeof a==="number"&&Number.isInteger(a)){b=[b,a];b._tag="i64";return b}}return void 0}function d(a){return c("nullthrows")(L(a))}function e(a){return(a==null?void 0:a._tag)==="i64"}g.mk=f;g.succ=j;g.min_int=k;g.max_int=l;g.one=m;g.zero=n;g.neg_one=o;g.of_int32=p;g.to_int32=h.to_int32;g.add=q;g.neg=r;g.sub=s;g.lsl_=t;g.lsr_=u;g.asr_=v;g.is_zero=h.is_zero;g.mul=w;g.xor=x;g.or_=y;g.and_=z;g.to_float=h.to_float;g.of_float=A;g.div=B;g.mod_=C;g.compare=h.compare;g.minus_one=D;g.abs=E;g.lognot=F;g.of_string_opt=b;g.equal=c("bs_int64").equal;g.to_string=G;g.of_string=H;g.gt=i.i64_gt;g.ge=i.i64_ge;g.lt=i.i64_lt;g.le=i.i64_le;g.max=K;g.min=a;g.cast=L;g.castExn=d;g.isI64=e}),98);
__d("LSSynchronousPromise",["FBLogger","gkx","isPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return c("gkx")("2839")?i(a):((b=b)!=null?b:Promise).resolve(a)}function b(a,b){return c("gkx")("2839")?j(a):((b=b)!=null?b:Promise).resolve(a)}function i(a,b){return new k(a,b)}function d(a){if(!(a instanceof k))return a;if(a.maybeErr!=null)throw a.maybeErr.err;return a.val}function j(a){return(h||(h=c("isPromise")))(a)?a:i(a)}var k=function(){function a(a,b){this.val=a,this.maybeErr=b}var b=a.prototype;b["catch"]=function(a){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("unexpected 'catch' call on LS synchronous promise - this is not a full promise impl!")};b["finally"]=function(a,b){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("unexpected 'finally' call on LS synchronous promise - this is not a full promise impl!")};b.then=function(a,b){if(this.maybeErr!=null)if(b)return j(b(this.maybeErr.err));else throw this.maybeErr.err;try{return j(a(this.val))}catch(a){return i(void 0,{err:a})}};return a}();g.maybeMakeSynchronousPromise=a;g.wrapInMaybeSyncPromiseIfNotPromise=b;g.makeSynchronousPromise=i;g.maybeExtractValueIfSynchronousPromise=d;g.wrapInSyncPromiseIfNotPromise=j}),98);
__d("LSArrayGetObjectAt",["I64","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){return d("LSSynchronousPromise").maybeMakeSynchronousPromise([c[(h||(h=d("I64"))).to_int32(e)],c])}g.call=a}),98);
__d("LSResult",[],(function(a,b,c,d,e,f){"use strict";function a(a){return[a]}f["default"]=a}),66);
__d("LSBase64Decode.nop",["Base64Utils","CryptoLogger","LSResult","LSSynchronousPromise"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(/-/g,"+").replace(/_/g,"/").replace(/\./g,"=").replace("/,/","=");var b=4-a.length%4;if(b<4)for(var c=0;c<b;c++)a+="=";return a}function i(a){var b=d("CryptoLogger").CryptoLogger("base64decode");try{return a!=null?d("Base64Utils").toArrayBuffer(h(a)):void 0}catch(c){if((c==null?void 0:c.message)==null)return;if(c instanceof Error)b.catching(c).mustfix(c.message);else{b.mustfix("Base64decode : empty error message for exception: %s, input string: %s",c.message,(b=a)!=null?b:"undefined")}}}a=function(a,b,e){return d("LSSynchronousPromise").maybeMakeSynchronousPromise(c("LSResult")(i(e)))};g["default"]=a}),98);
__d("LSBitFlag",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).equal(h.and_(b,a),a)}function b(a,b){return(h||(h=d("I64"))).or_(b,a)}function c(a,b){return(h||(h=d("I64"))).and_(b,h.lognot(a))}g.has=a;g.set=b;g.clear=c;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}function b(a,b){return d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,h.to_int32(a)),b)}g.set=a;g.clear=b;g.empty=(h||(h=d("I64"))).zero}),98);
__d("LSContactBitOffset",["I64","LSBitFlag","LSBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h;c=["capabilities","capabilities2"];function a(a,b){return i(a,b,!1)}function i(a,b,c){var e=b.capabilities,f=b.capabilities2;if(a>=64){return f==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(f=b.capabilities2)!=null?f:d("LSBitOffset").empty)}return e==null?c:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),(f=b.capabilities)!=null?f:d("LSBitOffset").empty)}function b(a,b){return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),(a=b)!=null?a:d("LSBitOffset").empty)}g.contactCapabilityFields=c;g.has=a;g.hasWithDefault=i;g.contactCapabilitiesHas=b}),98);
__d("LSPersistedDbGating",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("gkx")("8483");b=c("gkx")("8483");g.anyTablesPersisted=a;g.allTablesPersisted=b}),98);
__d("LSPlatformLsInitLog",["ErrorGuard","ExecutionEnvironment","QPLUserFlow","VisibilityAPI","VisibilityState","gkx","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("qpl")._(25305590,"1127"),k=!1,l=!1,m=[],n=function(){var a=!1,b=!1;return{hasEnded:function(){return b},isRunning:function(){return a},markEnd:function(){a=!1,b=!0},markStart:function(){a=!0}}}(),o=c("gkx")("23405"),p=function(a,b){q(j,"visibility_change_"+(b?"hidden":"visible"))};function a(a){k||(k=!0,l=!1,(h||(h=c("ExecutionEnvironment"))).isInWorker||a===!1?c("QPLUserFlow").start(j,{annotations:{bool:{initiallyHidden:d("VisibilityAPI").isVisibilityHidden(),isArmadilloPublicLaunchUser:o}},cancelOnUnload:!0,timeoutInMs:6e4}):c("QPLUserFlow").startFromNavStart(j,{annotations:{bool:{initiallyHidden:d("VisibilityAPI").isVisibilityHidden(),isArmadilloPublicLaunchUser:o},string:{pageID:c("pageID")}},cancelOnUnload:!0,onFlowTimeout:t,timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0})),d("VisibilityState").subscribe(p)}function q(a,b,d){s()&&(c("QPLUserFlow").addPoint(a,((h||(h=c("ExecutionEnvironment"))).isInWorker?"worker_":"")+b),d!=null&&c("QPLUserFlow").addAnnotations(a,d))}function r(a){c("QPLUserFlow").addAnnotations(j,a)}function b(a,b){q(j,a,b)}function e(){s()&&(l=!0,c("QPLUserFlow").endSuccess(j),t())}function f(a,b){l=!0,c("QPLUserFlow").endFailure(j,a,{error:b}),t()}function s(){return k&&!l}function t(){for(var a=0;a<m.length;a++){var b=m[a];(i||(i=c("ErrorGuard"))).applyWithGuard(b,null,[])}}function u(a){m.push(a)}var v={addAnnotations:function(a){var b=a.bool,c=a["int"];a=a.string;r({bool:b,"int":c,string:a})},addPoint:b,addPointForEvent:q,endFail:f,endSuccess:e,isPending:s,onCompleteOrFail:u,start:a};g.LsSync=n;g.start=a;g.addPointForEvent=q;g.addAnnotations=r;g.addPoint=b;g.endSuccess=e;g.fail=f;g.isPending=s;g.onCompleteOrFail=u;g.lsInitLogger=v}),98);
__d("LSLogHistory",["FBLogger","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i={},j={client_init:100,client_sync:50,client_task:20,db_dump:200,db_init:100,general:50,ls:50,maw_setup:10,user_experience:200},k=10;function a(){try{return Object.values(i).reduce(function(a,b){return a.concat(b)},[]).sort(function(a,b){return a.date-b.date}).map(function(a){return[a.date.toString(),a.level,a.category,a.event,a.args].join(" | ")})}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).mustfix("getEntries failed");return[[Date.now().toString(),"error","general","lightspeed_log_event","cannot create entries"].join(" | ")]}}function b(){i={}}function d(a,b,d,e){var f;d===void 0&&(d="general");e===void 0&&(e="lightspeed_log_event");var g;(h||(h=c("performance"))).timing!=null?g=Math.round((h||(h=c("performance"))).timing.navigationStart+h.now()):g=Date.now();i[d]==null&&(i[d]=[]);i[d].length>=((f=j[d])!=null?f:k)&&i[d].shift();i[d].push({args:a,category:d,date:g,event:e,level:b})}g.MAX_LIMIT=j;g.getEntries=a;g.clearEntries=b;g.log=d}),98);
__d("MessengerSimpleLogHistoryFactory",["LSLogHistory"],(function(a,b,c,d,e,f,g){"use strict";a={getInstance:function(a){return{debug:function(b,c){d("LSLogHistory").log(b,"debug",a,c)},error:function(b,c){d("LSLogHistory").log(b,"error",a,c)}}}};g.simpleFactory=a}),98);
__d("MessengerBroadcastLogHistoryFactory",["FBLogger","MessengerSimpleLogHistoryFactory","pageID"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){var e=this;this.listener=function(a){var b=d("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1);a.level==="error"&&b.error(a.message,"from_"+a.page);a.level==="debug"&&b.debug(a.message,"from_"+a.page)};this.debug=function(a){for(var b=arguments.length,f=new Array(b>1?b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];try{d("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1).debug(a),e.$2({args:f,category:e.$1,level:"debug",message:a,page:c("pageID")})}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("MessengerLogHistory debug")}};this.error=function(a){for(var b=arguments.length,f=new Array(b>1?b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];try{d("MessengerSimpleLogHistoryFactory").simpleFactory.getInstance(e.$1).error(a),e.$2({args:f,category:e.$1,level:"error",message:a,page:c("pageID")})}catch(a){c("FBLogger")("messenger_web_product").catching(a).warn("MessengerLogHistory error")}};this.$1=a;this.$2=b};a=function(){function a(){var a=this,b;this.$1={};this.$3="ls_log_history";this.$4=function(b){var c,d=b.args,e=b.category,f=b.level,g=b.message;b=b.page;(c=a.$2)==null?void 0:c.postMessage({args:d,category:e,level:f,message:g,page:b})};this.$2=self.BroadcastChannel!=null?new self.BroadcastChannel(this.$3):null;(b=this.$2)==null?void 0:b.addEventListener("message",function(b){b=b.data;if((b==null?void 0:b.category)!=null){var c=a.$1[b==null?void 0:b.category];c==null?void 0:c.listener(b)}})}var b=a.prototype;b.getInstance=function(a){this.$1[a]||(this.$1[a]=new h(a,this.$4));return this.$1[a]};return a}();g["default"]=a}),98);
__d("MessengerLogHistory",["MessengerSimpleLogHistoryFactory"],(function(a,b,c,d,e,f,g){"use strict";var h={},i=d("MessengerSimpleLogHistoryFactory").simpleFactory;function a(a){i=a}function b(a){h[a]||(h[a]=i.getInstance(a));return h[a]}g.setLogHistoryFactory=a;g.getInstance=b}),98);
__d("LSDatabaseSingleton",["CurrentUser","ExecutionEnvironment","FBLogger","InteractionTracing","LSPersistedDbGating","LSPlatformLsInitLog","MessengerBroadcastLogHistoryFactory","MessengerLogHistory","Promise","QPLUserFlow","asyncToGeneratorRuntime","cr:1005","cr:10191","cr:1027","cr:2536","cr:3411","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(a=b("cr:1005"))!=null?a:b("cr:2536");d("LSPersistedDbGating").anyTablesPersisted&&d("MessengerLogHistory").setLogHistoryFactory(new(c("MessengerBroadcastLogHistoryFactory"))());b("cr:1027")==null?void 0:b("cr:1027").overwriteSamplingRate();b("cr:10191")==null?void 0:b("cr:10191").overwriteSamplingRate();d("LSPlatformLsInitLog").start();e=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){c("gkx")("2790")&&((i||(i=c("ExecutionEnvironment"))).isInWorker||(i||(i=c("ExecutionEnvironment"))).isInSharedWorker)&&c("FBLogger")("messenger_browser_clients").mustfix("DbSingleton was called in a worker");var a=c("gkx")("26383");d("LSPlatformLsInitLog").addPoint("get_ls_database_start",{bool:{is_pdb:d("LSPersistedDbGating").anyTablesPersisted,loadDbEarlierEnabled:a}});c("InteractionTracing").getPendingInteractions().forEach(function(b){b.addMarkerPoint("get_ls_database_start","AppTiming"),b.addAnnotationBoolean("loadDbEarlierEnabled",a),b.addAnnotationBoolean("is_pdb",d("LSPersistedDbGating").anyTablesPersisted)});var e=(yield j.get());d("LSPlatformLsInitLog").addPoint("get_ls_database_end");c("InteractionTracing").getPendingInteractions().forEach(function(a){a.addMarkerPoint("get_ls_database_end","AppTiming")});d("LSPlatformLsInitLog").addPoint("db_created");c("CurrentUser").isWorkUser()&&c("QPLUserFlow").addPoint(c("qpl")._(1036588047,"310"),"db_created");if(b("cr:3411")!==null)try{b("cr:3411").registerDb(e)}catch(a){c("FBLogger")("messenger_browser_clients").catching(a).mustfix("LSPlatformDevtools failed to register db.")}return e});return function(){return a.apply(this,arguments)}}();var k=(i||(i=c("ExecutionEnvironment"))).isInBrowser?e().then(function(a){k=a;return a}):new(h||(h=b("Promise")))(function(){c("FBLogger")("messenger_browser_clients").warn("ExecutionEnvironment.isInBrowser returned false, returning never ending promise")});f=function(){return k};a=(h||(h=b("Promise"))).resolve(k);g.getLSDatabaseSingletonPromiseOrValue=f;g.LSDatabaseSingleton=a}),98);
__d("LSIntEnum",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){var b=i.get(a);if(b!=null)return b;b=(h||(h=d("I64"))).of_float(a);i.set(a,b);return b}function j(a){return(h||(h=d("I64"))).to_float(a)}function b(a){return(h||(h=d("I64"))).to_float(a)}function c(a,b){return a==null?!1:j(a)===b}g.ofNumber=a;g.toNumber=j;g.unwrapIntEnum=b;g.equal=c}),98);
__d("LSIssueNewTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return c[0]=b.i64.cast([0,0]),c[1]=b.i64.of_float(Date.now()),b.db.table(2).add({taskId:void 0,queueName:a[0],context:b.i64.to_string(a[1]),taskValue:a[2],enqueueTimestampMs:c[1],httpUrlOverride:a[3],timeoutTimestampMs:a[4],pluginType:a[5],priority:a[6],syncGroupId:a[7],transportKey:a[8],minTimeToSyncTimestampMs:a[9],taskDispatchPriority:c[0]})},function(d){return b.filter(b.db.table(2).fetchDesc([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])&&c.taskValue===a[2]}).next().then(function(a,d){var e=a.done;a=a.value;return e?c[2]=b.i64.cast([-1,4294967295]):(d=a.item,c[2]=d.taskId)})},function(a){return function(a){b.logger(a).info(a)}(["LightSpeed NewTask"," ",b.i64.to_string(c[2])].join(""))}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreIssueNewTaskStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSMessageThreadUnsendabilityStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_UNSEND:0,DENY_FOR_SPECIFIC_IDS:1,DENY_IF_THREAD_CONTAINS_PAU:2,DENY_IF_THREAD_CONTAINS_WORK_USER:3,DENY_IF_PAGE_THREAD:4,DENY_IF_MARKETPLACE_THREAD:5,DENY_IF_CANNOT_LOAD_THREAD:6,DENY_IF_THREAD_CONTAINS_WORK_USER_FAILING_KILLSWITCH:7,DENY_IF_CANONICAL_THREAD_CONTAINS_BLOCKED_USERS:8,DENY_IF_CANNOT_REPLY_TO_VIEWER_THREAD:9,DENY_IF_UNCONNECTED_THREAD:10});f["default"]=a}),66);
__d("isUnjoinedCMThread",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g.isUnjoinedCMThread=a}),98);
__d("LSThreadBitOffset",["FBLogger","I64","LSBitFlag","isUnjoinedCMThread"],(function(a,b,c,d,e,f,g){"use strict";var h;f=["capabilities","capabilities2","capabilities3","capabilities4","capabilities5"];var i=5,j=i*64;function a(a,b){if(d("isUnjoinedCMThread").isUnjoinedCMThread(b.threadType))return!1;if(a>=j){c("FBLogger")("LSThreadBitOffset","out_of_bounds_bit_offset").mustfix("Invalid bitOffset; expected a value between 0 and %d but found %s instead",j-1,a);return!1}if(a>=256)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-256),b.capabilities5);if(a>=192)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-192),b.capabilities4);if(a>=128)return d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-128),b.capabilities3);return a>=64?d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a-64),b.capabilities2):d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.capabilities)}function b(a,b,c,e,f,g){return a.reduce(function(a,b){var c=a[0],e=a[1],f=a[2],g=a[3];a=a[4];if(b>=256)return[c,e,f,g,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-256),a)];if(b>=192)return[c,e,f,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-192),g),a];if(b>=128)return[c,e,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-128),f),g,a];return b>=64?[c,d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b-64),e),f,g,a]:[d("LSBitFlag").set((h||(h=d("I64"))).lsl_(h.one,b),c),e,f,g,a]},[b,c,e,f,g])}function e(a,b,c,e,f,g){return a.reduce(function(a,b){var c=a[0],e=a[1],f=a[2],g=a[3];a=a[4];if(b>=256)return[c,e,f,g,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-256),a)];if(b>=192)return[c,e,f,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-192),g),a];if(b>=128)return[c,e,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-128),f),g,a];return b>=64?[c,d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b-64),e),f,g,a]:[d("LSBitFlag").clear((h||(h=d("I64"))).lsl_(h.one,b),c),e,f,g,a]},[b,c,e,f,g])}g.threadCapabilityFields=f;g.MAX_SUPPORTED_THREAD_CAPABILITY=i;g.has=a;g.set=b;g.clear=e;g.empty=(h||(h=d("I64"))).zero}),98);
__d("MessagingThreadSubtype",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MODEL_V2_THREAD:1,FB_GROUP_CHAT:2,MARKETPLACE_THREAD:3,SCHOOL_CHAT:4,DEPRECATED__WORK_SYNCED_CHAT:5,ADMIN_NOT_SUPPORTED_THREAD:6,BELL_SYNCED_CHAT:7,GAMES_APP_THREAD:8,VAULT_CHAT:9,VERSE_CHAT:10,GENERIC_COMMERCE_THREAD:11,USER_JOB_THREAD:12,COWORKER_GROUP_THREAD:13,APPROVAL_ENFORCED_CHATROOM_THREAD:14,PARENT_APPROVED_SHEPHERD_MANAGED_THREAD:15,CAMPUS_GROUP_THREAD:16,LOCAL_COMMUNITIES_THREAD:17,CHAT_FOR_ROOM_THREAD:18,GAMING_PLAY_SQUAD:19,CHAT_FOR_GROUP_ADMIN_TO_MEMBER_THREAD:20,EITM_BACKED_IG_1TO1_THREAD:21,LEARNING_SPACE:23,E2EE_GROUP_THREAD_METADATA:24,IGD_BC_PARTNERSHIP:25,E2EE_1TO1_THREAD_METADATA:26,JOBS_CAREER_GROUP_THREAD:27,IG_CREATOR_SUBSCRIBER_GROUP_THREAD:28,IG_CREATOR_SUBSCRIBER_BROADCAST_CHAT:29,BUSINESS_SUPPORT_THREAD:30,TAGGED_PII_DATA:31,IG_DISCOVERABLE_CHAT_THREAD:32,SUPPORT_MESSAGING_THREAD:33,DISCOVERABLE_PUBLIC_CHAT:34,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:35,DISCOVERABLE_PUBLIC_CHAT_V2:36,IG_DISCOVERABLE_CHAT_THREAD_V2:37,OCULUS_MEDIA_MESSAGING:38,WORK_CHAT_THREAD_CENTRIC:39,COMMUNITY_MESSAGING_PUBLIC_THREAD:40,COMMUNITY_MESSAGING_ADMOD_THREAD:42,COMMUNITY_MESSAGING_BROADCAST_THREAD:43,IG_E2EE_GROUP_THREAD_METADATA:44,IG_NFT_BROADCAST_CHAT:45,STANDALONE_COMMUNITY_STANDARD_THREAD:46,IGD_GROUP:47,WORKCHAT_GROUP_THREAD:48,WORKROOM_GROUP_THREAD:49,OCULUS_GROUP_THREAD:50,INTEROP_GROUP:51,IG_BTV_E2EE_1TO1_THREAD_METADATA:52,COMMUNITY_MESSAGING_HELPER_BOT_THREAD:53,COMMUNITY_MESSAGING_SUB_THREAD:54,IG_GROUP_PROFILES:55,IG_PRIVATE_EVENT:56,WA_GENAI_BOT_MAILBOX_THREAD:57,MESSENGER_GENAI_BOT_MAILBOX_THREAD:58,IG_GENAI_BOT_MAILBOX_THREAD:59,E2EE_COMMUNITY_CHAT_METADATA:60,IG_SUBSCRIBER_SOCIAL_CHANNEL:61,IG_SOCIAL_CHANNEL:62,GENERIC_GENAI_BOT_MAILBOX_THREAD:63,GENAI_IMAGINE:64,FB_GENAI_BOT_MAILBOX_THREAD:65,ABRA_GENAI_BOT_MAILBOX_THREAD:66,GENAI_STUDIO_BOT_MAILBOX_THREAD:67,SHOPS_AI_ASSISTANT_THREAD:68,IG_E2EE_1TO1_THREAD_METADATA:69,IG_THREAD_WITH_BOT_PARTICIPANTS:70,IG_SUPPORT_MESSAGING_THREAD:71,MARKETPLACE_JOBS_THREAD:72,WA_SUPPORT_MESSAGING_THREAD:73,COMMUNITY_MESSAGING_ANNOUNCEMENT_THREAD:74,MSGR_DMA_INTEROP_GROUP_METADATA:75,IG_BOT_ACTIVITIES:76,ONE_TO_ONE:1001,PARENT_APPROVED_ONE_TO_ONE:1002,IG_ONLY_ONE_TO_ONE:1003,INTEROP_ONE_TO_ONE:1004,WHATSAPP_ONE_TO_ONE:1005,WORKCHAT_ONE_TO_ONE:1006,OC_PROXY_ONE_TO_ONE:1007,MARKETPLACE_ASSISTANT_ONE_TO_ONE:1008,PAGE_TO_USER:1009,PAGE_TO_PAGE:1010,MESSENGER_AI_BOT_ONE_TO_ONE:1011,IG_AI_BOT_ONE_TO_ONE:1012,IG_CREATOR_AGENT_SANDBOX:1013,IG_USER_GENERATED_AI_BOT_ONE_TO_ONE:1014,MSGR_USER_GENERATED_AI_BOT_ONE_TO_ONE:1015,IG_BUSINESS_ACCOUNT_ONE_TO_ONE:1016,MSGR_GAME_UPDATES:1017,OCULUS:2001});f["default"]=a}),66);
__d("isCommunityContainersEnabled",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("gkx")("23433");return!a?!1:c("qex")._("173")===!0}g["default"]=a}),98);
__d("mwCMIsAnyCMThread",["I64","LSIntEnum","isCommunityContainersEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=c("isCommunityContainersEnabled")();if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(18))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(23))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(24))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(21)))return!0;return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))&&b?!0:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(22))}g["default"]=a}),98);
__d("LSMessagingThreadTypeUtil",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","LSThreadBitOffset","MessagingThreadSubtype","MetaConfig","mwCMIsAnyCMThread","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(8))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||c("mwCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function j(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(7))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(13))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function b(a){return j(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function k(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))}function e(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))}function f(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(16))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function l(a){return a==="e2ee_cutover"||a==="inbox"}function m(a,b){b===void 0&&(b=!0);return!b&&(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(0))?!1:d("LSThreadBitOffset").has(21,a)}function n(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IGD_BC_PARTNERSHIP))}function o(a){return m(a,!1)}function p(a){return(h||(h=d("I64"))).equal(a.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3))}function q(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").BUSINESS_SUPPORT_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}function r(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))}function s(a){var b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(2)),c=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&!N(a);return!q(a.threadSubtype)&&(b||c)}function t(a){return s(a)||k(a.threadType)}function u(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER))}function v(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function w(a){return(y(a)||z(a))&&c("MetaConfig")._("32")}function x(a){return(y(a)||z(a))&&!c("MetaConfig")._("32")}function y(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(152))}function z(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(153))}function A(a){return((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154)))&&c("MetaConfig")._("36")}function B(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))&&c("MetaConfig")._("36")}function C(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(150))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(154))}function D(a){return C(a)||w(a)}function E(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(26))}function F(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))}function G(a){return(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(19))}function H(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(151))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(155))}function I(a){return a==null?!1:H(a)||z(a)}function J(a){return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(201))}function K(a){return d("LSThreadBitOffset").has(183,a)}function L(a){return k(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(2))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(3))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(4))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(5))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(6))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(10))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(11))}function M(a){return D(a)||H(a)||z(a)||c("mwCMIsAnyCMThread")(a)||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(17))||E(a)}function N(a){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(1))&&a.cannotUnsendReason!=null&&(h||(h=d("I64"))).equal(a.cannotUnsendReason,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD))}function O(a){return a!=null&&((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKROOM_GROUP_THREAD))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").WORKCHAT_ONE_TO_ONE)))}function P(a){if(j(a))return(i||(i=d("LSIntEnum"))).ofNumber(15);if(r(a))return(i||(i=d("LSIntEnum"))).ofNumber(16);throw c("unrecoverableViolation")("Expected either open 1:1 or open group thread","messenger_web_product")}g.isGroup=a;g.isOpenOneToOne=j;g.isOneToOne=b;g.isArmadilloSecure=k;g.isArmadilloSecureOneToOne=e;g.isRecentsSectionAllowedTypes=f;g.isMessengerOrE2EEInbox=l;g.isMessageRequest=m;g.isPartnership=n;g.isIGDMessageRequest=o;g.isHiddenRequest=p;g.isBusinessSupportThread=q;g.isOpenGroupFnFThread=r;g.isOpenFnFThread=s;g.isOpenOrArmadilloFnFThread=t;g.isPageToUserThread=u;g.isJoinedSocialChannel=v;g.isDiscoverablePublicBroadcastChannel=w;g.isDiscoverablePublicBroadcastChannelWithNoAccessibility=x;g.isJoinedDiscoverablePublicBroadcastChannel=y;g.isUnjoinedDiscoverablePublicBroadcastChannel=z;g.isSocialChannelV2=A;g.isJoinedSocialChannelV2=B;g.isSocialChannel=C;g.isDiscoverableChannel=D;g.isCMSubthread=E;g.isCMFolder=F;g.isCMGroupUnjoined=G;g.isSocialChannelUnjoined=H;g.isChannelPreview=I;g.isAiBot=J;g.isAiBotSummoning=K;g.isPrivateThread=L;g.isPublicCMThread=M;g.isThreadForPage=N;g.isWorkThread=O;g.mapOpenToSecureThreadType=P}),98);
__d("LSThreadAttributionStore",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a,b){var c;a=(c=(c=i.get(b))!=null?c:a)!=null?c:{type:"MWLSEntrypoint",value:"unknown"};i["delete"](b);return a}function b(a,b){a=(b=(b=i.get(b))!=null?b:a)!=null?b:{type:"MWLSEntrypoint",value:"unknown"};return a}function c(a,b){i.set(a,{type:"MWLSEntrypoint",value:b})}function e(a,b){b=(h||(h=d("I64"))).of_string(b);i.set(a,{type:"LSThreadAttribution",value:b})}function f(a){i.set("",{type:"MWLSEntrypoint",value:a})}function j(){var a=i.get("");if(a==null||a.type==="LSThreadAttribution")return"unknown";else return a.value}g.getSource=a;g.getSourceWithoutReset=b;g.setSource=c;g.setLSMessagingThreadAttribution=e;g.setSourceForNewThread=f;g.getSourceForNewThread=j}),98);
__d("MAWDefaultE2eeOneToOneEligibility",["FBLogger","I64","LSContactBitOffset","LSThreadAttributionStore","gkx","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect,k=new Map();function a(a){var b=d("react-compiler-runtime").c(4),e=a.contactId,f=a.serverContactCapabilities2,g;b[0]!==e||b[1]!==f?(a=function(){if(c("justknobx")._("1813")&&e!=null){var a=f!=null&&d("LSContactBitOffset").contactCapabilitiesHas(83,(i||(i=d("I64"))).of_string(f));k.set(e,a)}},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);j(a,g)}function b(a){var b=a.contactId;a=a.maybeContact;a=a!=null&&d("LSContactBitOffset").has(83,a);if(a)return!0;a=b!=null?(i||(i=d("I64"))).to_string(b):null;if(a!=null&&!k.has(a)){b=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,a);b=b.type==="MWLSEntrypoint"?b.value:(i||(i=d("I64"))).to_string(b.value);c("FBLogger")("maw_default_e2ee_no_preloaded_data").info("Thread entrypoint %s doesn't provide preloaded default e2ee data",b)}return c("justknobx")._("1813")&&c("gkx")("3980")&&a!=null&&((b=k.get(a))!=null?b:!1)}g.contactsServerDefaultE2eeOneToOneCapability=k;g.useUpdateContactServerDefaultE2eeOneToOneCapabilityCache=a;g.isContactDefaultE2eeOneToOneEligible=b}),98);
__d("MAWGetIsMediaDownloadStatusEnabled",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("gkx")("7858")}function a(){return c("justknobx")._("3564")&&h()}g.getIsMediaDownloadStatusForXMAsEnabled=h;g.getIsMediaDownloadStatusForXMAsEnabledWithChunkVerification=a}),98);
__d("MAWMediaDownloadStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["DOWNLOADING","SUCCESS","NOT_MANUAL_RETRYABLE_FAILURE","MANUAL_RETRYABLE_FAILURE","MISSING_FILE"]);c=a;f["default"]=c}),66);
__d("MAWSharedProtocolQueueConst",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Initializing:"initializing",Failed:"failed",Processing:"processing",Complete:"complete"});f.OfflineConsumerStatus=a}),66);
__d("MAWOfflineQueueStatus",["FBLogger","MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=!1;function j(a,b){h.set(a,b),h.size>5e3&&c("FBLogger")("labyrinth_web").warn("Offline queue status map size (%s) is too large",h.size)}function k(a){return h.get(a)}function a(){h=new Map(),i=!1}function b(){return i}function e(){i=!0}function f(a,b){a=Object.keys(a);a.map(function(a){j(a,b)})}function l(a){return k(a)===d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function m(){return Array.from(h.entries()).filter(function(a){a[0];a=a[1];return a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete&&a!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed}).map(function(a){a=a[0];return a})}g.setOfflineQueueStatus=j;g.getOfflineQueueStatus=k;g.resetOfflineQueueState=a;g.isOfflineQueueComplete=b;g.markOfflineQueueComplete=e;g.markThreadWithOfflineQueueStatus=f;g.isOfflineQueueDoneForThread=l;g.getAllThreadsWithOfflineQueueIncomplete=m}),98);
__d("MWChatInteraction",["InteractionTracing.xplat","InteractionTracingMetrics"],(function(a,b,c,d,e,f,g){"use strict";var h={},i="mw_auto_chat_tab_open";e="mw_chatheads_load";function a(a,b){h[a]=b}function j(a){return h[a]}function b(a){delete h[a]}function d(a){if(a==null)return null;var b=h[a];if(b==null)return null;a=Array.from(c("InteractionTracing.xplat").getPendingInteractions().values());return a.find(function(a){return a.getTraceId()===b})}f=function(a){return a+"-s2s"};var k=function(a,b){a!=null&&c("InteractionTracingMetrics").addMarkerPoint(a,b,"AppTiming")},l=function(a){var b=j(i);k(b,a)};g.interactions=h;g.MW_AUTO_CHAT_TAB_OPEN=i;g.MW_CHATHEADS_LOAD=e;g.set=a;g.get=j;g.remove=b;g.getInteractionTraceForThreadKey=d;g.s2sKey=f;g.addMarkerPoint=k;g.addAutoChatTabMarkerPoint=l}),98);
__d("MWPActor.react",["Actor","CurrentMessengerUser","I64","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.createContext,m=k.useContext,n=k.useMemo,o=l();function a(){var a=m(o),b=d("Actor").useActor(),c=b[0],e=n(function(){return(i||(i=d("I64"))).of_string(c)},[c]),f=d("CurrentMessengerUser").getPageMessagingMailboxId(),g=n(function(){return f!=="0"?(i||(i=d("I64"))).of_string(f):null},[f]);b=n(function(){return a!=null?a:g!=null?g:e},[e,a,g]);return b}function b(){return p()!=null}function e(){return c("gkx")("3378")}function p(){var a=d("CurrentMessengerUser").getPageMessagingMailboxId();return a==="0"?null:a}function f(a){var b=d("react-compiler-runtime").c(3),c=a.actorId;a=a.children;var e;b[0]!==c||b[1]!==a?(e=c!=null?j.jsx(o.Provider,{value:c,children:a},(i||(i=d("I64"))).to_string(c)):a,b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g.useActor=a;g.isAPPlus=b;g.isPromode=e;g.getAPPlusMailboxId=p;g.MWPActorProvider=f}),98);
__d("MessengerWebEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("230");b=d("FalcoLoggerInternal").create("messenger_web_events",a);e=b;g["default"]=e}),98);
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WATagsLogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV.apply(d,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).DEV_XMPP.apply(d,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).LOG.apply(d,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).WARN.apply(d,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){var d;return(d=b.TAGS([])).ERROR.apply(d,[a].concat(c))})})}function i(a,b,c){return h.load().then(function(d){return d.whenReady().then(function(){return d.TAGS(a)}).then(function(a){a[c](b)})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f;g.logWithTags=i}),98);
__d("ZenonRTWebBrowserFeatureSupport",[],(function(a,b,c,d,e,f){"use strict";function a(){return typeof window.HTMLCanvasElement==="function"&&typeof window.HTMLCanvasElement.prototype.captureStream==="function"}function b(){return g("getSenders")}function c(){return typeof window.RTCRtpSender==="function"&&typeof window.RTCRtpSender.prototype.replaceTrack==="function"}function d(){return typeof window.RTCRtpSender==="function"&&typeof window.RTCRtpSender.prototype.createEncodedStreams==="function"}function e(){return window.RTCRtpSender&&"transform"in RTCRtpSender.prototype}function g(a){return typeof RTCPeerConnection.prototype[a]==="function"}f.isCanvasStreamSupported=a;f.isGetSendersSupported=b;f.isReplaceTrackSupported=c;f.isInsertableStreamsSupported=d;f.isInsertableStreamsSupportedInSafari=e}),66);
__d("checkForIndexedDbSupported",[],(function(a,b,c,d,e,f){"use strict";function a(){return!window.indexedDB?!1:!0}f["default"]=a}),66);
__d("cometAsyncFetchShared",["cr:1396"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1396")}),98);/*FB_PKG_DELIM*/
__d("CometFeedARIAProperties.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(Object.freeze({}));g["default"]=b}),98);
__d("CometFeedGating",["XPlatReactEnvironment","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("XPlatReactEnvironment").isWeb()&&c("gkx")("1537")}function b(){var a;return d("XPlatReactEnvironment").isWeb()&&((a=c("qex")._("1082"))!=null?a:!1)}function e(){var a;return(a=c("qex")._("69"))!=null?a:!1}g.shouldEnableFeedUFIUIModernization=a;g.shouldEnableFeedCommentsModernization=b;g.shouldDisableTooltipOnFeedUFI=e}),98);
__d("CometFeedStoryContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext(Object.freeze({}));function a(){return i(j)}g.CometFeedStoryContext=j;g.useCometFeedStoryContext=a}),98);
__d("CometFeedStoryCopyLinkMenuItem_isLinkSharingEnabled.relayprovider",["qex"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(){var a;return(a=c("qex")._("1572"))!=null?a:!1}};g["default"]=a}),98);
__d("CometFeedStoryFeedLocationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("CometFeedStoryMenuEntryPointVariables",["gkx"],(function(a,b,c,d,e,f,g){"use strict";a={iconVariant:c("gkx")("22885")?"OUTLINE":"FILLED"};b=a;g["default"]=b}),98);
__d("CometFeedStoryMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="28198271003152596"}),null);
__d("CometFeedStoryMetaSectionMiddot.react",["BaseMiddot.react","CometFutureOfFeedStoryContext","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={white:{color:"x14ctfv",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(3),b=j(c("CometFutureOfFeedStoryContext"));b=b.shouldOverlayHeaderOverAttachment;b=b&&k.white;var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("BaseMiddot.react"),{}),a[0]=e):e=a[0];a[1]!==b?(e=i.jsx(d("react-strict-dom").html.span,{style:b,children:e}),a[1]=b,a[2]=e):e=a[2];return e}g["default"]=a}),98);
__d("CometLoggedOutCTAStrings",["fbt","CometLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=Object.freeze({createNewAccountText:h._(/*BTDS*/"__JHASH__o-Xd7MMTxJE__JHASH__"),emailText:h._(/*BTDS*/"__JHASH__5CF6ihB7q1G__JHASH__"),footerTitle:h._(/*BTDS*/"__JHASH__NbzY3velFEE__JHASH__"),forgotPasswordText:h._(/*BTDS*/"__JHASH__pwGVF1qBy_c__JHASH__"),getCPATextWithUrl:function(a){return h._(/*BTDS*/"__JHASH__gRxMGuAaUcu__JHASH__",[h._implicitParam("=m1",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:a,target:"_blank",children:h._(/*BTDS*/"__JHASH__U0F8td9ffpE__JHASH__")}))])},getDSATextWithUrl:function(a){return h._(/*BTDS*/"__JHASH___zdx-D9WC3X__JHASH__",[h._implicitParam("=m1",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:a,target:"_blank",testid:void 0,children:h._(/*BTDS*/"__JHASH__2hADRYVzjEZ__JHASH__")}))])},getFrenchLawTextWithUrl:function(a){return h._(/*BTDS*/"__JHASH__SQ2qRCMoLPP__JHASH__",[h._implicitParam("=m1",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:a,target:"_blank",children:h._(/*BTDS*/"__JHASH__oMQmVbRSOps__JHASH__")}))])},getNetzdgTextWithUrl:function(a){return h._(/*BTDS*/"__JHASH__VnMB11bfe3G__JHASH__",[h._implicitParam("=m1",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:a,target:"_blank",children:h._(/*BTDS*/"__JHASH__RyxydFql_HO__JHASH__")}))])},getPopupTitleForProfile:function(a){return h._(/*BTDS*/"__JHASH__U_8Tu_i3-4q__JHASH__",[h._param("profilename",a)])},getUKOSATextWithUrl:function(a){return h._(/*BTDS*/"__JHASH__gpaZ2fv_0a7__JHASH__",[h._implicitParam("=m1",j.jsx(c("CometLink.react"),{color_DEPRECATED:"highlight",href:a,target:"_blank",testid:void 0,children:h._(/*BTDS*/"__JHASH__Gss3NN152Hv__JHASH__")}))])},passwordText:h._(/*BTDS*/"__JHASH__Ngl2DQ6axho__JHASH__"),popupTitle:h._(/*BTDS*/"__JHASH__DrbC1e1yF8x__JHASH__")});g["default"]=a}),226);
__d("CometProductTagFunnelIDContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometScreenReaderHeading.react",["BaseHeading.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("BaseHeading.react"),babelHelpers["extends"]({xstyle:j.visuallyHidden},a)),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("CometScrollAnchorContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("CometUserActivity",["BaseEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";var h=5e3,i=500,j=-5,k=Date.now(),l=k,m=!1,n=Date.now(),o=document.hasFocus?document.hasFocus():!0,p=0,q=Date.now(),r=-1,s=-1,t=!1,u=!1,v=new(c("BaseEventEmitter"))();function b(a){var b=w(function(c,d){b.unsubscribe(),a(d)});return b}function w(a){var b=v.addListener("user_activity",function(b){return a("user_activity",b)});return{unsubscribe:function(){return b.remove()}}}function d(a){return new Date().getTime()-k<(a!=null?a:h)}function e(){return o}function f(){return m}function x(){o=!0,m=!1}function y(){return n}function z(){return k}function A(a){p=a}function B(){return q}function C(){return t}function D(){return u}function E(){return l}function F(){k=Date.now(),l=k,m=!1,n=Date.now(),o=document.hasFocus?document.hasFocus():!0,p=0,q=Date.now(),r=-1,s=-1,t=!1,u=!1}function G(a){a.unsubscribe()}function H(a){J(a,i)}function I(a){J(a,0)}function J(b,c){c===void 0&&(c=0);var d=a.MouseEvent,e=a.KeyboardEvent;if(d&&b instanceof d){if(/^mouse(enter|leave|move|out|over)$/.test(b.type)&&b.pageX==r&&b.pageY==s)return;r=b.pageX;s=b.pageY}else e&&b instanceof e&&(u=!0);(b.type==="click"||b.type==="dblclick"||b.type==="contextmenu")&&(t=!0);k=Date.now();d=k-l;d>=c?(l=k,o||(q=k),d>=(p||h)&&(m=!0,n=k),v.emit("user_activity",{event:b,idleness:d,last_inform:l})):d<j&&(l=k)}function K(a){o=!0,n=Date.now(),I(a)}function L(){o=!1,m=!0,q=Date.now()}window.addEventListener("scroll",H,{capture:!0,passive:!0});window.addEventListener("focus",K,{capture:!1,passive:!0});window.addEventListener("blur",L,{capture:!1,passive:!0});(function(){var a=document.documentElement;if(a==null)return;["keydown","mouseover","mousemove","click"].forEach(function(b){a.addEventListener(b,H,{capture:!0,passive:!0})})})();g.EVENT_INTERVAL_MS=i;g.subscribeOnce=b;g.subscribe=w;g.isActive=d;g.isOnTab=e;g.hasBeenInactive=f;g.resetActiveStatus=x;g.getLastInActiveEnds=y;g.getLastActive=z;g.setIdleTime=A;g.getLastLeaveTime=B;g.hasClicked=C;g.hasInteractedWithKeyboard=D;g.getLastInformTime=E;g.reset=F;g.unsubscribe=G}),98);
__d("UFI2UserActivityIdleTimeout",[],(function(a,b,c,d,e,f){"use strict";a=3e4;f["default"]=a}),66);
__d("CometUserActivityMonitor",["ErrorGuard","ExecutionEnvironment","SubscriptionsHandler","UFI2UserActivityIdleTimeout","UserActivity","Visibility"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[],k=!1,l=(h||(h=c("ExecutionEnvironment"))).canUseDOM&&c("UserActivity").isOnTab()&&c("UserActivity").isActive(c("UFI2UserActivityIdleTimeout"))?"ACTIVE":"INACTIVE",m=[],n;function o(a){k=!0;m.push.apply(m,j);var b=function(){var b=m.shift();(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b(a)},null,[],{name:"CometUserActivityMonitor"})};while(m.length)b();k=!1}function p(a){var b=l;l=a;b!==a&&o(a)}function a(){return l}d=function(){n==null&&(n=new(c("SubscriptionsHandler"))(),n.addSubscriptions(c("UserActivity").subscribe(function(a,b){a=b.event;if(/^mouse(enter|leave|move|over|out)$/.test(a.type)&&c("UserActivity").isOnTab()===!1)return;p("ACTIVE")}),function(){var a=function(){p("INACTIVE")};window.addEventListener("blur",a,{passive:!0});return{remove:function(){return window.removeEventListener(a,{passive:!0})}}}(),c("Visibility").addListener(c("Visibility").HIDDEN,function(){p("INACTIVE")})))};function b(a){j.push(a);k&&m.push(a);var b=!1;return{remove:function(){if(b)return;var c=j.indexOf(a);c!==-1&&j.splice(c,1);if(k){c=m.indexOf(a);c!==-1&&m.splice(c,1)}b=!0}}}(h||(h=c("ExecutionEnvironment"))).canUseDOM&&d();g.getActivityState=a;g.init=d;g.subscribe=b}),98);
__d("CometVPVDUserActivityMonitor",["CometUserActivityMonitor"],(function(a,b,c,d,e,f,g){"use strict";a={isUserActive:function(){return d("CometUserActivityMonitor").getActivityState()==="ACTIVE"},subscribe:function(a){var b=d("CometUserActivityMonitor").subscribe(function(b){b=b==="ACTIVE";a&&a(b)});return function(){b&&b.remove()}}};g["default"]=a}),98);
__d("ContentAccessAndControlFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743465");b=d("FalcoLoggerInternal").create("content_access_and_control",a);e=b;g["default"]=e}),98);
__d("FDSContextualMessage.react",["fbt","ix","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextPairing.react","FbtResultBase","fbicon","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={root:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingStart:"x1e558r4",paddingBottom:"x1l90r2v",$$css:!0}},n={highlight:{backgroundColor:"xwnonoy",$$css:!0},"highlight-bg":{backgroundColor:"xfmpgtx",$$css:!0},primary:{backgroundColor:"x1jx94hy",$$css:!0},secondary:{backgroundColor:"xlhe6ec",$$css:!0}};b=l.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(32),f;e[0]!==a?(f=babelHelpers["extends"]({},a),e[0]=a,e[1]=f):f=e[1];a=f;var g=a.addOnPrimary,k=a.addOnSecondary,o=a.body,p=a.headline,q=a.headlineLineLimit,r=a.icon,s=a.level,t=a.meta,u=a.testid;a=a.type;s=s===void 0?3:s;a=a===void 0?"primary":a;var v=f.onClose!=null?f.onClose:null;f=f.headlineAriaLabel!=null?f.headlineAriaLabel:typeof p==="string"||p instanceof c("FbtResultBase")?p:null;var w;e[2]!==a?(w=(j||(j=c("stylex"))).props(m.root,n[a]),e[2]=a,e[3]=w):w=e[3];var x;e[4]!==r?(x=r!=null?l.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:l.jsx("div",babelHelpers["extends"]({className:"x1rdy4ex"},{children:r}))}):null,e[4]=r,e[5]=x):x=e[5];r=a==="highlight"?"white":"secondary";var y=a==="highlight"?"white":"primary";q=(q=q)!=null?q:2;var z;e[6]!==o||e[7]!==p||e[8]!==s||e[9]!==r||e[10]!==y||e[11]!==q?(z=l.jsx(c("CometRowItem.react"),{expanding:!0,children:l.jsx(c("FDSTextPairing.react"),{body:o,bodyColor:r,headline:p,headlineColor:y,headlineLineLimit:q,isSemanticHeading:!0,level:s})}),e[6]=o,e[7]=p,e[8]=s,e[9]=r,e[10]=y,e[11]=q,e[12]=z):z=e[12];e[13]!==f||e[14]!==v||e[15]!==a?(o=v!=null?l.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:l.jsx("div",babelHelpers["extends"]({className:"xcud41i x9otpla"},{children:l.jsx(c("FDSIcon.react"),{"aria-label":f!=null?h._(/*BTDS*/"__JHASH__jdA38No1bHZ__JHASH__",[h._param("card name",f)]):h._(/*BTDS*/"__JHASH__PfdWOKkgwGk__JHASH__"),color:a==="highlight"?"white":"secondary",icon:d("fbicon")._(i("478232"),16),onPress:v,size:16,testid:void 0})}))}):null,e[13]=f,e[14]=v,e[15]=a,e[16]=o):o=e[16];e[17]!==x||e[18]!==z||e[19]!==o?(p=l.jsxs(c("CometRow.react"),{verticalAlign:"center",children:[x,z,o]}),e[17]=x,e[18]=z,e[19]=o,e[20]=p):p=e[20];e[21]!==s||e[22]!==t?(r=t!=null&&l.jsx(c("CometRow.react"),{paddingTop:12,children:l.jsx(c("CometRowItem.react"),{children:l.jsx(c("FDSTextPairing.react"),{level:s,meta:t})})}),e[21]=s,e[22]=t,e[23]=r):r=e[23];e[24]!==g||e[25]!==k||e[26]!==b||e[27]!==p||e[28]!==r||e[29]!==w||e[30]!==u?(y=l.jsxs("div",babelHelpers["extends"]({},w,{"data-testid":void 0,ref:b,children:[p,g,k,r]})),e[24]=g,e[25]=k,e[26]=b,e[27]=p,e[28]=r,e[29]=w,e[30]=u,e[31]=y):y=e[31];return y}e=b;g["default"]=e}),226);
__d("GHLAriaLabelTracker",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";b=c("requireDeferred")("ghlTestUBT").__setRef("GHLAriaLabelTracker");b.onReady(function(a){return a(function(a,b){!a&&!b&&j()})});var h=!1,i=[];function a(a){if(h){a();return{dispose:function(){}}}i.push(a);return{dispose:function(){i.splice(i.indexOf(a),1)}}}function j(){if(h)return;h=!0;i.forEach(function(a){return a()})}d={onAdd:a,set:j};g["default"]=d}),98);
__d("GHLMitigationsCounter",["ODS"],(function(a,b,c,d,e,f,g){"use strict";var h,i="ghl_mitigation_counter";function a(a,b){b&&(h||(h=d("ODS"))).bumpEntityKey(4294,i,a);return b}g.incrementMitigationCounterAndReturn=a}),98);
__d("GHLMitigationsGating",["GHLMitigationsCounter","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("shim_randomize_placeholder",c("justknobx")._("684")&&c("gkx")("23184"))};b=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_element_wrapper_for_links",c("justknobx")._("922")&&c("gkx")("23185"))};e=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_right",c("justknobx")._("222")&&c("gkx")("23186"))};f=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("insert_empty_a_element",c("justknobx")._("1028")&&c("gkx")("23187"))};var h=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("insert_empty_div_element_after_h3",c("justknobx")._("669")&&c("gkx")("23188"))},i=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_left",c("justknobx")._("1051")&&c("gkx")("23189"))},j=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("random_el_wrapper_for_story_title",c("justknobx")._("706")&&c("gkx")("23190"))},k=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_right_with_div",c("justknobx")._("1175")&&c("gkx")("23191"))},l=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_margin_left_with_div",c("justknobx")._("1211")&&c("gkx")("23192"))},m=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_style_width_with_div",c("justknobx")._("1212")&&c("gkx")("23193"))},n=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_extra_layer",c("justknobx")._("794")&&c("gkx")("23195"))},o=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_multiple_layers",c("justknobx")._("843")&&c("gkx")("23196"))},p=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_segments",c("justknobx")._("1070")&&c("gkx")("23197"))},q=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text",c("justknobx")._("783")&&c("gkx")("23198"))},r=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_text",c("justknobx")._("1749")&&c("gkx")("23199"))},s=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("parent_style_randomizer",c("justknobx")._("2217")&&c("gkx")("2750"))},t=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("svg_text_use_tspan",c("justknobx")._("1141")&&c("gkx")("23200"))},u=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("mock_footer_rel_attribute",c("justknobx")._("2382")&&c("gkx")("3356"))},v=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_elements_hidden_by_position",c("justknobx")._("2644")&&c("gkx")("4192"))},w=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("canvas_random_text_breakdown",c("justknobx")._("3332")&&c("gkx")("6934"))},x=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fake_canvas",c("justknobx")._("3337")&&c("gkx")("5043"))},y=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("sponsored_label_extra_span",c("justknobx")._("3371")&&c("gkx")("8287"))},z=function(){return d("GHLMitigationsCounter").incrementMitigationCounterAndReturn("fallback_to_scrambler",c("justknobx")._("3326")&&c("gkx")("7396"))};g.getIsGHLShimRandomizePlaceholderEnabled=a;g.getIsGHLRandomElementWrapperForLinksEnabled=b;g.getIsGHLRandomElementWrapperForStoryTitleEnabled=j;g.getIsGHLEmptyAElementEnabled=f;g.getIsGHLEmptyDivElementAfterH3Enabled=h;g.getIsGHLParentStyleRandomizationEnabled=s;g.getIsGHLSVGStyleMarginRightEnabled=e;g.getIsGHLSVGStyleMarginLeftEnabled=i;g.getIsGHLSVGStyleMarginRightWithDivEnabled=k;g.getIsGHLSVGStyleMarginLeftWithDivEnabled=l;g.getIsGHLSVGStyleWidthtWithDivEnabled=m;g.getIsGHLSVGExtraLayerEnabled=n;g.getIsGHLSVGMultipleLayersEnabled=o;g.getIsGHLSVGTextSegmentsEnabled=p;g.getIsGHLSVGTextEnabled=q;g.getIsGHLCanvasTextEnabled=r;g.getIsGHLSVGTextUseTspanEnabled=t;g.getIsGHLMockFooterRelAttributeEnabled=u;g.getIsGHLFakeElementHiddenByPositionEnabled=v;g.getIsGHLCanvasRandomTextBreakdownEnabled=w;g.getIsGHLFakeCanvasEnabled=x;g.getIsGHLSponsoredLabelExtraSpanEnabled=y;g.getIsGHLFallbackToScramblerEnabled=z}),98);
__d("TrustedTypesLinkTagHTMLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";a={createHTML:function(a){if(a==="<link />")return a;throw c("err")("Violating Trusted Type policies. Only works for '<link />' strings.")}};b=c("TrustedTypes").createPolicy("link-tag-html",a);d=b;g["default"]=d}),98);
__d("getMarkupWrap",["invariant","ExecutionEnvironment","TrustedTypesLinkTagHTMLPolicy"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k={};b=[1,'<select multiple="true">',"</select>"];d=[1,"<table>","</table>"];e=[3,"<table><tbody><tr>","</tr></tbody></table>"];var l=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:b,option:b,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:e,th:e};f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(a){m[a]=l,k[a]=!0});function a(a){a=a;!j&&h(0,144);Object.prototype.hasOwnProperty.call(m,a)||(a="*");Object.prototype.hasOwnProperty.call(k,a)||(a==="*"?j.innerHTML=c("TrustedTypesLinkTagHTMLPolicy").createHTML("<link />"):j.innerHTML="<"+a+"></"+a+">",k[a]=!j.firstChild);return k[a]?m[a]:null}g["default"]=a}),98);
__d("createNodesFromMarkup",["invariant","ExecutionEnvironment","TrustedTypesNoOpPolicy_DO_NOT_USE","getMarkupWrap"],(function(a,b,c,d,e,f,g,h){var i,j=(i||c("ExecutionEnvironment")).canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;function l(a){a=a.match(k);return a&&a[1].toLowerCase()}function a(a,b){var d=j;!j&&h(0,5001);var e=l(a);e=e&&c("getMarkupWrap")(e);if(e){d.innerHTML=e[1]+a+e[2];e=e[0];while(e--)d=d.lastChild}else d.innerHTML=c("TrustedTypesNoOpPolicy_DO_NOT_USE").createHTML(a);e=d.getElementsByTagName("script");e.length&&(b||h(0,5002),Array.from(e).forEach(b));a=Array.from(d.childNodes);while(d.lastChild)d.removeChild(d.lastChild);return a}g["default"]=a}),98);
__d("evalGlobal",[],(function(a,b,c,d,e,f){function a(a){if(typeof a!=="string")throw new TypeError("JS sent to evalGlobal is not a string. Only strings are permitted.");if(!a)return;var b=document.createElement("script");try{b.appendChild(document.createTextNode(a))}catch(c){b.text=a}a=document.getElementsByTagName("head")[0]||document.documentElement;a.appendChild(b);a.removeChild(b)}f["default"]=a}),66);
__d("HTML",["invariant","Bootloader","FBLogger","createNodesFromMarkup","emptyFunction","evalGlobal"],(function(a,b,c,d,e,f,g){var h=/(<(\w+)[^>]*?)\/>/g,i={abbr:!0,area:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0};a=function(){"use strict";function a(c){c&&typeof c.__html==="string"&&(c=c.__html);if(!(this instanceof a))return c instanceof a?c:new a(c);if(c){var d=typeof c;d==="string"||g(0,277,d)}this._markup=c||"";this._defer=!1;this._nodes=null;this._inlineJS=b("emptyFunction");this._rootNode=null;this._hasInlineJs=!1}var c=a.prototype;c.toString=function(){return this._markup};c.getContent=function(){return this._markup};c.getNodes=function(){this._fillCache();return this._nodes};c.getRootNode=function(){this._rootNode&&g(0,278);var a=this.getNodes();if(a.length===1)this._rootNode=a[0];else{var b=document.createDocumentFragment();for(var c=0;c<a.length;c++)b.appendChild(a[c]);this._rootNode=b}return this._rootNode};c.getAction=function(){var a=this;this._fillCache();var b=function(){a._inlineJS()};return this._defer?function(){setTimeout(b,0)}:b};c._fillCache=function(){if(this._nodes!==null)return;if(!this._markup){this._nodes=[];return}var a=this._markup.replace(h,function(a,b,c){return i[c.toLowerCase()]?a:b+"></"+c+">"}),c=null;a=b("createNodesFromMarkup")(a,function(a){b("FBLogger")("staticresources").warn("HTML: encountered script node while parsing, hasSrc=%s, type=%s",Boolean(a.src),a.type==null||a.type===""?"<unknown>":a.type),a.type!=="application/ld+json"&&a.type!=="application/json"&&(c=c||[],c.push(a.src?b("Bootloader").requestJSResource_UNSAFE_NEEDS_REVIEW_BY_SECURITY_AND_XFN.bind(b("Bootloader"),a.src):b("evalGlobal").bind(null,a.innerHTML)),a.parentNode.removeChild(a))});c&&(this._hasInlineJs=!0,this._inlineJS=function(){for(var a=0;a<c.length;a++)c[a]()});this._nodes=a};c.setDeferred=function(a){this._defer=!!a;return this};c.hasInlineJs=function(){return this._hasInlineJs};a.isHTML=function(b){return!!b&&(b instanceof a||b.__html!==void 0)};a.replaceJSONWrapper=function(b){return b&&b.__html!==void 0?new a(b.__html):b};return a}();e.exports=a}),null);
__d("VideoPlayerAudioAvailabilityInfo",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.audioAvailability;a=a.mutedSegmentsUnsanitized;a=a.map(function(a){return a.muteStartTimeInSec!=null&&a.muteEndTimeInSec!=null&&a.muteEndTimeInSec>a.muteStartTimeInSec?{muteEndTimeInSec:a.muteEndTimeInSec,muteStartTimeInSec:a.muteStartTimeInSec}:null}).filter(Boolean);return{audioAvailability:b,mutedSegments:a}}function b(a,b){var d=a.audioAvailability;a=a.mutedSegments;var e=b.playheadPosition,f;b=!1;var g=!1;switch(d){case"AVAILABLE_BUT_MUTED":a.length>0?(b=e!=null&&a.some(function(a){return a.muteStartTimeInSec<=e&&e<=a.muteEndTimeInSec}),b?(f="VOLUME_COPYRIGHT_PARTIAL_SILENCED",g=!0):f="VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED"):(f="VOLUME_COPYRIGHT_FULL",g=!0);break;case"AVAILABLE_BUT_SILENT":case"UNAVAILABLE":f="VOLUME_SILENT";g=!0;break;case"AVAILABLE":case"UNKNOWN":case"AVAILABLE_BUT_MISSING_LOUDNESS_DATA":case null:case void 0:f="VOLUME_DEFAULT";break;default:c("recoverableViolation")("Unhandled audio availability: "+d,"comet_video_player");f="VOLUME_DEFAULT";break}return{isPlayheadWithinMutedSegment:b,isSilentAtPlayhead:g,volumeControlState:f}}d=a({audioAvailability:null,mutedSegmentsUnsanitized:[]});g.makeVideoPlayerAudioAvailabilityInfo=a;g.makeVideoPlayerAudioAvailabilityAtPlayheadInfo=b;g.VideoPlayerAudioAvailabilityInfoDefault=d}),98);
__d("VideoPlayerContexts",["VideoPlayerAudioAvailabilityInfo","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);c=a(!1);e=a("");f=a(null);var i=a(0),j=a(0),k=a(!1),l=a(!1),m=a(!0),n=a(!1),o=a(!1),p=a(null),q=a(!1),r=a(!1),s=a(null),t=a(null),u=a(null),v=a(null),w=a([]),x=a("notselected"),y=a([]),z=a(null),A=a(null),B=a(null),C=a(""),D=a([]),E=a(null),F=a(!1),G=a(!1),H=a(null),I=a(1),J=a(!1),K=a(0),L=a(0),M=a(null),N=a(null),O=a(null),P=a(null),Q=a(!1),R=a(!1),S=a(null),T=a("deny"),U=a(null),V=a("unknown"),W=a(!1),X=a({release:function(a){},reserve:function(a){return a}}),Y=a([]),Z=a(!1),$=a(0),aa=a(0),ba=a(null),ca=a(!1),da=a(!1);d=a(d("VideoPlayerAudioAvailabilityInfo").VideoPlayerAudioAvailabilityInfoDefault);var ea=a(1),fa=a(!1),ga=a(!1),ha=a(null),ia=a("normal");a=a([]);g.VideoFBIDContext=b;g.IsAbrEnabledContext=c;g.TargetVideoQualityContext=e;g.AdClientTokenContext=f;g.LoopCountContext=i;g.LoopCurrentContext=j;g.PlayingContext=k;g.StallingContext=l;g.PausedContext=m;g.EndedContext=n;g.InPlayStallingContext=o;g.ErrorContext=p;g.IsLiveContext=q;g.SeekingContext=r;g.ControllerContext=s;g.LastMuteReasonContext=t;g.LastPlayReasonContext=u;g.LastPauseReasonContext=v;g.AvailableVideoQualitiesContext=w;g.SelectedVideoQualityContext=x;g.AvailableAudioTracksContext=y;g.TargetAudioTrackContext=z;g.CurrentAudioTrackIDContext=A;g.CurrentVideoTrackIDContext=B;g.CurrentVideoQualityContext=C;g.AvailableVideoTracksContext=D;g.ActiveCaptionsContext=E;g.CaptionsVisibleContext=F;g.CaptionsLoadedContext=G;g.CaptionDisplayStyleContext=H;g.VolumeContext=I;g.MutedContext=J;g.DurationContext=K;g.BufferEndContext=L;g.InstanceKeyContext=M;g.VideoPixelsAspectRatioContext=N;g.DimensionsContext=O;g.PlayerVersionContext=P;g.VideoPlayerMouseHoverContext=Q;g.VideoPlayerMouseIdleContext=R;g.BroadcastStatusContext=S;g.CanAutoplayContext=T;g.VolumeSettingContext=U;g.AutoplayGatingResultContext=V;g.InbandCaptionsAutogeneratedContext=W;g.VideoPlayerCaptionsReservationActionsContext=X;g.VideoPlayerCaptionsReservationsContext=Y;g.StreamInterruptedContext=Z;g.WatchTimeContext=$;g.LastPlayedTimeContext=aa;g.SeekableRangesContext=ba;g.IsLiveRewindActiveContext=ca;g.IsLiveRewindAvailableContext=da;g.AudioAvailabilityInfoContext=d;g.PlaybackRateContext=ea;g.IsNCSRContext=fa;g.IsPremiumMusicVideoContext=ga;g.InitialTracePolicyContext=ha;g.LatencyLevelContext=ia;g.ActiveEmsgBoxesContext=a}),98);
__d("VideoPlayerVideoPixelsFitContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);c=b;g["default"]=c}),98);
__d("VideoPlayerViewabilityContexts",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(null);c=a(!1);e=a(!1);f=a(null);g.VideoPlayerPassiveViewabilityInfoContext=b;g.VideoPlayerDesktopPictureInPictureContext=c;g.VideoPlayerFullscreenContext=e;g.VideoPlayerExtendedPassiveViewabilityInfoContext=f}),98);
__d("VideoPlayerHooks",["DOMRectIsEqual","VideoPlayerContexts","VideoPlayerVideoPixelsFitContext","VideoPlayerViewabilityContexts","clearTimeout","react","react-compiler-runtime","removeFromArray","setTimeout","unrecoverableViolation","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=j.useContext,l=j.useEffect,m=j.useRef,n=j.useState;function a(a){var b=d("react-compiler-runtime").c(3),c=m(a),e,f;b[0]!==a?(e=function(){c.current=a},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);l(e,f);return c}function o(){var a=k((i||(i=d("VideoPlayerContexts"))).ControllerContext);if(a==null)throw c("unrecoverableViolation")("Empty ControllerContext. Are you rendering useController outside of VideoPlayerRelay/VideoPlayerX?","comet_video_player");return a}function b(){var a=k((i||(i=d("VideoPlayerContexts"))).InstanceKeyContext);if(a==null)throw c("unrecoverableViolation")("Empty InstanceKeyContext. Are you rendering useInstanceKey outside of VideoPlayerRelay/VideoPlayerX?","comet_video_player");return a}function p(){var a=T();return a==="LIVE"}function e(){var a=T();return a==="LIVE"||a==="VOD_READY"}function f(){return k((i||(i=d("VideoPlayerContexts"))).BufferEndContext)}function q(){return k((i||(i=d("VideoPlayerContexts"))).DurationContext)}function r(){return k((i||(i=d("VideoPlayerContexts"))).SeekingContext)}function s(){return k((i||(i=d("VideoPlayerContexts"))).EndedContext)}function t(){return k((i||(i=d("VideoPlayerContexts"))).ErrorContext)}function u(){return k((i||(i=d("VideoPlayerContexts"))).PlayingContext)}function v(){var a=d("react-compiler-runtime").c(3),b=n(0),c=b[0],e=b[1],f=o(),g;a[0]!==f?(b=function(){var a=f.subscribe(function(){e(f.getPlayheadPosition())});e(f.getPlayheadPosition());return function(){return a.remove()}},g=[f],a[0]=f,a[1]=b,a[2]=g):(b=a[1],g=a[2]);l(b,g);return c}function w(a,b){var e=d("react-compiler-runtime").c(9),f=n(0),g=f[0],h=f[1],i=o(),j=m(null),k=m(g);e[0]!==a||e[1]!==b||e[2]!==i?(f=function(){var d=i.subscribe(function(){k.current=b?b(i):i.getPlayheadPosition();if(j.current!=null)return;j.current=c("setTimeout")(function(){h(k.current),j.current=null},a)});h(i.getPlayheadPosition());return d.remove},e[0]=a,e[1]=b,e[2]=i,e[3]=f):f=e[3];var p;e[4]!==a||e[5]!==i?(p=[i,a],e[4]=a,e[5]=i,e[6]=p):p=e[6];l(f,p);e[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return function(){j.current!==null&&(c("clearTimeout")(j.current),j.current=null)}},p=[],e[7]=f,e[8]=p):(f=e[7],p=e[8]);l(f,p);return g}function x(a){var b=d("react-compiler-runtime").c(7),e=a===void 0?200:a;a=n(0);var f=a[0],g=a[1],h=o(),i=p(),j=m(null),k=m(f),q;b[0]!==e||b[1]!==i||b[2]!==h?(a=function(){if(!i)return;var a=h.subscribe(function(){if(j.current!=null)return;j.current=c("setTimeout")(function(){h.getCurrentState().paused||(k.current=k.current+e/1e3,g(k.current)),j.current=null},e)});g(0);return function(){return a.remove()}},q=[h,e,i],b[0]=e,b[1]=i,b[2]=h,b[3]=a,b[4]=q):(a=b[3],q=b[4]);l(a,q);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return function(){j.current!==null&&(c("clearTimeout")(j.current),j.current=null)}},q=[],b[5]=a,b[6]=q):(a=b[5],q=b[6]);l(a,q);return!i?null:f}function y(){var a=d("react-compiler-runtime").c(8),b=o(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],a[0]=e):e=a[0];var f=m(e);a[1]!==b?(e=b.isFrozen(),a[1]=b,a[2]=e):e=a[2];var g=m(e);a[3]!==b?(e=function(){return{getCurrentState:function(){return b.isFrozen()},subscribeToChanges:function(a){var b=f.current;b.push(a);return{remove:function(){return c("removeFromArray")(b,a)}}}}},a[3]=b,a[4]=e):e=a[4];e=c("useStable")(e);var h,i;a[5]!==b?(h=function(){var a=b.subscribe(function(){var a=g.current,c=b.isFrozen();g.current=c;if(c!==a){a=f.current;a.forEach(function(a){return a(c)})}});return function(){a.remove()}},i=[b],a[5]=b,a[6]=h,a[7]=i):(h=a[6],i=a[7]);l(h,i);return e}function z(){return k((i||(i=d("VideoPlayerContexts"))).WatchTimeContext)}function A(){return k((i||(i=d("VideoPlayerContexts"))).LastPlayedTimeContext)}function B(){return k((i||(i=d("VideoPlayerContexts"))).PausedContext)}function C(){return k((i||(i=d("VideoPlayerContexts"))).StallingContext)}function D(){return k((i||(i=d("VideoPlayerContexts"))).InPlayStallingContext)}function E(){return k((i||(i=d("VideoPlayerContexts"))).LastMuteReasonContext)}function F(){return k((i||(i=d("VideoPlayerContexts"))).LastPauseReasonContext)}function G(){return k((i||(i=d("VideoPlayerContexts"))).LastPlayReasonContext)}function H(){return k((i||(i=d("VideoPlayerContexts"))).AvailableVideoQualitiesContext)}function I(){return k((i||(i=d("VideoPlayerContexts"))).AvailableAudioTracksContext)}function J(){return k((i||(i=d("VideoPlayerContexts"))).AvailableVideoTracksContext)}function K(){return k((i||(i=d("VideoPlayerContexts"))).CaptionsVisibleContext)}function L(){return k((i||(i=d("VideoPlayerContexts"))).CaptionDisplayStyleContext)}function M(){return k((i||(i=d("VideoPlayerContexts"))).ActiveCaptionsContext)}function N(){return k((i||(i=d("VideoPlayerContexts"))).CurrentAudioTrackIDContext)}function O(){return k((i||(i=d("VideoPlayerContexts"))).CurrentVideoQualityContext)}function P(){return k((i||(i=d("VideoPlayerContexts"))).CurrentVideoTrackIDContext)}function Q(){return k((i||(i=d("VideoPlayerContexts"))).SelectedVideoQualityContext)}function R(){return k((i||(i=d("VideoPlayerContexts"))).TargetAudioTrackContext)}function aa(){return k((i||(i=d("VideoPlayerContexts"))).MutedContext)}function ba(){return k((i||(i=d("VideoPlayerContexts"))).VolumeContext)}function ca(){return k(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext)}function da(){return k(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext)}function ea(){return k((i||(i=d("VideoPlayerContexts"))).DimensionsContext)}function fa(){return k((i||(i=d("VideoPlayerContexts"))).VideoPixelsAspectRatioContext)}function ga(){return k((i||(i=d("VideoPlayerContexts"))).PlayerVersionContext)}function ha(){return k((i||(i=d("VideoPlayerContexts"))).CaptionsLoadedContext)}function ia(){return k((i||(i=d("VideoPlayerContexts"))).IsAbrEnabledContext)}function ja(){return k((i||(i=d("VideoPlayerContexts"))).TargetVideoQualityContext)}function ka(){return k((i||(i=d("VideoPlayerContexts"))).VideoPlayerMouseHoverContext)}function la(){return k((i||(i=d("VideoPlayerContexts"))).VideoPlayerMouseIdleContext)}function S(){return k(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext)}function ma(){return k(d("VideoPlayerViewabilityContexts").VideoPlayerExtendedPassiveViewabilityInfoContext)}function na(){var a=d("react-compiler-runtime").c(6),b=S(),e=n(null),f=e[0],g=e[1],h=m(f),i;a[0]!==f?(e=function(){h.current=f},i=[f],a[0]=f,a[1]=e,a[2]=i):(e=a[1],i=a[2]);l(e,i);a[3]!==b?(e=function(){if(b){var a=function(){var a=b.getCurrent();if(a){var d=a.positionToViewport;a=a.visiblePercentage;var e=h.current;(e==null||a!==e.visiblePercentage||!c("DOMRectIsEqual")(d,e.positionToViewport))&&g({positionToViewport:d,visiblePercentage:a})}},d=b.subscribe(function(){a()});return function(){return d.remove()}}},i=[g,b],a[3]=b,a[4]=e,a[5]=i):(e=a[4],i=a[5]);l(e,i);return f}function T(){return k((i||(i=d("VideoPlayerContexts"))).BroadcastStatusContext)}function oa(){return k((i||(i=d("VideoPlayerContexts"))).CanAutoplayContext)}function pa(){return k((i||(i=d("VideoPlayerContexts"))).VolumeSettingContext)}function qa(){return k((i||(i=d("VideoPlayerContexts"))).AutoplayGatingResultContext)}function ra(){return k((i||(i=d("VideoPlayerContexts"))).VideoFBIDContext)}function U(){return k((i||(i=d("VideoPlayerContexts"))).AdClientTokenContext)}function V(){return k((i||(i=d("VideoPlayerContexts"))).LoopCurrentContext)}function W(){return k((i||(i=d("VideoPlayerContexts"))).LoopCountContext)}function sa(){return k((i||(i=d("VideoPlayerContexts"))).InbandCaptionsAutogeneratedContext)}function ta(){return k((i||(i=d("VideoPlayerContexts"))).VideoPlayerCaptionsReservationsContext)}function ua(){return k((i||(i=d("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext)}function va(){return k((i||(i=d("VideoPlayerContexts"))).StreamInterruptedContext)}function wa(){return k((i||(i=d("VideoPlayerContexts"))).SeekableRangesContext)}function X(){return k((i||(i=d("VideoPlayerContexts"))).IsLiveRewindActiveContext)}function Y(){var a=s(),b=V(),c=W();a=a&&(c===-1||c>0&&b<c);return a}function xa(){var a=s(),b=Y();return a&&!b}function ya(){return k((i||(i=d("VideoPlayerContexts"))).PlaybackRateContext)}function za(){return k((i||(i=d("VideoPlayerContexts"))).IsNCSRContext)}function Z(){return k((i||(i=d("VideoPlayerContexts"))).IsPremiumMusicVideoContext)}function Aa(){var a=U()!=null,b=p(),c=Z(),d=X();if(a||c)return!1;if(b)return d;else return!0}function Ba(){return k((i||(i=d("VideoPlayerContexts"))).InitialTracePolicyContext)}function Ca(){return k((i||(i=d("VideoPlayerContexts"))).LatencyLevelContext)}function Da(){return k((i||(i=d("VideoPlayerContexts"))).AudioAvailabilityInfoContext)}function Ea(){var a=U()!=null,b=p(),c=Z();return a||c||b?!1:!0}function $(a){var b=d("react-compiler-runtime").c(4),c=a===void 0?!0:a,e=o(),f;b[0]!==e||b[1]!==c?(a=function(){if(c){var a=e.registerEmsgObserver();return function(){e.unregisterEmsgObserver(a)}}},f=[e,c],b[0]=e,b[1]=c,b[2]=a,b[3]=f):(a=b[2],f=b[3]);l(a,f)}function Fa(){$();return k((i||(i=d("VideoPlayerContexts"))).ActiveEmsgBoxesContext)}function Ga(){return k(c("VideoPlayerVideoPixelsFitContext"))}g.useLatestValueRef=a;g.useController=o;g.useInstanceKey=b;g.useIsLive=p;g.useIsVideoBroadcast=e;g.useBufferEnd=f;g.useDuration=q;g.useSeeking=r;g.useEnded=s;g.useError=t;g.usePlaying=u;g.useCurrentTime_DO_NOT_USE=v;g.useCurrentTimeThrottled=w;g.useLiveTimeElapsedThrottled=x;g.useIsFrozenPassive=y;g.useWatchTime=z;g.useLastPlayedTime=A;g.usePaused=B;g.useStalling=C;g.useInPlayStalling=D;g.useLastMuteReason=E;g.useLastPauseReason=F;g.useLastPlayReason=G;g.useAvailableVideoQualities=H;g.useAvailableAudioTracks=I;g.useAvailableVideoTracks=J;g.useCaptionsVisible=K;g.useCaptionDisplayStyle=L;g.useActiveCaptions=M;g.useCurrentAudioTrackID=N;g.useCurrentVideoQuality=O;g.useCurrentVideoTrackID=P;g.useSelectedVideoQuality=Q;g.useTargetAudioTrack=R;g.useMuted=aa;g.useVolume=ba;g.useIsDesktopPictureInPicture=ca;g.useIsFullscreen=da;g.useDimensions=ea;g.useVideoPixelsAspectRatio=fa;g.usePlayerVersion=ga;g.useCaptionsLoaded=ha;g.useIsAbrEnabled=ia;g.useTargetVideoQuality=ja;g.useIsHovering=ka;g.useIsMouseIdle=la;g.useVideoPlayerPassiveViewabilityInfo=S;g.useVideoPlayerExtendedPassiveViewabilityInfo=ma;g.useVideoPlayerViewabilityInfo=na;g.useBroadcastStatus=T;g.useCanAutoplay=oa;g.useVolumeSetting=pa;g.useAutoplayGatingResult=qa;g.useVideoFbid=ra;g.useAdClientToken=U;g.useVideoPlayerCurrentLoop=V;g.useVideoPlayerTotalLoops=W;g.useInbandCaptionsAutogenerated=sa;g.useVideoPlayerCaptionsReservations=ta;g.useVideoPlayerCaptionsReservationActions=ua;g.useStreamInterrupted=va;g.useSeekableRanges_DO_NOT_USE=wa;g.useIsLiveRewindActive=X;g.useIsTransitioningToNextLoop=Y;g.useVideoPlaybackEnded=xa;g.usePlaybackRate=ya;g.useIsNCSR=za;g.useIsPremiumMusicVideo=Z;g.useShouldShowPlaybackRateControl=Aa;g.useVideoPlayerInitialTracePolicy=Ba;g.useLatencyLevel=Ca;g.useAudioAvailabilityInfo=Da;g.useShouldPersistPlaybackRate=Ea;g.useEmsgObserver=$;g.useActiveEmsgBoxes=Fa;g.useVideoPlayerVideoPixelsFit=Ga}),98);
__d("VideoPlayerPortalingPlaceInfoProvider.react",["react","react-compiler-runtime","recoverableViolation","useEmptyFunction","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext,k=e.useEffect;e.useMemo;var l=f(null);function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.currentPlaceID,g=a.currentVideoID,h=a.portalingEnabled,j=a.previousPlaceMetaData;a=a.thisPlaceID;c("vulture")("1jYuKOivBMS");var k;b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==j||b[4]!==a?(k={currentPlaceID:f,currentVideoID:g,portalingEnabled:h,previousPlaceMetaData:j,thisPlaceID:a},b[0]=f,b[1]=g,b[2]=h,b[3]=j,b[4]=a,b[5]=k):k=b[5];f=k;g=f;b[6]!==e||b[7]!==g?(h=i.jsx(l.Provider,{value:g,children:e}),b[6]=e,b[7]=g,b[8]=h):h=b[8];return h}var m=c("useEmptyFunction");function b(){var a=d("react-compiler-runtime").c(1),b=j(l);m(b);if(b==null){var c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={currentPlaceID:null,currentVideoID:null,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:null},a[0]=c):c=a[0];return c}return b}g.VideoPlayerPortalingPlaceInfoProvider=a;g.useVideoPlayerPortalingPlaceInfo=b}),98);
__d("debounceCore",["TimeSlice"],(function(a,b,c,d,e,f,g){function a(a,b,d,e,f,g){d===void 0&&(d=null);e===void 0&&(e=setTimeout);f===void 0&&(f=clearTimeout);g===void 0&&(g=!1);var h,i=!0;function j(){for(var k=arguments.length,l=new Array(k),m=0;m<k;m++)l[m]=arguments[m];var n;if(g){n=c("TimeSlice").guard(function(){i=!0,h=null},"debounceCore");if(!i){f(h);h=e(n,b);return}i=!1;a.apply(d,l)}else j.reset(),n=c("TimeSlice").guard(function(){h=null,a.apply(d,l)},"debounceCore");n.__SMmeta=a.__SMmeta;h=e(n,b)}j.reset=function(){f(h),h=null,i=!0};j.isPending=function(){return h!=null};return j}g["default"]=a}),98);
__d("debounce",["clearTimeout","debounceCore","setTimeout"],(function(a,b,c,d,e,f,g){function a(a,b,d,e,f){b===void 0&&(b=100);var g=function(a,b,d){return c("setTimeout")(a,b,d,!e)};return c("debounceCore")(a,b,d,g,c("clearTimeout"),f)}g["default"]=a}),98);
__d("getOwnObjectValues",[],(function(a,b,c,d,e,f){function a(a){return Object.keys(a).map(function(b){return a[b]})}f["default"]=a}),66);
__d("goURIOnWindow",["ConstUriUtils","FBLogger","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=typeof b==="string"?d("ConstUriUtils").getUri(b):d("ConstUriUtils").isConstUri(b);if(e){if(a==null)return!1;a.location=e.toString();return!0}else{a="Invalid URI "+b.toString()+" provided to goURIOnWindow";c("FBLogger")("comet_infra").blameToPreviousFrame().mustfix(a);return!1}}g["default"]=a}),98);
__d("goUriOnNewWindow",["goURIOnWindow"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=window.open("","_blank");return b==null?!1:c("goURIOnWindow")(b,a)}g["default"]=a}),98);
__d("intlSummarizeNumber",["FbtNumberType","IntlCompactDecimalNumberFormatConfig","IntlVariations","intlNumUtils"],(function(a,b,c,d,e,f,g){var h=3,i=14,j={ROUND:"ROUND",TRUNCATE:"TRUNCATE",NONE:"NONE"},k={SHORT:"SHORT",LONG:"LONG",NONE:"NONE"},l={ALWAYS_SHOW:"ALWAYS_SHOW",HIDE_IF_ZERO:"HIDE_IF_ZERO"};function a(a,b,d,e,f){d===void 0&&(d=k.SHORT);e===void 0&&(e=j.ROUND);f===void 0&&(f=l.ALWAYS_SHOW);var g=c("IntlCompactDecimalNumberFormatConfig")[d===k.SHORT?"short_patterns":"long_patterns"],n=a===0?0:Math.floor(Math.log10(Math.abs(a)));n>i&&(n=i);var o=e===j.NONE?[a,b,!1]:m(a,n,b,e,g),p=o[0],q=o[1];o=o[2];if(o&&e===j.ROUND){n+=1;o=m(a,n,b,e,g);p=o[0];q=o[1];o[2]}e=c("FbtNumberType").getVariation(p)||c("IntlVariations").NUMBER_OTHER;o=n.toString();o=g==null?void 0:(g=g[o])==null?void 0:g[e.toString()];if(!o||n<h||o.positive_prefix_pattern===""&&o.positive_suffix_pattern===""){g=b===void 0?0:b;return c("intlNumUtils").formatNumberWithThousandDelimiters(a,g)}if(f===l.HIDE_IF_ZERO){e=p;for(n=q!=null?q:0;n>0;n--)e%1===0&&q!=null&&q--,e*=10}if(d===k.NONE)return c("intlNumUtils").formatNumberWithThousandDelimiters(p,q);return o&&o.min_integer_digits===0&&p===1?o.positive_prefix_pattern+o.positive_suffix_pattern:(o&&o.positive_prefix_pattern||"")+c("intlNumUtils").formatNumberWithThousandDelimiters(p,q)+(o&&o.positive_suffix_pattern||"")}function m(a,b,d,e,f){var g=b.toString();g=f==null?void 0:(f=f[g])==null?void 0:f[c("IntlVariations").NUMBER_OTHER.toString()];f=g&&g.min_integer_digits||b+1;var h=b-f+1;h=Math.abs(a)/Math.pow(10,h);var k=d!=null;d=k?d:g&&g.min_fraction_digits;d==null&&(d=b>2?1:0);g=e===j.TRUNCATE?c("intlNumUtils").truncateLongNumber(h.toString(),d):h.toFixed(d);e=parseFloat(g)*(a<0?-1:1);return[e,e%1===0&&!k?0:d,g.length>f+(d>0?d+1:0)+(h>=0?0:1)&&b<i]}g["default"]=a}),98);
__d("isIntersectionObserverEntryVPVDVisible",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=200,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.boundingClientRect;var e=a.intersectionRect,f=a.rootBounds;d=d||i;e=e||i;f=f||i;return e.height>=b||e.height>=f.height/2||e.height===d.height||a.intersectionRatio>.95}g["default"]=a}),98);
__d("isIntersectionObserverEntryVPVDVisiblePct",["intersectionObserverEntryIsIntersecting"],(function(a,b,c,d,e,f,g){"use strict";var h=.5,i={height:0};function a(a,b){b===void 0&&(b=h);var d=c("intersectionObserverEntryIsIntersecting")(a);if(d===!1)return!1;d=a.intersectionRect;var e=a.rootBounds,f=a.boundingClientRect;if(f==null||f.height===0)return!1;d=d||i;e=e||i;return d.height/f.height>=b||d.height>=e.height/2||a.intersectionRatio>.95}g["default"]=a}),98);
__d("scrollTo",["debounce","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,d=a.onScrollComplete,e=a.onScrollStart,f=babelHelpers.objectWithoutPropertiesLoose(a,["onScrollComplete","onScrollStart"]);b=(b=a.top)!=null?b:window.pageYOffset;a=(a=a.left)!=null?a:window.pageXOffset;e&&e();if(window.pageYOffset===b&&window.pageXOffset===a){d&&d();return{dispose:c("emptyFunction")}}e=!1;try{var g=document.documentElement;if(g==null){d&&d();return{dispose:c("emptyFunction")}}g="scrollBehavior"in g.style;g?window.scrollTo(f):e=!0}catch(a){e=!0}if(e){window.scrollTo(a,b);d&&d();return{dispose:c("emptyFunction")}}var h,i=!1;d!=null&&(h=c("debounce")(function(){i=!0,window.removeEventListener("scroll",h),d&&d()},200),window.addEventListener("scroll",h,{passive:!0}),window.dispatchEvent(new Event("scroll")));return{dispose:function(){if(i)return;h&&h.reset();window.removeEventListener("scroll",h);window.scrollTo(window.pageYOffset,window.pageXOffset)}}}g["default"]=a}),98);
__d("scrollIntoView",["debounce","emptyFunction","recoverableViolation","scrollTo"],(function(a,b,c,d,e,f,g){"use strict";var h={center:"center",top:"start",bottom:"end",closest:"nearest"};function a(a,b){b===void 0&&(b=Object.freeze({}));var d=b,e=d.behavior;e=e===void 0?"auto":e;var f=d.onScrollComplete,g=f===void 0?c("emptyFunction"):f;f=d.onScrollStart;f=f===void 0?c("emptyFunction"):f;var j=d.force;j=j===void 0?!1:j;d=d.localScroll;d=d===void 0?!1:d;var k=a.getBoundingClientRect();d=d&&a instanceof HTMLElement?i(a):document.documentElement;if(d==null){c("recoverableViolation")("There is no scrolling element accessible on document, something is seriously wrong and I couldn't imagine the situation you have found yourself in","comet_ui");return{dispose:c("emptyFunction")}}var l=d.clientHeight,m=k.top<=l&&k.bottom>=0;f();if(!j&&m){g!=null&&g();return{dispose:c("emptyFunction")}}j=(f=b.verticalAlign)!=null?f:"closest";try{m="scrollBehavior"in d.style;if(m){a.scrollIntoView({behavior:e,block:j!=null?h[j]:void 0});var n,o=!1;g!=null&&(n=c("debounce")(function(){o=!0,window.removeEventListener("scroll",n,{capture:!0}),g()},200),window.addEventListener("scroll",n,{passive:!0,capture:!0}),window.dispatchEvent(new Event("scroll")));return{dispose:function(){if(o)return;n&&n.reset();window.removeEventListener("scroll",n,{capture:!0});window.scrollTo(window.pageYOffset,window.pageXOffset)}}}}catch(a){}j==="closest"&&(k.top>=l?j="bottom":j="top");var p;switch(j){case"top":p=window.pageYOffset+k.top;break;case"bottom":p=window.pageYOffset+k.bottom-l;break;case"center":p=window.pageYOffset+k.bottom-l+(l-k.height)/2;break}return c("scrollTo")({behavior:e,top:p,onScrollComplete:g})}function i(a){if(a==null||!(a.parentElement instanceof HTMLElement))return document.documentElement;if(a.scrollHeight>a.clientHeight)return a;else return i(a.parentElement)}g["default"]=a}),98);
__d("unfinishedCommentTracking",[],(function(a,b,c,d,e,f){"use strict";var g={base:new Map(),dialog:new Map()},h=!1;function i(){return g[h?"dialog":"base"]}function a(){return Boolean(Array.from(i()).find(function(a){a[0];a=a[1];return Boolean(Array.from(a).find(function(a){return a()===!0}))}))}function b(a,b){if(h){var c=g.base.get(a);if(c!=null&&c.size>0)return}c=(c=i().get(a))!=null?c:new Set();c.add(b);i().set(a,c)}function c(a,b){var c=i().get(a);c!=null&&(c["delete"](b),c.size===0&&i()["delete"](a))}function j(a){h=a,h||(g.dialog.forEach(function(a){return a.clear()}),g.dialog.clear())}function d(){j(!1),[g.base,g.dialog].forEach(function(a){a.clear()})}e={addCheck:b,hasAnyUnfinishedComments:a,removeCheck:c,reset:d,setDialogActive:j};f["default"]=e}),66);
__d("useCometPassiveWindowSize",["ExecutionEnvironment","react","react-compiler-runtime","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function m(){if((h||(h=c("ExecutionEnvironment"))).canUseDOM)try{return{innerHeight:window.innerHeight,innerWidth:window.innerWidth,outerHeight:window.outerHeight,outerWidth:window.outerWidth}}catch(a){return{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}}return{innerHeight:0,innerWidth:0,outerHeight:0,outerWidth:0}}function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];var e=k(b);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){return{getCurrent:o,subscribe:function(a){e.current.push(a);return{remove:function(){c("removeFromArray")(e.current,a)}}}}},a[1]=b):b=a[1];b=l(b);b=b[0];var f,g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a=function(){var a=Array.from(e.current);a.forEach(n)};window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},g=[],a[2]=f,a[3]=g):(f=a[2],g=a[3]);j(f,g);return b}function n(a){return a()}function o(){return m()}g["default"]=a}),98);
__d("useCometScrollAnchor",["BaseDOMContainer.react","BaseViewportMarginsContext","CometScrollAnchorContext","ExecutionEnvironment","HiddenSubtreePassiveContext","react","react-compiler-runtime","recoverableViolation","scrollTo"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;f=e.createContext;var k=e.useContext,l=e.useEffect;e.useMemo;var m=e.useRef,n=e.useState,o=16,p=f(null);function a(a,b,e){var f=d("react-compiler-runtime").c(20);if(f[0]!==e){var g;g=(g=e)!=null?g:{};f[0]=e;f[1]=g}else g=f[1];var h,i,j;if(f[2]!==g){e=g;i=e.arbitraryMargin;j=e.verticalAlign;h=babelHelpers.objectWithoutPropertiesLoose(e,["arbitraryMargin","verticalAlign"]);f[2]=g;f[3]=h;f[4]=i;f[5]=j}else h=f[3],i=f[4],j=f[5];var q=i===void 0?o:i,r=j===void 0?"top":j,s=m(null),t=k(c("CometScrollAnchorContext"));t==null?void 0:t.key;t==null?void 0:t.value;e=b!==null&&a===(t==null?void 0:t.key)&&b===(t==null?void 0:t.value);var u=e,v=k(c("HiddenSubtreePassiveContext"));g=n(!v.getCurrentState().hiddenOrBackgrounded);var w=g[0],x=g[1],y=k(c("BaseViewportMarginsContext")),z=m(null),A=k(p);f[6]!==q||f[7]!==(t==null?void 0:t.disableScrollFixer)||f[8]!==A||f[9]!==h||f[10]!==r||f[11]!==y?(i=function(){var a=s.current;if(a!=null){var b=document.documentElement;if(b==null){c("recoverableViolation")("There is no documentElement accessible on document","comet_ui");return}b=b.clientHeight;a=a.getBoundingClientRect();var d=0;bb45:switch(r){case"top":d=a.top-q-y.top;break bb45;case"center":d=a.top-y.top-(b-y.top-y.bottom)/2+a.height/2;break bb45;case"bottom":d=a.bottom-b+q+y.bottom}a=window.pageYOffset+d;b=document.body;d=(d=A)!=null?d:b;if((t==null?void 0:t.disableScrollFixer)!==!0&&b!=null&&d!=null&&b.scrollHeight<a+window.innerHeight){var e=z.current=document.createElement("div");e.className="x1n2onr6 x1i1rx1s x8knxv4";e.style.marginTop="-"+(b.scrollHeight-a)+"px";e.style.height=window.innerHeight+"px";d.appendChild(e)}c("scrollTo")(babelHelpers["extends"]({},h,{top:a}))}},f[6]=q,f[7]=t==null?void 0:t.disableScrollFixer,f[8]=A,f[9]=h,f[10]=r,f[11]=y,f[12]=i):i=f[12];var B=i,C=m(B);f[13]!==B?(j=function(){C.current=B},f[13]=B,f[14]=j):j=f[14];l(j);f[15]!==v||f[16]!==u||f[17]!==w?(a=function(){if(u)if(w){C.current();return function(){var a=z.current;a!=null&&a.parentNode!=null&&(a.parentNode.removeChild(a),z.current=null)}}else{var a=v.subscribeToChanges(function(a){a=a.hiddenOrBackgrounded;return x(!a)});return function(){return a.remove()}}},b=[v,u,w],f[15]=v,f[16]=u,f[17]=w,f[18]=a,f[19]=b):(a=f[18],b=f[19]);l(a,b);return s}function b(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=(h||(h=c("ExecutionEnvironment"))).canUseDOM?document.createElement("div"):null,b[0]=e):e=b[0];e=e;e=e;var f;b[1]!==a?(f=j.jsx(p.Provider,{value:e,children:a}),b[1]=a,b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("BaseDOMContainer.react"),{node:e}),b[3]=a):a=b[3];b[4]!==f?(e=j.jsxs(j.Fragment,{children:[f,a]}),b[4]=f,b[5]=e):e=b[5];return e}g.CometScrollAnchorMountingPointContext=p;g.useCometScrollAnchor=a;g.CometScrollFixerRoot=b}),98);
__d("useNoopDebuggingInfoComponent",["react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){};function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[null,h],a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("useStatesInMap",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b){var c=d("react-compiler-runtime").c(11),e=j(a),f;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},c[0]=f):f=c[0];var g=j(f);f=k(b);var h=f[0],l=f[1],m;c[1]!==a||c[2]!==b?(f=function(){if(e.current!==a){var c;e.current=a;l((c=g.current[a])!=null?c:b)}},m=[g,l,e,a,b],c[1]=a,c[2]=b,c[3]=f,c[4]=m):(f=c[3],m=c[4]);i(f,m);c[5]!==h||c[6]!==a?(f=function(){g.current[a]=h},m=[h,a],c[5]=h,c[6]=a,c[7]=f,c[8]=m):(f=c[7],m=c[8]);i(f,m);c[9]!==h?(f=[h,l],c[9]=h,c[10]=f):f=c[10];return f}g["default"]=a}),98);
__d("vpvdConstants",[],(function(a,b,c,d,e,f){"use strict";a=250;b=200;f.DEFAULT_MIN_VISIBLE_TIME_MS=a;f.DEFAULT_MIN_VISIBLE_PX=b}),66);
__d("useVPVDImpression",["CometVPVDUserActivityMonitor","cr:921407","isIntersectionObserverEntryVPVDVisible","isIntersectionObserverEntryVPVDVisiblePct","react","react-compiler-runtime","useVisibilityObserver","vpvdConstants"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var e=d("react-compiler-runtime").c(19),f=a.isLite,g=a.minVisiblePct,h=a.minVisiblePx,i=a.minVisibleTimeMs,j=a.onVPVDEnd;a=a.onVPVDStart;h=h===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_PX:h;var k=i===void 0?d("vpvdConstants").DEFAULT_MIN_VISIBLE_TIME_MS:i;i=b("cr:921407")();var l=i[0];i=i[1];var m;e[0]!==k||e[1]!==j?(m=function(a){if(a.visibleDuration<k)return;j(a)},e[0]=k,e[1]=j,e[2]=m):m=e[2];m=m;var n=f===!0?1:h;e[3]!==n||e[4]!==g?(h=function(a){return g!=null?c("isIntersectionObserverEntryVPVDVisiblePct")(a,g):c("isIntersectionObserverEntryVPVDVisible")(a,n)},e[3]=n,e[4]=g,e[5]=h):h=e[5];h=h;var o;e[6]!==f?(o=f===!0?null:{thresholdOverride:"EXPENSIVE"},e[6]=f,e[7]=o):o=e[7];f=o;e[8]!==h||e[9]!==f?(o=babelHelpers["extends"]({activityMonitorOverride:c("CometVPVDUserActivityMonitor"),isEntryInViewport:h},f),e[8]=h,e[9]=f,e[10]=o):o=e[10];h=o;e[11]!==m||e[12]!==a||e[13]!==h||e[14]!==i?(f={onHidden:m,onVisibilityDurationUpdated:i,onVisible:a,options:h},e[11]=m,e[12]=a,e[13]=h,e[14]=i,e[15]=f):f=e[15];o=c("useVisibilityObserver")(f);e[16]!==o||e[17]!==l?(m=[o,l],e[16]=o,e[17]=l,e[18]=m):m=e[18];return m}g["default"]=a}),98);
__d("useVideoPlayerPortalingPassthroughProps",["VideoPlayerPortalingPlaceInfoProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){var a=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),b=a.currentVideoID,c=a.thisPlaceID;return i(function(){return{portableVideoID:b,portalingPlaceID:c,positionToViewport:null}},[b])}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSComputeOptimisticThreadCapabilities",["LSArrayGetObjectAt","LSComputeParticipantCapabilities","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.createArray(),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[1]=a[0],a})},function(e){return c.forEach(c.db.table(14).fetch([[[a[0],{lt:d[1]}],[a[0],{gt:d[1]}]]]),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSComputeParticipantCapabilities"),f.contactId,a[0]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[34]=(d[0].push(d[33]),d[0])}])})},function(a){return d[2]=c.i64.cast([0,1073741823]),d[3]=c.i64.of_int32(d[0].length),c.i64.gt(d[3],c.i64.cast([0,0]))?c.loopAsync(d[3],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[0],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[2]=c.i64.and_(d[2],d[34])}])}):c.resolve()},function(b){return d[4]=c.i64.of_int32(d[0].length),c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.sequence([function(b){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(b,e){var a=b.done;b=b.value;return a?d[33]=!1:(e=b.item,d[33]=c.i64.eq(e.contactTypeExact,c.i64.cast([0,16]))?!0:!1)})},function(a){return d[5]=d[33]}]):(e=b.item,d[5]=c.i64.eq(e.threadType,c.i64.cast([0,201]))?!0:!1)})},function(b){return d[7]=c.i64.cast([0,1083495711]),d[8]=c.i64.cast([0,1024]),d[9]=c.i64.cast([0,0]),d[10]=c.i64.cast([0,0]),d[11]=c.i64.cast([0,0]),c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(a,b){var e=a.done;a=a.value;return e?d[12]=!1:(b=a.item,d[12]=c.i64.eq(b.contactReachabilityStatusType,c.i64.cast([0,12]))?!0:!1)})},function(b){return d[14]=c.i64.cast([0,1083495711]),d[15]=c.i64.cast([0,1024]),d[16]=c.i64.cast([0,0]),d[17]=c.i64.cast([0,134217728]),d[18]=c.i64.cast([0,0]),d[19]=c.i64.cast([0,8650752]),d[20]=c.i64.cast([0,1024]),d[21]=c.i64.cast([0,0]),d[22]=c.i64.cast([0,0]),d[23]=c.i64.cast([0,0]),d[32]=d[5]?d[19]:d[14],c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[32],c.i64.cast([0,1])],d[24]=e[0],d[25]=e[1],e):(b=a.item,e=[d[32],b.threadType],d[24]=e[0],d[25]=e[1],e)})},function(a){return d[27]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[28]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))),d[29]=c.createArray(),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,6]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,6]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,0]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,7]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,7]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,1]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,72]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,72]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,8]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,2]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,9]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,9]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,10]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,4]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,5]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,5]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,8]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,11]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,11]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,12]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,13]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,13]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,18]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,14]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,14]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,20]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,15]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,15]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,23]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(c.i64.cast([0,3]),void 0)||c.i64.neq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,3]))),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,10]))):c.i64.cast([0,0])),d[29]),d[33]=(d[29].push(c.i64.eq(void 0,void 0)||c.i64.neq(c.i64.and_(c.i64.cast([0,0]),d[2]),c.i64.cast([0,0]))?c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,30]))):c.i64.cast([0,0])),d[29]),d[30]=c.i64.cast([0,0]),d[31]=c.i64.of_int32(d[29].length),c.i64.gt(d[31],c.i64.cast([0,0]))?c.loopAsync(d[31],function(a){return d[33]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[29],d[33]).then(function(a){return a=a,d[34]=a[0],d[35]=a[1],a})},function(a){return d[30]=c.i64.add(d[30],d[34])}])}):c.resolve()},function(a){return e[0]=c.i64.and_(d[30],c.i64.and_(c.i64.and_((c.i64.eq(d[25],c.i64.cast([0,1]))?c.i64.eq(d[4],c.i64.cast([0,0])):!0)?c.i64.eq(c.i64.and_(d[24],d[27]),c.i64.cast([0,0]))?d[24]:c.i64.sub(d[24],d[27]):d[24],c.i64.eq(d[25],c.i64.cast([0,2]))?c.i64.eq(c.i64.and_(d[24],d[28]),c.i64.cast([0,0]))?d[24]:c.i64.sub(d[24],d[28]):d[24]),(c.i64.eq(d[25],c.i64.cast([0,1]))?c.i64.neq(d[4],c.i64.cast([0,0])):!1)?d[24]:c.i64.xor(d[24],c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,12]))))))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxComputeOptimisticThreadCapabilitiesStoredProcedure";a.__tables__=["participants","threads","contacts"];e.exports=a}),null);
__d("LSLocalApplyOptimisticGroupThread",["LSArrayGetObjectAt","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSGetViewerFBID","LSInsertQuickReplyCTA","LSIssueNewTask","LSLocalApplyOptimisticMessage"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[1]=a[0],a})},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[26]="product_type",d[21]=d[19].get(d[26]),d[21]!==void 0?d[20].set(d[26],d[21]):0,d[27]="product_extras",d[22]=d[19].get(d[27]),d[22]?d[23]=!1:d[23]=!0,d[23]?c.resolve():c.sequence([function(a){return d[22]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[30]=d[22].get("__typename"),d[30]==="XMSGStoryReplyExtras"?c.resolve((d[32]=new c.Map(),d[35]="logging",d[33]=d[22].get(d[35]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[36]=!1:d[36]=!0,d[36]?d[37]=void 0:(d[38]=new c.Map(),d[46]="story_author_fbid",d[39]=d[33].get(d[46]),d[39]!==void 0?d[38].set(d[46],d[39]):0,d[47]="camera_post_type",d[40]=d[33].get(d[47]),d[40]!==void 0?d[38].set(d[47],d[40]):0,d[48]="story_type",d[41]=d[33].get(d[48]),d[41]!==void 0?d[38].set(d[48],d[41]):0,d[49]="post_source",d[42]=d[33].get(d[49]),d[42]!==void 0?d[38].set(d[49],d[42]):0,d[50]="fb_post_type",d[43]=d[33].get(d[50]),d[43]!==void 0?d[38].set(d[50],d[43]):0,d[51]="conversation_starter_type",d[44]=d[33].get(d[51]),d[44]!==void 0?d[38].set(d[51],d[44]):0,d[52]="story_reply_type",d[45]=d[33].get(d[52]),d[45]!==void 0?d[38].set(d[52],d[45]):0,d[37]=d[38]),d[32].set(d[35],d[37])),d[31]=d[32])):c.sequence([function(a){return d[30]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[33]=new c.Map(),d[52]="listing_id",d[34]=d[22].get(d[52]),d[34]!==void 0?d[33].set(d[52],d[34]):0,d[53]="initial_clicked_component",d[35]=d[22].get(d[53]),d[35]!==void 0?d[33].set(d[53],d[35]):0,d[54]="initial_tracking",d[36]=d[22].get(d[54]),d[36]!==void 0?d[33].set(d[54],d[36]):0,d[55]="referral_surface",d[37]=d[22].get(d[55]),d[37]!==void 0?d[33].set(d[55],d[37]):0,d[56]="referral_story_type",d[38]=d[22].get(d[56]),d[38]!==void 0?d[33].set(d[56],d[38]):0,d[57]="referral_ui_component",d[39]=d[22].get(d[57]),d[39]!==void 0?d[33].set(d[57],d[39]):0,d[58]="surface",d[40]=d[22].get(d[58]),d[40]!==void 0?d[33].set(d[58],d[40]):0,d[59]="tracking",d[41]=d[22].get(d[59]),d[41]!==void 0?d[33].set(d[59],d[41]):0,d[60]="ui_component",d[42]=d[22].get(d[60]),d[42]!==void 0?d[33].set(d[60],d[42]):0,d[61]="ad_id",d[43]=d[22].get(d[61]),d[43]!==void 0?d[33].set(d[61],d[43]):0,d[62]="server_session_id",d[44]=d[22].get(d[62]),d[44]!==void 0?d[33].set(d[62],d[44]):0,d[63]="cf_page_id",d[45]=d[22].get(d[63]),d[45]!==void 0?d[33].set(d[63],d[45]):0,d[64]="live_shopping_video_id",d[46]=d[22].get(d[64]),d[46]!==void 0?d[33].set(d[64],d[46]):0,d[65]="logging_id",d[47]=d[22].get(d[65]),c.i64.neq(d[47],void 0)?d[33].set(d[65],d[47]):0,d[66]="photo_ids",d[48]=d[22].get(d[66]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[69]=c.createArray(),d[70]=c.i64.of_int32(d[48].length),c.i64.gt(d[70],c.i64.cast([0,0]))?c.loopAsync(d[70],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[69].push(d[72]),d[69])}])}):c.resolve()},function(a){return d[33].set(d[66],d[69])}])},function(a){return d[67]="is_customized_message",d[50]=d[22].get(d[67]),d[50]!==void 0?d[33].set(d[67],d[50]):0,d[68]="referral_code",d[51]=d[22].get(d[68]),d[51]!==void 0?d[33].set(d[68],d[51]):0,d[32]=d[33]}]):c.sequence([function(a){return d[30]==="XMSGClickToMessengerAdExtras"?c.resolve((d[34]=new c.Map(),d[45]="encrypted_ads_token",d[35]=d[22].get(d[45]),d[35]!==void 0?d[34].set(d[45],d[35]):0,d[46]="product_type",d[36]=d[22].get(d[46]),d[36]!==void 0?d[34].set(d[46],d[36]):0,d[47]="post_id",d[37]=d[22].get(d[47]),d[37]!==void 0?d[34].set(d[47],d[37]):0,d[48]="ad_id",d[38]=d[22].get(d[48]),d[38]!==void 0?d[34].set(d[48],d[38]):0,d[49]="page_id",d[39]=d[22].get(d[49]),d[39]!==void 0?d[34].set(d[49],d[39]):0,d[50]="photo_id",d[40]=d[22].get(d[50]),d[40]!==void 0?d[34].set(d[50],d[40]):0,d[51]="photo_index",d[41]=d[22].get(d[51]),c.i64.neq(d[41],void 0)?d[34].set(d[51],d[41]):0,d[52]="fallback_url",d[42]=d[22].get(d[52]),d[42]!==void 0?d[34].set(d[52],d[42]):0,d[53]="product_id",d[43]=d[22].get(d[53]),d[43]!==void 0?d[34].set(d[53],d[43]):0,d[54]="user_id",d[44]=d[22].get(d[54]),d[44]!==void 0?d[34].set(d[54],d[44]):0,d[33]=d[34])):c.sequence([function(a){return d[30]==="XMSGZorroMessageExtras"?c.resolve((d[35]=new c.Map(),d[37]="is_enabled",d[36]=d[22].get(d[37]),d[36]!==void 0?d[35].set(d[37],d[36]):0,d[34]=d[35])):c.sequence([function(a){return d[30]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[36]=new c.Map(),d[39]="prompt_type",d[37]=d[22].get(d[39]),d[37]!==void 0?d[36].set(d[39],d[37]):0,d[40]="qpl_join_id",d[38]=d[22].get(d[40]),d[38]!==void 0?d[36].set(d[40],d[38]):0,d[35]=d[36])):c.sequence([function(a){return d[30]==="XMSGGenAIMultiModalExtras"?c.resolve((d[37]=new c.Map(),d[41]="should_skip_genai_eval",d[38]=d[22].get(d[41]),d[38]!==void 0?d[37].set(d[41],d[38]):0,d[42]="associated_multimodal_message_id",d[39]=d[22].get(d[42]),d[39]!==void 0?d[37].set(d[42],d[39]):0,d[43]="qpl_join_id",d[40]=d[22].get(d[43]),d[40]!==void 0?d[37].set(d[43],d[40]):0,d[36]=d[37])):c.sequence([function(a){return d[30]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[38]=new c.Map(),d[41]="seed",d[39]=d[22].get(d[41]),c.i64.neq(d[39],void 0)?d[38].set(d[41],d[39]):0,d[42]="qpl_join_id",d[40]=d[22].get(d[42]),d[40]!==void 0?d[38].set(d[42],d[40]):0,d[37]=d[38])):c.sequence([function(a){return d[30]==="XMSGShareSheetExtras"?c.resolve((d[39]=new c.Map(),d[41]="recipient_selection_session_id",d[40]=d[22].get(d[41]),d[40]!==void 0?d[39].set(d[41],d[40]):0,d[38]=d[39])):c.sequence([function(a){return d[30]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[40]=new c.Map(),d[70]="referrer_session_id",d[41]=d[22].get(d[70]),d[41]!==void 0?d[40].set(d[70],d[41]):0,d[71]="thread_session_id",d[42]=d[22].get(d[71]),d[42]!==void 0?d[40].set(d[71],d[42]):0,d[72]="prompt_id",d[43]=d[22].get(d[72]),d[43]!==void 0?d[40].set(d[72],d[43]):0,d[73]="prompt_type",d[44]=d[22].get(d[73]),d[44]!==void 0?d[40].set(d[73],d[44]):0,d[74]="prompt_fit_topic",d[45]=d[22].get(d[74]),d[45]!==void 0?d[40].set(d[74],d[45]):0,d[75]="location_extras",d[46]=d[22].get(d[75]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[98]="has_previous_perm_prompt",d[95]=d[46].get(d[98]),d[95]!==void 0?d[94].set(d[98],d[95]):0,d[99]="latitude",d[96]=d[46].get(d[99]),d[96]!==void 0?d[94].set(d[99],d[96]):0,d[100]="longitude",d[97]=d[46].get(d[100]),d[97]!==void 0?d[94].set(d[100],d[97]):0,d[93]=d[94]),d[40].set(d[75],d[93])),d[76]="qpl_join_id",d[48]=d[22].get(d[76]),d[48]!==void 0?d[40].set(d[76],d[48]):0,d[77]="meta_ai_prompt_type",d[49]=d[22].get(d[77]),d[49]!==void 0?d[40].set(d[77],d[49]):0,d[78]="is_subsequent_send",d[50]=d[22].get(d[78]),d[50]!==void 0?d[40].set(d[78],d[50]):0,d[79]="context_injection_type",d[51]=d[22].get(d[79]),d[51]!==void 0?d[40].set(d[79],d[51]):0,d[80]="context_injection_timestamp_ms",d[52]=d[22].get(d[80]),d[52]!==void 0?d[40].set(d[80],d[52]):0,d[81]="meta_ai_response_to_persist",d[53]=d[22].get(d[81]),d[53]?d[54]=!1:d[54]=!0,d[54]?c.resolve():c.sequence([function(a){return d[53]?d[92]=!1:d[92]=!0,d[92]?c.resolve(d[93]=void 0):c.sequence([function(a){return d[94]=new c.Map(),d[101]="text",d[95]=d[53].get(d[101]),d[95]!==void 0?d[94].set(d[101],d[95]):0,d[102]="bot_response_id",d[96]=d[53].get(d[102]),d[96]!==void 0?d[94].set(d[102],d[96]):0,d[103]="bot_request_id",d[97]=d[53].get(d[103]),d[97]!==void 0?d[94].set(d[103],d[97]):0,d[104]="external_search_params",d[98]=d[53].get(d[104]),d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[106]=!1:d[106]=!0,d[106]?c.resolve(d[107]=void 0):c.sequence([function(a){return d[108]=new c.Map(),d[116]="search_result_uri",d[109]=d[98].get(d[116]),d[109]?d[110]=!1:d[110]=!0,d[110]?c.resolve():c.sequence([function(a){return d[109]?d[121]=!1:d[121]=!0,d[121]?c.resolve(d[122]=void 0):c.sequence([function(a){return d[123]=c.createArray(),d[124]=c.i64.of_int32(d[109].length),c.i64.gt(d[124],c.i64.cast([0,0]))?c.loopAsync(d[124],function(a){return d[125]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[109],d[125]).then(function(a){return a=a,d[126]=a[0],d[127]=a[1],a})},function(a){return d[128]=(d[123].push(d[126]),d[123])}])}):c.resolve()},function(a){return d[122]=d[123]}])},function(a){return d[108].set(d[116],d[122])}])},function(a){return d[117]="search_query",d[111]=d[98].get(d[117]),d[111]!==void 0?d[108].set(d[117],d[111]):0,d[118]="attribution_link",d[112]=d[98].get(d[118]),d[112]!==void 0?d[108].set(d[118],d[112]):0,d[119]="search_engine",d[113]=d[98].get(d[119]),d[113]!==void 0?d[108].set(d[119],d[113]):0,d[120]="references_title",d[114]=d[98].get(d[120]),d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[114]?d[121]=!1:d[121]=!0,d[121]?c.resolve(d[122]=void 0):c.sequence([function(a){return d[123]=c.createArray(),d[124]=c.i64.of_int32(d[114].length),c.i64.gt(d[124],c.i64.cast([0,0]))?c.loopAsync(d[124],function(a){return d[125]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[114],d[125]).then(function(a){return a=a,d[126]=a[0],d[127]=a[1],a})},function(a){return d[128]=(d[123].push(d[126]),d[123])}])}):c.resolve()},function(a){return d[122]=d[123]}])},function(a){return d[108].set(d[120],d[122])}])},function(a){return d[107]=d[108]}])},function(a){return d[94].set(d[104],d[107])}])},function(a){return d[105]="followup_prompt_text",d[100]=d[53].get(d[105]),d[100]!==void 0?d[94].set(d[105],d[100]):0,d[93]=d[94]}])},function(a){return d[40].set(d[81],d[93])}])},function(a){return d[82]="gql_dark_test_qpl_join_id",d[55]=d[22].get(d[82]),d[55]!==void 0?d[40].set(d[82],d[55]):0,d[83]="gql_dark_test_client_start_time",d[56]=d[22].get(d[83]),d[56]!==void 0?d[40].set(d[83],d[56]):0,d[84]="prompt_context",d[57]=d[22].get(d[84]),d[57]?d[58]=!1:d[58]=!0,d[58]?0:(d[57]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="context_token",d[95]=d[57].get(d[97]),d[95]!==void 0?d[94].set(d[97],d[95]):0,d[98]="context_token_type",d[96]=d[57].get(d[98]),c.i64.neq(d[96],void 0)?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[84],d[93])),d[85]="imagine_flash_extras",d[59]=d[22].get(d[85]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="seed",d[95]=d[59].get(d[97]),c.i64.neq(d[95],void 0)?d[94].set(d[97],d[95]):0,d[98]="qpl_join_id",d[96]=d[59].get(d[98]),d[96]!==void 0?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[85],d[93])),d[86]="conversation_marker_id",d[61]=d[22].get(d[86]),d[61]!==void 0?d[40].set(d[86],d[61]):0,d[87]="multi_modal_extras",d[62]=d[22].get(d[87]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[98]="should_skip_genai_eval",d[95]=d[62].get(d[98]),d[95]!==void 0?d[94].set(d[98],d[95]):0,d[99]="associated_multimodal_message_id",d[96]=d[62].get(d[99]),d[96]!==void 0?d[94].set(d[99],d[96]):0,d[100]="qpl_join_id",d[97]=d[62].get(d[100]),d[97]!==void 0?d[94].set(d[100],d[97]):0,d[93]=d[94]),d[40].set(d[87],d[93])),d[88]="ads_extras",d[64]=d[22].get(d[88]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="context",d[95]=d[64].get(d[97]),d[95]!==void 0?d[94].set(d[97],d[95]):0,d[98]="is_reply_to_ads_ai",d[96]=d[64].get(d[98]),d[96]!==void 0?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[88],d[93])),d[89]="suggested_prompt_extras",d[66]=d[22].get(d[89]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="prompt_type",d[95]=d[66].get(d[97]),d[95]!==void 0?d[94].set(d[97],d[95]):0,d[98]="qpl_join_id",d[96]=d[66].get(d[98]),d[96]!==void 0?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[89],d[93])),d[90]="disable_server_mqtt_typing_indicator",d[68]=d[22].get(d[90]),d[68]!==void 0?d[40].set(d[90],d[68]):0,d[91]="enable_web_scraping",d[69]=d[22].get(d[91]),d[69]!==void 0?d[40].set(d[91],d[69]):0,d[39]=d[40]}]):c.sequence([function(a){return d[30]==="XMSGProductHighlightExtras"?c.resolve((d[41]=new c.Map(),d[44]="product_highlight_type",d[42]=d[22].get(d[44]),d[42]!==void 0?d[41].set(d[44],d[42]):0,d[45]="conversation_marker",d[43]=d[22].get(d[45]),d[43]!==void 0?d[41].set(d[45],d[43]):0,d[40]=d[41])):c.sequence([function(a){return d[30]==="XMSGMagicMessengerExtras"?c.resolve((d[42]=new c.Map(),d[44]="is_magic_thread",d[43]=d[22].get(d[44]),d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return d[30]==="XMSGAdsAIExtras"?c.resolve((d[43]=new c.Map(),d[46]="context",d[44]=d[22].get(d[46]),d[44]!==void 0?d[43].set(d[46],d[44]):0,d[47]="is_reply_to_ads_ai",d[45]=d[22].get(d[47]),d[45]!==void 0?d[43].set(d[47],d[45]):0,d[42]=d[43])):c.sequence([function(a){return d[30]==="XMSGBizappExtras"?c.resolve((d[44]=new c.Map(),d[47]="message_source",d[45]=d[22].get(d[47]),d[45]!==void 0?d[44].set(d[47],d[45]):0,d[48]="message_trigger",d[46]=d[22].get(d[48]),d[46]!==void 0?d[44].set(d[48],d[46]):0,d[43]=d[44])):c.sequence([function(a){return d[44]=new c.Map(),d[45]=d[22].keys(),d[46]=c.i64.of_int32(d[45].length),c.i64.gt(d[46],c.i64.cast([0,0]))?c.loopAsync(d[46],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[45],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=d[22].get(d[48]),d[44].set(d[48],d[50])}])}):c.resolve()},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[31].set("__typename",d[30]),d[29]=d[31]}])},function(a){return d[20].set(d[27],d[29])}])},function(a){return d[24]=d[20].get("product_extras"),d[24]!==void 0?(d[28]=d[24].get("__typename"),d[28]==="XMSGClickToMessengerAdExtras"?(d[31]=new c.Map(),d[42]="encrypted_ads_token",d[32]=d[24].get(d[42]),d[32]!==void 0?d[31].set(d[42],d[32]):0,d[43]="product_type",d[33]=d[24].get(d[43]),d[33]!==void 0?d[31].set(d[43],d[33]):0,d[44]="post_id",d[34]=d[24].get(d[44]),d[34]!==void 0?d[31].set(d[44],d[34]):0,d[45]="ad_id",d[35]=d[24].get(d[45]),d[35]!==void 0?d[31].set(d[45],d[35]):0,d[46]="page_id",d[36]=d[24].get(d[46]),d[36]!==void 0?d[31].set(d[46],d[36]):0,d[47]="photo_id",d[37]=d[24].get(d[47]),d[37]!==void 0?d[31].set(d[47],d[37]):0,d[48]="photo_index",d[38]=d[24].get(d[48]),c.i64.neq(d[38],void 0)?d[31].set(d[48],d[38]):0,d[49]="fallback_url",d[39]=d[24].get(d[49]),d[39]!==void 0?d[31].set(d[49],d[39]):0,d[50]="product_id",d[40]=d[24].get(d[50]),d[40]!==void 0?d[31].set(d[50],d[40]):0,d[51]="user_id",d[41]=d[24].get(d[51]),d[41]!==void 0?d[31].set(d[51],d[41]):0,d[29]=d[31]):d[29]=void 0,d[29]!==void 0?(d[31]=d[29].get("page_id"),d[30]=d[31]):d[30]=void 0,d[25]=d[30]):d[25]=void 0,d[2]=d[25]}]):c.resolve(d[2]=void 0)},function(e){return a[3]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[3]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return d[20]=new c.Map(),d[26]="product_type",d[21]=d[19].get(d[26]),d[21]!==void 0?d[20].set(d[26],d[21]):0,d[27]="product_extras",d[22]=d[19].get(d[27]),d[22]?d[23]=!1:d[23]=!0,d[23]?c.resolve():c.sequence([function(a){return d[22]?d[28]=!1:d[28]=!0,d[28]?c.resolve(d[29]=void 0):c.sequence([function(a){return d[30]=d[22].get("__typename"),d[30]==="XMSGStoryReplyExtras"?c.resolve((d[32]=new c.Map(),d[35]="logging",d[33]=d[22].get(d[35]),d[33]?d[34]=!1:d[34]=!0,d[34]?0:(d[33]?d[36]=!1:d[36]=!0,d[36]?d[37]=void 0:(d[38]=new c.Map(),d[46]="story_author_fbid",d[39]=d[33].get(d[46]),d[39]!==void 0?d[38].set(d[46],d[39]):0,d[47]="camera_post_type",d[40]=d[33].get(d[47]),d[40]!==void 0?d[38].set(d[47],d[40]):0,d[48]="story_type",d[41]=d[33].get(d[48]),d[41]!==void 0?d[38].set(d[48],d[41]):0,d[49]="post_source",d[42]=d[33].get(d[49]),d[42]!==void 0?d[38].set(d[49],d[42]):0,d[50]="fb_post_type",d[43]=d[33].get(d[50]),d[43]!==void 0?d[38].set(d[50],d[43]):0,d[51]="conversation_starter_type",d[44]=d[33].get(d[51]),d[44]!==void 0?d[38].set(d[51],d[44]):0,d[52]="story_reply_type",d[45]=d[33].get(d[52]),d[45]!==void 0?d[38].set(d[52],d[45]):0,d[37]=d[38]),d[32].set(d[35],d[37])),d[31]=d[32])):c.sequence([function(a){return d[30]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[33]=new c.Map(),d[52]="listing_id",d[34]=d[22].get(d[52]),d[34]!==void 0?d[33].set(d[52],d[34]):0,d[53]="initial_clicked_component",d[35]=d[22].get(d[53]),d[35]!==void 0?d[33].set(d[53],d[35]):0,d[54]="initial_tracking",d[36]=d[22].get(d[54]),d[36]!==void 0?d[33].set(d[54],d[36]):0,d[55]="referral_surface",d[37]=d[22].get(d[55]),d[37]!==void 0?d[33].set(d[55],d[37]):0,d[56]="referral_story_type",d[38]=d[22].get(d[56]),d[38]!==void 0?d[33].set(d[56],d[38]):0,d[57]="referral_ui_component",d[39]=d[22].get(d[57]),d[39]!==void 0?d[33].set(d[57],d[39]):0,d[58]="surface",d[40]=d[22].get(d[58]),d[40]!==void 0?d[33].set(d[58],d[40]):0,d[59]="tracking",d[41]=d[22].get(d[59]),d[41]!==void 0?d[33].set(d[59],d[41]):0,d[60]="ui_component",d[42]=d[22].get(d[60]),d[42]!==void 0?d[33].set(d[60],d[42]):0,d[61]="ad_id",d[43]=d[22].get(d[61]),d[43]!==void 0?d[33].set(d[61],d[43]):0,d[62]="server_session_id",d[44]=d[22].get(d[62]),d[44]!==void 0?d[33].set(d[62],d[44]):0,d[63]="cf_page_id",d[45]=d[22].get(d[63]),d[45]!==void 0?d[33].set(d[63],d[45]):0,d[64]="live_shopping_video_id",d[46]=d[22].get(d[64]),d[46]!==void 0?d[33].set(d[64],d[46]):0,d[65]="logging_id",d[47]=d[22].get(d[65]),c.i64.neq(d[47],void 0)?d[33].set(d[65],d[47]):0,d[66]="photo_ids",d[48]=d[22].get(d[66]),d[48]?d[49]=!1:d[49]=!0,d[49]?c.resolve():c.sequence([function(a){return d[69]=c.createArray(),d[70]=c.i64.of_int32(d[48].length),c.i64.gt(d[70],c.i64.cast([0,0]))?c.loopAsync(d[70],function(a){return d[71]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[71]).then(function(a){return a=a,d[72]=a[0],d[73]=a[1],a})},function(a){return d[74]=(d[69].push(d[72]),d[69])}])}):c.resolve()},function(a){return d[33].set(d[66],d[69])}])},function(a){return d[67]="is_customized_message",d[50]=d[22].get(d[67]),d[50]!==void 0?d[33].set(d[67],d[50]):0,d[68]="referral_code",d[51]=d[22].get(d[68]),d[51]!==void 0?d[33].set(d[68],d[51]):0,d[32]=d[33]}]):c.sequence([function(a){return d[30]==="XMSGClickToMessengerAdExtras"?c.resolve((d[34]=new c.Map(),d[45]="encrypted_ads_token",d[35]=d[22].get(d[45]),d[35]!==void 0?d[34].set(d[45],d[35]):0,d[46]="product_type",d[36]=d[22].get(d[46]),d[36]!==void 0?d[34].set(d[46],d[36]):0,d[47]="post_id",d[37]=d[22].get(d[47]),d[37]!==void 0?d[34].set(d[47],d[37]):0,d[48]="ad_id",d[38]=d[22].get(d[48]),d[38]!==void 0?d[34].set(d[48],d[38]):0,d[49]="page_id",d[39]=d[22].get(d[49]),d[39]!==void 0?d[34].set(d[49],d[39]):0,d[50]="photo_id",d[40]=d[22].get(d[50]),d[40]!==void 0?d[34].set(d[50],d[40]):0,d[51]="photo_index",d[41]=d[22].get(d[51]),c.i64.neq(d[41],void 0)?d[34].set(d[51],d[41]):0,d[52]="fallback_url",d[42]=d[22].get(d[52]),d[42]!==void 0?d[34].set(d[52],d[42]):0,d[53]="product_id",d[43]=d[22].get(d[53]),d[43]!==void 0?d[34].set(d[53],d[43]):0,d[54]="user_id",d[44]=d[22].get(d[54]),d[44]!==void 0?d[34].set(d[54],d[44]):0,d[33]=d[34])):c.sequence([function(a){return d[30]==="XMSGZorroMessageExtras"?c.resolve((d[35]=new c.Map(),d[37]="is_enabled",d[36]=d[22].get(d[37]),d[36]!==void 0?d[35].set(d[37],d[36]):0,d[34]=d[35])):c.sequence([function(a){return d[30]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[36]=new c.Map(),d[39]="prompt_type",d[37]=d[22].get(d[39]),d[37]!==void 0?d[36].set(d[39],d[37]):0,d[40]="qpl_join_id",d[38]=d[22].get(d[40]),d[38]!==void 0?d[36].set(d[40],d[38]):0,d[35]=d[36])):c.sequence([function(a){return d[30]==="XMSGGenAIMultiModalExtras"?c.resolve((d[37]=new c.Map(),d[41]="should_skip_genai_eval",d[38]=d[22].get(d[41]),d[38]!==void 0?d[37].set(d[41],d[38]):0,d[42]="associated_multimodal_message_id",d[39]=d[22].get(d[42]),d[39]!==void 0?d[37].set(d[42],d[39]):0,d[43]="qpl_join_id",d[40]=d[22].get(d[43]),d[40]!==void 0?d[37].set(d[43],d[40]):0,d[36]=d[37])):c.sequence([function(a){return d[30]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[38]=new c.Map(),d[41]="seed",d[39]=d[22].get(d[41]),c.i64.neq(d[39],void 0)?d[38].set(d[41],d[39]):0,d[42]="qpl_join_id",d[40]=d[22].get(d[42]),d[40]!==void 0?d[38].set(d[42],d[40]):0,d[37]=d[38])):c.sequence([function(a){return d[30]==="XMSGShareSheetExtras"?c.resolve((d[39]=new c.Map(),d[41]="recipient_selection_session_id",d[40]=d[22].get(d[41]),d[40]!==void 0?d[39].set(d[41],d[40]):0,d[38]=d[39])):c.sequence([function(a){return d[30]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[40]=new c.Map(),d[70]="referrer_session_id",d[41]=d[22].get(d[70]),d[41]!==void 0?d[40].set(d[70],d[41]):0,d[71]="thread_session_id",d[42]=d[22].get(d[71]),d[42]!==void 0?d[40].set(d[71],d[42]):0,d[72]="prompt_id",d[43]=d[22].get(d[72]),d[43]!==void 0?d[40].set(d[72],d[43]):0,d[73]="prompt_type",d[44]=d[22].get(d[73]),d[44]!==void 0?d[40].set(d[73],d[44]):0,d[74]="prompt_fit_topic",d[45]=d[22].get(d[74]),d[45]!==void 0?d[40].set(d[74],d[45]):0,d[75]="location_extras",d[46]=d[22].get(d[75]),d[46]?d[47]=!1:d[47]=!0,d[47]?0:(d[46]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[98]="has_previous_perm_prompt",d[95]=d[46].get(d[98]),d[95]!==void 0?d[94].set(d[98],d[95]):0,d[99]="latitude",d[96]=d[46].get(d[99]),d[96]!==void 0?d[94].set(d[99],d[96]):0,d[100]="longitude",d[97]=d[46].get(d[100]),d[97]!==void 0?d[94].set(d[100],d[97]):0,d[93]=d[94]),d[40].set(d[75],d[93])),d[76]="qpl_join_id",d[48]=d[22].get(d[76]),d[48]!==void 0?d[40].set(d[76],d[48]):0,d[77]="meta_ai_prompt_type",d[49]=d[22].get(d[77]),d[49]!==void 0?d[40].set(d[77],d[49]):0,d[78]="is_subsequent_send",d[50]=d[22].get(d[78]),d[50]!==void 0?d[40].set(d[78],d[50]):0,d[79]="context_injection_type",d[51]=d[22].get(d[79]),d[51]!==void 0?d[40].set(d[79],d[51]):0,d[80]="context_injection_timestamp_ms",d[52]=d[22].get(d[80]),d[52]!==void 0?d[40].set(d[80],d[52]):0,d[81]="meta_ai_response_to_persist",d[53]=d[22].get(d[81]),d[53]?d[54]=!1:d[54]=!0,d[54]?c.resolve():c.sequence([function(a){return d[53]?d[92]=!1:d[92]=!0,d[92]?c.resolve(d[93]=void 0):c.sequence([function(a){return d[94]=new c.Map(),d[101]="text",d[95]=d[53].get(d[101]),d[95]!==void 0?d[94].set(d[101],d[95]):0,d[102]="bot_response_id",d[96]=d[53].get(d[102]),d[96]!==void 0?d[94].set(d[102],d[96]):0,d[103]="bot_request_id",d[97]=d[53].get(d[103]),d[97]!==void 0?d[94].set(d[103],d[97]):0,d[104]="external_search_params",d[98]=d[53].get(d[104]),d[98]?d[99]=!1:d[99]=!0,d[99]?c.resolve():c.sequence([function(a){return d[98]?d[106]=!1:d[106]=!0,d[106]?c.resolve(d[107]=void 0):c.sequence([function(a){return d[108]=new c.Map(),d[116]="search_result_uri",d[109]=d[98].get(d[116]),d[109]?d[110]=!1:d[110]=!0,d[110]?c.resolve():c.sequence([function(a){return d[109]?d[121]=!1:d[121]=!0,d[121]?c.resolve(d[122]=void 0):c.sequence([function(a){return d[123]=c.createArray(),d[124]=c.i64.of_int32(d[109].length),c.i64.gt(d[124],c.i64.cast([0,0]))?c.loopAsync(d[124],function(a){return d[125]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[109],d[125]).then(function(a){return a=a,d[126]=a[0],d[127]=a[1],a})},function(a){return d[128]=(d[123].push(d[126]),d[123])}])}):c.resolve()},function(a){return d[122]=d[123]}])},function(a){return d[108].set(d[116],d[122])}])},function(a){return d[117]="search_query",d[111]=d[98].get(d[117]),d[111]!==void 0?d[108].set(d[117],d[111]):0,d[118]="attribution_link",d[112]=d[98].get(d[118]),d[112]!==void 0?d[108].set(d[118],d[112]):0,d[119]="search_engine",d[113]=d[98].get(d[119]),d[113]!==void 0?d[108].set(d[119],d[113]):0,d[120]="references_title",d[114]=d[98].get(d[120]),d[114]?d[115]=!1:d[115]=!0,d[115]?c.resolve():c.sequence([function(a){return d[114]?d[121]=!1:d[121]=!0,d[121]?c.resolve(d[122]=void 0):c.sequence([function(a){return d[123]=c.createArray(),d[124]=c.i64.of_int32(d[114].length),c.i64.gt(d[124],c.i64.cast([0,0]))?c.loopAsync(d[124],function(a){return d[125]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[114],d[125]).then(function(a){return a=a,d[126]=a[0],d[127]=a[1],a})},function(a){return d[128]=(d[123].push(d[126]),d[123])}])}):c.resolve()},function(a){return d[122]=d[123]}])},function(a){return d[108].set(d[120],d[122])}])},function(a){return d[107]=d[108]}])},function(a){return d[94].set(d[104],d[107])}])},function(a){return d[105]="followup_prompt_text",d[100]=d[53].get(d[105]),d[100]!==void 0?d[94].set(d[105],d[100]):0,d[93]=d[94]}])},function(a){return d[40].set(d[81],d[93])}])},function(a){return d[82]="gql_dark_test_qpl_join_id",d[55]=d[22].get(d[82]),d[55]!==void 0?d[40].set(d[82],d[55]):0,d[83]="gql_dark_test_client_start_time",d[56]=d[22].get(d[83]),d[56]!==void 0?d[40].set(d[83],d[56]):0,d[84]="prompt_context",d[57]=d[22].get(d[84]),d[57]?d[58]=!1:d[58]=!0,d[58]?0:(d[57]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="context_token",d[95]=d[57].get(d[97]),d[95]!==void 0?d[94].set(d[97],d[95]):0,d[98]="context_token_type",d[96]=d[57].get(d[98]),c.i64.neq(d[96],void 0)?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[84],d[93])),d[85]="imagine_flash_extras",d[59]=d[22].get(d[85]),d[59]?d[60]=!1:d[60]=!0,d[60]?0:(d[59]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="seed",d[95]=d[59].get(d[97]),c.i64.neq(d[95],void 0)?d[94].set(d[97],d[95]):0,d[98]="qpl_join_id",d[96]=d[59].get(d[98]),d[96]!==void 0?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[85],d[93])),d[86]="conversation_marker_id",d[61]=d[22].get(d[86]),d[61]!==void 0?d[40].set(d[86],d[61]):0,d[87]="multi_modal_extras",d[62]=d[22].get(d[87]),d[62]?d[63]=!1:d[63]=!0,d[63]?0:(d[62]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[98]="should_skip_genai_eval",d[95]=d[62].get(d[98]),d[95]!==void 0?d[94].set(d[98],d[95]):0,d[99]="associated_multimodal_message_id",d[96]=d[62].get(d[99]),d[96]!==void 0?d[94].set(d[99],d[96]):0,d[100]="qpl_join_id",d[97]=d[62].get(d[100]),d[97]!==void 0?d[94].set(d[100],d[97]):0,d[93]=d[94]),d[40].set(d[87],d[93])),d[88]="ads_extras",d[64]=d[22].get(d[88]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="context",d[95]=d[64].get(d[97]),d[95]!==void 0?d[94].set(d[97],d[95]):0,d[98]="is_reply_to_ads_ai",d[96]=d[64].get(d[98]),d[96]!==void 0?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[88],d[93])),d[89]="suggested_prompt_extras",d[66]=d[22].get(d[89]),d[66]?d[67]=!1:d[67]=!0,d[67]?0:(d[66]?d[92]=!1:d[92]=!0,d[92]?d[93]=void 0:(d[94]=new c.Map(),d[97]="prompt_type",d[95]=d[66].get(d[97]),d[95]!==void 0?d[94].set(d[97],d[95]):0,d[98]="qpl_join_id",d[96]=d[66].get(d[98]),d[96]!==void 0?d[94].set(d[98],d[96]):0,d[93]=d[94]),d[40].set(d[89],d[93])),d[90]="disable_server_mqtt_typing_indicator",d[68]=d[22].get(d[90]),d[68]!==void 0?d[40].set(d[90],d[68]):0,d[91]="enable_web_scraping",d[69]=d[22].get(d[91]),d[69]!==void 0?d[40].set(d[91],d[69]):0,d[39]=d[40]}]):c.sequence([function(a){return d[30]==="XMSGProductHighlightExtras"?c.resolve((d[41]=new c.Map(),d[44]="product_highlight_type",d[42]=d[22].get(d[44]),d[42]!==void 0?d[41].set(d[44],d[42]):0,d[45]="conversation_marker",d[43]=d[22].get(d[45]),d[43]!==void 0?d[41].set(d[45],d[43]):0,d[40]=d[41])):c.sequence([function(a){return d[30]==="XMSGMagicMessengerExtras"?c.resolve((d[42]=new c.Map(),d[44]="is_magic_thread",d[43]=d[22].get(d[44]),d[43]!==void 0?d[42].set(d[44],d[43]):0,d[41]=d[42])):c.sequence([function(a){return d[30]==="XMSGAdsAIExtras"?c.resolve((d[43]=new c.Map(),d[46]="context",d[44]=d[22].get(d[46]),d[44]!==void 0?d[43].set(d[46],d[44]):0,d[47]="is_reply_to_ads_ai",d[45]=d[22].get(d[47]),d[45]!==void 0?d[43].set(d[47],d[45]):0,d[42]=d[43])):c.sequence([function(a){return d[30]==="XMSGBizappExtras"?c.resolve((d[44]=new c.Map(),d[47]="message_source",d[45]=d[22].get(d[47]),d[45]!==void 0?d[44].set(d[47],d[45]):0,d[48]="message_trigger",d[46]=d[22].get(d[48]),d[46]!==void 0?d[44].set(d[48],d[46]):0,d[43]=d[44])):c.sequence([function(a){return d[44]=new c.Map(),d[45]=d[22].keys(),d[46]=c.i64.of_int32(d[45].length),c.i64.gt(d[46],c.i64.cast([0,0]))?c.loopAsync(d[46],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[45],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=d[22].get(d[48]),d[44].set(d[48],d[50])}])}):c.resolve()},function(a){return d[43]=d[44]}])},function(a){return d[42]=d[43]}])},function(a){return d[41]=d[42]}])},function(a){return d[40]=d[41]}])},function(a){return d[39]=d[40]}])},function(a){return d[38]=d[39]}])},function(a){return d[37]=d[38]}])},function(a){return d[36]=d[37]}])},function(a){return d[35]=d[36]}])},function(a){return d[34]=d[35]}])},function(a){return d[33]=d[34]}])},function(a){return d[32]=d[33]}])},function(a){return d[31]=d[32]}])},function(a){return d[31].set("__typename",d[30]),d[29]=d[31]}])},function(a){return d[20].set(d[27],d[29])}])},function(a){return d[24]=d[20].get("product_extras"),d[24]!==void 0?(d[28]=d[24].get("__typename"),d[28]==="XMSGClickToMessengerAdExtras"?(d[31]=new c.Map(),d[42]="encrypted_ads_token",d[32]=d[24].get(d[42]),d[32]!==void 0?d[31].set(d[42],d[32]):0,d[43]="product_type",d[33]=d[24].get(d[43]),d[33]!==void 0?d[31].set(d[43],d[33]):0,d[44]="post_id",d[34]=d[24].get(d[44]),d[34]!==void 0?d[31].set(d[44],d[34]):0,d[45]="ad_id",d[35]=d[24].get(d[45]),d[35]!==void 0?d[31].set(d[45],d[35]):0,d[46]="page_id",d[36]=d[24].get(d[46]),d[36]!==void 0?d[31].set(d[46],d[36]):0,d[47]="photo_id",d[37]=d[24].get(d[47]),d[37]!==void 0?d[31].set(d[47],d[37]):0,d[48]="photo_index",d[38]=d[24].get(d[48]),c.i64.neq(d[38],void 0)?d[31].set(d[48],d[38]):0,d[49]="fallback_url",d[39]=d[24].get(d[49]),d[39]!==void 0?d[31].set(d[49],d[39]):0,d[50]="product_id",d[40]=d[24].get(d[50]),d[40]!==void 0?d[31].set(d[50],d[40]):0,d[51]="user_id",d[41]=d[24].get(d[51]),d[41]!==void 0?d[31].set(d[51],d[41]):0,d[29]=d[31]):d[29]=void 0,d[29]!==void 0?(d[31]=d[29].get("product_type"),d[30]=d[31]):d[30]=void 0,d[25]=d[30]):d[25]=void 0,d[3]=d[25]}]):c.resolve(d[3]=void 0)},function(a){return d[3]==="CTM"?(d[2]!==void 0?d[19]=c.i64.from_string(d[2]):d[19]=d[1],d[4]=d[19]):d[4]=d[1],d[5]=c.i64.cast([0,1083495711]),d[6]=c.i64.cast([0,1024]),d[7]=c.i64.cast([0,0]),d[8]=c.i64.cast([0,0]),d[9]=c.i64.cast([0,0]),void 0?d[10]=!1:d[10]=!0,d[10]?(a=["",void 0,void 0,void 0,void 0],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a):(d[19]=(void 0).get("nullstate_description_text1"),d[19]!==void 0?d[20]=d[19]:d[20]="",d[21]=(void 0).get("nullstate_description_text2"),d[22]=(void 0).get("nullstate_description_text3"),d[23]=(void 0).get("nullstate_description_text4"),d[24]=(void 0).get("nullstate_description_text5"),a=[d[20],d[21],d[22],d[23],d[24]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],a),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return c.forEach(c.filter(c.db.table(9).fetch([[[d[4]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:d[4],mailboxType:c.i64.cast([0,0]),threadType:c.i64.cast([0,2]),clientThreadKey:d[4],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:c.i64.cast([0,0]),lastReadWatermarkTimestampMs:c.i64.cast([0,0]),snippetHasEmoji:!1,snippetSenderContactId:d[16],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),capabilities:d[5],capabilities2:d[6],capabilities3:d[7],capabilities4:d[8],capabilities5:d[9],nullstateDescriptionText1:d[11],nullstateDescriptionText2:d[12],nullstateDescriptionText3:d[13],threadName:a[2]})},function(a){return d[17]=c.createArray(),c.resolve()},function(b){return a[3]!==void 0?c.db.table(312).add({threadKey:d[4],metadata:a[3]}):c.resolve()},function(e){return d[18]=c.i64.of_int32(a[0].length),c.i64.gt(d[18],c.i64.cast([0,0]))?c.loopAsync(d[18],function(e){return d[19]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[19]).then(function(a){return a=a,d[20]=a[0],d[21]=a[1],a})},function(a){return c.forEach(c.filter(c.db.table(14).fetch([[[d[4],d[20]]]]),function(a){return c.i64.eq(a.threadKey,d[4])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(a.contactId,d[20])&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(a){return c.db.table(14).add({threadKey:d[4],contactId:d[20],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}])}):c.resolve()},function(a){return e[0]=d[4]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticGroupThreadStoredProcedure";a.__tables__=["threads","threads_optimistic_metadata","participants"];e.exports=a}),null);
__d("LSLocalCreateOptimisticGroupThread",["LSArrayGetObjectAt","LSGetViewerFBID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return void 0?d[0]=!1:d[0]=!0,d[0]?(e=["",void 0,void 0,void 0,void 0],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e):(d[8]=(void 0).get("nullstate_description_text1"),d[8]!==void 0?d[9]=d[8]:d[9]="",d[10]=(void 0).get("nullstate_description_text2"),d[11]=(void 0).get("nullstate_description_text3"),d[12]=(void 0).get("nullstate_description_text4"),d[13]=(void 0).get("nullstate_description_text5"),e=[d[9],d[10],d[11],d[12],d[13]],d[1]=e[0],d[2]=e[1],d[3]=e[2],d[4]=e[3],d[5]=e[4],e),d[6]=new c.Map(),d[6].set("nullstate_description_text1",d[1]),d[6].set("nullstate_description_text2",d[2]),d[6].set("nullstate_description_text3",d[3]),d[6].set("nullstate_description_text4",d[4]),d[6].set("nullstate_description_text5",d[5]),c.storedProcedure(b("LSLocalApplyOptimisticGroupThread"),a[0],void 0,a[2],a[4]).then(function(a){return a=a,d[7]=a[0],a})},function(e){return a[3]===!0?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,5]))?a[4]!==void 0?c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[8]=a[0],a})},function(e){return d[9]=c.i64.cast([0,0]),d[10]=c.i64.of_int32(a[0].length),c.i64.gt(d[10],c.i64.cast([0,0]))?c.loopAsync(d[10],function(e){return d[11]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[0],d[11]).then(function(a){return a=a,d[12]=a[0],d[13]=a[1],a})},function(a){return c.i64.neq(d[12],d[8])?d[14]=d[12]:d[14]=d[9],d[9]=d[14]}])}):c.resolve()},function(e){return a[4]!==void 0?(d[11]=new c.Map(),d[11].set("seller_id",d[9]),d[11].set("thread_metadata",a[4]),d[11].set("client_thread_key",d[7]),d[12]=d[11].get("client_thread_key"),d[13]=c.toJSON(d[11]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[12]),c.i64.cast([0,646]),d[13],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()}]):c.resolve(function(a){c.logger(a).mustfix(a)}("Marketplace thread metadata cannot be null")):(d[8]=new c.Map(),d[8].set("participants",a[0]),d[8].set("client_thread_key",d[7]),d[8].set("sync_group",c.i64.cast([0,1])),d[9]=d[8].get("client_thread_key"),d[10]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[9]),c.i64.cast([0,153]),d[10],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()},function(a){return e[0]=d[7]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadRowExistsV2",["LSVerifyThreadExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?d[0]=c.i64.cast([-1,4294967284]):d[0]=c.i64.cast([0,0]),c.storedProcedure(b("LSVerifyThreadExistsV2"),a[0],a[1],"inbox",d[0],a[3],!1,a[2],!1,!1)},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadRowExistsV2StoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadView",["LSArrayGetObjectAt","LSComputeOptimisticThreadCapabilities","LSCreateGroupThreadWithAdminText","LSCreateOfflineThreadingID","LSDeserializeFromJsonIntoDictionaryV2.nop","LSInsertNewMessageRange","LSIssueNewTask","LSLocalCreateOptimisticGroupThread","LSMessagePointQuery","LSVerifyContactRowExists","LSVerifyThreadRowExists","LSVerifyThreadRowExistsV2"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return d[4]=new c.Map(),d[9]="product_type",d[5]=d[3].get(d[9]),d[5]!==void 0?d[4].set(d[9],d[5]):0,d[10]="product_extras",d[6]=d[3].get(d[10]),d[6]?d[7]=!1:d[7]=!0,d[7]?c.resolve():c.sequence([function(a){return d[6]?d[11]=!1:d[11]=!0,d[11]?c.resolve(d[12]=void 0):c.sequence([function(a){return d[13]=d[6].get("__typename"),d[13]==="XMSGStoryReplyExtras"?c.resolve((d[15]=new c.Map(),d[18]="logging",d[16]=d[6].get(d[18]),d[16]?d[17]=!1:d[17]=!0,d[17]?0:(d[16]?d[19]=!1:d[19]=!0,d[19]?d[20]=void 0:(d[21]=new c.Map(),d[29]="story_author_fbid",d[22]=d[16].get(d[29]),d[22]!==void 0?d[21].set(d[29],d[22]):0,d[30]="camera_post_type",d[23]=d[16].get(d[30]),d[23]!==void 0?d[21].set(d[30],d[23]):0,d[31]="story_type",d[24]=d[16].get(d[31]),d[24]!==void 0?d[21].set(d[31],d[24]):0,d[32]="post_source",d[25]=d[16].get(d[32]),d[25]!==void 0?d[21].set(d[32],d[25]):0,d[33]="fb_post_type",d[26]=d[16].get(d[33]),d[26]!==void 0?d[21].set(d[33],d[26]):0,d[34]="conversation_starter_type",d[27]=d[16].get(d[34]),d[27]!==void 0?d[21].set(d[34],d[27]):0,d[35]="story_reply_type",d[28]=d[16].get(d[35]),d[28]!==void 0?d[21].set(d[35],d[28]):0,d[20]=d[21]),d[15].set(d[18],d[20])),d[14]=d[15])):c.sequence([function(a){return d[13]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[16]=new c.Map(),d[35]="listing_id",d[17]=d[6].get(d[35]),d[17]!==void 0?d[16].set(d[35],d[17]):0,d[36]="initial_clicked_component",d[18]=d[6].get(d[36]),d[18]!==void 0?d[16].set(d[36],d[18]):0,d[37]="initial_tracking",d[19]=d[6].get(d[37]),d[19]!==void 0?d[16].set(d[37],d[19]):0,d[38]="referral_surface",d[20]=d[6].get(d[38]),d[20]!==void 0?d[16].set(d[38],d[20]):0,d[39]="referral_story_type",d[21]=d[6].get(d[39]),d[21]!==void 0?d[16].set(d[39],d[21]):0,d[40]="referral_ui_component",d[22]=d[6].get(d[40]),d[22]!==void 0?d[16].set(d[40],d[22]):0,d[41]="surface",d[23]=d[6].get(d[41]),d[23]!==void 0?d[16].set(d[41],d[23]):0,d[42]="tracking",d[24]=d[6].get(d[42]),d[24]!==void 0?d[16].set(d[42],d[24]):0,d[43]="ui_component",d[25]=d[6].get(d[43]),d[25]!==void 0?d[16].set(d[43],d[25]):0,d[44]="ad_id",d[26]=d[6].get(d[44]),d[26]!==void 0?d[16].set(d[44],d[26]):0,d[45]="server_session_id",d[27]=d[6].get(d[45]),d[27]!==void 0?d[16].set(d[45],d[27]):0,d[46]="cf_page_id",d[28]=d[6].get(d[46]),d[28]!==void 0?d[16].set(d[46],d[28]):0,d[47]="live_shopping_video_id",d[29]=d[6].get(d[47]),d[29]!==void 0?d[16].set(d[47],d[29]):0,d[48]="logging_id",d[30]=d[6].get(d[48]),c.i64.neq(d[30],void 0)?d[16].set(d[48],d[30]):0,d[49]="photo_ids",d[31]=d[6].get(d[49]),d[31]?d[32]=!1:d[32]=!0,d[32]?c.resolve():c.sequence([function(a){return d[52]=c.createArray(),d[53]=c.i64.of_int32(d[31].length),c.i64.gt(d[53],c.i64.cast([0,0]))?c.loopAsync(d[53],function(a){return d[54]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[31],d[54]).then(function(a){return a=a,d[55]=a[0],d[56]=a[1],a})},function(a){return d[57]=(d[52].push(d[55]),d[52])}])}):c.resolve()},function(a){return d[16].set(d[49],d[52])}])},function(a){return d[50]="is_customized_message",d[33]=d[6].get(d[50]),d[33]!==void 0?d[16].set(d[50],d[33]):0,d[51]="referral_code",d[34]=d[6].get(d[51]),d[34]!==void 0?d[16].set(d[51],d[34]):0,d[15]=d[16]}]):c.sequence([function(a){return d[13]==="XMSGClickToMessengerAdExtras"?c.resolve((d[17]=new c.Map(),d[28]="encrypted_ads_token",d[18]=d[6].get(d[28]),d[18]!==void 0?d[17].set(d[28],d[18]):0,d[29]="product_type",d[19]=d[6].get(d[29]),d[19]!==void 0?d[17].set(d[29],d[19]):0,d[30]="post_id",d[20]=d[6].get(d[30]),d[20]!==void 0?d[17].set(d[30],d[20]):0,d[31]="ad_id",d[21]=d[6].get(d[31]),d[21]!==void 0?d[17].set(d[31],d[21]):0,d[32]="page_id",d[22]=d[6].get(d[32]),d[22]!==void 0?d[17].set(d[32],d[22]):0,d[33]="photo_id",d[23]=d[6].get(d[33]),d[23]!==void 0?d[17].set(d[33],d[23]):0,d[34]="photo_index",d[24]=d[6].get(d[34]),c.i64.neq(d[24],void 0)?d[17].set(d[34],d[24]):0,d[35]="fallback_url",d[25]=d[6].get(d[35]),d[25]!==void 0?d[17].set(d[35],d[25]):0,d[36]="product_id",d[26]=d[6].get(d[36]),d[26]!==void 0?d[17].set(d[36],d[26]):0,d[37]="user_id",d[27]=d[6].get(d[37]),d[27]!==void 0?d[17].set(d[37],d[27]):0,d[16]=d[17])):c.sequence([function(a){return d[13]==="XMSGZorroMessageExtras"?c.resolve((d[18]=new c.Map(),d[20]="is_enabled",d[19]=d[6].get(d[20]),d[19]!==void 0?d[18].set(d[20],d[19]):0,d[17]=d[18])):c.sequence([function(a){return d[13]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[19]=new c.Map(),d[22]="prompt_type",d[20]=d[6].get(d[22]),d[20]!==void 0?d[19].set(d[22],d[20]):0,d[23]="qpl_join_id",d[21]=d[6].get(d[23]),d[21]!==void 0?d[19].set(d[23],d[21]):0,d[18]=d[19])):c.sequence([function(a){return d[13]==="XMSGGenAIMultiModalExtras"?c.resolve((d[20]=new c.Map(),d[24]="should_skip_genai_eval",d[21]=d[6].get(d[24]),d[21]!==void 0?d[20].set(d[24],d[21]):0,d[25]="associated_multimodal_message_id",d[22]=d[6].get(d[25]),d[22]!==void 0?d[20].set(d[25],d[22]):0,d[26]="qpl_join_id",d[23]=d[6].get(d[26]),d[23]!==void 0?d[20].set(d[26],d[23]):0,d[19]=d[20])):c.sequence([function(a){return d[13]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[21]=new c.Map(),d[24]="seed",d[22]=d[6].get(d[24]),c.i64.neq(d[22],void 0)?d[21].set(d[24],d[22]):0,d[25]="qpl_join_id",d[23]=d[6].get(d[25]),d[23]!==void 0?d[21].set(d[25],d[23]):0,d[20]=d[21])):c.sequence([function(a){return d[13]==="XMSGShareSheetExtras"?c.resolve((d[22]=new c.Map(),d[24]="recipient_selection_session_id",d[23]=d[6].get(d[24]),d[23]!==void 0?d[22].set(d[24],d[23]):0,d[21]=d[22])):c.sequence([function(a){return d[13]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[23]=new c.Map(),d[53]="referrer_session_id",d[24]=d[6].get(d[53]),d[24]!==void 0?d[23].set(d[53],d[24]):0,d[54]="thread_session_id",d[25]=d[6].get(d[54]),d[25]!==void 0?d[23].set(d[54],d[25]):0,d[55]="prompt_id",d[26]=d[6].get(d[55]),d[26]!==void 0?d[23].set(d[55],d[26]):0,d[56]="prompt_type",d[27]=d[6].get(d[56]),d[27]!==void 0?d[23].set(d[56],d[27]):0,d[57]="prompt_fit_topic",d[28]=d[6].get(d[57]),d[28]!==void 0?d[23].set(d[57],d[28]):0,d[58]="location_extras",d[29]=d[6].get(d[58]),d[29]?d[30]=!1:d[30]=!0,d[30]?0:(d[29]?d[75]=!1:d[75]=!0,d[75]?d[76]=void 0:(d[77]=new c.Map(),d[81]="has_previous_perm_prompt",d[78]=d[29].get(d[81]),d[78]!==void 0?d[77].set(d[81],d[78]):0,d[82]="latitude",d[79]=d[29].get(d[82]),d[79]!==void 0?d[77].set(d[82],d[79]):0,d[83]="longitude",d[80]=d[29].get(d[83]),d[80]!==void 0?d[77].set(d[83],d[80]):0,d[76]=d[77]),d[23].set(d[58],d[76])),d[59]="qpl_join_id",d[31]=d[6].get(d[59]),d[31]!==void 0?d[23].set(d[59],d[31]):0,d[60]="meta_ai_prompt_type",d[32]=d[6].get(d[60]),d[32]!==void 0?d[23].set(d[60],d[32]):0,d[61]="is_subsequent_send",d[33]=d[6].get(d[61]),d[33]!==void 0?d[23].set(d[61],d[33]):0,d[62]="context_injection_type",d[34]=d[6].get(d[62]),d[34]!==void 0?d[23].set(d[62],d[34]):0,d[63]="context_injection_timestamp_ms",d[35]=d[6].get(d[63]),d[35]!==void 0?d[23].set(d[63],d[35]):0,d[64]="meta_ai_response_to_persist",d[36]=d[6].get(d[64]),d[36]?d[37]=!1:d[37]=!0,d[37]?c.resolve():c.sequence([function(a){return d[36]?d[75]=!1:d[75]=!0,d[75]?c.resolve(d[76]=void 0):c.sequence([function(a){return d[77]=new c.Map(),d[84]="text",d[78]=d[36].get(d[84]),d[78]!==void 0?d[77].set(d[84],d[78]):0,d[85]="bot_response_id",d[79]=d[36].get(d[85]),d[79]!==void 0?d[77].set(d[85],d[79]):0,d[86]="bot_request_id",d[80]=d[36].get(d[86]),d[80]!==void 0?d[77].set(d[86],d[80]):0,d[87]="external_search_params",d[81]=d[36].get(d[87]),d[81]?d[82]=!1:d[82]=!0,d[82]?c.resolve():c.sequence([function(a){return d[81]?d[89]=!1:d[89]=!0,d[89]?c.resolve(d[90]=void 0):c.sequence([function(a){return d[91]=new c.Map(),d[99]="search_result_uri",d[92]=d[81].get(d[99]),d[92]?d[93]=!1:d[93]=!0,d[93]?c.resolve():c.sequence([function(a){return d[92]?d[104]=!1:d[104]=!0,d[104]?c.resolve(d[105]=void 0):c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[92].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[92],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=(d[106].push(d[109]),d[106])}])}):c.resolve()},function(a){return d[105]=d[106]}])},function(a){return d[91].set(d[99],d[105])}])},function(a){return d[100]="search_query",d[94]=d[81].get(d[100]),d[94]!==void 0?d[91].set(d[100],d[94]):0,d[101]="attribution_link",d[95]=d[81].get(d[101]),d[95]!==void 0?d[91].set(d[101],d[95]):0,d[102]="search_engine",d[96]=d[81].get(d[102]),d[96]!==void 0?d[91].set(d[102],d[96]):0,d[103]="references_title",d[97]=d[81].get(d[103]),d[97]?d[98]=!1:d[98]=!0,d[98]?c.resolve():c.sequence([function(a){return d[97]?d[104]=!1:d[104]=!0,d[104]?c.resolve(d[105]=void 0):c.sequence([function(a){return d[106]=c.createArray(),d[107]=c.i64.of_int32(d[97].length),c.i64.gt(d[107],c.i64.cast([0,0]))?c.loopAsync(d[107],function(a){return d[108]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[97],d[108]).then(function(a){return a=a,d[109]=a[0],d[110]=a[1],a})},function(a){return d[111]=(d[106].push(d[109]),d[106])}])}):c.resolve()},function(a){return d[105]=d[106]}])},function(a){return d[91].set(d[103],d[105])}])},function(a){return d[90]=d[91]}])},function(a){return d[77].set(d[87],d[90])}])},function(a){return d[88]="followup_prompt_text",d[83]=d[36].get(d[88]),d[83]!==void 0?d[77].set(d[88],d[83]):0,d[76]=d[77]}])},function(a){return d[23].set(d[64],d[76])}])},function(a){return d[65]="gql_dark_test_qpl_join_id",d[38]=d[6].get(d[65]),d[38]!==void 0?d[23].set(d[65],d[38]):0,d[66]="gql_dark_test_client_start_time",d[39]=d[6].get(d[66]),d[39]!==void 0?d[23].set(d[66],d[39]):0,d[67]="prompt_context",d[40]=d[6].get(d[67]),d[40]?d[41]=!1:d[41]=!0,d[41]?0:(d[40]?d[75]=!1:d[75]=!0,d[75]?d[76]=void 0:(d[77]=new c.Map(),d[80]="context_token",d[78]=d[40].get(d[80]),d[78]!==void 0?d[77].set(d[80],d[78]):0,d[81]="context_token_type",d[79]=d[40].get(d[81]),c.i64.neq(d[79],void 0)?d[77].set(d[81],d[79]):0,d[76]=d[77]),d[23].set(d[67],d[76])),d[68]="imagine_flash_extras",d[42]=d[6].get(d[68]),d[42]?d[43]=!1:d[43]=!0,d[43]?0:(d[42]?d[75]=!1:d[75]=!0,d[75]?d[76]=void 0:(d[77]=new c.Map(),d[80]="seed",d[78]=d[42].get(d[80]),c.i64.neq(d[78],void 0)?d[77].set(d[80],d[78]):0,d[81]="qpl_join_id",d[79]=d[42].get(d[81]),d[79]!==void 0?d[77].set(d[81],d[79]):0,d[76]=d[77]),d[23].set(d[68],d[76])),d[69]="conversation_marker_id",d[44]=d[6].get(d[69]),d[44]!==void 0?d[23].set(d[69],d[44]):0,d[70]="multi_modal_extras",d[45]=d[6].get(d[70]),d[45]?d[46]=!1:d[46]=!0,d[46]?0:(d[45]?d[75]=!1:d[75]=!0,d[75]?d[76]=void 0:(d[77]=new c.Map(),d[81]="should_skip_genai_eval",d[78]=d[45].get(d[81]),d[78]!==void 0?d[77].set(d[81],d[78]):0,d[82]="associated_multimodal_message_id",d[79]=d[45].get(d[82]),d[79]!==void 0?d[77].set(d[82],d[79]):0,d[83]="qpl_join_id",d[80]=d[45].get(d[83]),d[80]!==void 0?d[77].set(d[83],d[80]):0,d[76]=d[77]),d[23].set(d[70],d[76])),d[71]="ads_extras",d[47]=d[6].get(d[71]),d[47]?d[48]=!1:d[48]=!0,d[48]?0:(d[47]?d[75]=!1:d[75]=!0,d[75]?d[76]=void 0:(d[77]=new c.Map(),d[80]="context",d[78]=d[47].get(d[80]),d[78]!==void 0?d[77].set(d[80],d[78]):0,d[81]="is_reply_to_ads_ai",d[79]=d[47].get(d[81]),d[79]!==void 0?d[77].set(d[81],d[79]):0,d[76]=d[77]),d[23].set(d[71],d[76])),d[72]="suggested_prompt_extras",d[49]=d[6].get(d[72]),d[49]?d[50]=!1:d[50]=!0,d[50]?0:(d[49]?d[75]=!1:d[75]=!0,d[75]?d[76]=void 0:(d[77]=new c.Map(),d[80]="prompt_type",d[78]=d[49].get(d[80]),d[78]!==void 0?d[77].set(d[80],d[78]):0,d[81]="qpl_join_id",d[79]=d[49].get(d[81]),d[79]!==void 0?d[77].set(d[81],d[79]):0,d[76]=d[77]),d[23].set(d[72],d[76])),d[73]="disable_server_mqtt_typing_indicator",d[51]=d[6].get(d[73]),d[51]!==void 0?d[23].set(d[73],d[51]):0,d[74]="enable_web_scraping",d[52]=d[6].get(d[74]),d[52]!==void 0?d[23].set(d[74],d[52]):0,d[22]=d[23]}]):c.sequence([function(a){return d[13]==="XMSGProductHighlightExtras"?c.resolve((d[24]=new c.Map(),d[27]="product_highlight_type",d[25]=d[6].get(d[27]),d[25]!==void 0?d[24].set(d[27],d[25]):0,d[28]="conversation_marker",d[26]=d[6].get(d[28]),d[26]!==void 0?d[24].set(d[28],d[26]):0,d[23]=d[24])):c.sequence([function(a){return d[13]==="XMSGMagicMessengerExtras"?c.resolve((d[25]=new c.Map(),d[27]="is_magic_thread",d[26]=d[6].get(d[27]),d[26]!==void 0?d[25].set(d[27],d[26]):0,d[24]=d[25])):c.sequence([function(a){return d[13]==="XMSGAdsAIExtras"?c.resolve((d[26]=new c.Map(),d[29]="context",d[27]=d[6].get(d[29]),d[27]!==void 0?d[26].set(d[29],d[27]):0,d[30]="is_reply_to_ads_ai",d[28]=d[6].get(d[30]),d[28]!==void 0?d[26].set(d[30],d[28]):0,d[25]=d[26])):c.sequence([function(a){return d[13]==="XMSGBizappExtras"?c.resolve((d[27]=new c.Map(),d[30]="message_source",d[28]=d[6].get(d[30]),d[28]!==void 0?d[27].set(d[30],d[28]):0,d[31]="message_trigger",d[29]=d[6].get(d[31]),d[29]!==void 0?d[27].set(d[31],d[29]):0,d[26]=d[27])):c.sequence([function(a){return d[27]=new c.Map(),d[28]=d[6].keys(),d[29]=c.i64.of_int32(d[28].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[30]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[28],d[30]).then(function(a){return a=a,d[31]=a[0],d[32]=a[1],a})},function(a){return d[33]=d[6].get(d[31]),d[27].set(d[31],d[33])}])}):c.resolve()},function(a){return d[26]=d[27]}])},function(a){return d[25]=d[26]}])},function(a){return d[24]=d[25]}])},function(a){return d[23]=d[24]}])},function(a){return d[22]=d[23]}])},function(a){return d[21]=d[22]}])},function(a){return d[20]=d[21]}])},function(a){return d[19]=d[20]}])},function(a){return d[18]=d[19]}])},function(a){return d[17]=d[18]}])},function(a){return d[16]=d[17]}])},function(a){return d[15]=d[16]}])},function(a){return d[14]=d[15]}])},function(a){return d[14].set("__typename",d[13]),d[12]=d[14]}])},function(a){return d[4].set(d[10],d[12])}])},function(a){return d[8]=d[4].get("product_type"),d[0]=d[8]}]):c.resolve(d[0]=void 0)},function(e){return c.i64.eq(a[1],c.i64.cast([0,7]))?c.resolve((e=[a[0],c.i64.cast([0,1024])],d[1]=e[0],d[2]=e[1],e)):c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?(c.i64.eq(a[0],c.i64.cast([0,0]))?d[12]=a[0]:d[12]=void 0,f=[d[12],void 0,c.i64.cast([0,20])],d[3]=f[0],d[4]=f[1],d[5]=f[2],f):(e=b.item,f=[e.threadKey,e.clientThreadKey,e.authorityLevel],d[3]=f[0],d[4]=f[1],d[5]=f[2],f)})},function(e){return d[12]=c.i64.of_int32(a[6].length),c.i64.eq(a[1],c.i64.cast([0,1]))&&c.i64.gt(d[12],c.i64.cast([0,0]))?(d[13]=c.i64.of_int32(a[6].length),c.i64.gt(d[13],c.i64.cast([0,0]))?c.loopAsync(d[13],function(e){return d[14]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[14]).then(function(a){return a=a,d[15]=a[0],d[16]=a[1],a})},function(a){return d[17]=d[15].get("contact_id"),d[18]=d[15].get("contact_type"),d[19]=d[15].get("contact_name"),d[20]=d[15].get("contact_profile_photo"),c.storedProcedure(b("LSVerifyContactRowExists"),d[17],c.i64.cast([0,0]),d[20],d[19],d[18],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0,void 0)}])}):c.resolve()):c.resolve()},function(e){return a[5]!==void 0?c.sequence([function(d){return c.storedProcedure(b("LSMessagePointQuery"),a[0],a[5],a[1],void 0)},function(b){return b=[a[0],void 0],d[7]=b[0],d[8]=b[1],b}]):c.sequence([function(e){return(c.i64.eq(a[1],c.i64.cast([0,2]))||c.i64.eq(a[1],c.i64.cast([0,5]))||d[0]==="CTM")&&c.i64.eq(a[0],c.i64.cast([0,0]))?c.sequence([function(e){return d[14]=c.createArray(),d[15]=c.i64.of_int32(a[6].length),c.i64.gt(d[15],c.i64.cast([0,0]))?c.loopAsync(d[15],function(e){return d[28]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[28]).then(function(a){return a=a,d[29]=a[0],d[30]=a[1],a})},function(a){return d[31]=d[29].get("contact_id"),d[32]=d[29].get("contact_type"),d[33]=d[29].get("contact_name"),d[34]=d[29].get("contact_profile_photo"),d[35]=(d[14].push(d[31]),d[14])}])}):c.resolve()},function(a){return d[16]=c.i64.of_int32(d[14].length),d[17]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[14].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[18]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[14].some(function(b){return c.i64.eq(a.contactId,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[17].push(a.threadKey),d[17]):0})},function(a){return d[19]=c.createArray(),c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[17].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[17],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[20]=d[30]}])},function(a){return c.groupBy(c.filter(c.db.table(14).fetch(),function(a){return d[17].some(function(b){return c.i64.eq(a.threadKey,b)})}),"threadKey").forEach(function(a){return c.i64.eq(a.group_count,d[16])?d[28]=(d[19].push(a.threadKey),d[19]):0})},function(a){return c.sequence([function(a){return d[28]=c.createArray(),d[29]=c.i64.of_int32(d[19].length),c.i64.gt(d[29],c.i64.cast([0,0]))?c.loopAsync(d[29],function(a){return d[31]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[19],d[31]).then(function(a){return a=a,d[32]=a[0],d[33]=a[1],a})},function(a){return d[34]=(d[28].push(c.i64.to_string(d[32])),d[28])}])}):c.resolve()},function(a){return d[30]=d[28].join(","),d[21]=d[30]}])},function(b){return c.islc(c.filter(c.db.table(9).fetchDesc([[[c.merge({lt:c.i64.cast([0,5])},a[1])],[c.merge({gt:c.i64.cast([0,5])},a[1])],[c.merge(c.i64.cast([0,5]),a[1])]],"threadTypeLastActivityTimestampMs"]),function(b){return d[19].some(function(a){return c.i64.eq(b.threadKey,a)})&&(c.i64.neq(b.threadType,c.i64.cast([0,5]))&&b.threadName===void 0||c.i64.eq(b.threadType,c.i64.cast([0,5]))&&b.threadName===a[2])&&c.i64.eq(b.threadType,a[1])}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[void 0,void 0,c.i64.cast([0,20])],d[22]=e[0],d[23]=e[1],d[24]=e[2],e):(b=a.item,e=[b.threadKey,b.clientThreadKey,b.authorityLevel],d[22]=e[0],d[23]=e[1],d[24]=e[2],e)})},function(e){return c.i64.neq(d[22],void 0)?c.sequence([function(e){return d[0]==="CTM"?c.sequence([function(e){return a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[45]="product_type",d[40]=d[38].get(d[45]),d[40]!==void 0?d[39].set(d[45],d[40]):0,d[46]="product_extras",d[41]=d[38].get(d[46]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[47]=!1:d[47]=!0,d[47]?c.resolve(d[48]=void 0):c.sequence([function(a){return d[49]=d[41].get("__typename"),d[49]==="XMSGStoryReplyExtras"?c.resolve((d[51]=new c.Map(),d[54]="logging",d[52]=d[41].get(d[54]),d[52]?d[53]=!1:d[53]=!0,d[53]?0:(d[52]?d[55]=!1:d[55]=!0,d[55]?d[56]=void 0:(d[57]=new c.Map(),d[65]="story_author_fbid",d[58]=d[52].get(d[65]),d[58]!==void 0?d[57].set(d[65],d[58]):0,d[66]="camera_post_type",d[59]=d[52].get(d[66]),d[59]!==void 0?d[57].set(d[66],d[59]):0,d[67]="story_type",d[60]=d[52].get(d[67]),d[60]!==void 0?d[57].set(d[67],d[60]):0,d[68]="post_source",d[61]=d[52].get(d[68]),d[61]!==void 0?d[57].set(d[68],d[61]):0,d[69]="fb_post_type",d[62]=d[52].get(d[69]),d[62]!==void 0?d[57].set(d[69],d[62]):0,d[70]="conversation_starter_type",d[63]=d[52].get(d[70]),d[63]!==void 0?d[57].set(d[70],d[63]):0,d[71]="story_reply_type",d[64]=d[52].get(d[71]),d[64]!==void 0?d[57].set(d[71],d[64]):0,d[56]=d[57]),d[51].set(d[54],d[56])),d[50]=d[51])):c.sequence([function(a){return d[49]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[52]=new c.Map(),d[71]="listing_id",d[53]=d[41].get(d[71]),d[53]!==void 0?d[52].set(d[71],d[53]):0,d[72]="initial_clicked_component",d[54]=d[41].get(d[72]),d[54]!==void 0?d[52].set(d[72],d[54]):0,d[73]="initial_tracking",d[55]=d[41].get(d[73]),d[55]!==void 0?d[52].set(d[73],d[55]):0,d[74]="referral_surface",d[56]=d[41].get(d[74]),d[56]!==void 0?d[52].set(d[74],d[56]):0,d[75]="referral_story_type",d[57]=d[41].get(d[75]),d[57]!==void 0?d[52].set(d[75],d[57]):0,d[76]="referral_ui_component",d[58]=d[41].get(d[76]),d[58]!==void 0?d[52].set(d[76],d[58]):0,d[77]="surface",d[59]=d[41].get(d[77]),d[59]!==void 0?d[52].set(d[77],d[59]):0,d[78]="tracking",d[60]=d[41].get(d[78]),d[60]!==void 0?d[52].set(d[78],d[60]):0,d[79]="ui_component",d[61]=d[41].get(d[79]),d[61]!==void 0?d[52].set(d[79],d[61]):0,d[80]="ad_id",d[62]=d[41].get(d[80]),d[62]!==void 0?d[52].set(d[80],d[62]):0,d[81]="server_session_id",d[63]=d[41].get(d[81]),d[63]!==void 0?d[52].set(d[81],d[63]):0,d[82]="cf_page_id",d[64]=d[41].get(d[82]),d[64]!==void 0?d[52].set(d[82],d[64]):0,d[83]="live_shopping_video_id",d[65]=d[41].get(d[83]),d[65]!==void 0?d[52].set(d[83],d[65]):0,d[84]="logging_id",d[66]=d[41].get(d[84]),c.i64.neq(d[66],void 0)?d[52].set(d[84],d[66]):0,d[85]="photo_ids",d[67]=d[41].get(d[85]),d[67]?d[68]=!1:d[68]=!0,d[68]?c.resolve():c.sequence([function(a){return d[88]=c.createArray(),d[89]=c.i64.of_int32(d[67].length),c.i64.gt(d[89],c.i64.cast([0,0]))?c.loopAsync(d[89],function(a){return d[90]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[67],d[90]).then(function(a){return a=a,d[91]=a[0],d[92]=a[1],a})},function(a){return d[93]=(d[88].push(d[91]),d[88])}])}):c.resolve()},function(a){return d[52].set(d[85],d[88])}])},function(a){return d[86]="is_customized_message",d[69]=d[41].get(d[86]),d[69]!==void 0?d[52].set(d[86],d[69]):0,d[87]="referral_code",d[70]=d[41].get(d[87]),d[70]!==void 0?d[52].set(d[87],d[70]):0,d[51]=d[52]}]):c.sequence([function(a){return d[49]==="XMSGClickToMessengerAdExtras"?c.resolve((d[53]=new c.Map(),d[64]="encrypted_ads_token",d[54]=d[41].get(d[64]),d[54]!==void 0?d[53].set(d[64],d[54]):0,d[65]="product_type",d[55]=d[41].get(d[65]),d[55]!==void 0?d[53].set(d[65],d[55]):0,d[66]="post_id",d[56]=d[41].get(d[66]),d[56]!==void 0?d[53].set(d[66],d[56]):0,d[67]="ad_id",d[57]=d[41].get(d[67]),d[57]!==void 0?d[53].set(d[67],d[57]):0,d[68]="page_id",d[58]=d[41].get(d[68]),d[58]!==void 0?d[53].set(d[68],d[58]):0,d[69]="photo_id",d[59]=d[41].get(d[69]),d[59]!==void 0?d[53].set(d[69],d[59]):0,d[70]="photo_index",d[60]=d[41].get(d[70]),c.i64.neq(d[60],void 0)?d[53].set(d[70],d[60]):0,d[71]="fallback_url",d[61]=d[41].get(d[71]),d[61]!==void 0?d[53].set(d[71],d[61]):0,d[72]="product_id",d[62]=d[41].get(d[72]),d[62]!==void 0?d[53].set(d[72],d[62]):0,d[73]="user_id",d[63]=d[41].get(d[73]),d[63]!==void 0?d[53].set(d[73],d[63]):0,d[52]=d[53])):c.sequence([function(a){return d[49]==="XMSGZorroMessageExtras"?c.resolve((d[54]=new c.Map(),d[56]="is_enabled",d[55]=d[41].get(d[56]),d[55]!==void 0?d[54].set(d[56],d[55]):0,d[53]=d[54])):c.sequence([function(a){return d[49]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[55]=new c.Map(),d[58]="prompt_type",d[56]=d[41].get(d[58]),d[56]!==void 0?d[55].set(d[58],d[56]):0,d[59]="qpl_join_id",d[57]=d[41].get(d[59]),d[57]!==void 0?d[55].set(d[59],d[57]):0,d[54]=d[55])):c.sequence([function(a){return d[49]==="XMSGGenAIMultiModalExtras"?c.resolve((d[56]=new c.Map(),d[60]="should_skip_genai_eval",d[57]=d[41].get(d[60]),d[57]!==void 0?d[56].set(d[60],d[57]):0,d[61]="associated_multimodal_message_id",d[58]=d[41].get(d[61]),d[58]!==void 0?d[56].set(d[61],d[58]):0,d[62]="qpl_join_id",d[59]=d[41].get(d[62]),d[59]!==void 0?d[56].set(d[62],d[59]):0,d[55]=d[56])):c.sequence([function(a){return d[49]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[57]=new c.Map(),d[60]="seed",d[58]=d[41].get(d[60]),c.i64.neq(d[58],void 0)?d[57].set(d[60],d[58]):0,d[61]="qpl_join_id",d[59]=d[41].get(d[61]),d[59]!==void 0?d[57].set(d[61],d[59]):0,d[56]=d[57])):c.sequence([function(a){return d[49]==="XMSGShareSheetExtras"?c.resolve((d[58]=new c.Map(),d[60]="recipient_selection_session_id",d[59]=d[41].get(d[60]),d[59]!==void 0?d[58].set(d[60],d[59]):0,d[57]=d[58])):c.sequence([function(a){return d[49]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[59]=new c.Map(),d[89]="referrer_session_id",d[60]=d[41].get(d[89]),d[60]!==void 0?d[59].set(d[89],d[60]):0,d[90]="thread_session_id",d[61]=d[41].get(d[90]),d[61]!==void 0?d[59].set(d[90],d[61]):0,d[91]="prompt_id",d[62]=d[41].get(d[91]),d[62]!==void 0?d[59].set(d[91],d[62]):0,d[92]="prompt_type",d[63]=d[41].get(d[92]),d[63]!==void 0?d[59].set(d[92],d[63]):0,d[93]="prompt_fit_topic",d[64]=d[41].get(d[93]),d[64]!==void 0?d[59].set(d[93],d[64]):0,d[94]="location_extras",d[65]=d[41].get(d[94]),d[65]?d[66]=!1:d[66]=!0,d[66]?0:(d[65]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[117]="has_previous_perm_prompt",d[114]=d[65].get(d[117]),d[114]!==void 0?d[113].set(d[117],d[114]):0,d[118]="latitude",d[115]=d[65].get(d[118]),d[115]!==void 0?d[113].set(d[118],d[115]):0,d[119]="longitude",d[116]=d[65].get(d[119]),d[116]!==void 0?d[113].set(d[119],d[116]):0,d[112]=d[113]),d[59].set(d[94],d[112])),d[95]="qpl_join_id",d[67]=d[41].get(d[95]),d[67]!==void 0?d[59].set(d[95],d[67]):0,d[96]="meta_ai_prompt_type",d[68]=d[41].get(d[96]),d[68]!==void 0?d[59].set(d[96],d[68]):0,d[97]="is_subsequent_send",d[69]=d[41].get(d[97]),d[69]!==void 0?d[59].set(d[97],d[69]):0,d[98]="context_injection_type",d[70]=d[41].get(d[98]),d[70]!==void 0?d[59].set(d[98],d[70]):0,d[99]="context_injection_timestamp_ms",d[71]=d[41].get(d[99]),d[71]!==void 0?d[59].set(d[99],d[71]):0,d[100]="meta_ai_response_to_persist",d[72]=d[41].get(d[100]),d[72]?d[73]=!1:d[73]=!0,d[73]?c.resolve():c.sequence([function(a){return d[72]?d[111]=!1:d[111]=!0,d[111]?c.resolve(d[112]=void 0):c.sequence([function(a){return d[113]=new c.Map(),d[120]="text",d[114]=d[72].get(d[120]),d[114]!==void 0?d[113].set(d[120],d[114]):0,d[121]="bot_response_id",d[115]=d[72].get(d[121]),d[115]!==void 0?d[113].set(d[121],d[115]):0,d[122]="bot_request_id",d[116]=d[72].get(d[122]),d[116]!==void 0?d[113].set(d[122],d[116]):0,d[123]="external_search_params",d[117]=d[72].get(d[123]),d[117]?d[118]=!1:d[118]=!0,d[118]?c.resolve():c.sequence([function(a){return d[117]?d[125]=!1:d[125]=!0,d[125]?c.resolve(d[126]=void 0):c.sequence([function(a){return d[127]=new c.Map(),d[135]="search_result_uri",d[128]=d[117].get(d[135]),d[128]?d[129]=!1:d[129]=!0,d[129]?c.resolve():c.sequence([function(a){return d[128]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[142]=c.createArray(),d[143]=c.i64.of_int32(d[128].length),c.i64.gt(d[143],c.i64.cast([0,0]))?c.loopAsync(d[143],function(a){return d[144]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[128],d[144]).then(function(a){return a=a,d[145]=a[0],d[146]=a[1],a})},function(a){return d[147]=(d[142].push(d[145]),d[142])}])}):c.resolve()},function(a){return d[141]=d[142]}])},function(a){return d[127].set(d[135],d[141])}])},function(a){return d[136]="search_query",d[130]=d[117].get(d[136]),d[130]!==void 0?d[127].set(d[136],d[130]):0,d[137]="attribution_link",d[131]=d[117].get(d[137]),d[131]!==void 0?d[127].set(d[137],d[131]):0,d[138]="search_engine",d[132]=d[117].get(d[138]),d[132]!==void 0?d[127].set(d[138],d[132]):0,d[139]="references_title",d[133]=d[117].get(d[139]),d[133]?d[134]=!1:d[134]=!0,d[134]?c.resolve():c.sequence([function(a){return d[133]?d[140]=!1:d[140]=!0,d[140]?c.resolve(d[141]=void 0):c.sequence([function(a){return d[142]=c.createArray(),d[143]=c.i64.of_int32(d[133].length),c.i64.gt(d[143],c.i64.cast([0,0]))?c.loopAsync(d[143],function(a){return d[144]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[133],d[144]).then(function(a){return a=a,d[145]=a[0],d[146]=a[1],a})},function(a){return d[147]=(d[142].push(d[145]),d[142])}])}):c.resolve()},function(a){return d[141]=d[142]}])},function(a){return d[127].set(d[139],d[141])}])},function(a){return d[126]=d[127]}])},function(a){return d[113].set(d[123],d[126])}])},function(a){return d[124]="followup_prompt_text",d[119]=d[72].get(d[124]),d[119]!==void 0?d[113].set(d[124],d[119]):0,d[112]=d[113]}])},function(a){return d[59].set(d[100],d[112])}])},function(a){return d[101]="gql_dark_test_qpl_join_id",d[74]=d[41].get(d[101]),d[74]!==void 0?d[59].set(d[101],d[74]):0,d[102]="gql_dark_test_client_start_time",d[75]=d[41].get(d[102]),d[75]!==void 0?d[59].set(d[102],d[75]):0,d[103]="prompt_context",d[76]=d[41].get(d[103]),d[76]?d[77]=!1:d[77]=!0,d[77]?0:(d[76]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[116]="context_token",d[114]=d[76].get(d[116]),d[114]!==void 0?d[113].set(d[116],d[114]):0,d[117]="context_token_type",d[115]=d[76].get(d[117]),c.i64.neq(d[115],void 0)?d[113].set(d[117],d[115]):0,d[112]=d[113]),d[59].set(d[103],d[112])),d[104]="imagine_flash_extras",d[78]=d[41].get(d[104]),d[78]?d[79]=!1:d[79]=!0,d[79]?0:(d[78]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[116]="seed",d[114]=d[78].get(d[116]),c.i64.neq(d[114],void 0)?d[113].set(d[116],d[114]):0,d[117]="qpl_join_id",d[115]=d[78].get(d[117]),d[115]!==void 0?d[113].set(d[117],d[115]):0,d[112]=d[113]),d[59].set(d[104],d[112])),d[105]="conversation_marker_id",d[80]=d[41].get(d[105]),d[80]!==void 0?d[59].set(d[105],d[80]):0,d[106]="multi_modal_extras",d[81]=d[41].get(d[106]),d[81]?d[82]=!1:d[82]=!0,d[82]?0:(d[81]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[117]="should_skip_genai_eval",d[114]=d[81].get(d[117]),d[114]!==void 0?d[113].set(d[117],d[114]):0,d[118]="associated_multimodal_message_id",d[115]=d[81].get(d[118]),d[115]!==void 0?d[113].set(d[118],d[115]):0,d[119]="qpl_join_id",d[116]=d[81].get(d[119]),d[116]!==void 0?d[113].set(d[119],d[116]):0,d[112]=d[113]),d[59].set(d[106],d[112])),d[107]="ads_extras",d[83]=d[41].get(d[107]),d[83]?d[84]=!1:d[84]=!0,d[84]?0:(d[83]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[116]="context",d[114]=d[83].get(d[116]),d[114]!==void 0?d[113].set(d[116],d[114]):0,d[117]="is_reply_to_ads_ai",d[115]=d[83].get(d[117]),d[115]!==void 0?d[113].set(d[117],d[115]):0,d[112]=d[113]),d[59].set(d[107],d[112])),d[108]="suggested_prompt_extras",d[85]=d[41].get(d[108]),d[85]?d[86]=!1:d[86]=!0,d[86]?0:(d[85]?d[111]=!1:d[111]=!0,d[111]?d[112]=void 0:(d[113]=new c.Map(),d[116]="prompt_type",d[114]=d[85].get(d[116]),d[114]!==void 0?d[113].set(d[116],d[114]):0,d[117]="qpl_join_id",d[115]=d[85].get(d[117]),d[115]!==void 0?d[113].set(d[117],d[115]):0,d[112]=d[113]),d[59].set(d[108],d[112])),d[109]="disable_server_mqtt_typing_indicator",d[87]=d[41].get(d[109]),d[87]!==void 0?d[59].set(d[109],d[87]):0,d[110]="enable_web_scraping",d[88]=d[41].get(d[110]),d[88]!==void 0?d[59].set(d[110],d[88]):0,d[58]=d[59]}]):c.sequence([function(a){return d[49]==="XMSGProductHighlightExtras"?c.resolve((d[60]=new c.Map(),d[63]="product_highlight_type",d[61]=d[41].get(d[63]),d[61]!==void 0?d[60].set(d[63],d[61]):0,d[64]="conversation_marker",d[62]=d[41].get(d[64]),d[62]!==void 0?d[60].set(d[64],d[62]):0,d[59]=d[60])):c.sequence([function(a){return d[49]==="XMSGMagicMessengerExtras"?c.resolve((d[61]=new c.Map(),d[63]="is_magic_thread",d[62]=d[41].get(d[63]),d[62]!==void 0?d[61].set(d[63],d[62]):0,d[60]=d[61])):c.sequence([function(a){return d[49]==="XMSGAdsAIExtras"?c.resolve((d[62]=new c.Map(),d[65]="context",d[63]=d[41].get(d[65]),d[63]!==void 0?d[62].set(d[65],d[63]):0,d[66]="is_reply_to_ads_ai",d[64]=d[41].get(d[66]),d[64]!==void 0?d[62].set(d[66],d[64]):0,d[61]=d[62])):c.sequence([function(a){return d[49]==="XMSGBizappExtras"?c.resolve((d[63]=new c.Map(),d[66]="message_source",d[64]=d[41].get(d[66]),d[64]!==void 0?d[63].set(d[66],d[64]):0,d[67]="message_trigger",d[65]=d[41].get(d[67]),d[65]!==void 0?d[63].set(d[67],d[65]):0,d[62]=d[63])):c.sequence([function(a){return d[63]=new c.Map(),d[64]=d[41].keys(),d[65]=c.i64.of_int32(d[64].length),c.i64.gt(d[65],c.i64.cast([0,0]))?c.loopAsync(d[65],function(a){return d[66]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[64],d[66]).then(function(a){return a=a,d[67]=a[0],d[68]=a[1],a})},function(a){return d[69]=d[41].get(d[67]),d[63].set(d[67],d[69])}])}):c.resolve()},function(a){return d[62]=d[63]}])},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[50].set("__typename",d[49]),d[48]=d[50]}])},function(a){return d[39].set(d[46],d[48])}])},function(a){return d[43]=d[39].get("product_extras"),d[43]!==void 0?(d[47]=d[43].get("__typename"),d[47]==="XMSGClickToMessengerAdExtras"?(d[50]=new c.Map(),d[61]="encrypted_ads_token",d[51]=d[43].get(d[61]),d[51]!==void 0?d[50].set(d[61],d[51]):0,d[62]="product_type",d[52]=d[43].get(d[62]),d[52]!==void 0?d[50].set(d[62],d[52]):0,d[63]="post_id",d[53]=d[43].get(d[63]),d[53]!==void 0?d[50].set(d[63],d[53]):0,d[64]="ad_id",d[54]=d[43].get(d[64]),d[54]!==void 0?d[50].set(d[64],d[54]):0,d[65]="page_id",d[55]=d[43].get(d[65]),d[55]!==void 0?d[50].set(d[65],d[55]):0,d[66]="photo_id",d[56]=d[43].get(d[66]),d[56]!==void 0?d[50].set(d[66],d[56]):0,d[67]="photo_index",d[57]=d[43].get(d[67]),c.i64.neq(d[57],void 0)?d[50].set(d[67],d[57]):0,d[68]="fallback_url",d[58]=d[43].get(d[68]),d[58]!==void 0?d[50].set(d[68],d[58]):0,d[69]="product_id",d[59]=d[43].get(d[69]),d[59]!==void 0?d[50].set(d[69],d[59]):0,d[70]="user_id",d[60]=d[43].get(d[70]),d[60]!==void 0?d[50].set(d[70],d[60]):0,d[48]=d[50]):d[48]=void 0,d[48]!==void 0?(d[50]=d[48].get("page_id"),d[49]=d[50]):d[49]=void 0,d[44]=d[49]):d[44]=void 0,d[30]=d[44]}]):c.resolve(d[30]=void 0)},function(a){return d[31]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[33]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[35]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSCreateOfflineThreadingID"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return d[30]!==void 0?d[37]=c.i64.from_string(d[30]):d[37]=d[32],a[8]!==void 0?c.sequence([function(e){return c.nativeOperation(b("LSDeserializeFromJsonIntoDictionaryV2.nop"),a[8]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[39]=new c.Map(),d[44]="product_type",d[40]=d[38].get(d[44]),d[40]!==void 0?d[39].set(d[44],d[40]):0,d[45]="product_extras",d[41]=d[38].get(d[45]),d[41]?d[42]=!1:d[42]=!0,d[42]?c.resolve():c.sequence([function(a){return d[41]?d[46]=!1:d[46]=!0,d[46]?c.resolve(d[47]=void 0):c.sequence([function(a){return d[48]=d[41].get("__typename"),d[48]==="XMSGStoryReplyExtras"?c.resolve((d[50]=new c.Map(),d[53]="logging",d[51]=d[41].get(d[53]),d[51]?d[52]=!1:d[52]=!0,d[52]?0:(d[51]?d[54]=!1:d[54]=!0,d[54]?d[55]=void 0:(d[56]=new c.Map(),d[64]="story_author_fbid",d[57]=d[51].get(d[64]),d[57]!==void 0?d[56].set(d[64],d[57]):0,d[65]="camera_post_type",d[58]=d[51].get(d[65]),d[58]!==void 0?d[56].set(d[65],d[58]):0,d[66]="story_type",d[59]=d[51].get(d[66]),d[59]!==void 0?d[56].set(d[66],d[59]):0,d[67]="post_source",d[60]=d[51].get(d[67]),d[60]!==void 0?d[56].set(d[67],d[60]):0,d[68]="fb_post_type",d[61]=d[51].get(d[68]),d[61]!==void 0?d[56].set(d[68],d[61]):0,d[69]="conversation_starter_type",d[62]=d[51].get(d[69]),d[62]!==void 0?d[56].set(d[69],d[62]):0,d[70]="story_reply_type",d[63]=d[51].get(d[70]),d[63]!==void 0?d[56].set(d[70],d[63]):0,d[55]=d[56]),d[50].set(d[53],d[55])),d[49]=d[50])):c.sequence([function(a){return d[48]==="XMSGMarketplaceExtras"?c.sequence([function(a){return d[51]=new c.Map(),d[70]="listing_id",d[52]=d[41].get(d[70]),d[52]!==void 0?d[51].set(d[70],d[52]):0,d[71]="initial_clicked_component",d[53]=d[41].get(d[71]),d[53]!==void 0?d[51].set(d[71],d[53]):0,d[72]="initial_tracking",d[54]=d[41].get(d[72]),d[54]!==void 0?d[51].set(d[72],d[54]):0,d[73]="referral_surface",d[55]=d[41].get(d[73]),d[55]!==void 0?d[51].set(d[73],d[55]):0,d[74]="referral_story_type",d[56]=d[41].get(d[74]),d[56]!==void 0?d[51].set(d[74],d[56]):0,d[75]="referral_ui_component",d[57]=d[41].get(d[75]),d[57]!==void 0?d[51].set(d[75],d[57]):0,d[76]="surface",d[58]=d[41].get(d[76]),d[58]!==void 0?d[51].set(d[76],d[58]):0,d[77]="tracking",d[59]=d[41].get(d[77]),d[59]!==void 0?d[51].set(d[77],d[59]):0,d[78]="ui_component",d[60]=d[41].get(d[78]),d[60]!==void 0?d[51].set(d[78],d[60]):0,d[79]="ad_id",d[61]=d[41].get(d[79]),d[61]!==void 0?d[51].set(d[79],d[61]):0,d[80]="server_session_id",d[62]=d[41].get(d[80]),d[62]!==void 0?d[51].set(d[80],d[62]):0,d[81]="cf_page_id",d[63]=d[41].get(d[81]),d[63]!==void 0?d[51].set(d[81],d[63]):0,d[82]="live_shopping_video_id",d[64]=d[41].get(d[82]),d[64]!==void 0?d[51].set(d[82],d[64]):0,d[83]="logging_id",d[65]=d[41].get(d[83]),c.i64.neq(d[65],void 0)?d[51].set(d[83],d[65]):0,d[84]="photo_ids",d[66]=d[41].get(d[84]),d[66]?d[67]=!1:d[67]=!0,d[67]?c.resolve():c.sequence([function(a){return d[87]=c.createArray(),d[88]=c.i64.of_int32(d[66].length),c.i64.gt(d[88],c.i64.cast([0,0]))?c.loopAsync(d[88],function(a){return d[89]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[66],d[89]).then(function(a){return a=a,d[90]=a[0],d[91]=a[1],a})},function(a){return d[92]=(d[87].push(d[90]),d[87])}])}):c.resolve()},function(a){return d[51].set(d[84],d[87])}])},function(a){return d[85]="is_customized_message",d[68]=d[41].get(d[85]),d[68]!==void 0?d[51].set(d[85],d[68]):0,d[86]="referral_code",d[69]=d[41].get(d[86]),d[69]!==void 0?d[51].set(d[86],d[69]):0,d[50]=d[51]}]):c.sequence([function(a){return d[48]==="XMSGClickToMessengerAdExtras"?c.resolve((d[52]=new c.Map(),d[63]="encrypted_ads_token",d[53]=d[41].get(d[63]),d[53]!==void 0?d[52].set(d[63],d[53]):0,d[64]="product_type",d[54]=d[41].get(d[64]),d[54]!==void 0?d[52].set(d[64],d[54]):0,d[65]="post_id",d[55]=d[41].get(d[65]),d[55]!==void 0?d[52].set(d[65],d[55]):0,d[66]="ad_id",d[56]=d[41].get(d[66]),d[56]!==void 0?d[52].set(d[66],d[56]):0,d[67]="page_id",d[57]=d[41].get(d[67]),d[57]!==void 0?d[52].set(d[67],d[57]):0,d[68]="photo_id",d[58]=d[41].get(d[68]),d[58]!==void 0?d[52].set(d[68],d[58]):0,d[69]="photo_index",d[59]=d[41].get(d[69]),c.i64.neq(d[59],void 0)?d[52].set(d[69],d[59]):0,d[70]="fallback_url",d[60]=d[41].get(d[70]),d[60]!==void 0?d[52].set(d[70],d[60]):0,d[71]="product_id",d[61]=d[41].get(d[71]),d[61]!==void 0?d[52].set(d[71],d[61]):0,d[72]="user_id",d[62]=d[41].get(d[72]),d[62]!==void 0?d[52].set(d[72],d[62]):0,d[51]=d[52])):c.sequence([function(a){return d[48]==="XMSGZorroMessageExtras"?c.resolve((d[53]=new c.Map(),d[55]="is_enabled",d[54]=d[41].get(d[55]),d[54]!==void 0?d[53].set(d[55],d[54]):0,d[52]=d[53])):c.sequence([function(a){return d[48]==="XMSGGenAISuggestedPromptExtras"?c.resolve((d[54]=new c.Map(),d[57]="prompt_type",d[55]=d[41].get(d[57]),d[55]!==void 0?d[54].set(d[57],d[55]):0,d[58]="qpl_join_id",d[56]=d[41].get(d[58]),d[56]!==void 0?d[54].set(d[58],d[56]):0,d[53]=d[54])):c.sequence([function(a){return d[48]==="XMSGGenAIMultiModalExtras"?c.resolve((d[55]=new c.Map(),d[59]="should_skip_genai_eval",d[56]=d[41].get(d[59]),d[56]!==void 0?d[55].set(d[59],d[56]):0,d[60]="associated_multimodal_message_id",d[57]=d[41].get(d[60]),d[57]!==void 0?d[55].set(d[60],d[57]):0,d[61]="qpl_join_id",d[58]=d[41].get(d[61]),d[58]!==void 0?d[55].set(d[61],d[58]):0,d[54]=d[55])):c.sequence([function(a){return d[48]==="XMSGGenAIFlashImagineExtras"?c.resolve((d[56]=new c.Map(),d[59]="seed",d[57]=d[41].get(d[59]),c.i64.neq(d[57],void 0)?d[56].set(d[59],d[57]):0,d[60]="qpl_join_id",d[58]=d[41].get(d[60]),d[58]!==void 0?d[56].set(d[60],d[58]):0,d[55]=d[56])):c.sequence([function(a){return d[48]==="XMSGShareSheetExtras"?c.resolve((d[57]=new c.Map(),d[59]="recipient_selection_session_id",d[58]=d[41].get(d[59]),d[58]!==void 0?d[57].set(d[59],d[58]):0,d[56]=d[57])):c.sequence([function(a){return d[48]==="XMSGGenAIAssistantAPIExtras"?c.sequence([function(a){return d[58]=new c.Map(),d[88]="referrer_session_id",d[59]=d[41].get(d[88]),d[59]!==void 0?d[58].set(d[88],d[59]):0,d[89]="thread_session_id",d[60]=d[41].get(d[89]),d[60]!==void 0?d[58].set(d[89],d[60]):0,d[90]="prompt_id",d[61]=d[41].get(d[90]),d[61]!==void 0?d[58].set(d[90],d[61]):0,d[91]="prompt_type",d[62]=d[41].get(d[91]),d[62]!==void 0?d[58].set(d[91],d[62]):0,d[92]="prompt_fit_topic",d[63]=d[41].get(d[92]),d[63]!==void 0?d[58].set(d[92],d[63]):0,d[93]="location_extras",d[64]=d[41].get(d[93]),d[64]?d[65]=!1:d[65]=!0,d[65]?0:(d[64]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="has_previous_perm_prompt",d[113]=d[64].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="latitude",d[114]=d[64].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="longitude",d[115]=d[64].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[58].set(d[93],d[111])),d[94]="qpl_join_id",d[66]=d[41].get(d[94]),d[66]!==void 0?d[58].set(d[94],d[66]):0,d[95]="meta_ai_prompt_type",d[67]=d[41].get(d[95]),d[67]!==void 0?d[58].set(d[95],d[67]):0,d[96]="is_subsequent_send",d[68]=d[41].get(d[96]),d[68]!==void 0?d[58].set(d[96],d[68]):0,d[97]="context_injection_type",d[69]=d[41].get(d[97]),d[69]!==void 0?d[58].set(d[97],d[69]):0,d[98]="context_injection_timestamp_ms",d[70]=d[41].get(d[98]),d[70]!==void 0?d[58].set(d[98],d[70]):0,d[99]="meta_ai_response_to_persist",d[71]=d[41].get(d[99]),d[71]?d[72]=!1:d[72]=!0,d[72]?c.resolve():c.sequence([function(a){return d[71]?d[110]=!1:d[110]=!0,d[110]?c.resolve(d[111]=void 0):c.sequence([function(a){return d[112]=new c.Map(),d[119]="text",d[113]=d[71].get(d[119]),d[113]!==void 0?d[112].set(d[119],d[113]):0,d[120]="bot_response_id",d[114]=d[71].get(d[120]),d[114]!==void 0?d[112].set(d[120],d[114]):0,d[121]="bot_request_id",d[115]=d[71].get(d[121]),d[115]!==void 0?d[112].set(d[121],d[115]):0,d[122]="external_search_params",d[116]=d[71].get(d[122]),d[116]?d[117]=!1:d[117]=!0,d[117]?c.resolve():c.sequence([function(a){return d[116]?d[124]=!1:d[124]=!0,d[124]?c.resolve(d[125]=void 0):c.sequence([function(a){return d[126]=new c.Map(),d[134]="search_result_uri",d[127]=d[116].get(d[134]),d[127]?d[128]=!1:d[128]=!0,d[128]?c.resolve():c.sequence([function(a){return d[127]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[127].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[127],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[126].set(d[134],d[140])}])},function(a){return d[135]="search_query",d[129]=d[116].get(d[135]),d[129]!==void 0?d[126].set(d[135],d[129]):0,d[136]="attribution_link",d[130]=d[116].get(d[136]),d[130]!==void 0?d[126].set(d[136],d[130]):0,d[137]="search_engine",d[131]=d[116].get(d[137]),d[131]!==void 0?d[126].set(d[137],d[131]):0,d[138]="references_title",d[132]=d[116].get(d[138]),d[132]?d[133]=!1:d[133]=!0,d[133]?c.resolve():c.sequence([function(a){return d[132]?d[139]=!1:d[139]=!0,d[139]?c.resolve(d[140]=void 0):c.sequence([function(a){return d[141]=c.createArray(),d[142]=c.i64.of_int32(d[132].length),c.i64.gt(d[142],c.i64.cast([0,0]))?c.loopAsync(d[142],function(a){return d[143]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[132],d[143]).then(function(a){return a=a,d[144]=a[0],d[145]=a[1],a})},function(a){return d[146]=(d[141].push(d[144]),d[141])}])}):c.resolve()},function(a){return d[140]=d[141]}])},function(a){return d[126].set(d[138],d[140])}])},function(a){return d[125]=d[126]}])},function(a){return d[112].set(d[122],d[125])}])},function(a){return d[123]="followup_prompt_text",d[118]=d[71].get(d[123]),d[118]!==void 0?d[112].set(d[123],d[118]):0,d[111]=d[112]}])},function(a){return d[58].set(d[99],d[111])}])},function(a){return d[100]="gql_dark_test_qpl_join_id",d[73]=d[41].get(d[100]),d[73]!==void 0?d[58].set(d[100],d[73]):0,d[101]="gql_dark_test_client_start_time",d[74]=d[41].get(d[101]),d[74]!==void 0?d[58].set(d[101],d[74]):0,d[102]="prompt_context",d[75]=d[41].get(d[102]),d[75]?d[76]=!1:d[76]=!0,d[76]?0:(d[75]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="context_token",d[113]=d[75].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="context_token_type",d[114]=d[75].get(d[116]),c.i64.neq(d[114],void 0)?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[58].set(d[102],d[111])),d[103]="imagine_flash_extras",d[77]=d[41].get(d[103]),d[77]?d[78]=!1:d[78]=!0,d[78]?0:(d[77]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="seed",d[113]=d[77].get(d[115]),c.i64.neq(d[113],void 0)?d[112].set(d[115],d[113]):0,d[116]="qpl_join_id",d[114]=d[77].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[58].set(d[103],d[111])),d[104]="conversation_marker_id",d[79]=d[41].get(d[104]),d[79]!==void 0?d[58].set(d[104],d[79]):0,d[105]="multi_modal_extras",d[80]=d[41].get(d[105]),d[80]?d[81]=!1:d[81]=!0,d[81]?0:(d[80]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[116]="should_skip_genai_eval",d[113]=d[80].get(d[116]),d[113]!==void 0?d[112].set(d[116],d[113]):0,d[117]="associated_multimodal_message_id",d[114]=d[80].get(d[117]),d[114]!==void 0?d[112].set(d[117],d[114]):0,d[118]="qpl_join_id",d[115]=d[80].get(d[118]),d[115]!==void 0?d[112].set(d[118],d[115]):0,d[111]=d[112]),d[58].set(d[105],d[111])),d[106]="ads_extras",d[82]=d[41].get(d[106]),d[82]?d[83]=!1:d[83]=!0,d[83]?0:(d[82]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="context",d[113]=d[82].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="is_reply_to_ads_ai",d[114]=d[82].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[58].set(d[106],d[111])),d[107]="suggested_prompt_extras",d[84]=d[41].get(d[107]),d[84]?d[85]=!1:d[85]=!0,d[85]?0:(d[84]?d[110]=!1:d[110]=!0,d[110]?d[111]=void 0:(d[112]=new c.Map(),d[115]="prompt_type",d[113]=d[84].get(d[115]),d[113]!==void 0?d[112].set(d[115],d[113]):0,d[116]="qpl_join_id",d[114]=d[84].get(d[116]),d[114]!==void 0?d[112].set(d[116],d[114]):0,d[111]=d[112]),d[58].set(d[107],d[111])),d[108]="disable_server_mqtt_typing_indicator",d[86]=d[41].get(d[108]),d[86]!==void 0?d[58].set(d[108],d[86]):0,d[109]="enable_web_scraping",d[87]=d[41].get(d[109]),d[87]!==void 0?d[58].set(d[109],d[87]):0,d[57]=d[58]}]):c.sequence([function(a){return d[48]==="XMSGProductHighlightExtras"?c.resolve((d[59]=new c.Map(),d[62]="product_highlight_type",d[60]=d[41].get(d[62]),d[60]!==void 0?d[59].set(d[62],d[60]):0,d[63]="conversation_marker",d[61]=d[41].get(d[63]),d[61]!==void 0?d[59].set(d[63],d[61]):0,d[58]=d[59])):c.sequence([function(a){return d[48]==="XMSGMagicMessengerExtras"?c.resolve((d[60]=new c.Map(),d[62]="is_magic_thread",d[61]=d[41].get(d[62]),d[61]!==void 0?d[60].set(d[62],d[61]):0,d[59]=d[60])):c.sequence([function(a){return d[48]==="XMSGAdsAIExtras"?c.resolve((d[61]=new c.Map(),d[64]="context",d[62]=d[41].get(d[64]),d[62]!==void 0?d[61].set(d[64],d[62]):0,d[65]="is_reply_to_ads_ai",d[63]=d[41].get(d[65]),d[63]!==void 0?d[61].set(d[65],d[63]):0,d[60]=d[61])):c.sequence([function(a){return d[48]==="XMSGBizappExtras"?c.resolve((d[62]=new c.Map(),d[65]="message_source",d[63]=d[41].get(d[65]),d[63]!==void 0?d[62].set(d[65],d[63]):0,d[66]="message_trigger",d[64]=d[41].get(d[66]),d[64]!==void 0?d[62].set(d[66],d[64]):0,d[61]=d[62])):c.sequence([function(a){return d[62]=new c.Map(),d[63]=d[41].keys(),d[64]=c.i64.of_int32(d[63].length),c.i64.gt(d[64],c.i64.cast([0,0]))?c.loopAsync(d[64],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[63],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=d[41].get(d[66]),d[62].set(d[66],d[68])}])}):c.resolve()},function(a){return d[61]=d[62]}])},function(a){return d[60]=d[61]}])},function(a){return d[59]=d[60]}])},function(a){return d[58]=d[59]}])},function(a){return d[57]=d[58]}])},function(a){return d[56]=d[57]}])},function(a){return d[55]=d[56]}])},function(a){return d[54]=d[55]}])},function(a){return d[53]=d[54]}])},function(a){return d[52]=d[53]}])},function(a){return d[51]=d[52]}])},function(a){return d[50]=d[51]}])},function(a){return d[49]=d[50]}])},function(a){return d[49].set("__typename",d[48]),d[47]=d[49]}])},function(a){return d[39].set(d[45],d[47])}])},function(a){return d[43]=d[39].get("product_extras"),d[43]!==void 0?(d[46]=d[43].get("__typename"),d[46]==="XMSGClickToMessengerAdExtras"?(d[48]=new c.Map(),d[59]="encrypted_ads_token",d[49]=d[43].get(d[59]),d[49]!==void 0?d[48].set(d[59],d[49]):0,d[60]="product_type",d[50]=d[43].get(d[60]),d[50]!==void 0?d[48].set(d[60],d[50]):0,d[61]="post_id",d[51]=d[43].get(d[61]),d[51]!==void 0?d[48].set(d[61],d[51]):0,d[62]="ad_id",d[52]=d[43].get(d[62]),d[52]!==void 0?d[48].set(d[62],d[52]):0,d[63]="page_id",d[53]=d[43].get(d[63]),d[53]!==void 0?d[48].set(d[63],d[53]):0,d[64]="photo_id",d[54]=d[43].get(d[64]),d[54]!==void 0?d[48].set(d[64],d[54]):0,d[65]="photo_index",d[55]=d[43].get(d[65]),c.i64.neq(d[55],void 0)?d[48].set(d[65],d[55]):0,d[66]="fallback_url",d[56]=d[43].get(d[66]),d[56]!==void 0?d[48].set(d[66],d[56]):0,d[67]="product_id",d[57]=d[43].get(d[67]),d[57]!==void 0?d[48].set(d[67],d[57]):0,d[68]="user_id",d[58]=d[43].get(d[68]),d[58]!==void 0?d[48].set(d[68],d[58]):0,d[47]=d[48]):d[47]=void 0,d[47]!==void 0?(d[48]=new c.Map(),d[48].set("product_extras",d[47]),d[48].set("client_thread_key",d[37]),d[48].set("offline_threading_id",c.i64.to_string(d[34])),d[48].set("admin_text_otid",c.i64.to_string(d[36])),d[49]=d[48].get("client_thread_key"),d[50]=c.toJSON(d[48]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[49]),c.i64.cast([0,1020]),d[50],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve()):c.resolve()}]):c.resolve()}]):c.resolve()},function(e){return c.i64.eq(d[24],c.i64.cast([0,20]))&&!1&&!1?c.sequence([function(e){return c.storedProcedure(b("LSCreateGroupThreadWithAdminText"),d[14],void 0,a[2],void 0).then(function(a){return a=a,d[30]=a[0],a})},function(a){return a=[d[30],c.i64.cast([0,80])],d[28]=a[0],d[29]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.sequence([function(e){return c.storedProcedure(b("LSVerifyThreadRowExistsV2"),d[22],a[1],c.i64.cast([0,1]),c.i64.cast([0,20]))},function(a){return d[30]=c.i64.cast([0,20])}]):c.sequence([function(e){return c.i64.eq(d[24],c.i64.cast([0,80]))&&!1&&!1?d[31]=d[24]:d[31]=c.i64.cast([0,40]),c.storedProcedure(b("LSVerifyThreadRowExists"),d[22],a[1],c.i64.cast([0,1]))},function(a){return d[30]=d[31]}])},function(a){return a=[d[22],d[30]],d[28]=a[0],d[29]=a[1],a}])},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.sequence([function(e){return d[36]=c.i64.of_int32(a[6].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(e){return d[37]=e,c.sequence([function(e){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),a[6],d[37]).then(function(a){return a=a,d[38]=a[0],d[39]=a[1],a})},function(a){return d[40]=d[38].get("contact_id"),d[41]=d[38].get("contact_type"),d[42]=d[38].get("contact_name"),d[43]=d[38].get("contact_profile_photo"),c.storedProcedure(b("LSVerifyContactRowExists"),d[40],c.i64.cast([0,0]),d[43],d[42],d[41],void 0,void 0,void 0,void 0,!1,!1,c.i64.cast([0,0]),void 0,!1,c.i64.cast([0,20]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,2]),c.i64.cast([0,0]),void 0,void 0)}])}):c.resolve()},function(e){return void 0?d[28]=!1:d[28]=!0,d[28]?(e=["",void 0,void 0,void 0,void 0],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e):(d[36]=(void 0).get("nullstate_description_text1"),d[36]!==void 0?d[37]=d[36]:d[37]="",d[38]=(void 0).get("nullstate_description_text2"),d[39]=(void 0).get("nullstate_description_text3"),d[40]=(void 0).get("nullstate_description_text4"),d[41]=(void 0).get("nullstate_description_text5"),e=[d[37],d[38],d[39],d[40],d[41]],d[29]=e[0],d[30]=e[1],d[31]=e[2],d[32]=e[3],d[33]=e[4],e),c.sequence([function(e){return d[36]=new c.Map(),d[36].set("nullstate_description_text1",d[29]),d[36].set("nullstate_description_text2",d[30]),d[36].set("nullstate_description_text3",d[31]),d[36].set("nullstate_description_text4",d[32]),d[36].set("nullstate_description_text5",d[33]),c.storedProcedure(b("LSLocalCreateOptimisticGroupThread"),d[14],"",a[2],!0,a[8]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.storedProcedure(b("LSInsertNewMessageRange"),d[37],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0)},function(a){return a=[d[37],void 0],d[34]=a[0],d[35]=a[1],a}])},function(a){return a=[d[34],d[35]],d[26]=a[0],d[27]=a[1],a}])},function(a){return a=[d[26],d[27]],d[12]=a[0],d[13]=a[1],a}]):c.sequence([function(e){return c.i64.eq(a[1],c.i64.cast([0,19]))?c.sequence([function(e){return d[16]=new c.Map(),d[16].set("thread_fbid",a[0]),d[16].set("force_upsert",!1),d[16].set("use_open_messenger_transport",!1),d[16].set("sync_group",c.i64.cast([0,104])),d[16].set("metadata_only",!1),d[16].set("preview_only",!0),d[17]=d[16].get("thread_fbid"),d[18]=c.toJSON(d[16]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[17]),c.i64.cast([0,209]),d[18],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}]):c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,5]))?c.storedProcedure(b("LSVerifyThreadRowExistsV2"),a[0],a[1],c.i64.cast([0,1]),c.i64.cast([0,20])):c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[1],c.i64.cast([0,1]))},function(e){return c.i64.lt(d[5],c.i64.cast([0,60]))?c.storedProcedure(b("LSInsertNewMessageRange"),a[0],c.i64.cast([0,0]),c.i64.cast([2328,1316134911]),"","",c.i64.cast([0,0]),c.i64.cast([0,0]),!1,!1,void 0):c.resolve()},function(b){return b=[a[0],void 0],d[14]=b[0],d[15]=b[1],b}])},function(a){return a=[d[14],d[15]],d[12]=a[0],d[13]=a[1],a}])},function(a){return a=[d[12],d[13]],d[7]=a[0],d[8]=a[1],a}])},function(e){return c.i64.eq(d[8]==null?d[5]:d[8],c.i64.cast([0,20]))?c.sequence([function(e){return c.i64.neq(a[4],void 0)?c.resolve(d[12]=a[4]):c.sequence([function(a){return c.storedProcedure(b("LSComputeOptimisticThreadCapabilities"),d[7]).then(function(a){return a=a,d[13]=a[0],a})},function(a){return d[12]=d[13]}])},function(a){return c.forEach(c.db.table(9).fetch([[[d[7]]]]),function(a){var b=a.update;a.item;return b({capabilities:d[12]})})}]):c.resolve()},function(a){return c.db.table(9).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[d[7],c.i64.cast([0,0])],d[9]=e[0],d[10]=e[1],e):(b=a.item,b.isDisappearingMode?(e=[b.disappearingThreadKey,c.i64.cast([0,1024])],d[12]=e[0],d[13]=e[1],e):(a=[d[7],b.mailboxType],d[12]=a[0],d[13]=a[1],a),e=[d[12],d[13]],d[9]=e[0],d[10]=e[1],e)})},function(a){return a=[d[9],d[10]],d[1]=a[0],d[2]=a[1],a}])},function(a){return a=[d[1],d[2]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadViewStoredProcedure";a.__tables__=["threads","participants"];e.exports=a}),null);
__d("LSVerifyThreadViewStoredProcedure",["LSSynchronousPromise","LSVerifyThreadView","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadView"),e.threadKey,e.threadType,e.threadName,e.threadPictureUrl,e.threadCapabilities,e.messageId,e.contacts,e.mailboxType,e.threadMetadata,e.enableCcThreadMetadataFix);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseTypeaheadLayoutContextualStrategyStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("useBaseTypeaheadLayoutContextualStrategyStateContext",["BaseTypeaheadLayoutContextualStrategyStateContext","FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(c("BaseTypeaheadLayoutContextualStrategyStateContext"));if(a==null)throw c("FBLogger")("typeahead_framework").mustfixThrow("Contextual Layout Strategy State is not found");return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var f=a.isOpened;a=c("useCometInternalTypeaheadState")();var g=a.activeEntries;a=c("useCometInternalTypeaheadFetch")();var h=a.fetch;a=i(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:g,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a}:{perfTraceAPI:c,query:a};h(d)}var c=d.trimLeft().replace(/\s+/g," ");if(!f)return;e?e.trace(function(b){return a(c,b)},c):a(c)},[g,h,f,b,d,e]);j(a,[f,d])}g["default"]=a}),98);
__d("BaseTypeaheadDataFetchTrigger.react",["react-compiler-runtime","useCometInternalTypeaheadFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.loggingProvider,f=a.queryString;a=a.traceProvider;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g={loggingProvider:e,queryString:f,traceProvider:a},b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];c("useCometInternalTypeaheadFetchHandler")(g);return null}g["default"]=a}),98);
__d("cometTypeaheadMouseUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&(a.ctrlKey||a.metaKey||a.shiftKey)}f.hasModifierKeyPressed=a}),66);
__d("useCometInternalTypeaheadOnAbandonLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.callback,f=a.loggingProvider,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){f!=null&&f.isSessionActive()&&(f.addEvent({action:"abandon",entries:h,queryString:g},"useCometInternalTypeaheadOnAbandonLoggingHandler"),f.endSession()),e&&e()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnEnterLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(6),e=a.loggingProvider,f=a.onEnter,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries,i=a.highlightedEntry;b[0]!==h||b[1]!==i||b[2]!==e||b[3]!==f||b[4]!==g?(a=function(){i!=null&&(e&&e.addEvent({action:"click",entries:h,entry:i,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:without_highlightedEntry")),i==null&&(e&&e.addEvent({action:"enter",entries:h,queryString:g},"useCometInternalTypeaheadOnEnterLoggingHandler:with_highlightedEntry")),e&&e.endSession(),f&&f()},b[0]=h,b[1]=i,b[2]=e,b[3]=f,b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnFocusLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onFocus,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(){e!=null&&(e.startSession(),e.addEvent({action:"typeahead_appeared",entries:h,queryString:g},"useCometInternalTypeaheadOnFocusLoggingHandler")),f&&f()},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnPressEntryLoggingHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(5),e=a.loggingProvider,f=a.onPressEntry,g=a.queryString;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;b[0]!==h||b[1]!==e||b[2]!==f||b[3]!==g?(a=function(a,b){e!=null&&(e.addEvent({action:"click",entries:h,entry:a,queryString:g},"useCometInternalTypeaheadOnPressEntryLoggingHandler"),e.endSession()),f&&f(a,b)},b[0]=h,b[1]=e,b[2]=f,b[3]=g,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputRefs",["mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useMemo,j=b.useRef;function a(a){var b=j(null),d=i(function(){return c("mergeRefs")(b,a)},[b,a]);return{composedRef:d,inputRef:b}}g["default"]=a}),98);
__d("CometInternalTypeahead.react",["BaseTypeaheadDataFetchTrigger.react","cometTypeaheadMouseUtils","emptyFunction","react","react-compiler-runtime","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(69),e,f,g,h,j,k,l,m,n,o,p,q;b[0]!==a?(f=a.inputRef,e=a.layoutStrategyRenderer,g=a.loggingProvider,h=a.onEnter,j=a.onFocus,k=a.onPressEntry,l=a.onSelectFreeformQuery,m=a.onShiftTab,n=a.onTab,p=a.queryString,q=a.traceProvider,o=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onEnter","onFocus","onPressEntry","onSelectFreeformQuery","onShiftTab","onTab","queryString","traceProvider"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o,b[11]=p,b[12]=q):(e=b[1],f=b[2],g=b[3],h=b[4],j=b[5],k=b[6],l=b[7],m=b[8],n=b[9],o=b[10],p=b[11],q=b[12]);c("vulture")("3IQCJyoFJ00");a=c("useCometTypeaheadInputRefs")(f);f=a.composedRef;var r=a.inputRef;a=c("useCometInternalTypeaheadState")();var s=a.highlightedEntry,t=a.secondaryActionHighlighted;b[13]!==s||b[14]!==h||b[15]!==k||b[16]!==l||b[17]!==p||b[18]!==t?(a=function(){s!=null?k==null?void 0:k(s,t):l&&l(p),h&&h()},b[13]=s,b[14]=h,b[15]=k,b[16]=l,b[17]=p,b[18]=t,b[19]=a):a=b[19];a=a;var u;b[20]!==g||b[21]!==p||b[22]!==a?(u={loggingProvider:g,onEnter:a,queryString:p},b[20]=g,b[21]=p,b[22]=a,b[23]=u):u=b[23];a=c("useCometInternalTypeaheadOnEnterLoggingHandler")(u);b[24]!==g||b[25]!==j||b[26]!==p?(u={loggingProvider:g,onFocus:j,queryString:p},b[24]=g,b[25]=j,b[26]=p,b[27]=u):u=b[27];j=c("useCometInternalTypeaheadOnFocusLoggingHandler")(u);b[28]!==r||b[29]!==k?(u=function(a,b){if(d("cometTypeaheadMouseUtils").hasModifierKeyPressed(b)){r.current&&r.current.focus();return}k&&k(a)},b[28]=r,b[29]=k,b[30]=u):u=b[30];u=u;var v;b[31]!==g||b[32]!==p||b[33]!==u?(v={loggingProvider:g,onPressEntry:u,queryString:p},b[31]=g,b[32]=p,b[33]=u,b[34]=v):v=b[34];u=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")(v);b[35]!==g||b[36]!==m||b[37]!==p?(v={callback:m,loggingProvider:g,queryString:p},b[35]=g,b[36]=m,b[37]=p,b[38]=v):v=b[38];m=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[39]!==g||b[40]!==n||b[41]!==p?(v={callback:n,loggingProvider:g,queryString:p},b[39]=g,b[40]=n,b[41]=p,b[42]=v):v=b[42];n=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);b[43]!==g||b[44]!==p?(v={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[43]=g,b[44]=p,b[45]=v):v=b[45];v=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(v);var w;b[46]!==g||b[47]!==p?(w={callback:c("emptyFunction"),loggingProvider:g,queryString:p},b[46]=g,b[47]=p,b[48]=w):w=b[48];w=c("useCometInternalTypeaheadOnAbandonLoggingHandler")(w);var x;b[49]!==g||b[50]!==p||b[51]!==q?(x=i.jsx(c("BaseTypeaheadDataFetchTrigger.react"),{loggingProvider:g,queryString:p,traceProvider:q}),b[49]=g,b[50]=p,b[51]=q,b[52]=x):x=b[52];b[53]!==e||b[54]!==f||b[55]!==w||b[56]!==a||b[57]!==j||b[58]!==v||b[59]!==u||b[60]!==m||b[61]!==n||b[62]!==o||b[63]!==p||b[64]!==q?(g=i.jsx(e,babelHelpers["extends"]({},o,{inputRef:f,onAbandonTypeahead_DO_NOT_USE:w,onClick:c("emptyFunction"),onEnter:a,onFocus:j,onHighlightEntry:o.onHighlightEntry,onOutsideClick:v,onPressEntry:u,onShiftTab:m,onTab:n,queryString:p,traceProvider:q,xstyles:o.xstyles})),b[53]=e,b[54]=f,b[55]=w,b[56]=a,b[57]=j,b[58]=v,b[59]=u,b[60]=m,b[61]=n,b[62]=o,b[63]=p,b[64]=q,b[65]=g):g=b[65];b[66]!==x||b[67]!==g?(e=i.jsxs(i.Fragment,{children:[x,g]}),b[66]=x,b[67]=g,b[68]=e):e=b[68];return e}g["default"]=a}),98);
__d("CometInternalTypeaheadEmptyFetchContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("CometInternalTypeaheadEmptyFetchProvider",["CometInternalTypeaheadEmptyFetchContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.isLoading;a=a.source;var g=k(!0),h=g[0],l=g[1],m;b[0]!==f?(g=function(){f&&l(!1)},m=[f],b[0]=f,b[1]=g,b[2]=m):(g=b[1],m=b[2]);j(g,m);g=["all","network"].includes(a);m=!(g&&h||f);b[3]!==e||b[4]!==m?(a=i.jsx(c("CometInternalTypeaheadEmptyFetchContext").Provider,{value:m,children:e}),b[3]=e,b[4]=m,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateDispatcherContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("useCometInternalTypeaheadStateDispatcher",["CometInternalTypeaheadStateDispatcherContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadStateDispatcherContext"))}g["default"]=a}),98);
__d("CometInternalTypeaheadFetchProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","react-compiler-runtime","useBaseTypeaheadDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(20),e=a.children,f=a.dataSource,g=a.dataSourceFetchConfigParams,h=a.onFetchEntries_DO_NOT_USE,j=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var k=a.dispatchActiveEntries;b[0]!==k||b[1]!==h||b[2]!==j?(a=function(b,a){var c;b=b.entries;var d=a.isTraceComplete;a=a.source;k((c=b)!=null?c:[]);h&&h(b);j&&!j.isResolved()&&(d&&(a==="cache"&&b.length>=j.getEntriesCountForVisualComplete()?j.setEndReason("max_suggestions_reached"):a==="network"?j.setEndReason("all_queries_completed"):a==="network-no-results"&&j.setEndReason("all_queries_completed_no_network_results"),j.resolve()))},b[0]=k,b[1]=h,b[2]=j,b[3]=a):a=b[3];a=a;var l;b[4]!==f||b[5]!==g||b[6]!==a?(l={dataSource:f,dataSourceFetchConfigParams:g,onResolvePayload:a},b[4]=f,b[5]=g,b[6]=a,b[7]=l):l=b[7];f=c("useBaseTypeaheadDataSourceFetch")(l);g=f[0];a=f[1];l=f[2];f=g.isLoading;g=g.source;var m;b[8]!==a||b[9]!==f||b[10]!==l||b[11]!==g?(m={fetch:a,isLoading:f,refetch:l,source:g},b[8]=a,b[9]=f,b[10]=l,b[11]=g,b[12]=m):m=b[12];a=m;l=a;b[13]!==e||b[14]!==f||b[15]!==g?(m=i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:f,source:g,children:e}),b[13]=e,b[14]=f,b[15]=g,b[16]=m):m=b[16];b[17]!==m||b[18]!==l?(a=i.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:l,children:m}),b[17]=m,b[18]=l,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react",["BaseTypeaheadLayoutContextualStrategyStateContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j=b.useState;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.autoOpen,g=a.onClose,h=a.onOpen;a=j(f);var k=a[0],l=a[1];b[0]!==k||b[1]!==g||b[2]!==h?(f=function(a){if(a===k)return;l(a);a?h():g()},b[0]=k,b[1]=g,b[2]=h,b[3]=f):f=b[3];a=f;b[4]!==a||b[5]!==k?(f={dispatchIsOpened:a,isOpened:k},b[4]=a,b[5]=k,b[6]=f):f=b[6];a=f;f=a;b[7]!==e||b[8]!==f?(a=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContext").Provider,{value:f,children:e}),b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("CometInternalTypeaheadStateProvider",["BaseTypeaheadLayoutContextualStrategyStateContextProvider.react","CometInternalTypeaheadStateContext","CometInternalTypeaheadStateDispatcherContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect;b.useMemo;var k=b.useRef,l=b.useState,m=[];function a(a){var b=d("react-compiler-runtime").c(19),e=a.autoOpen,f=a.children,g=a.emptyEntries_DO_NOT_USE,h=a.onClose;a=a.onOpen;var n=g===void 0?m:g;g=l(null);var o=g[0],p=g[1];g=l(null);var q=g[0],r=g[1];g=l(null);var s=g[0],t=g[1];g=l(n);var u=g[0],v=g[1],w=k(n),x;b[0]!==n?(g=function(){if(w.current===n)return;w.current=n;v(function(a){return a.length?a:n})},x=[v,w,n],b[0]=n,b[1]=g,b[2]=x):(g=b[1],x=b[2]);j(g,x);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){v(function(b){b=Array.isArray(a)?a:a(b);return b.length>0?b:w.current})},b[3]=g):g=b[3];x=g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){var b=a.entry,c=a.secondaryActionHighlighted;a=a.source;p(b);t(a);r(c)},b[4]=g):g=b[4];g=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={dispatchActiveEntries:x,dispatchHighlightedEntry:g},b[5]=x):x=b[5];g=x;x=g;b[6]!==u||b[7]!==o||b[8]!==s||b[9]!==q?(g={activeEntries:u,highlightedEntry:o,highlightedEntrySource:s,secondaryActionHighlighted:q},b[6]=u,b[7]=o,b[8]=s,b[9]=q,b[10]=g):g=b[10];u=g;o=u;b[11]!==e||b[12]!==f||b[13]!==h||b[14]!==a?(s=i.jsx(c("BaseTypeaheadLayoutContextualStrategyStateContextProvider.react"),{autoOpen:e,onClose:h,onOpen:a,children:f}),b[11]=e,b[12]=f,b[13]=h,b[14]=a,b[15]=s):s=b[15];b[16]!==o||b[17]!==s?(q=i.jsx(c("CometInternalTypeaheadStateDispatcherContext").Provider,{value:x,children:i.jsx(c("CometInternalTypeaheadStateContext").Provider,{value:o,children:s})}),b[16]=o,b[17]=s,b[18]=q):q=b[18];return q}g["default"]=a}),98);
__d("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){var e=b.shouldQueryStringFollowHighlightedEntry;b=i.forwardRef(f);function f(b,f){var g=d("react-compiler-runtime").c(7),h,j;g[0]!==b?(h=b.queryString,j=babelHelpers.objectWithoutPropertiesLoose(b,["queryString"]),g[0]=b,g[1]=h,g[2]=j):(h=g[1],j=g[2]);b=c("useCometInternalTypeaheadState")();var k=b.highlightedEntry;b=b.highlightedEntrySource;b=e&&b==="keyboard"&&k!=null?k.label:h;g[3]!==f||g[4]!==b||g[5]!==j?(k=i.jsx(a,babelHelpers["extends"]({},j,{queryString:b,ref:f})),g[3]=f,g[4]=b,g[5]=j,g[6]=k):k=g[6];return k}return b}g["default"]=a}),98);
__d("BaseTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadFetchProvider","CometInternalTypeaheadStateProvider","emptyFunction","react","react-compiler-runtime","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useId;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;b[0]!==a?(r=a.autoOpen,A=a.autoFocus,e=a.inputStrategyRenderer,g=a.dataSource,h=a.dataSourceFetchConfigParams,B=a.decorators,k=a.emptyEntries_DO_NOT_USE,n=a.id,C=a.isDisabled,D=a.label,m=a.loggingContext,E=a.onBackspace,F=a.onBlur,o=a.onChange,G=a.onClose,H=a.onEnter,s=a.onEscape,p=a.onFetchEntries_DO_NOT_USE,t=a.onFocus,u=a.onOpen,q=a.onPressEntry,v=a.placeholder,w=a.shouldQueryStringFollowHighlightedEntry,x=a.shouldQueryStringUpdateFromSelectedEntryOnClick,y=a.testid,I=a.traceProvider,z=a.viewRole,f=a.viewStrategyRenderer,l=a.inputRef,J=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer","inputRef"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E,b[26]=F,b[27]=G,b[28]=H,b[29]=I,b[30]=J):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25],F=b[26],G=b[27],H=b[28],I=b[29],J=b[30]);a=r===void 0?!1:r;r=A===void 0?!1:A;b[31]!==B?(A=B===void 0?[]:B,b[31]=B,b[32]=A):A=b[32];B=A;A=C===void 0?!1:C;C=D===void 0?"":D;D=E===void 0?c("emptyFunction"):E;E=F===void 0?c("emptyFunction"):F;F=G===void 0?c("emptyFunction"):G;G=H===void 0?c("emptyFunction"):H;H=s===void 0?c("emptyFunction"):s;s=t===void 0?c("emptyFunction"):t;t=u===void 0?c("emptyFunction"):u;u=v===void 0?"":v;v=w===void 0?!0:w;var K=x===void 0?!0:x;w=y===void 0?"":y;x=z===void 0?"listbox":z;y=j();var L;b[33]!==B?(L=c("CometInternalTypeahead.react"),B.forEach(function(a){var b=a.decorate;a=a.params;L=b(L,a)}),b[33]=B,b[34]=L):L=b[34];z=L;B=z;b[35]!==o||b[36]!==q||b[37]!==K?(z=function(a,b){K&&o(a.label),q==null?void 0:q(a,b)},b[35]=o,b[36]=q,b[37]=K,b[38]=z):z=b[38];z=z;var M;b[39]!==e||b[40]!==v?(M=c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(e,{shouldQueryStringFollowHighlightedEntry:v}),b[39]=e,b[40]=v,b[41]=M):M=b[41];e=M;v=e;M=C||u;C=(e=n)!=null?e:y;if(b[42]!==v||b[43]!==B||b[44]!==f||b[45]!==r||b[46]!==l||b[47]!==D||b[48]!==E||b[49]!==G||b[50]!==H||b[51]!==s||b[52]!==z||b[53]!==A||b[54]!==o||b[55]!==u||b[56]!==M||b[57]!==C||b[58]!==w||b[59]!==I||b[60]!==J||b[61]!==x){e=i.jsx(B,babelHelpers["extends"]({},J,{autoFocus:r,id:C,inputRef:l,inputStrategyRenderer:v,isDisabled:A,label:M,onBackspace:D,onBlur:E,onChange:o,onDownArrow:n=c("emptyFunction"),onEnter:G,onEscape:H,onFocus:s,onHighlightEntry:n,onPressEntry:z,onShiftTab:n,onTab:n,onUpArrow:n,placeholder:u,testid:void 0,traceProvider:I,viewRole:x,viewStrategyRenderer:f}));b[42]=v;b[43]=B;b[44]=f;b[45]=r;b[46]=l;b[47]=D;b[48]=E;b[49]=G;b[50]=H;b[51]=s;b[52]=z;b[53]=A;b[54]=o;b[55]=u;b[56]=M;b[57]=C;b[58]=w;b[59]=I;b[60]=J;b[61]=x;b[62]=e}else e=b[62];b[63]!==g||b[64]!==h||b[65]!==m||b[66]!==p||b[67]!==e||b[68]!==I?(y=i.jsx(c("CometInternalTypeaheadFetchProvider"),{dataSource:g,dataSourceFetchConfigParams:h,loggingContext:m,onFetchEntries_DO_NOT_USE:p,traceProvider:I,children:e}),b[63]=g,b[64]=h,b[65]=m,b[66]=p,b[67]=e,b[68]=I,b[69]=y):y=b[69];b[70]!==a||b[71]!==k||b[72]!==F||b[73]!==t||b[74]!==y?(n=i.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:a,emptyEntries_DO_NOT_USE:k,onClose:F,onOpen:t,children:y})}),b[70]=a,b[71]=k,b[72]=F,b[73]=t,b[74]=y,b[75]=n):n=b[75];return n}g["default"]=a}),98);
__d("CometTypeaheadHelperText.react",["FDSTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.text;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1xmf6yo"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("FDSTextPairing.react"),{level:4,meta:a,metaColor:"secondary"})})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("cometTypeaheadInputWebkitStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={"default":{appearance:"xtilpmw","::-webkit-search-cancel-button_appearance":"x1ad04t7","::-webkit-search-decoration_appearance":"x1glnyev","::-webkit-search-results-button_appearance":"x1ix68h3","::-webkit-search-results-decoration_appearance":"x19gujb8",$$css:!0}};b=a;g["default"]=b}),98);
__d("useCometTypeaheadInputStrategyOnChangeHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onChange;b[0]!==c?(a=function(a){var b=a.target.value;c&&c(b,a)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("CometTypeaheadInputRoundedStrategy.react",["ADD_PLACEHOLDER_OR_LABEL_FIXME","FDSIcon.react","FDSRoundedTextInput.react","MagnifyingGlassFilled16IconSvg.react","UNTRANSLATED_STRING_FIXME","cometTypeaheadInputWebkitStyles","react","useCometTextDirection","useCometTypeaheadInputStrategyOnChangeHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=i.forwardRef(a);function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;a.id;var e=a.inputEndContent,f=a.inputStartContent,g=a.inputExtraProps;g=g===void 0?{}:g;var h=g.hideIconOnFocus;h=h===void 0?!1:h;var j=g.hideIconAnimation;j=j===void 0?!1:j;var k=g.icon;k=k===void 0?i.jsx(c("FDSIcon.react"),{color:"secondary",icon:c("MagnifyingGlassFilled16IconSvg.react"),size:16}):k;var l=g.size;g=g.xstyle;g=g===void 0?null:g;var m=a.isDisabled,n=a.onChange,o=a.label;o=o===void 0?"":o;var p=a.queryString,q=a.testid;q=a.autoFocus;var r=a.placeholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","onChange","label","queryString","testid","autoFocus","placeholder"]);var s=c("useCometTextDirection")(p);n=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:n});return i.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xh8yej3"},{children:[f,i.jsx(c("FDSRoundedTextInput.react"),babelHelpers["extends"]({},d,a,{"aria-label":c("UNTRANSLATED_STRING_FIXME")(o.toString()),autoComplete:"off",autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:q,"data-testid":void 0,dir:s,disabled:m,hideIconAnimation:j,hideIconOnFocus:h,icon:k,onChange:n,placeholder:(f=r)!=null?f:c("ADD_PLACEHOLDER_OR_LABEL_FIXME"),ref:b,size:l,spellCheck:!1,suppressHydrationWarning:!0,type:"search",value:p,xstyle:[g,c("cometTypeaheadInputWebkitStyles")["default"]]})),e]}))}a.displayName=a.name+" [from "+f.id+"]";e=b;g["default"]=e}),98);
__d("useCometTypeaheadInputStrategyOnBlurHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onBlur;b[0]!==c?(a=function(){c&&c()},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadInputStrategyOnFocusHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onFocus;return i(function(){b.current!=null&&b.current.select(),c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadInputHandlers",["react-compiler-runtime","useCometTypeaheadInputStrategyOnBlurHandler","useCometTypeaheadInputStrategyOnFocusHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(14),e,f,g,h;b[0]!==a?(e=a.inputRef,f=a.onBlur,g=a.onFocus,h=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","onBlur","onFocus"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e||b[6]!==g?(a={inputRef:e,onFocus:g},b[5]=e,b[6]=g,b[7]=a):a=b[7];e=c("useCometTypeaheadInputStrategyOnFocusHandler")(a);b[8]!==f?(g={onBlur:f},b[8]=f,b[9]=g):g=b[9];a=c("useCometTypeaheadInputStrategyOnBlurHandler")(g);b[10]!==a||b[11]!==e||b[12]!==h?(f=babelHelpers["extends"]({},h,{onBlur:a,onFocus:e}),b[10]=a,b[11]=e,b[12]=h,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useCometTypeaheadInputRefsWebOnly",["react-compiler-runtime","useCometTypeaheadInputRefs","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=a!=null?d("xplatToDOMRef").xplatToInputRef(a):null,b[0]=a,b[1]=e):e=b[1];return c("useCometTypeaheadInputRefs")(e)}g["default"]=a}),98);
__d("CometTypeaheadInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react","react-compiler-runtime","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;var k={root:{width:"xh8yej3",$$css:!0}};b=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(66),f,g,i,l,m,n,o,p,q,r,s,t,u;e[0]!==a?(f=a.children,i=a.isInline,u=a.omitEscape,l=a.onBackspace,m=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onLeftArrow,q=a.onRightArrow,r=a.onShiftTab,s=a.onTab,t=a.onUpArrow,g=babelHelpers.objectWithoutPropertiesLoose(a,["children","isInline","omitEscape","onBackspace","onDownArrow","onEnter","onEscape","onLeftArrow","onRightArrow","onShiftTab","onTab","onUpArrow"]),e[0]=a,e[1]=f,e[2]=g,e[3]=i,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t,e[13]=u):(f=e[1],g=e[2],i=e[3],l=e[4],m=e[5],n=e[6],o=e[7],p=e[8],q=e[9],r=e[10],s=e[11],t=e[12],u=e[13]);a=u===void 0?!1:u;var v;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(u={key:c("CometKeys").DELETE},v=h._(/*BTDS*/"__JHASH__2XTxAX3qgrF__JHASH__"),e[14]=u,e[15]=v):(u=e[14],v=e[15]);e[16]!==l?(u={command:u,description:v,handler:function(){return l&&l()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},e[16]=l,e[17]=u):u=e[17];var w;e[18]===Symbol["for"]("react.memo_cache_sentinel")?(v={key:c("CometKeys").DOWN},w=h._(/*BTDS*/"__JHASH__CqK0EeqSMhz__JHASH__"),e[18]=v,e[19]=w):(v=e[18],w=e[19]);e[20]!==m?(v={command:v,description:w,handler:function(){return m&&m()},triggerFromInputs:!0},e[20]=m,e[21]=v):v=e[21];var x;e[22]===Symbol["for"]("react.memo_cache_sentinel")?(w={key:c("CometKeys").UP},x=h._(/*BTDS*/"__JHASH__iUKjo5X2a54__JHASH__"),e[22]=x,e[23]=w):(x=e[22],w=e[23]);e[24]!==t?(w={command:w,description:x,handler:function(){return t&&t()},triggerFromInputs:!0},e[24]=t,e[25]=w):w=e[25];e[26]!==a||e[27]!==o?(x=a?null:{command:{key:c("CometKeys").ESCAPE},description:h._(/*BTDS*/"__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},e[26]=a,e[27]=o,e[28]=x):x=e[28];var y;e[29]===Symbol["for"]("react.memo_cache_sentinel")?(a={key:c("CometKeys").ENTER},y=h._(/*BTDS*/"__JHASH__mihpnKYilqe__JHASH__"),e[29]=a,e[30]=y):(a=e[29],y=e[30]);e[31]!==n?(a={command:a,description:y,handler:function(){return n&&n()},triggerFromInputs:!0},e[31]=n,e[32]=a):a=e[32];var z;e[33]===Symbol["for"]("react.memo_cache_sentinel")?(y={key:c("CometKeys").TAB},z=h._(/*BTDS*/"__JHASH__Z6s23TRj9Pk__JHASH__"),e[33]=y,e[34]=z):(y=e[33],z=e[34]);e[35]!==s?(y={command:y,description:z,handler:function(){return s&&s()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},e[35]=s,e[36]=y):y=e[36];var A;e[37]===Symbol["for"]("react.memo_cache_sentinel")?(z={key:c("CometKeys").TAB,shift:!0},A=h._(/*BTDS*/"__JHASH__Z6s23TRj9Pk__JHASH__"),e[37]=z,e[38]=A):(z=e[37],A=e[38]);e[39]!==r?(z={command:z,description:A,handler:function(){return r&&r()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},e[39]=r,e[40]=z):z=e[40];e[41]!==p?(A=p!=null?{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"__JHASH__1sCLmeZcned__JHASH__"),handler:p,triggerFromInputs:!0}:null,e[41]=p,e[42]=A):A=e[42];e[43]!==q?(p=q!=null?{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"__JHASH__01-Oxa-x2ap__JHASH__"),handler:q,triggerFromInputs:!0}:null,e[43]=q,e[44]=p):p=e[44];e[45]!==w||e[46]!==x||e[47]!==a||e[48]!==y||e[49]!==z||e[50]!==A||e[51]!==p||e[52]!==u||e[53]!==v?(q=[u,v,w,x,a,y,z,A,p].filter(Boolean),e[45]=w,e[46]=x,e[47]=a,e[48]=y,e[49]=z,e[50]=A,e[51]=p,e[52]=u,e[53]=v,e[54]=q):q=e[54];w=q;x=w;a=c("useCometTypeaheadInputRefsWebOnly")(b);y=a.composedRef;z=a.inputRef;e[55]!==g||e[56]!==z?(A=babelHelpers["extends"]({inputRef:z},g),e[55]=g,e[56]=z,e[57]=A):A=e[57];p=c("useCometTypeaheadInputHandlers")(A);u=i===!0?"span":"div";e[58]!==f||e[59]!==y||e[60]!==p?(v=f(y,p),e[58]=f,e[59]=y,e[60]=p,e[61]=v):v=e[61];e[62]!==x||e[63]!==u||e[64]!==v?(q=j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:x,elementType:u,xstyle:k.root,children:v}),e[62]=x,e[63]=u,e[64]=v,e[65]=q):q=e[65];return q}e=b;g["default"]=e}),226);
__d("useCometTypeaheadViewStrategyOutsideClickListener",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var c=i(function(c){var d=a.current;c=c.target;d!=null&&c instanceof Node&&!d.contains(c)&&b()},[a,b]);j(function(){document.addEventListener("click",c);return function(){document.removeEventListener("click",c)}},[c])}g["default"]=a}),98);
__d("CometTypeaheadViewStrategyEventListener.react",["react","useCometTypeaheadViewStrategyOutsideClickListener"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useRef;function a(a){var b=a.children;a=a.onOutsideClick;var d=i(null);c("useCometTypeaheadViewStrategyOutsideClickListener")(d,a);return b(d)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometHandleHighlightDropOnMouseLeave",[],(function(a,b,c,d,e,f){"use strict";function a(a){return function(){a(null,"mouse",!1)}}f["default"]=a}),66);
__d("CometTypeaheadInternalLayoutContextualStrategy.react",["CometContextualLayer.react","CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","stylex","useCometInternalTypeaheadState","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef;function a(a){var b=d("react-compiler-runtime").c(99),e,f,g,i,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;b[0]!==a?(B=a.contextualProps,g=a.description,i=a.errorMessage,C=a.extraLayoutProps,e=a.inputStrategyRenderer,m=a.label,n=a.onBackspace,o=a.onBlur,t=a.onFocus,p=a.onClick,q=a.onDownArrow,u=a.onLeftArrow,v=a.onRightArrow,r=a.onEnter,s=a.onEscape,w=a.onShiftTab,x=a.onTab,y=a.onUpArrow,A=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,D=a.xstyles,z=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","errorMessage","extraLayoutProps","inputStrategyRenderer","label","onBackspace","onBlur","onFocus","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=w,b[17]=x,b[18]=y,b[19]=z,b[20]=A,b[21]=B,b[22]=C,b[23]=D):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7],o=b[8],p=b[9],q=b[10],r=b[11],s=b[12],t=b[13],u=b[14],v=b[15],w=b[16],x=b[17],y=b[18],z=b[19],A=b[20],B=b[21],C=b[22],D=b[23]);b[24]!==B?(a=B===void 0?{}:B,b[24]=B,b[25]=a):a=b[25];var E,F;if(b[26]!==a){B=a;E=B.align;F=B.position;B=babelHelpers.objectWithoutPropertiesLoose(B,["align","position"]);b[26]=a;b[27]=B;b[28]=E;b[29]=F}else B=b[27],E=b[28],F=b[29];a=E===void 0?"stretch":E;E=F===void 0?"below":F;F=C;C=F.ariaProps;var G=F.helperTextComponent,H=F.isAlwaysOpened,I=F.isLoading;F=F.isOpened;var J=C.ariaDescribedByProps,K=C.ariaInputProps,L=C.ariaViewProps;C=k(null);var M=k(null),N=c("useCometInternalTypeaheadState")(),O=N.activeEntries,P=N.highlightedEntry;b[30]!==z.onHighlightEntry?(N=c("cometHandleHighlightDropOnMouseLeave")(z.onHighlightEntry),b[30]=z.onHighlightEntry,b[31]=N):N=b[31];var Q=N;if(b[32]!==((N=D)==null?void 0:N.layoutXStyle)){var R;N=(h||(h=c("stylex"))).props((N=D)==null?void 0:N.layoutXStyle);b[32]=(R=D)==null?void 0:R.layoutXStyle;b[33]=N}else N=b[33];if(b[34]!==((R=D)==null?void 0:R.inputXStyle)){var S;R=(h||(h=c("stylex"))).props((R=D)==null?void 0:R.inputXStyle);b[34]=(S=D)==null?void 0:S.inputXStyle;b[35]=R}else R=b[35];S=F===!1&&A==="";var T;b[36]!==e||b[37]!==K||b[38]!==g||b[39]!==i||b[40]!==m||b[41]!==z.autoFocus||b[42]!==z.id||b[43]!==z.inputEndContent||b[44]!==z.inputExtraProps||b[45]!==z.inputStartContent||b[46]!==z.isDisabled||b[47]!==z.placeholder||b[48]!==z.testid||b[49]!==A?(T=function(a,b){return j.jsx(e,babelHelpers["extends"]({},b,{ariaProps:K,autoFocus:z.autoFocus,description:g,errorMessage:i,id:z.id,inputEndContent:z.inputEndContent,inputExtraProps:z.inputExtraProps,inputStartContent:z.inputStartContent,isDisabled:z.isDisabled,label:m,placeholder:z.placeholder,queryString:A,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))},b[36]=e,b[37]=K,b[38]=g,b[39]=i,b[40]=m,b[41]=z.autoFocus,b[42]=z.id,b[43]=z.inputEndContent,b[44]=z.inputExtraProps,b[45]=z.inputStartContent,b[46]=z.isDisabled,b[47]=z.placeholder,b[48]=z.testid,b[49]=A,b[50]=T):T=b[50];var U;b[51]!==l||b[52]!==n||b[53]!==o||b[54]!==p||b[55]!==q||b[56]!==r||b[57]!==s||b[58]!==t||b[59]!==u||b[60]!==v||b[61]!==w||b[62]!==x||b[63]!==y||b[64]!==z.onChange||b[65]!==S||b[66]!==T?(U=j.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:S,onBackspace:n,onBlur:o,onChange:z.onChange,onClick:p,onDownArrow:q,onEnter:r,onEscape:s,onFocus:t,onLeftArrow:u,onRightArrow:v,onShiftTab:w,onTab:x,onUpArrow:y,ref:l,children:T}),b[51]=l,b[52]=n,b[53]=o,b[54]=p,b[55]=q,b[56]=r,b[57]=s,b[58]=t,b[59]=u,b[60]=v,b[61]=w,b[62]=x,b[63]=y,b[64]=z.onChange,b[65]=S,b[66]=T,b[67]=U):U=b[67];b[68]!==U||b[69]!==R?(l=j.jsx("div",babelHelpers["extends"]({},R,{children:U})),b[68]=U,b[69]=R,b[70]=l):l=b[70];b[71]!==l||b[72]!==N?(n=j.jsx("div",babelHelpers["extends"]({},N,{ref:M,children:l})),b[71]=l,b[72]=N,b[73]=n):n=b[73];b[74]!==J||b[75]!==G?(o=G!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},J,{children:G})),b[74]=J,b[75]=G,b[76]=o):o=b[76];if(b[77]!==f||b[78]!==O||b[79]!==a||b[80]!==L||b[81]!==B||b[82]!==P||b[83]!==H||b[84]!==I||b[85]!==F||b[86]!==Q||b[87]!==E||b[88]!==z.onAbandonTypeahead_DO_NOT_USE||b[89]!==z.onHighlightEntry||b[90]!==z.onOutsideClick||b[91]!==z.onPressEntry||b[92]!==A||b[93]!==((p=D)==null?void 0:p.viewXStyle_DO_NOT_USE)){q=(F===!0||H===!0)&&j.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},B,{align:a,contextRef:M,position:E,ref:C,children:j.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:z.onOutsideClick,children:function(a){var b;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props((b=D)==null?void 0:b.viewXStyle_DO_NOT_USE),{onMouseLeave:Q,ref:a,children:j.jsx(f,{ariaProps:L,entries:O,highlightedEntry:P,isLoading:I,onAbandonTypeahead_DO_NOT_USE:z.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:z.onHighlightEntry,onPressEntry:z.onPressEntry,queryString:A})}))}})}));b[77]=f;b[78]=O;b[79]=a;b[80]=L;b[81]=B;b[82]=P;b[83]=H;b[84]=I;b[85]=F;b[86]=Q;b[87]=E;b[88]=z.onAbandonTypeahead_DO_NOT_USE;b[89]=z.onHighlightEntry;b[90]=z.onOutsideClick;b[91]=z.onPressEntry;b[92]=A;b[93]=(r=D)==null?void 0:r.viewXStyle_DO_NOT_USE;b[94]=q}else q=b[94];b[95]!==n||b[96]!==o||b[97]!==q?(s=j.jsxs(j.Fragment,{children:[n,o,q]}),b[95]=n,b[96]=o,b[97]=q,b[98]=s):s=b[98];return s}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyStyles",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={defaultLayout:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},stateDisabled:{$$css:!0},stateError:{$$css:!0},stateOpened:{$$css:!0},stateWarning:{$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),c=a.isDisabled,e=a.isError,f=a.isOpened,g=a.isWarning;a=a.xstyles;c=c===void 0?!1:c;e=e===void 0?!1:e;f=f===void 0?!1:f;g=g===void 0?!1:g;var h=a.inputXStyle,j=a.layoutOpenedXStyle,k=a.layoutXStyle;a=a.viewXStyle_DO_NOT_USE;j=f&&j;c=c&&i.stateDisabled;f=f&&i.stateOpened;e=e&&i.stateError;g=g&&i.stateWarning;var l;b[0]!==k||b[1]!==e||b[2]!==g||b[3]!==j||b[4]!==c||b[5]!==f?(l=[i.defaultLayout,k,j,c,f,e,g],b[0]=k,b[1]=e,b[2]=g,b[3]=j,b[4]=c,b[5]=f,b[6]=l):l=b[6];b[7]!==a?(k=[a],b[7]=a,b[8]=k):k=b[8];b[9]!==h||b[10]!==l||b[11]!==k?(e={inputXStyle:h,layoutXStyle:l,viewXStyle_DO_NOT_USE:k},b[9]=h,b[10]=l,b[11]=k,b[12]=e):e=b[12];g=e;return g}g["default"]=a}),98);
__d("CometTypeaheadInternalLayoutInlineStrategy.react",["CometTypeaheadInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","cometHandleHighlightDropOnMouseLeave","react","react-compiler-runtime","react-strict-dom","useCometInternalTypeaheadState","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={helperText:{marginTop:"x1xmf6yo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(92),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;b[0]!==a?(D=a.extraLayoutProps,g=a.description,h=a.errorMessage,k=a.extraViewProps,m=a.id,e=a.inputStrategyRenderer,n=a.label,o=a.onBackspace,p=a.onBlur,q=a.onChange,r=a.onClick,s=a.onDownArrow,w=a.onLeftArrow,x=a.onRightArrow,t=a.onEnter,u=a.onEscape,v=a.onFocus,y=a.onShiftTab,z=a.onTab,A=a.onUpArrow,C=a.queryString,l=a.inputRef,f=a.viewStrategyRenderer,E=a.xstyles,B=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","description","errorMessage","extraViewProps","id","inputStrategyRenderer","label","onBackspace","onBlur","onChange","onClick","onDownArrow","onLeftArrow","onRightArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","viewStrategyRenderer","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B,b[23]=C,b[24]=D,b[25]=E):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22],C=b[23],D=b[24],E=b[25]);a=D;D=a.ariaProps;var F=a.helperTextComponent,G=a.isAlwaysOpened,H=a.isLoading;a=a.isOpened;var I=D.ariaDescribedByProps,J=D.ariaInputProps,K=D.ariaViewProps;b[26]!==E?(D=E===void 0?{}:E,b[26]=E,b[27]=D):D=b[27];E=D;D=c("useCometInternalTypeaheadState")();var L=D.activeEntries,M=D.highlightedEntry;b[28]!==a||b[29]!==E?(D={isOpened:a,xstyles:E},b[28]=a,b[29]=E,b[30]=D):D=b[30];E=c("useCometTypeaheadLayoutStrategyStyles")(D);D=E.inputXStyle;var N=E.layoutXStyle,O=E.viewXStyle_DO_NOT_USE;b[31]!==B.onHighlightEntry?(E=c("cometHandleHighlightDropOnMouseLeave")(B.onHighlightEntry),b[31]=B.onHighlightEntry,b[32]=E):E=b[32];var P=E;E=G===!0?C==="":a===!1&&C==="";var Q;b[33]!==e||b[34]!==J||b[35]!==g||b[36]!==h||b[37]!==m||b[38]!==n||b[39]!==B.autoFocus||b[40]!==B.inputEndContent||b[41]!==B.inputExtraProps||b[42]!==B.inputStartContent||b[43]!==B.isDisabled||b[44]!==B.placeholder||b[45]!==B.testid||b[46]!==C?(Q=function(a,b){return i.jsx(e,babelHelpers["extends"]({},b,{ariaProps:J,autoFocus:B.autoFocus,description:g,errorMessage:h,id:m,inputEndContent:B.inputEndContent,inputExtraProps:B.inputExtraProps,inputStartContent:B.inputStartContent,isDisabled:B.isDisabled,label:n,placeholder:B.placeholder,queryString:C,ref:a,testid:void 0}))},b[33]=e,b[34]=J,b[35]=g,b[36]=h,b[37]=m,b[38]=n,b[39]=B.autoFocus,b[40]=B.inputEndContent,b[41]=B.inputExtraProps,b[42]=B.inputStartContent,b[43]=B.isDisabled,b[44]=B.placeholder,b[45]=B.testid,b[46]=C,b[47]=Q):Q=b[47];var R;b[48]!==l||b[49]!==o||b[50]!==p||b[51]!==q||b[52]!==r||b[53]!==s||b[54]!==t||b[55]!==u||b[56]!==v||b[57]!==w||b[58]!==x||b[59]!==y||b[60]!==z||b[61]!==A||b[62]!==E||b[63]!==Q?(R=i.jsx(c("CometTypeaheadInputStrategyEventListener.react"),{omitEscape:E,onBackspace:o,onBlur:p,onChange:q,onClick:r,onDownArrow:s,onEnter:t,onEscape:u,onFocus:v,onLeftArrow:w,onRightArrow:x,onShiftTab:y,onTab:z,onUpArrow:A,ref:l,children:Q}),b[48]=l,b[49]=o,b[50]=p,b[51]=q,b[52]=r,b[53]=s,b[54]=t,b[55]=u,b[56]=v,b[57]=w,b[58]=x,b[59]=y,b[60]=z,b[61]=A,b[62]=E,b[63]=Q,b[64]=R):R=b[64];b[65]!==D||b[66]!==R?(l=i.jsx(d("react-strict-dom").html.div,{style:D,children:R}),b[65]=D,b[66]=R,b[67]=l):l=b[67];b[68]!==I||b[69]!==F?(o=F!=null&&i.jsx(d("react-strict-dom").html.div,babelHelpers["extends"]({style:j.helperText},I,{children:F})),b[68]=I,b[69]=F,b[70]=o):o=b[70];b[71]!==f||b[72]!==L||b[73]!==K||b[74]!==k||b[75]!==M||b[76]!==G||b[77]!==H||b[78]!==a||b[79]!==P||b[80]!==B.onAbandonTypeahead_DO_NOT_USE||b[81]!==B.onHighlightEntry||b[82]!==B.onOutsideClick||b[83]!==B.onPressEntry||b[84]!==C||b[85]!==O?(p=(a===!0||G===!0)&&i.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:B.onOutsideClick,children:function(a){return i.jsx(d("react-strict-dom").html.div,{onMouseLeave:P,ref:a,style:O,children:i.jsx(f,{ariaProps:K,entries:L,extraViewProps:k,highlightedEntry:M,isLoading:H,onAbandonTypeahead_DO_NOT_USE:B.onAbandonTypeahead_DO_NOT_USE,onHighlightEntry:B.onHighlightEntry,onPressEntry:B.onPressEntry,queryString:C})})}}),b[71]=f,b[72]=L,b[73]=K,b[74]=k,b[75]=M,b[76]=G,b[77]=H,b[78]=a,b[79]=P,b[80]=B.onAbandonTypeahead_DO_NOT_USE,b[81]=B.onHighlightEntry,b[82]=B.onOutsideClick,b[83]=B.onPressEntry,b[84]=C,b[85]=O,b[86]=p):p=b[86];b[87]!==N||b[88]!==l||b[89]!==o||b[90]!==p?(q=i.jsxs(d("react-strict-dom").html.div,{style:N,children:[l,o,p]}),b[87]=N,b[88]=l,b[89]=o,b[90]=p,b[91]=q):q=b[91];return q}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnBlurHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onBlur;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(){f({entry:null,secondaryActionHighlighted:!1,source:null}),e&&e()},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnChangeHandler",["react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onChange,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadState")();var g=a.highlightedEntry;b[0]!==g||b[1]!==e||b[2]!==f?(a=function(a,b){g!=null&&f(null,"keyboard",!1),e&&e(a,b)},b[0]=g,b[1]=e,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometInternalTypeaheadKeyboardNavigation",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","react-compiler-runtime","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(){var a=d("react-compiler-runtime").c(26),b=c("useCometInternalTypeaheadState")(),e=b.activeEntries,f=b.highlightedEntry,g=b.secondaryActionHighlighted,h;a[0]!==e?(h=c("baseTypeaheadFlattenEntries")(e),b=h.every(i),a[0]=e,a[1]=h,a[2]=b):(h=a[1],b=a[2]);e=b;var j=f!=null?f.key:null;a[3]!==j||a[4]!==g||a[5]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveDown(h,j,function(b,c){a(b,"keyboard",c)},g)},a[3]=j,a[4]=g,a[5]=h,a[6]=b):b=a[6];f=b;a[7]!==j||a[8]!==g||a[9]!==h?(b=function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveUp(h,j,function(b,c){a(b,"keyboard",c)},g)},a[7]=j,a[8]=g,a[9]=h,a[10]=b):b=a[10];b=b;var k;a[11]!==j||a[12]!==g||a[13]!==h||a[14]!==e?(k=e?function(a){return d("cometTypeaheadKeyboardNavigationUtils").moveLeft(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[11]=j,a[12]=g,a[13]=h,a[14]=e,a[15]=k):k=a[15];k=k;k=k;var l;a[16]!==j||a[17]!==g||a[18]!==h||a[19]!==e?(l=e?function(a){d("cometTypeaheadKeyboardNavigationUtils").moveRight(h,j,function(b,c){a(b,"keyboard",c)},g)}:void 0,a[16]=j,a[17]=g,a[18]=h,a[19]=e,a[20]=l):l=a[20];e=l;l=e;a[21]!==f||a[22]!==k||a[23]!==l||a[24]!==b?(e={onKeyboardDownArrow:f,onKeyboardLeftArrow:k,onKeyboardRightArrow:l,onKeyboardUpArrow:b},a[21]=f,a[22]=k,a[23]=l,a[24]=b,a[25]=e):e=a[25];return e}function i(a){return a.hasSecondaryAction===!0}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnDownArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onDownArrow,f=a.onHighlightEntry;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardDownArrow;b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){g(f),e&&e()},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnEnterHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onEnter;a=c("useCometInternalTypeaheadState")();var e=a.highlightedEntry,f=a.highlightedEntrySource,g=b.current;return i(function(){var a;a=(a=g==null?void 0:g.value)!=null?a:"";var b=e!=null&&f==="keyboard";if(a.trim().length===0&&!b)return;d&&d()},[g,e,f,d])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler",["react","react-compiler-runtime","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),e=a.onHighlightEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry;b[0]!==f||b[1]!==e?(a=function(a,b,c){f({entry:a,secondaryActionHighlighted:c,source:b}),e&&e(a,b,c)},b[0]=f,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnLeftArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onLeftArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardLeftArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnOutsideClickHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onOutsideClick;return i(function(){if(b.current===document.activeElement)return;c&&c()},[b,c])}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnPressEntryHandler",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),c=a.onPressEntry;b[0]!==c?(a=function(a,b){c(a,b)},b[0]=c,b[1]=a):a=b[1];return a}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnRightArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onRightArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardRightArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=g!=null||f!=null?function(){g==null?void 0:g(e),f==null?void 0:f()}:void 0,b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];b=a;return b}g["default"]=a}),98);
__d("useCometTypeaheadLayoutStrategyOnUpArrowHandler",["react","react-compiler-runtime","useCometInternalTypeaheadKeyboardNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(4),e=a.onHighlightEntry,f=a.onUpArrow;a=c("useCometInternalTypeaheadKeyboardNavigation")();var g=a.onKeyboardUpArrow;b[0]!==e||b[1]!==g||b[2]!==f?(a=function(){g(e),f&&f()},b[0]=e,b[1]=g,b[2]=f,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutInlineStrategyHandlers",["react","react-compiler-runtime","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnEnterHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnLeftArrowHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnRightArrowHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(42),e=a.inputRef,f=a.onBlur,g=a.onChange,h=a.onDownArrow,i=a.onEnter,j=a.onEscape,k=a.onHighlightEntry,l=a.onLeftArrow,m=a.onOutsideClick,n=a.onPressEntry,o=a.onRightArrow;a=a.onUpArrow;var p;b[0]!==k?(p={onHighlightEntry:k},b[0]=k,b[1]=p):p=b[1];k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")(p);b[2]!==f?(p={onBlur:f},b[2]=f,b[3]=p):p=b[3];f=c("useCometTypeaheadLayoutStrategyOnBlurHandler")(p);b[4]!==k||b[5]!==g?(p={onChange:g,onHighlightEntry:k},b[4]=k,b[5]=g,b[6]=p):p=b[6];var q=c("useCometTypeaheadLayoutStrategyOnChangeHandler")(p);b[7]!==e||b[8]!==i?(g={inputRef:e,onEnter:i},b[7]=e,b[8]=i,b[9]=g):g=b[9];p=c("useCometTypeaheadLayoutStrategyOnEnterHandler")(g);b[10]!==q||b[11]!==j?(i=function(){q(""),j&&j()},b[10]=q,b[11]=j,b[12]=i):i=b[12];g=i;b[13]!==k||b[14]!==h?(i={onDownArrow:h,onHighlightEntry:k},b[13]=k,b[14]=h,b[15]=i):i=b[15];h=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")(i);b[16]!==k||b[17]!==a?(i={onHighlightEntry:k,onUpArrow:a},b[16]=k,b[17]=a,b[18]=i):i=b[18];a=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")(i);b[19]!==n?(i={onPressEntry:n},b[19]=n,b[20]=i):i=b[20];n=c("useCometTypeaheadLayoutStrategyOnPressEntryHandler")(i);b[21]!==e||b[22]!==m?(i={inputRef:e,onOutsideClick:m},b[21]=e,b[22]=m,b[23]=i):i=b[23];e=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")(i);b[24]!==k||b[25]!==l?(m={onHighlightEntry:k,onLeftArrow:l},b[24]=k,b[25]=l,b[26]=m):m=b[26];i=c("useCometTypeaheadLayoutStrategyOnLeftArrowHandler")(m);b[27]!==k||b[28]!==o?(l={onHighlightEntry:k,onRightArrow:o},b[27]=k,b[28]=o,b[29]=l):l=b[29];m=c("useCometTypeaheadLayoutStrategyOnRightArrowHandler")(l);b[30]!==f||b[31]!==q||b[32]!==h||b[33]!==p||b[34]!==g||b[35]!==k||b[36]!==i||b[37]!==e||b[38]!==n||b[39]!==m||b[40]!==a?(o={onBlur:f,onChange:q,onDownArrow:h,onEnter:p,onEscape:g,onHighlightEntry:k,onLeftArrow:i,onOutsideClick:e,onPressEntry:n,onRightArrow:m,onUpArrow:a},b[30]=f,b[31]=q,b[32]=h,b[33]=p,b[34]=g,b[35]=k,b[36]=i,b[37]=e,b[38]=n,b[39]=m,b[40]=a,b[41]=o):o=b[41];return o}g["default"]=a}),98);
__d("useCometTypeaheadInternalLayoutContextualStrategyHandlers",["react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadState","useCometTypeaheadInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(76),e=a.handlers,f=a.inputRef,g=a.shouldCloseOnEnter;a=a.shouldHandleCloseAfterHandlePressEntry;var h,i,j,k,l,m;b[0]!==e?(i=e.onAbandonTypeahead_DO_NOT_USE,j=e.onClick,k=e.onOutsideClick,l=e.onShiftTab,m=e.onTab,h=babelHelpers.objectWithoutPropertiesLoose(e,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]),b[0]=e,b[1]=h,b[2]=i,b[3]=j,b[4]=k,b[5]=l,b[6]=m):(h=b[1],i=b[2],j=b[3],k=b[4],l=b[5],m=b[6]);var n=g===void 0?!0:g,o=a===void 0?!1:a;e=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var p=e.dispatchIsOpened,q=e.isOpened;g=c("useCometInternalTypeaheadState")();var r=g.highlightedEntry,s=g.secondaryActionHighlighted;b[7]!==p||b[8]!==k?(a=function(){p(!1),k&&k()},b[7]=p,b[8]=k,b[9]=a):a=b[9];e=a;b[10]!==e||b[11]!==h||b[12]!==f?(g=babelHelpers["extends"]({inputRef:f,onOutsideClick:e},h),b[10]=e,b[11]=h,b[12]=f,b[13]=g):g=b[13];a=c("useCometTypeaheadInternalLayoutInlineStrategyHandlers")(g);e=a.onBlur;var t=a.onChange,u=a.onDownArrow,v=a.onEnter,w=a.onEscape;f=a.onHighlightEntry;var x=a.onLeftArrow;g=a.onOutsideClick;var y=a.onPressEntry,z=a.onRightArrow,A=a.onUpArrow;b[14]!==p||b[15]!==i?(a=function(){p(!1),i&&i()},b[14]=p,b[15]=i,b[16]=a):a=b[16];a=a;var B;b[17]!==p||b[18]!==j?(B=function(){p(!0),j&&j()},b[17]=p,b[18]=j,b[19]=B):B=b[19];B=B;var C;b[20]!==p||b[21]!==t?(C=function(a,b){p(!0),t&&t(a,b)},b[20]=p,b[21]=t,b[22]=C):C=b[22];C=C;var D;b[23]!==p||b[24]!==q||b[25]!==u?(D=function(){q?u&&u():p(!0)},b[23]=p,b[24]=q,b[25]=u,b[26]=D):D=b[26];D=D;var E;b[27]!==p||b[28]!==q||b[29]!==x?(E=x!=null?function(){x!=null&&(q?x():p(!0))}:void 0,b[27]=p,b[28]=q,b[29]=x,b[30]=E):E=b[30];E=E;E=E;var F;b[31]!==p||b[32]!==q||b[33]!==z?(F=z!=null?function(){z!=null&&(q?z():p(!0))}:void 0,b[31]=p,b[32]=q,b[33]=z,b[34]=F):F=b[34];F=F;F=F;var G;b[35]!==p||b[36]!==r||b[37]!==v||b[38]!==s||b[39]!==n?(G=function(){s!==!0&&((n||r!=null&&!n)&&p(!1)),v&&v()},b[35]=p,b[36]=r,b[37]=v,b[38]=s,b[39]=n,b[40]=G):G=b[40];G=G;var H;b[41]!==p||b[42]!==h||b[43]!==q||b[44]!==w?(H=function(){q?(p(!1),h.onEscape&&h.onEscape()):w&&w()},b[41]=p,b[42]=h,b[43]=q,b[44]=w,b[45]=H):H=b[45];H=H;var I;b[46]!==p||b[47]!==y||b[48]!==o?(I=function(a,b){o||p(!1),y&&y(a,b),o&&p(!1)},b[46]=p,b[47]=y,b[48]=o,b[49]=I):I=b[49];I=I;var J;b[50]!==p||b[51]!==l?(J=function(){p(!1),l&&l()},b[50]=p,b[51]=l,b[52]=J):J=b[52];J=J;var K;b[53]!==p||b[54]!==m?(K=function(){p(!1),m&&m()},b[53]=p,b[54]=m,b[55]=K):K=b[55];K=K;var L;b[56]!==p||b[57]!==q||b[58]!==A?(L=function(){!q?p(!0):A&&A()},b[56]=p,b[57]=q,b[58]=A,b[59]=L):L=b[59];L=L;var M;b[60]!==a||b[61]!==C||b[62]!==B||b[63]!==D||b[64]!==G||b[65]!==H||b[66]!==E||b[67]!==I||b[68]!==F||b[69]!==J||b[70]!==K||b[71]!==L||b[72]!==e||b[73]!==f||b[74]!==g?(M={onAbandonTypeahead_DO_NOT_USE:a,onBlur:e,onChange:C,onClick:B,onDownArrow:D,onEnter:G,onEscape:H,onHighlightEntry:f,onLeftArrow:E,onOutsideClick:g,onPressEntry:I,onRightArrow:F,onShiftTab:J,onTab:K,onUpArrow:L},b[60]=a,b[61]=C,b[62]=B,b[63]=D,b[64]=G,b[65]=H,b[66]=E,b[67]=I,b[68]=F,b[69]=J,b[70]=K,b[71]=L,b[72]=e,b[73]=f,b[74]=g,b[75]=M):M=b[75];return M}g["default"]=a}),98);
__d("CometTypeaheadLayoutContextualStrategy.react",["CometTypeaheadHelperText.react","CometTypeaheadInternalLayoutContextualStrategy.react","react","react-compiler-runtime","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useCometTypeaheadInternalLayoutContextualStrategyHandlers","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(82),e,f,g,h,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;b[0]!==a?(x=a.extraLayoutProps,f=a.helperText,g=a.label,h=a.onAbandonTypeahead_DO_NOT_USE,k=a.onBlur,l=a.onChange,m=a.onClick,n=a.onDownArrow,o=a.onEnter,p=a.onEscape,q=a.onHighlightEntry,r=a.onOutsideClick,s=a.onPressEntry,t=a.onShiftTab,u=a.onTab,v=a.onUpArrow,B=a.viewRole,e=a.inputRef,y=a.shouldHandleCloseAfterHandlePressEntry,z=a.shouldCloseOnEnter,A=a.xstyles,w=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","label","onAbandonTypeahead_DO_NOT_USE","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onShiftTab","onTab","onUpArrow","viewRole","inputRef","shouldHandleCloseAfterHandlePressEntry","shouldCloseOnEnter","xstyles"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=o,b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=z,b[21]=A,b[22]=B):(e=b[1],f=b[2],g=b[3],h=b[4],k=b[5],l=b[6],m=b[7],n=b[8],o=b[9],p=b[10],q=b[11],r=b[12],s=b[13],t=b[14],u=b[15],v=b[16],w=b[17],x=b[18],y=b[19],z=b[20],A=b[21],B=b[22]);b[23]!==x?(a=x===void 0?{}:x,b[23]=x,b[24]=a):a=b[24];x=a;a=x.afterViewContent;x=x.beforeViewContent;y=y===void 0?!1:y;z=z===void 0?!0:z;var C;b[25]!==A?(C=A===void 0?{}:A,b[25]=A,b[26]=C):C=b[26];var D;if(b[27]!==C){A=C;D=A.viewXStyle_DO_NOT_USE;A=babelHelpers.objectWithoutPropertiesLoose(A,["viewXStyle_DO_NOT_USE"]);b[27]=C;b[28]=D;b[29]=A}else D=b[28],A=b[29];C=c("useCometInternalTypeaheadFetch")();C=C.isLoading;var E=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();E=E.isOpened;var F=c("useCometInternalTypeaheadState")(),G=F.activeEntries;F=F.highlightedEntry;e=c("useCometTypeaheadInputRefs")(e);var H=e.composedRef;e=e.inputRef;var I;b[30]!==h||b[31]!==k||b[32]!==l||b[33]!==m||b[34]!==n||b[35]!==o||b[36]!==p||b[37]!==q||b[38]!==r||b[39]!==s||b[40]!==t||b[41]!==u||b[42]!==v?(I={onAbandonTypeahead_DO_NOT_USE:h,onBlur:k,onChange:l,onClick:m,onDownArrow:n,onEnter:o,onEscape:p,onHighlightEntry:q,onOutsideClick:r,onPressEntry:s,onShiftTab:t,onTab:u,onUpArrow:v},b[30]=h,b[31]=k,b[32]=l,b[33]=m,b[34]=n,b[35]=o,b[36]=p,b[37]=q,b[38]=r,b[39]=s,b[40]=t,b[41]=u,b[42]=v,b[43]=I):I=b[43];b[44]!==e||b[45]!==z||b[46]!==y||b[47]!==I?(h={handlers:I,inputRef:e,shouldCloseOnEnter:z,shouldHandleCloseAfterHandlePressEntry:y},b[44]=e,b[45]=z,b[46]=y,b[47]=I,b[48]=h):h=b[48];k=c("useCometTypeaheadInternalLayoutContextualStrategyHandlers")(h);b[49]!==G||b[50]!==f||b[51]!==F||b[52]!==E||b[53]!==g||b[54]!==B?(l={activeEntries:G,helperText:f,highlightedEntry:F,inputLabel:g,isOpened:E,viewRole:B},b[49]=G,b[50]=f,b[51]=F,b[52]=E,b[53]=g,b[54]=B,b[55]=l):l=b[55];m=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(l);b[56]!==D?(n=[j.view,D],b[56]=D,b[57]=n):n=b[57];b[58]!==n||b[59]!==A?(o=babelHelpers["extends"]({viewXStyle_DO_NOT_USE:n},A),b[58]=n,b[59]=A,b[60]=o):o=b[60];b[61]!==E||b[62]!==o?(p={isOpened:E,xstyles:o},b[61]=E,b[62]=o,b[63]=p):p=b[63];q=c("useCometTypeaheadLayoutStrategyStyles")(p);b[64]!==f?(r=f!=null?i.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,b[64]=f,b[65]=r):r=b[65];b[66]!==a||b[67]!==m||b[68]!==x||b[69]!==C||b[70]!==E||b[71]!==r?(s={afterViewContent:a,ariaProps:m,beforeViewContent:x,helperTextComponent:r,isLoading:C,isOpened:E},b[66]=a,b[67]=m,b[68]=x,b[69]=C,b[70]=E,b[71]=r,b[72]=s):s=b[72];b[73]!==H||b[74]!==k||b[75]!==f||b[76]!==g||b[77]!==w||b[78]!==q||b[79]!==s||b[80]!==B?(t=i.jsx(c("CometTypeaheadInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},w,k,{extraLayoutProps:s,helperText:f,inputRef:H,label:g,viewRole:B,xstyles:q})),b[73]=H,b[74]=k,b[75]=f,b[76]=g,b[77]=w,b[78]=q,b[79]=s,b[80]=B,b[81]=t):t=b[81];return t}g["default"]=a}),98);
__d("useCometTypeaheadEmptyState",["CometInternalTypeaheadEmptyFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTypeaheadEmptyFetchContext"))}g["default"]=a}),98);
__d("CometTypeaheadViewEmptyState.react",["FDSText.react","react","react-compiler-runtime","react-strict-dom","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xc9qbxq",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.color;a=a.xstyle;f=f===void 0?"tertiary":f;var g=c("useCometTypeaheadEmptyState")(),h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=g?i.jsx(d("react-strict-dom").html.div,{"aria-live":"polite","aria-selected":!1,"data-testid":void 0,role:"option",style:[j.root,a],children:i.jsx(c("FDSText.react"),{color:f,numberOfLines:1,type:"body3",children:e})}):null,b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("XCometMarketplaceComposerControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/marketplace/create/{listing_type}/",Object.freeze({shipping:!1}),void 0);b=a;g["default"]=b}),98);
__d("findCometScrollableLayoutActiveNode",[],(function(a,b,c,d,e,f){"use strict";function g(a){if(a==null)return null;if(a.tagName==="LI")return a.getAttribute("aria-selected")==="true"?a:null;return a.children==null?null:Array.from(a.children).reduce(function(a,b){return(a=a)!=null?a:g(b)},null)}f["default"]=g}),66);
__d("useCometTypeaheadKeyboardForScrollableArea",["findCometScrollableLayoutActiveNode","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(3),e=j(null),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a;(a=c("findCometScrollableLayoutActiveNode")((a=e.current)==null?void 0:a.getDOMNode()))==null?void 0:a.scrollIntoView({behavior:"smooth",block:"nearest"})},b[0]=f):f=b[0];var g;b[1]!==a?(g=[a],b[1]=a,b[2]=g):g=b[2];i(f,g);return e}g["default"]=a}),98);
__d("useCometTypeaheadNavigate",["CometProductAttributionContext","goForceFullPageRedirectTo","isCometRouterUrl","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useContext;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useCometRouterDispatcher")(),f=i(c("CometProductAttributionContext")),g;b[0]!==e||b[1]!==f||b[2]!==(a==null?void 0:a.openNewTabForExternalLink)||b[3]!==(a==null?void 0:a.tapPoint)?(g=function(b,d){if(b==null)return;if(e!=null){var g;g={fromLink:{tap_point:(g=a==null?void 0:a.tapPoint)!=null?g:"tap_scoped_search_bar"},linkContext:f};c("isCometRouterUrl")(b)?e.go(b,{productAttributionUpdateProps:g}):(a==null?void 0:a.openNewTabForExternalLink)===!0?e.go(b,{}):c("goForceFullPageRedirectTo")(b)}else d&&d(b)},b[0]=e,b[1]=f,b[2]=a==null?void 0:a.openNewTabForExternalLink,b[3]=a==null?void 0:a.tapPoint,b[4]=g):g=b[4];a==null?void 0:a.openNewTabForExternalLink;a==null?void 0:a.tapPoint;return g}g["default"]=a}),98);
__d("useSearchCometEventEmitterContext",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){a=i(a);a==null&&c("FBLogger")("search").mustfix("Missing event emitter context");return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("LSCancelTaskByQueueName",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.forEach(b.filter(b.db.table(2).fetch([[[a[0]]],"queueNameTaskId"]),function(c){return c.queueName===a[0]&&c.context===b.i64.to_string(a[1])}),function(a){var d=a.item;return b.sequence([function(a){return c[0]=d.taskDispatchPriority,b.forEach(b.filter(b.db.table(2).fetch([[[d.taskId]]]),function(a){return b.i64.eq(a.taskId,d.taskId)&&a.queueName===d.queueName}),function(a){return a["delete"]()})},function(a){return b.i64.eq(c[0],b.i64.cast([0,1e3]))||b.i64.eq(c[0],b.i64.cast([0,2e3]))?c[1]=b.i64.cast([0,734739218]):c[1]=b.i64.cast([0,734737036])}])})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreCancelTaskByQueueNameStoredProcedure";a.__tables__=["pending_tasks"];e.exports=a}),null);
__d("LSGetLocalizedReplySnippet",["LSGetThreadParticipantDisplayName","LSGetViewerFBID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.eq(a[3],c.i64.cast([0,1]))?c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2421884758]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2676961947]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,3298086032]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,3873263038]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,2616853333]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}]):c.sequence([function(e){return c.i64.eq(a[1],d[0])?c.sequence([function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,4002265907]),void 0).then(function(a){return d[4]=a})},function(a){return d[3]=d[4]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[4]),d[5]),c.localizeV2Async(c.i64.cast([0,2663996736]),d[5]).then(function(a){return d[6]=a})},function(a){return d[3]=d[6]}])},function(a){return d[2]=d[3]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[1]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return c.i64.eq(a[2],d[0])?c.sequence([function(a){return d[5]=c.createArray(),d[7]=(d[5].push(d[3]),d[5]),c.localizeV2Async(c.i64.cast([0,2868699317]),d[5]).then(function(a){return d[6]=a})},function(a){return d[4]=d[6]}]):c.sequence([function(e){return c.i64.eq(a[1],a[2])?c.sequence([function(a){return d[6]=c.createArray(),d[8]=(d[6].push(d[3]),d[6]),c.localizeV2Async(c.i64.cast([0,2688620547]),d[6]).then(function(a){return d[7]=a})},function(a){return d[5]=d[7]}]):c.sequence([function(e){return c.storedProcedure(b("LSGetThreadParticipantDisplayName"),a[0],a[2]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return d[7]=c.createArray(),d[9]=(d[7].push(d[3]),d[7]),d[9]=(d[7].push(d[6]),d[7]),c.localizeV2Async(c.i64.cast([0,3544071775]),d[7]).then(function(a){return d[8]=a})},function(a){return d[5]=d[8]}])},function(a){return d[4]=d[5]}])},function(a){return d[2]=d[4]}])},function(a){return d[1]=d[2]}])},function(a){return e[0]=d[1]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxGetLocalizedReplySnippetStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return b.sequence([function(d){return b.filter(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,d.primarySortKey,d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey],c[0]=e[0],c[1]=e[1],c[2]=e[2],c[3]=e[3],c[4]=e[4],c[5]=e[5],c[6]=e[6],c[7]=e[7],c[8]=e[8],e)})},function(d){return b.sortBy(b.filter(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[10]=e[0],c[11]=e[1],c[12]=e[2],c[13]=e[3],c[14]=e[4],c[15]=e[5],c[16]=e[6],c[17]=e[7],c[18]=e[8],e)})},function(d){return b.sortBy(b.filter(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?b.i64.cast([-1,4294967295]):d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,d){var e=a.done;a=a.value;return e?(e=[b.i64.cast([0,0]),b.i64.cast([0,0]),b.i64.cast([0,0]),!1,"nonexistent",b.i64.cast([0,20]),void 0,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e):(d=a.item,e=[d.timestampMs,d.senderId,d.viewFlags,d.isAdminMessage,d.messageId,d.authorityLevel,d.stickerId,b.i64.cast([-1,4294967295]),b.i64.cast([-1,4294967295])],c[20]=e[0],c[21]=e[1],c[22]=e[2],c[23]=e[3],c[24]=e[4],c[25]=e[5],c[26]=e[6],c[27]=e[7],c[28]=e[8],e)})},function(d){return c[32]=b.i64.or_(b.i64.cast([0,2]),b.i64.or_(!c[3]&&!a[3]?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.or_(c[3]?b.i64.cast([0,0]):b.i64.cast([0,1]),b.i64.or_(b.i64.eq(c[5],b.i64.cast([0,60]))||b.i64.eq(c[5],b.i64.cast([0,80]))?b.i64.cast([0,1048576]):b.i64.cast([0,0]),b.i64.neq(c[6],b.i64.cast([85970,924785702]))&&b.i64.neq(c[6],b.i64.cast([85970,1004785694]))&&b.i64.neq(c[6],b.i64.cast([85970,1044785690]))?b.i64.cast([0,0]):b.i64.cast([0,2097152]))))),c[14]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[12],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[32],b.i64.cast([0,16])):c[32],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.sequence([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],b.i64.cast([-1,4294967280])),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,2]):b.i64.cast([0,0]),b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5]))?b.i64.cast([0,8]):b.i64.cast([0,0]),b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),b.i64.cast([0,6e5])))?b.i64.cast([0,4]):b.i64.cast([0,0]),b.i64.and_(c[30],b.i64.cast([0,1])))))),c[33]=b.i64.eq(b.i64.and_(c[35],b.i64.cast([0,8])),b.i64.cast([0,8])),c[34]=c[33]?b.i64.or_(c[22],b.i64.cast([0,16])):c[22],b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],b.i64.cast([-1,4294967294])):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.forEach(b.filter(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSMailboxSetMessageViewFlagsStoredProcedure";a.__tables__=["messages"];e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetLocalizedReplySnippet","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),void 0!==void 0?c.resolve(d[1]=void 0):c.sequence([function(a){return c.storedProcedure(b("LSCreateOfflineThreadingID"),d[0]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[1]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.sequence([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],c.i64.cast([0,1])),d[13]=c.i64.gt(d[0],d[11])?d[0]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,f){f=e.done;e=e.value;return f?c.sequence([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,40]))}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:c.i64.cast([0,0]),threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:c.i64.cast([0,0]),lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,40])})},function(b){return c.i64.eq(a[2],c.i64.cast([0,13]))||c.i64.eq(a[2],c.i64.cast([0,7]))||c.i64.eq(a[2],c.i64.cast([0,1]))?c.sequence([function(b){return c.forEach(c.filter(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:c.i64.cast([0,0]),deliveredWatermarkTimestampMs:c.i64.cast([0,0]),authorityLevel:c.i64.cast([0,20]),isModerator:!1})}]):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.sequence([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[17]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[16],d[17],void 0,void 0)}]):c.resolve()}]):(e.item,c.forEach(c.filter(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetText:void 0,snippetStringHash:void 0,snippetStringArgument1:void 0,snippetAttribution:void 0,snippetAttributionStringHash:void 0,additionalThreadContext:void 0})}))})}])},function(e){return c.sequence([function(b){return c.islc(c.db.table(12).fetchDesc([[[a[1],c.i64.cast([0,80])],[a[1],c.i64.cast([0,60])],[a[1],c.i64.cast([0,40])]],"messageDisplayOrderAuthority"]),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[33]=c.i64.of_float(Date.now()),d[9]=d[33]):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==void 0&&(c.i64.eq(a[9],c.i64.cast([0,1]))||c.i64.eq(a[10],c.i64.cast([0,1])))?c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[8]==null?"":a[8]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[a[8],void 0,void 0,c.i64.cast([0,0]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=g[0],d[34]=g[1],d[35]=g[2],d[36]=g[3],d[37]=g[4],d[38]=g[5],d[39]=g[6],d[40]=g[7],d[41]=g[8],d[42]=g[9],d[43]=g[10],d[44]=g[11],d[45]=g[12],d[46]=g[13],d[47]=g[14],d[48]=g[15],g):(f=e.item,c.sequence([function(e){return d[54]=f.senderId,d[53]=f.stickerId,c.i64.neq(d[53],void 0)?(e=[d[53],c.i64.cast([0,4])],d[56]=e[0],d[57]=e[1],e):(e=[void 0,void 0],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[55]=f.replyType==null?c.i64.cast([0,0]):f.replyType,c.sequence([function(e){return c.storedProcedure(b("LSGetLocalizedReplySnippet"),a[1],a[0],d[54],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(b){return d[52]=c.i64.eq(a[10],c.i64.cast([0,1]))?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],c.i64.cast([0,1]),d[52],d[54],f.text,d[50],d[51],void 0,void 0,void 0,void 0,void 0,void 0,d[55]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===void 0||c.i64.eq(a[9],c.i64.cast([0,0]))||c.i64.eq(a[10],c.i64.cast([0,0]))?(e=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[void 0,void 0,void 0,void 0],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),d[34]=a[13].get("mention_lengths"),d[35]=a[13].get("mention_ids"),d[36]=a[13].get("mention_types"),b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=c.i64.cast([0,3]):d[32]=d[13],c.i64.eq(c.i64.cast([0,20]),c.i64.cast([0,20]))?c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[9],secondarySortKey:d[0],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.sequence([function(a){return c.db.table(12).fetch([[[d[1]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[0],void 0],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.forEach(c.filter(c.db.table(12).fetch([[[d[1]]],"optimistic"]),function(a){return a.offlineThreadingId===d[1]&&c.i64.lt(a.authorityLevel,c.i64.cast([0,20]))}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[1],timestampMs:d[0],offlineThreadingId:d[1],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:c.i64.cast([0,1]),sendStatusV2:c.i64.cast([0,1]),authorityLevel:c.i64.cast([0,20]),localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[2]=c.createArray(),d[3]=(d[2].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[2]),d[4]=(d[2].push("localApplyOptimisticMessage"),d[2]),d[5]=(d[2].push(a[1]),d[2]),d[6]=(d[2].push(d[1]),d[2]),d[7]=c.toJSON(d[2]),function(a){c.logger(a).info(a)}(d[7]),a[14]?c.sequence([function(e){return c.storedProcedure(b("LSSetMessageViewFlags"),a[1],d[1],d[0],c.i64.eq(a[2],c.i64.cast([0,1])))},function(e){return c.storedProcedure(b("LSSetMessageDisplayedContentTypes"),a[1],d[1],d[0],a[3],!1,c.i64.neq(a[6],void 0))}]):c.resolve()},function(a){return a=[d[1],d[0]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxLocalApplyOptimisticMessageStoredProcedure";a.__tables__=["threads","participants","user_visible_network_connectivity_error","messages"];e.exports=a}),null);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMediaUrlAttachment",["I64","LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.imageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.imageUrlFallback:a.imageUrl}function f(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}function i(a){try{var b=a.listItemContactUrlExpirationTimestampList1;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList1:a.listItemContactUrlList1}catch(b){return a.listItemContactUrlList1}}function j(a){try{var b=a.listItemContactUrlExpirationTimestampList2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList2:a.listItemContactUrlList2}catch(b){return a.listItemContactUrlList2}}function k(a){try{var b=a.listItemContactUrlExpirationTimestampList3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemContactUrlFallbackList3:a.listItemContactUrlList3}catch(b){return a.listItemContactUrlList3}}function l(a){var b=a.headerImageUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.headerImageUrlFallback:a.headerImageUrl}function m(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp1;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b)))return a.listItemProfilePictureUrlFallback1;else return a.listItemProfilePictureUrl1}catch(b){return a.listItemProfilePictureUrl1}}function n(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp2;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback2:a.listItemProfilePictureUrl2}catch(b){return a.listItemProfilePictureUrl2}}function o(a){try{var b=a.listItemProfilePictureUrlExpirationTimestamp3;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired((h||(h=d("I64"))).of_string(b))?a.listItemProfilePictureUrlFallback3:a.listItemProfilePictureUrl3}catch(b){return a.listItemProfilePictureUrl3}}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.imageUrl=e;g.faviconUrl=f;g.listItemContactUrlList1=i;g.listItemContactUrlList2=j;g.listItemContactUrlList3=k;g.headerImageUrl=l;g.listItemProfilePictureUrl1=m;g.listItemProfilePictureUrl2=n;g.listItemProfilePictureUrl3=o}),98);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("isStringNullOrWhitespaceOnly",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a==null||a.trim()===""}f["default"]=a}),66);
__d("MAWPostMentionXMASnippetFbt",["fbt","isStringNullOrWhitespaceOnly"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"__JHASH__Jm_SMPvzblj__JHASH__"):h._(/*BTDS*/"__JHASH__CRju3_V2D_T__JHASH__",[h._param("user_name",a)])};b=function(a){return c("isStringNullOrWhitespaceOnly")(a)?h._(/*BTDS*/"__JHASH__X2bOzUu-ByF__JHASH__"):h._(/*BTDS*/"__JHASH__aYuYiHNkXEo__JHASH__",[h._param("user_name",a)])};g.getCurrentUserSendPostMentionSnippetFbt=a;g.getParticipantSendPostMentionSnippetFbt=b}),226);
__d("getMAWLocalizedBumpMsgReplySnippet",["fbt","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){switch(a){case"currentUserBumpedOwnMessage":return h._(/*BTDS*/"__JHASH__xEJdAn7fswx__JHASH__");case"currentUserBumpedMessage":return d!=null?h._(/*BTDS*/"__JHASH__V_CNNTmY2Ph__JHASH__",[h._param("name",d)]):h._(/*BTDS*/"__JHASH__e4ANPYcuBv3__JHASH__");case"participantBumpedCurrentUserMessage":return h._(/*BTDS*/"__JHASH__Za_lnuBTLtf__JHASH__",[h._param("sender_name",b)]);case"participantBumpedOwnMessage":return h._(/*BTDS*/"__JHASH___jAChXL58Au__JHASH__",[h._param("name",b)]);case"participantBumpedParticipantMessage":return d!=null?h._(/*BTDS*/"__JHASH__DhJx8omw4RX__JHASH__",[h._param("sender_name",b),h._param("reply_source_sender_name",d)]):h._(/*BTDS*/"__JHASH__nH0a2aTUw0L__JHASH__",[h._param("user_name",b)]);default:a;c("FBLogger")("messenger_e2ee_web").mustfix("unexpected bump type %s",a);return""}}g["default"]=a}),226);
__d("getMAWLocalizedFallbackMsgSnippet",["fbt","FBLogger","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){switch(a){case"userSendEncryptedMessage":return c("gkx")("2161")?h._(/*BTDS*/"__JHASH__fyDhKh6gGJz__JHASH__"):h._(/*BTDS*/"__JHASH__4OgzNQUOXys__JHASH__");case"currentUserSendUnrenderableMessage":return h._(/*BTDS*/"__JHASH__jc4jswoQ0uZ__JHASH__");case"participantSendUnrenderableMessage":return h._(/*BTDS*/"__JHASH__rJAaVw-bGTJ__JHASH__");case"currentUserSendLiveLocationFallback":return h._(/*BTDS*/"__JHASH__htQbbFl0eHA__JHASH__");case"currentUserSendLocationFallback":return h._(/*BTDS*/"__JHASH__uqLzpXLWV1L__JHASH__");case"participantSendLiveLocation":return h._(/*BTDS*/"__JHASH__tp68nC9k2Iv__JHASH__");case"participantSendLocation":return h._(/*BTDS*/"__JHASH__arQtWP-wajD__JHASH__");case"currentUserSendPollCreationFallback":return h._(/*BTDS*/"__JHASH__yYAB5ipDjSn__JHASH__");case"participantSendPollCreation":return h._(/*BTDS*/"__JHASH__9_u_h4197t1__JHASH__");case"currentUserSendContactShareFallback":return h._(/*BTDS*/"__JHASH__Lucxb4lp5Bj__JHASH__");case"participantSendContactShareFallback":return h._(/*BTDS*/"__JHASH__l8E1YgNTl-P__JHASH__");case"currentUserSendStoryMentionFallback":return h._(/*BTDS*/"__JHASH__eI2fGAdx8aY__JHASH__");case"participantSendStoryMentionFallback":return h._(/*BTDS*/"__JHASH__cgqiUXxl6Ro__JHASH__");case"currentUserSendPostMentionFallback":return h._(/*BTDS*/"__JHASH__PZpIyNYvIJk__JHASH__");case"participantSendPostMentionFallback":return h._(/*BTDS*/"__JHASH__ZZH6zoWCM7w__JHASH__");case"currentUserSendNoteMentionFallback":return h._(/*BTDS*/"__JHASH__6rTG-69neIL__JHASH__");case"participantSendNoteMentionFallback":return h._(/*BTDS*/"__JHASH__rrd4aExCZRq__JHASH__");case"messengerMemoryEncryptedMessageFallback":return h._(/*BTDS*/"__JHASH__WRZ6XvWCtwS__JHASH__");case"metaAISendMessageFallback":return h._(/*BTDS*/"__JHASH__rKW2TUo65Qw__JHASH__");case"currentUserSendBumpMessageFallback":return h._(/*BTDS*/"__JHASH__wGbdzlw9c2x__JHASH__");case"participantSendBumpMessageFallback":return h._(/*BTDS*/"__JHASH__ERQ_-V0YrzM__JHASH__");case"participantSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"__JHASH__QW1C8s0lKTa__JHASH__");case"currentUserSendStickerReceiverFetchMessageFallback":return h._(/*BTDS*/"__JHASH__G-xm1MPFQ2m__JHASH__");case"userSendUnavailableMessage":return c("gkx")("2161")?h._(/*BTDS*/"__JHASH__kUWcn8afzj2__JHASH__"):h._(/*BTDS*/"__JHASH__Q-6u14LxgkX__JHASH__");case"participantSendBumpMessageOriginalUnavailable":return h._(/*BTDS*/"__JHASH__4OgzNQUOXys__JHASH__");case"unavailableStory":return h._(/*BTDS*/"__JHASH__f0lEvrX0NwD__JHASH__");case"viewOncePhotoMessageFallback":return h._(/*BTDS*/"__JHASH__KCDXWiSStNg__JHASH__");case"viewOnceVideoMessageFallback":return h._(/*BTDS*/"__JHASH__QmDiAWEBf9c__JHASH__");default:a;c("FBLogger")("messenger_e2ee_web").mustfix("unexpected content fallback type %s",a);return""}}g["default"]=a}),226);
__d("MAWAdminMsg",["fbt","MAWLocalizationType","MAWPostMentionXMASnippetFbt","getMAWLocalizedBumpMsgReplySnippet","getMAWLocalizedFallbackMsgSnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,e){switch(e){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._(/*BTDS*/"__JHASH__28E9UX9VhHs__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._(/*BTDS*/"__JHASH__vc0hFTqTXzB__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._(/*BTDS*/"__JHASH__nIQsgwg4jav__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._(/*BTDS*/"__JHASH__ioocxZa3RHl__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._(/*BTDS*/"__JHASH__BkA5SKyiWz8__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._(/*BTDS*/"__JHASH__3pkJPr0kqiB__JHASH__",[h._param("actor",b[0]),h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._(/*BTDS*/"__JHASH__7HvCssg8rpe__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._(/*BTDS*/"__JHASH__HcuOxk4Ti9n__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._(/*BTDS*/"__JHASH__z8kxY36E7hc__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._(/*BTDS*/"__JHASH__CWI7wNEpg6X__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._(/*BTDS*/"__JHASH__dMTvVUpHIHh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._(/*BTDS*/"__JHASH__B5b_7hBmzMu__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._(/*BTDS*/"__JHASH__IquH8JP7g3o__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._(/*BTDS*/"__JHASH__6LexHwivW4N__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._(/*BTDS*/"__JHASH__xpYfCqAeoRq__JHASH__",[h._param("user_name",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._(/*BTDS*/"__JHASH__6Z1J4va4_8C__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"__JHASH__Usbik5t1nBt__JHASH__",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._(/*BTDS*/"__JHASH__P_OgxVnWQoE__JHASH__",[h._param("actor",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._(/*BTDS*/"__JHASH__bobEEsoK5wj__JHASH__",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._(/*BTDS*/"__JHASH__XQQ_fX0JL2u__JHASH__",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("user_name_2",b[2])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"__JHASH__gdN-cHBGTgb__JHASH__",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._(/*BTDS*/"__JHASH__T1eI6-R4Ys3__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._(/*BTDS*/"__JHASH___J2BJijyg1Y__JHASH__",[h._param("user_name_1",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._(/*BTDS*/"__JHASH__GQYeJHPPFBL__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._(/*BTDS*/"__JHASH__7gBXJGJs1RC__JHASH__",[h._param("name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._(/*BTDS*/"__JHASH__twBESU9lMQ5__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._(/*BTDS*/"__JHASH__P-TnfmXUkkU__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._(/*BTDS*/"__JHASH__TyOeMbh9c3n__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._(/*BTDS*/"__JHASH__g2Y-AkokbQi__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._(/*BTDS*/"__JHASH__QbDk7QLMtd0__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._(/*BTDS*/"__JHASH__vcVM9mG_n59__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._(/*BTDS*/"__JHASH__0ly_0rO21jd__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"__JHASH__aRkzLhFK0tk__JHASH__",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"__JHASH__wIEAcacoGC2__JHASH__",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._(/*BTDS*/"__JHASH__BVroDb3uWvG__JHASH__",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._(/*BTDS*/"__JHASH__XW8QFefwwka__JHASH__",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._(/*BTDS*/"__JHASH__-JHaYRzvfpN__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._(/*BTDS*/"__JHASH__h_Dfa2FiN92__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._(/*BTDS*/"__JHASH__3iBxxmwApDO__JHASH__").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._(/*BTDS*/"__JHASH__4-ojL4cFyDj__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._(/*BTDS*/"__JHASH___R0NFo7psqZ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._(/*BTDS*/"__JHASH__NHZzbHt5fju__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._(/*BTDS*/"__JHASH__GgLzAe6GAAY__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._(/*BTDS*/"__JHASH__WYnHcQZeijb__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._(/*BTDS*/"__JHASH__SkQ-qpSqtIH__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_POST:return h._(/*BTDS*/"__JHASH__Z9w9ch9TmJt__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_REEL:return h._(/*BTDS*/"__JHASH__-kgYEsPaCeZ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._(/*BTDS*/"__JHASH__BxMycMKsI8g__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_EVENT:return h._(/*BTDS*/"__JHASH__AdIYNNW8_BB__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"__JHASH__HZfnisG5R39__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MENTIONED_STORY_IG:return h._(/*BTDS*/"__JHASH__Mv-TBSZDdsn__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_RECEIVED_STORY_MENTION_IG:return h._(/*BTDS*/"__JHASH__XUTKHUpfCZy__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION:return h._(/*BTDS*/"__JHASH__NkOpuZkYe13__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION:return h._(/*BTDS*/"__JHASH__LFSYTOj65rJ__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._(/*BTDS*/"__JHASH__u9NG1-EYfRE__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._(/*BTDS*/"__JHASH__GZrAjs4uDve__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._(/*BTDS*/"__JHASH__B_Zg5gCb8wv__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._(/*BTDS*/"__JHASH__-LJU6ON9QlF__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._(/*BTDS*/"__JHASH__j_PEgQByu4Z__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_POST:return h._(/*BTDS*/"__JHASH__kF-N_lTEwQJ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_REEL:return h._(/*BTDS*/"__JHASH__T_Dsx3yPqqa__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._(/*BTDS*/"__JHASH__1gzdEGkoXLS__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getCurrentUserSendPostMentionSnippetFbt(b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION:return d("MAWPostMentionXMASnippetFbt").getParticipantSendPostMentionSnippetFbt(b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION:return h._(/*BTDS*/"__JHASH__V7iXBY7GwFs__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION:return h._(/*BTDS*/"__JHASH__b1af6uIHMmw__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._(/*BTDS*/"__JHASH__ssliyU4f4NG__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_EVENT:return h._(/*BTDS*/"__JHASH___YfY9t5KQWL__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY_HIGHLIGHT:return h._(/*BTDS*/"__JHASH__8KU-2G3ySrJ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return h._(/*BTDS*/"__JHASH__7Iefg1P6g_q__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._(/*BTDS*/"__JHASH__m7k67dqAe-2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED_ONE_MSPLIT:return h._(/*BTDS*/"__JHASH__aRupJlbtkO6__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._(/*BTDS*/"__JHASH__NRCMN2f5KgC__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"__JHASH__yoeh6xz8ysN__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"__JHASH__IR8E-wTaoC7__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"__JHASH__FtQHajIZT7O__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"__JHASH__X1cC2Zoa_3e__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"__JHASH__q1Dv0IsA2nN__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"__JHASH__p0MNCtvKqaA__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"__JHASH__kwfHljZ5QBG__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"__JHASH__LHoPMyBE8HS__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._(/*BTDS*/"__JHASH__rFeQsz2D0mv__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._(/*BTDS*/"__JHASH__vASZV8VZvhw__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._(/*BTDS*/"__JHASH__Xyk76kpov4j__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._(/*BTDS*/"__JHASH__qtvuopqU1MA__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"__JHASH__tOdgin1piov__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"__JHASH__tU7ZycHCBtt__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"__JHASH__SXTBhBt2NNW__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"__JHASH__oSyzRtJUP0d__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"__JHASH__J_nCpYMiV9y__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return h._(/*BTDS*/"__JHASH__cFpYB9yRAJx__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return h._(/*BTDS*/"__JHASH__2BRCng4CCeO__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return h._(/*BTDS*/"__JHASH__EP_oerZBdU2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._(/*BTDS*/"__JHASH__djtpytkb6Sh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"__JHASH__hcupvvFLxCq__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"__JHASH__fBAvJP2p_1B__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"__JHASH__4ozbPFF4k4a__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"__JHASH__WyaiaRRbnKj__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._(/*BTDS*/"__JHASH__iNw3Tti4Hyx__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._(/*BTDS*/"__JHASH__fCn7GcPwiSh__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._(/*BTDS*/"__JHASH__g-ahVqaxxG1__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._(/*BTDS*/"__JHASH__WlJQEt8_oGK__JHASH__",[h._plural(parseInt(a[0],10),"number"),h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"__JHASH__Loj0OkThL6V__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"__JHASH__tR4q6c00--C__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._(/*BTDS*/"__JHASH__M2dZfT7rhFT__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET:return h._(/*BTDS*/"__JHASH__iGMaDEsRW87__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._(/*BTDS*/"__JHASH__HpovaTJp70W__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._(/*BTDS*/"__JHASH__zbO84srNMHF__JHASH__",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._(/*BTDS*/"__JHASH__31MoZ8hsHC1__JHASH__",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._(/*BTDS*/"__JHASH__5oboVZPgKpA__JHASH__",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"__JHASH__j47-K7rZuN___JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"__JHASH__NNSrUYXKqRz__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"__JHASH__7NL8DHtxILK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"__JHASH__vrGwrec4csR__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._(/*BTDS*/"__JHASH__GAoFX2GSYx-__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._(/*BTDS*/"__JHASH__f2dqrRKp1Rl__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._(/*BTDS*/"__JHASH__84N8vT7fmIh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU:return h._(/*BTDS*/"__JHASH__k7nqRDWCEqt__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER:return h._(/*BTDS*/"__JHASH__vzYvZZNuBUQ__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return h._(/*BTDS*/"__JHASH__kEvDhH7xulF__JHASH__",[h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER:return h._(/*BTDS*/"__JHASH__xyM-QHTai_C__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER:return h._(/*BTDS*/"__JHASH__5P3Id9aMhA-__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER:return h._(/*BTDS*/"__JHASH__8qUm4dkQH-w__JHASH__",[h._param("user_name_1",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__3CQShXTU-3b__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__ZdLYEgeUYUi__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__hSqnAb21UU0__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__FhbzN0qv73L__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__YM-2KpKGx7o__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__rUeoGw7ywMT__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__PRszNN6obpG__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__IdxQnq18Kxe__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_AUDIO_CALLED:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__qpT_2Hq8aLK__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__1D3Mug6ESYE__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_AUDIO_CALLED:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__Q2D56NwN4Z2__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__-LOVer9reHI__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_VIDEO_CALLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_VIDEO_CALLED:return h._(/*BTDS*/"__JHASH__N6tiOur0IeU__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_AUDIO_CALL:return h._(/*BTDS*/"__JHASH__281zrADSR3K__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_AUDIO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__BRFQbCVtB3g__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__Y_6qv9Uzxa8__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_STARTED_GROUP_VIDEO_CALL:return h._(/*BTDS*/"__JHASH__-bjuy5QVW7S__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_STARTED_GROUP_VIDEO_CALL:e=b[0];return e!=null?h._(/*BTDS*/"__JHASH__G7PmoxqH97J__JHASH__",[h._param("user",e)]).toString():h._(/*BTDS*/"__JHASH__6N0ah9mUAzA__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"__JHASH__EEsmX-_LHlK__JHASH__",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE:return h._(/*BTDS*/"__JHASH__6MdK4yng1UK__JHASH__",[h._param("participant_name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:return h._(/*BTDS*/"__JHASH__GyMG8O-C9S5__JHASH__",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"__JHASH__WKommDcgo9P__JHASH__",[h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"__JHASH__t4yd3Wxrq8W__JHASH__",[h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"__JHASH__yuNBxRHgSDK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:return h._(/*BTDS*/"__JHASH__Zr0kCIYub20__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:return h._(/*BTDS*/"__JHASH__VWcKR_3CcNp__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return h._(/*BTDS*/"__JHASH__endRDxlBVzL__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"__JHASH__yI8AwJDDXA8__JHASH__",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"__JHASH__Nu4trdH0AZV__JHASH__",[h._param("participant_name_1",b[0]),h._param("participant_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME:return a[1]!=null?h._(/*BTDS*/"__JHASH__pUsACsMNiGM__JHASH__",[h._param("participant_name",b[0]),h._param("theme_name",a[0]),h._param("theme_emoji",a[1])]).toString():h._(/*BTDS*/"__JHASH__5cPy2yotEtg__JHASH__",[h._param("participant_name",b[0]),h._param("theme_name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO:return h._(/*BTDS*/"__JHASH__Dxwz5K9j7Bk__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:return h._(/*BTDS*/"__JHASH__40grJO79VQ___JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return h._(/*BTDS*/"__JHASH__mXVL0NDisiY__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"__JHASH__6qQ7QWA5Qmg__JHASH__",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_OWN_NICKNAME:return h._(/*BTDS*/"__JHASH__oAeegILBLai__JHASH__",[h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"__JHASH__NEVYqiJ_yny__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:return h._(/*BTDS*/"__JHASH__QyW1FG-2acm__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_OWN_NICKNAME:return h._(/*BTDS*/"__JHASH__-bMyTbFv0nI__JHASH__",[h._param("participant_name",b[0]),h._param("nickname",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:return h._(/*BTDS*/"__JHASH__Yhh1rYSenJQ__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:return h._(/*BTDS*/"__JHASH__cwzLDs_ko4T__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"__JHASH__x0YG4R4fIWJ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"__JHASH__OS47S8NROIK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"__JHASH__qoR_RAXP6cF__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"__JHASH__QFNAQIQatHV__JHASH__",[h._param("participant_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ADMIN_ONLY:return h._(/*BTDS*/"__JHASH__BGd7wYLVNyr__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.SERVER_SET_ADD_MODE_ALL_MEMBERS:return h._(/*BTDS*/"__JHASH__ogqmOECI7p3__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_OWN_MESSAGE,null,null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_BUMPED_MESSAGE,null,b[0]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_CURRENT_USER_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_OWN_MESSAGE,b[0],null).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE:return c("getMAWLocalizedBumpMsgReplySnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_BUMPED_PARTICIPANT_MESSAGE,b[0],b[1]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_UNAVAILABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:return c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK).toString();default:return""}}g.buildLocalizedString=a}),226);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=h._(/*BTDS*/"__JHASH__iw7A0LnsmaW__JHASH__").toString(),l=h._(/*BTDS*/"__JHASH__e7VrrtGFXYH__JHASH__").toString(),m=h._(/*BTDS*/"__JHASH__jODYJ2eW1Pa__JHASH__").toString(),n=h._(/*BTDS*/"__JHASH__1qKfcXoTcu1__JHASH__").toString(),o=h._(/*BTDS*/"__JHASH__xAOSvpC7vLN__JHASH__").toString(),p=h._(/*BTDS*/"__JHASH__P5k2go6lj2P__JHASH__").toString();function q(a){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId"))));return a!=null?(j||(j=d("I64"))).add(a.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).zero});return r.apply(this,arguments)}function s(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function t(a){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:k};switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=hc_fnav",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function u(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc"}}function v(a,b,c,d,e){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){yield a.admin_message_ctas.add({actionContentBlob:f.actionContentBlob,actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})});return w.apply(this,arguments)}function x(a,b,c){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield (i||(i=b("Promise"))).all([s(a,c,d.msgId),q(a)])),f=e[0];e=e[1];if(f!=null)return{ctaId:f.ctaId,ctaType:u(d.adminType),title:f.title};else{f=t(d.adminType);yield v(a,e,c,d,f);return{ctaId:e,ctaType:u(d.adminType),title:f.title}}});return y.apply(this,arguments)}function a(a,c,e){var f=e.adminType;return f!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(f)||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||f===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||f===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE)?x(a,c,e):(i||(i=b("Promise"))).resolve()}g.getAdminMsgCTAContentByAdminType=t;g.getCtaTypeByAdminType=u;g.getAdminMsgCtaStep=a}),226);
__d("MDSScrollableAreaStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}};b=a;g["default"]=b}),98);
__d("MWBlockingProtectionContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext;e.useMemo;var k=e.useState,l=f({addMessageId:c("emptyFunction"),findMessageId:c("emptyFunction").thatReturnsFalse});function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=[],b[0]=c):c=b[0];c=k(c);var e=c[0],f=c[1];b[1]!==e?(c={addMessageId:function(a){f([a].concat(e))},findMessageId:function(a){return e.find(function(b){return b===a})!=null}},b[1]=e,b[2]=c):c=b[2];c=c;c=c;var g;b[3]!==a||b[4]!==c?(g=i.jsx(l.Provider,{value:c,children:a}),b[3]=a,b[4]=c,b[5]=g):g=b[5];return g}function b(){return j(l)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("MWPContactContext.react",["react","react-compiler-runtime","shallowEqualI64"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext;e.useMemo;var k=e.useRef,l=i.createContext({authorName:void 0,contact:void 0,nickname:void 0}),m=i.createContext({authorName:void 0,contact:void 0,nickname:void 0});function a(){return j(l)}function b(){return j(m)}function c(a){var b=d("react-compiler-runtime").c(14),c=a.children,e=a.contact;a=a.nickname;var f;if(a!=null)f=a;else if(e!=null){var g=e.firstName;f=g!=null?g:e.name}else f=void 0;g=f;f=g;b[0]!==f||b[1]!==e||b[2]!==a?(g={authorName:f,contact:e,nickname:a},b[0]=f,b[1]=e,b[2]=a,b[3]=g):g=b[3];g=g;g=g;e=n(e);var h;b[4]!==f||b[5]!==a||b[6]!==e?(h={authorName:f,contact:e,nickname:a},b[4]=f,b[5]=a,b[6]=e,b[7]=h):h=b[7];f=h;a=f;b[8]!==c||b[9]!==a?(e=i.jsx(m.Provider,{value:a,children:c}),b[8]=c,b[9]=a,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(h=i.jsx(l.Provider,{value:g,children:e}),b[11]=g,b[12]=e,b[13]=h):h=b[13];return h}function n(a){var b=k();a=a?{blockedByViewerStatus:a.blockedByViewerStatus,capabilities:a.capabilities,capabilities2:a.capabilities2,contactTypeExact:a.contactTypeExact,name:a.name,profilePictureFallbackUrl:a.profilePictureFallbackUrl,profilePictureUrl:a.profilePictureUrl,profilePictureUrlExpirationTimestampMs:a.profilePictureUrlExpirationTimestampMs,secondaryName:a.secondaryName}:void 0;d("shallowEqualI64").shallowEqualI64(b.current,a)||(b.current=a);return b.current}g.useMWPContactFullContext=a;g.useMWPContactStableContext=b;g.MWPContactContextProvider=c}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWBlockingProtectionContext.react","MWPContactContext.react","ReQL","ReQLSuspense","react-compiler-runtime","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=d("react-compiler-runtime").c(8),e=(k||(k=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a).map(m)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var h;b[3]!==e||b[4]!==a?(h=[e,a],b[3]=e,b[4]=a,b[5]=h):h=b[5];g=d("ReQLSuspense").useFirst(g,h,f.id+":32");if(g==null)return!1;b[6]!==g?(h=(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(18)),b[6]=g,b[7]=h):h=b[7];return h}function m(a){return a.threadType}function a(a){a=l(a);var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;return a&&b?!(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function n(a,b){var e=d("react-compiler-runtime").c(4),g=(k||(k=c("useReStore")))(),h,m;e[0]!==g||e[1]!==a?(h=function(){return a!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a):d("ReQL").empty()},m=[g,a],e[0]=g,e[1]=a,e[2]=h,e[3]=m):(h=e[2],m=e[3]);e=d("ReQLSuspense").useFirst(h,m,f.id+":71");h=l(b);return h&&e?!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a){var b=d("react-compiler-runtime").c(5),e=n(a.senderId,a.threadKey),f=c("MWBlockingProtectionContext.react").useHook();f=f.findMessageId;var g=l(a.threadKey),h;b[0]!==f||b[1]!==e||b[2]!==a.messageId||b[3]!==g?(h=g&&e&&!f(a.messageId),b[0]=f,b[1]=e,b[2]=a.messageId,b[3]=g,b[4]=h):h=b[4];return h}function e(a,b){var e,g=d("react-compiler-runtime").c(8),l=(k||(k=c("useReStore")))(),m=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(l.tables.messages).getKeyRange(a)},[l,a],f.id+":110"))==null?void 0:e.senderId;g[0]!==l.tables.contacts||g[1]!==m?(e=function(){return m!=null?d("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(m):d("ReQL").empty()},g[0]=l.tables.contacts,g[1]=m,g[2]=e):e=g[2];var n;g[3]!==l||g[4]!==m?(n=[l,m],g[3]=l,g[4]=m,g[5]=n):n=g[5];e=d("ReQLSuspense").useFirst(e,n,f.id+":114");n=e==null?!1:!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(18));if(!(b&&n))return null;n=(b=e==null?void 0:e.firstName)!=null?b:e==null?void 0:e.name;if(n==null){c("recoverableViolation")("Empty first name for blocked contact","messenger_web_wellbeing");return null}g[6]!==n?(b=h._(/*BTDS*/"__JHASH__rZMtLmsbvnM__JHASH__",[h._param("blocked contact's name",n)]).toString(),g[6]=n,g[7]=b):b=g[7];return b}g.useShouldEnableBlockingProtection=l;g.useMWGetSnippetForBlockingProtection=e;g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=n;g.useMWShouldHideReply=b}),226);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef,l=b.useSyncExternalStore,m=new Map(),n=new Map();function o(a){(a=m.get(a))==null?void 0:a.forEach(function(a){return a()})}function a(a,b){var d=k(a).current,e=k({parsed:d,stringified:void 0});a=j(function(a){var c=m.get(b),d=c!=null?c:new Set();d.add(a);m.set(b,d);return function(){d["delete"](a)}},[b]);var f=j(function(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();a=a==null?n.get(b):a.getItem(b);if(a==null)return d;if(a===e.current.stringified)return e.current.parsed;try{var f=JSON.parse(a);e.current={parsed:f,stringified:a};return f}catch(a){return d}},[d,b]);a=l(a,f);f=j(function(a){a=a instanceof Function?a(e.current.parsed):a;var d=(h||(h=c("WebStorage"))).getLocalStorage();a=JSON.stringify(a);if(d!=null)if(a==null)d.removeItem(b);else try{d.setItem(b,a)}catch(a){c("FBLogger")("messenger_web_product").catching(a).mustfix("Failed to setItem")}else n.set(b,a);o(b)},[b]);return[a,f]}g.usePersistedUIState=a}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2});c=[a.MESSAGE_LIST_PANEL,a.INFO_PANEL];d=320;e=300;b=a.THREAD_LIST_PANEL;var g=a.MESSAGE_LIST_PANEL,h=3;f.MWLayoutPanel=a;f.MWInboxMainContentPanels=c;f.DENSE_LAYOUT_BREAKPOINT_WIDTH=d;f.DENSE_LAYOUT_BREAKPOINT_HEIGHT=e;f.DEFAULT_ONE_CARD_INDEX=b;f.DEFAULT_TWO_CARDS_INDEX=g;f.DEFAULT_MAX_CARDS_VISIBLE=h}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({_mountCard:c("emptyFunction"),_unmountCard:c("emptyFunction"),cardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:c("emptyFunction"),primaryCardIndex:d("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:c("emptyFunction"),secondaryCardIndex:null});e=b;g["default"]=e}),98);
__d("MWXIconCautionTriangle",["MWXSvgIcon","SVGIcon","cr:12357","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:12357")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMenu.react",["cr:6941","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:6941")}),98);
__d("MWXMenuItem.react",["BaseTheme.react","FDSTextWebUtils","MWXSvgIcon","MWXThreadThemeColor","MessengerWebUXLogger","cr:2466","cr:4318","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;e.useCallback;e.useMemo;f=i.forwardRef(a);function a(a,e){var f=d("react-compiler-runtime").c(38),g;f[0]!==a?(g=babelHelpers["extends"]({},a),f[0]=a,f[1]=g):g=f[1];var h,k,l,m,n,o;if(f[2]!==g){a=g;h=a.icon;k=a.iconColor;l=a.loggingEvent;m=a.onClick;n=a.primaryColor;o=a.secondaryColor;a=babelHelpers.objectWithoutPropertiesLoose(a,["icon","iconColor","loggingEvent","onClick","primaryColor","secondaryColor"]);f[2]=g;f[3]=h;f[4]=k;f[5]=l;f[6]=m;f[7]=a;f[8]=n;f[9]=o}else h=f[3],k=f[4],l=f[5],m=f[6],a=f[7],n=f[8],o=f[9];g=k instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":k;var p=c("MessengerWebUXLogger").useInteractionLogger(),q;f[10]!==p||f[11]!==l||f[12]!==m?(q=function(a){m==null?void 0:m(a),l&&(p==null?void 0:p(l))},f[10]=p,f[11]=l,f[12]=m,f[13]=q):q=f[13];q=q;if(b("cr:4318")!=null){var r;f[14]!==q||f[15]!==h||f[16]!==g||f[17]!==a||f[18]!==e?(r=i.jsx(b("cr:4318"),babelHelpers["extends"]({icon:h,iconColor:g,onClick:q},a,{ref:e})),f[14]=q,f[15]=h,f[16]=g,f[17]=a,f[18]=e,f[19]=r):r=f[19];var s;f[20]!==k||f[21]!==r?(s=i.jsx(j,{iconColor:k,children:r}),f[20]=k,f[21]=r,f[22]=s):s=f[22];return s}if(b("cr:2466")!=null){r=h instanceof d("MWXSvgIcon").MWXSvgMenuItemIcon?h.component:h;f[23]!==n?(s=d("FDSTextWebUtils").getFDSHeadlineColor(n),f[23]=n,f[24]=s):s=f[24];f[25]!==o?(h=d("FDSTextWebUtils").getFDSMetaColor(o),f[25]=o,f[26]=h):h=f[26];f[27]!==q||f[28]!==g||f[29]!==a||f[30]!==e||f[31]!==r||f[32]!==s||f[33]!==h?(n=i.jsx(b("cr:2466"),babelHelpers["extends"]({icon:r,iconColor:g,onClick:q,primaryColor_DEPRECATED:s,secondaryColor:h},a,{ref:e})),f[27]=q,f[28]=g,f[29]=a,f[30]=e,f[31]=r,f[32]=s,f[33]=h,f[34]=n):n=f[34];f[35]!==k||f[36]!==n?(o=i.jsx(j,{iconColor:k,children:n}),f[35]=k,f[36]=n,f[37]=o):o=f[37];return o}return null}e=f;function j(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.iconColor;var f;b[0]!==a?(f=a instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":a.color},light:{"primary-icon":a.color},type:"VARIABLES"}:void 0,b[0]=a,b[1]=f):f=b[1];a=f;f=a;if(f==null)return e;b[2]!==e||b[3]!==f?(a=i.jsx(c("BaseTheme.react"),{config:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=e}),98);
__d("ThreadStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,PAUSED:1,PAUSED_AND_UPGRADED_TO_COMMUNITY:2,UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED:3});f["default"]=a}),66);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var i=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),j=d("LSMessagingThreadTypeUtil").isGroup(a),k=(h||(h=d("I64"))).to_string(g);g=(a=f)!=null?a:{};var l=g.hasMissingMessage,m=babelHelpers.objectWithoutPropertiesLoose(g,["hasMissingMessage"]);g=(a=f)!=null?a:{};var n=g.MAW_vs_EB_numOfMissingInReference,o=g.MAW_vs_EB_numOfMissingInTarget,p=g.UI_vs_EB_numOfMissingInReference,q=g.UI_vs_EB_numOfMissingInTarget,r=g.UI_vs_MAW_numOfMissingInReference,s=g.UI_vs_MAW_numOfMissingInTarget,t=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:m,has_message_missing:l,is_secured:i,missing_messages_maw_vs_eb_missing_in_reference_count:n,missing_messages_maw_vs_eb_missing_in_target_count:o,missing_messages_page_size:t,missing_messages_ui_vs_eb_missing_in_reference_count:p,missing_messages_ui_vs_eb_missing_in_target_count:q,missing_messages_ui_vs_maw_missing_in_reference_count:r,missing_messages_ui_vs_maw_missing_in_target_count:s,other_user_fbid:j||i?void 0:k,thread_fbid:k}})}}g["default"]=a}),98);
__d("useCommunityFolder",["MWPreloadableQueries","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a.parentThreadKey?(g=function(){return d("MWPreloadableQueries").getCommunityFolderQuery(e,a.parentThreadKey)},i=[e,a.parentThreadKey],b[0]=e,b[1]=a.parentThreadKey,b[2]=g,b[3]=i):(g=b[2],i=b[3]);return d("ReQLSuspense").useFirst(g,i,f.id+":26")}g["default"]=a}),98);
__d("useMWXPushToast",["MWXIcon.react","mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react");(h||(h=d("react"))).useCallback;function a(){return k}function k(a){var b=a._isWarning_DO_NOT_USE;a=babelHelpers.objectWithoutPropertiesLoose(a,["_isWarning_DO_NOT_USE"]);d("mwPushToast").mwPushToast(babelHelpers["extends"]({},a,{icon:a.icon?{comet:j.jsx(c("MWXIcon.react"),{color:b===!0?"warning":void 0,icon:a.icon.component,size:20}),mds:a.icon.component}:void 0}))}g["default"]=a}),98);
__d("useMWXPushErrorToast",["MWXIconCautionTriangle","react","react-compiler-runtime","useMWXPushToast"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=c("useMWXPushToast")(),e;a[0]!==b?(e=function(a){b(babelHelpers["extends"]({},a,{_isWarning_DO_NOT_USE:!0,assertive:!0,icon:c("MWXIconCautionTriangle")}))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);